parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"dKqR":[function(require,module,exports) {
"use strict";function t(){}Object.defineProperty(exports,"__esModule",{value:!0}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),Object.assign(t.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners[t];if(void 0!==r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var r=e.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,t)}}}});var e="94",r={LEFT:0,MIDDLE:1,RIGHT:2},n=0,i=1,o=2,a=3,s=0,c=1,h=0,l=1,u=2,p=0,d=1,f=2,m=1,g=2,v=0,y=1,x=2,b=0,_=1,w=2,M=3,E=4,T=5,S=100,A=101,R=102,L=103,C=104,P=200,O=201,I=202,N=203,D=204,U=205,B=206,F=207,z=208,G=209,H=210,V=0,k=1,j=2,W=3,X=4,q=5,Y=6,J=7,Z=0,Q=1,K=2,$=0,tt=1,et=2,rt=3,nt=4,it=300,ot=301,at=302,st=303,ct=304,ht=305,lt=306,ut=307,pt=1e3,dt=1001,ft=1002,mt=1003,gt=1004,vt=1005,yt=1006,xt=1007,bt=1008,_t=1009,wt=1010,Mt=1011,Et=1012,Tt=1013,St=1014,At=1015,Rt=1016,Lt=1017,Ct=1018,Pt=1019,Ot=1020,It=1021,Nt=1022,Dt=1023,Ut=1024,Bt=1025,Ft=Dt,zt=1026,Gt=1027,Ht=33776,Vt=33777,kt=33778,jt=33779,Wt=35840,Xt=35841,qt=35842,Yt=35843,Jt=36196,Zt=37808,Qt=37809,Kt=37810,$t=37811,te=37812,ee=37813,re=37814,ne=37815,ie=37816,oe=37817,ae=37818,se=37819,ce=37820,he=37821,le=2200,ue=2201,pe=2202,de=2300,fe=2301,me=2302,ge=2400,ve=2401,ye=2402,xe=0,be=1,_e=2,we=3e3,Me=3001,Ee=3007,Te=3002,Se=3003,Ae=3004,Re=3005,Le=3006,Ce=3200,Pe=3201,Oe=0,Ie=1,Ne={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return(1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ne.DEG2RAD},radToDeg:function(t){return t*Ne.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function De(t,e){this.x=t||0,this.y=e||0}function Ue(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Be(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}function Fe(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}function ze(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(De.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(De.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new De,e=new De;return function(r,n){return t.set(r,r),e.set(n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}}),Object.assign(Ue.prototype,{isMatrix4:!0,set:function(t,e,r,n,i,o,a,s,c,h,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=h,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ue).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t=new Fe;return function(e){var r=this.elements,n=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[7]=0,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),h=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-a*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*c,e[1]=o*l,e[5]=o*h,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m-y*a,e[4]=-o*l,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*h,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=w-x*l,e[8]=_*l+b,e[1]=l,e[5]=o*h,e[9]=-a*h,e[2]=-c*h,e[6]=b*l+_,e[10]=x-w*l}else if("XZY"===t.order){x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=o*h,e[9]=b*l-_,e[2]=_*l-b,e[6]=a*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new Fe(0,0,0),e=new Fe(1,1,1);return function(r){return this.compose(t,r,e)}}(),lookAt:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o){var a=this.elements;return r.subVectors(n,i),0===r.lengthSq()&&(r.z=1),r.normalize(),t.crossVectors(o,r),0===t.lengthSq()&&(1===Math.abs(o.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),t.crossVectors(o,r)),t.normalize(),e.crossVectors(r,t),a[0]=t.x,a[4]=e.x,a[8]=r.x,a[1]=t.y,a[5]=e.y,a[9]=r.y,a[2]=t.z,a[6]=e.z,a[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],h=r[1],l=r[5],u=r[9],p=r[13],d=r[2],f=r[6],m=r[10],g=r[14],v=r[3],y=r[7],x=r[11],b=r[15],_=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],R=n[13],L=n[2],C=n[6],P=n[10],O=n[14],I=n[3],N=n[7],D=n[11],U=n[15];return i[0]=o*_+a*T+s*L+c*I,i[4]=o*w+a*S+s*C+c*N,i[8]=o*M+a*A+s*P+c*D,i[12]=o*E+a*R+s*O+c*U,i[1]=h*_+l*T+u*L+p*I,i[5]=h*w+l*S+u*C+p*N,i[9]=h*M+l*A+u*P+p*D,i[13]=h*E+l*R+u*O+p*U,i[2]=d*_+f*T+m*L+g*I,i[6]=d*w+f*S+m*C+g*N,i[10]=d*M+f*A+m*P+g*D,i[14]=d*E+f*R+m*O+g*U,i[3]=v*_+y*T+x*L+b*I,i[7]=v*w+y*S+x*C+b*N,i[11]=v*M+y*A+x*P+b*D,i[15]=v*E+y*R+x*O+b*U,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix4(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+i*s*l-n*c*l-i*a*u+r*c*u+n*a*p-r*s*p)+t[7]*(+e*s*p-e*c*u+i*o*u-n*o*p+n*c*h-i*s*h)+t[11]*(+e*c*l-e*a*p-i*o*l+r*o*p+i*a*h-r*c*h)+t[15]*(-n*a*h-e*s*l+e*a*u+n*o*l-r*o*u+r*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],x=n[15],b=d*y*u-v*f*u+v*l*m-h*y*m-d*l*x+h*f*x,_=g*f*u-p*y*u-g*l*m+c*y*m+p*l*x-c*f*x,w=p*v*u-g*d*u+g*h*m-c*v*m-p*h*x+c*d*x,M=g*d*l-p*v*l-g*h*f+c*v*f+p*h*y-c*d*y,E=i*b+o*_+a*w+s*M;if(0===E){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return r[0]=b*S,r[1]=(v*f*s-d*y*s-v*a*m+o*y*m+d*a*x-o*f*x)*S,r[2]=(h*y*s-v*l*s+v*a*u-o*y*u-h*a*x+o*l*x)*S,r[3]=(d*l*s-h*f*s-d*a*u+o*f*u+h*a*m-o*l*m)*S,r[4]=_*S,r[5]=(p*y*s-g*f*s+g*a*m-i*y*m-p*a*x+i*f*x)*S,r[6]=(g*l*s-c*y*s-g*a*u+i*y*u+c*a*x-i*l*x)*S,r[7]=(c*f*s-p*l*s+p*a*u-i*f*u-c*a*m+i*l*m)*S,r[8]=w*S,r[9]=(g*d*s-p*v*s-g*o*m+i*v*m+p*o*x-i*d*x)*S,r[10]=(c*v*s-g*h*s+g*o*u-i*v*u-c*o*x+i*h*x)*S,r[11]=(p*h*s-c*d*s-p*o*u+i*d*u+c*o*m-i*h*m)*S,r[12]=M*S,r[13]=(p*v*a-g*d*a+g*o*f-i*v*f-p*o*y+i*d*y)*S,r[14]=(g*h*a-c*v*a-g*o*l+i*v*l+c*o*y-i*h*y)*S,r[15]=(c*d*a-p*h*a+p*o*l-i*d*l-c*o*f+i*h*f)*S,this},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,c=i*o,h=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,h*a+r,h*s-n*o,0,c*s-n*a,h*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,r){var n=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,c=i+i,h=o+o,l=a+a,u=i*c,p=i*h,d=i*l,f=o*h,m=o*l,g=a*l,v=s*c,y=s*h,x=s*l,b=r.x,_=r.y,w=r.z;return n[0]=(1-(f+g))*b,n[1]=(p+x)*b,n[2]=(d-y)*b,n[3]=0,n[4]=(p-x)*_,n[5]=(1-(u+g))*_,n[6]=(m+v)*_,n[7]=0,n[8]=(d+y)*w,n[9]=(m-v)*w,n[10]=(1-(u+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:function(){var t=new Fe,e=new Ue;return function(r,n,i){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.copy(this);var h=1/a,l=1/s,u=1/c;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),c=2*i/(r-n),h=(e+t)/(e-t),l=(r+n)/(r-n),u=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=1/(e-t),c=1/(r-n),h=1/(o-i),l=(e+t)*s,u=(r+n)*c,p=(o+i)*h;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}),Object.assign(Be,{slerp:function(t,e,r,n){return r.copy(t).slerp(e,n)},slerpFlat:function(t,e,r,n,i,o,a){var s=r[n+0],c=r[n+1],h=r[n+2],l=r[n+3],u=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-a,g=s*u+c*p+h*d+l*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,g*v);m=Math.sin(m*b)/x,a=Math.sin(a*b)/x}var _=a*v;if(s=s*m+u*_,c=c*m+p*_,h=h*m+d*_,l=l*m+f*_,m===1-a){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),Object.defineProperties(Be.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Be.prototype,{set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,n=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(r/2),h=a(n/2),l=a(i/2),u=s(r/2),p=s(n/2),d=s(i/2);return"XYZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"YXZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"ZXY"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"ZYX"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"YZX"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l-u*p*d):"XZY"===o&&(this._x=u*h*l-c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l+u*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],h=r[2],l=r[6],u=r[10],p=n+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(o-h)*e,this._z=(a-i)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+h)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(o-h)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(a-i)/e,this._x=(o+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Fe;return function(r,n){return void 0===e&&(e=new Fe),(t=r.dot(n)+1)<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,n),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,h=e._w;return this._x=r*h+o*a+n*c-i*s,this._y=n*h+o*s+i*a-r*c,this._z=i*h+o*c+r*s-n*a,this._w=o*h-r*a-n*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-e;return this._w=c*o+e*this._w,this._x=c*r+e*this._x,this._y=c*n+e*this._y,this._z=c*i+e*this._z,this.normalize()}var h=Math.sqrt(s),l=Math.atan2(h,a),u=Math.sin((1-e)*l)/h,p=Math.sin(e*l)/h;return this._w=o*u+this._w*p,this._x=r*u+this._x*p,this._y=n*u+this._y*p,this._z=i*u+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Fe.prototype,{isVector3:!0,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Be;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new Be;return function(e,r){return this.applyQuaternion(t.setFromAxisAngle(e,r))}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*n-a*r,h=s*r+a*e-i*n,l=s*n+i*r-o*e,u=-i*e-o*r-a*n;return this.x=c*s+u*-i+h*-a-l*-o,this.y=h*s+u*-o+l*-i-c*-a,this.z=l*s+u*-a+c*-o-h*-i,this},project:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Fe,e=new Fe;return function(r,n){return t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Fe;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Fe;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ne.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(ze.prototype,{isMatrix3:!0,set:function(t,e,r,n,i,o,a,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=s,h[6]=r,h[7]=o,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix3(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],h=r[4],l=r[7],u=r[2],p=r[5],d=r[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],x=n[7],b=n[2],_=n[5],w=n[8];return i[0]=o*f+a*v+s*b,i[3]=o*m+a*y+s*_,i[6]=o*g+a*x+s*w,i[1]=c*f+h*v+l*b,i[4]=c*m+h*y+l*_,i[7]=c*g+h*x+l*w,i[2]=u*f+p*v+d*b,i[5]=u*m+p*y+d*_,i[8]=u*g+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],h=t[8];return e*o*h-e*a*c-r*i*h+r*a*s+n*i*c-n*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=t.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],h=r[5],l=r[6],u=r[7],p=r[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,g=i*d+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=d*y,n[1]=(a*u-p*o)*y,n[2]=(h*o-a*c)*y,n[3]=f*y,n[4]=(p*i-a*l)*y,n[5]=(a*s-h*i)*y,n[6]=m*y,n[7]=(o*l-u*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+t,-n*c,n*s,-n*(-c*o+s*a)+a+e,0,0,1)},scale:function(t,e){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this},rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],h=n[7];return n[0]=e*i+r*s,n[3]=e*o+r*c,n[6]=e*a+r*h,n[1]=-r*i+e*s,n[4]=-r*o+e*c,n[7]=-r*a+e*h,this},translate:function(t,e){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}});var Ge=0;function He(t,e,r,n,i,o,a,s,c,h){Object.defineProperty(this,"id",{value:Ge++}),this.uuid=Ne.generateUUID(),this.name="",this.image=void 0!==t?t:He.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:He.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:dt,this.wrapT=void 0!==n?n:dt,this.magFilter=void 0!==i?i:yt,this.minFilter=void 0!==o?o:bt,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Dt,this.type=void 0!==s?s:_t,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ze,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:we,this.version=0,this.onUpdate=null}function Ve(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}function ke(t,e,r){this.width=t,this.height=e,this.scissor=new Ve(0,0,t,e),this.scissorTest=!1,this.viewport=new Ve(0,0,t,e),void 0===(r=r||{}).minFilter&&(r.minFilter=yt),this.texture=new He(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.generateMipmaps=void 0===r.generateMipmaps||r.generateMipmaps,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function je(t,e,r){ke.call(this,t,e,r),this.activeCubeFace=0,this.activeMipMapLevel=0}function We(t,e,r,n,i,o,a,s,c,h,l,u){He.call(this,null,o,a,s,c,h,n,i,l,u),this.image={data:t,width:e,height:r},this.magFilter=void 0!==c?c:mt,this.minFilter=void 0!==h?h:mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Xe(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0,-1/0)}function qe(t,e){this.center=void 0!==t?t:new Fe,this.radius=void 0!==e?e:0}function Ye(t,e){this.normal=void 0!==t?t:new Fe(1,0,0),this.constant=void 0!==e?e:0}function Je(t,e,r,n,i,o){this.planes=[void 0!==t?t:new Ye,void 0!==e?e:new Ye,void 0!==r?r:new Ye,void 0!==n?n:new Ye,void 0!==i?i:new Ye,void 0!==o?o:new Ye]}He.DEFAULT_IMAGE=void 0,He.DEFAULT_MAPPING=it,He.prototype=Object.assign(Object.create(t.prototype),{constructor:He,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];function r(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height;var r=e.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Ne.generateUUID()),!e&&void 0===t.images[i.uuid]){var o;if(Array.isArray(i)){o=[];for(var a=0,s=i.length;a<s;a++)o.push(r(i[a]))}else o=r(i);t.images[i.uuid]={uuid:i.uuid,url:o}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===it){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case pt:t.x=t.x-Math.floor(t.x);break;case dt:t.x=t.x<0?0:1;break;case ft:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case pt:t.y=t.y-Math.floor(t.y);break;case dt:t.y=t.y<0?0:1;break;case ft:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(He.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ve.prototype,{isVector4:!0,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=t.elements,a=o[0],s=o[4],c=o[8],h=o[1],l=o[5],u=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-h)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+h)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(a+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(f+1)/2,y=(s+h)/4,x=(c+p)/4,b=(u+d)/4;return m>g&&m>v?m<.01?(r=0,n=.707106781,i=.707106781):(n=y/(r=Math.sqrt(m)),i=x/r):g>v?g<.01?(r=.707106781,n=0,i=.707106781):(r=y/(n=Math.sqrt(g)),i=b/n):v<.01?(r=.707106781,n=.707106781,i=0):(r=x/(i=Math.sqrt(v)),n=b/i),this.set(r,n,i,e),this}var _=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(h-s)*(h-s));return Math.abs(_)<.001&&(_=1),this.x=(d-u)/_,this.y=(c-p)/_,this.z=(h-s)/_,this.w=Math.acos((a+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new Ve,e=new Ve),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),ke.prototype=Object.assign(Object.create(t.prototype),{constructor:ke,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),je.prototype=Object.create(ke.prototype),je.prototype.constructor=je,je.prototype.isWebGLRenderTargetCube=!0,We.prototype=Object.create(He.prototype),We.prototype.constructor=We,We.prototype.isDataTexture=!0,Object.assign(Xe.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var h=t.getX(s),l=t.getY(s),u=t.getZ(s);h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,r,n=new Fe;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(e=0,r=a.length;e<r;e++)n.copy(a[e]),n.applyMatrix4(i.matrixWorld),t.expandByPoint(n)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(e=0,r=s.count;e<r;e++)n.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(n)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Fe;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=t.constant&&r>=t.constant},intersectsTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new Fe;function l(n){var i,o;for(i=0,o=n.length-3;i<=o;i+=3){a.fromArray(n,i);var s=c.x*Math.abs(a.x)+c.y*Math.abs(a.y)+c.z*Math.abs(a.z),h=t.dot(a),l=e.dot(a),u=r.dot(a);if(Math.max(-Math.max(h,l,u),Math.min(h,l,u))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),c.subVectors(this.max,s),t.subVectors(a.a,s),e.subVectors(a.b,s),r.subVectors(a.c,s),n.subVectors(e,t),i.subVectors(r,e),o.subVectors(t,r);var u=[0,-n.z,n.y,0,-i.z,i.y,0,-o.z,o.y,n.z,0,-n.x,i.z,0,-i.x,o.z,0,-o.x,-n.y,n.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(u)&&(!!l(u=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(n,i),l(u=[h.x,h.y,h.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Fe;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new qe),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,r=e[0]*this.min.x,n=e[1]*this.min.x,i=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,c=e[4]*this.min.y,h=e[5]*this.min.y,l=e[6]*this.min.y,u=e[4]*this.max.y,p=e[5]*this.max.y,d=e[6]*this.max.y,f=e[8]*this.min.z,m=e[9]*this.min.z,g=e[10]*this.min.z,v=e[8]*this.max.z,y=e[9]*this.max.z,x=e[10]*this.max.z;return this.min.x=Math.min(r,o)+Math.min(c,u)+Math.min(f,v)+e[12],this.min.y=Math.min(n,a)+Math.min(h,p)+Math.min(m,y)+e[13],this.min.z=Math.min(i,s)+Math.min(l,d)+Math.min(g,x)+e[14],this.max.x=Math.max(r,o)+Math.max(c,u)+Math.max(f,v)+e[12],this.max.y=Math.max(n,a)+Math.max(h,p)+Math.max(m,y)+e[13],this.max.z=Math.max(i,s)+Math.max(l,d)+Math.max(g,x)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(qe.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Xe;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).getCenter(n);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var r=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Fe),e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Xe),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Ye.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Fe,e=new Fe;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Fe),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Fe;return function(e,r){void 0===r&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new Fe);var n=e.delta(t),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:r.copy(n).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Fe),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Fe,e=new ze;return function(r,n){var i=n||e.getNormalMatrix(r),o=this.coplanarPoint(t).applyMatrix4(r),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Je.prototype,{set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],h=r[6],l=r[7],u=r[8],p=r[9],d=r[10],f=r[11],m=r[12],g=r[13],v=r[14],y=r[15];return e[0].setComponents(a-n,l-s,f-u,y-m).normalize(),e[1].setComponents(a+n,l+s,f+u,y+m).normalize(),e[2].setComponents(a+i,l+c,f+p,y+g).normalize(),e[3].setComponents(a-i,l-c,f-p,y-g).normalize(),e[4].setComponents(a-o,l-h,f-d,y-v).normalize(),e[5].setComponents(a+o,l+h,f+d,y+v).normalize(),this},intersectsObject:function(){var t=new qe;return function(e){var r=e.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new qe;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(){var t=new Fe,e=new Fe;return function(r){for(var n=this.planes,i=0;i<6;i++){var o=n[i];t.x=o.normal.x>0?r.min.x:r.max.x,e.x=o.normal.x>0?r.max.x:r.min.x,t.y=o.normal.y>0?r.min.y:r.max.y,e.y=o.normal.y>0?r.max.y:r.min.y,t.z=o.normal.z>0?r.min.z:r.max.z,e.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}});var Ze="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Qe="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ke="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",$e="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",tr="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",er="\nvec3 transformed = vec3( position );\n",rr="\nvec3 objectNormal = vec3( normal );\n",nr="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",ir="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",or="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",ar="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",sr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",cr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",hr="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",lr="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",ur="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",pr="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",dr="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",fr="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",mr="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",gr="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",vr="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",yr="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",xr="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",br="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",_r="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",wr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Mr="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Er="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Tr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Sr="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",Ar="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",Rr="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Lr="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",Cr="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",Pr="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Or="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ir="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Nr="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",Dr="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Ur="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Br="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Fr="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",zr="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Gr="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",Hr="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",Vr="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",kr="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",jr="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Wr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Xr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",qr="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Yr="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Jr="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Zr="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",Qr="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",Kr="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",$r="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",tn="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",en="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",rn="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",nn="#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",on="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",an="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",sn="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",cn="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",hn="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",ln="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",un="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",pn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",dn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",fn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",mn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",gn="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",vn="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",yn="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",xn="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",bn="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",_n="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",wn="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Mn="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",En="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Tn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Sn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",An="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Rn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ln="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Cn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Pn="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",On="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",In="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",Nn="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",Dn="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Un="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",Bn="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",Fn="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",zn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Gn="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Hn="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",Vn="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",kn="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",jn="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Wn="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Xn="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",qn="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Yn="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Jn="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Zn="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Qn="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",Kn="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",$n="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",ti="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",ei="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",ri={alphamap_fragment:Ze,alphamap_pars_fragment:Qe,alphatest_fragment:Ke,aomap_fragment:$e,aomap_pars_fragment:tr,begin_vertex:er,beginnormal_vertex:rr,bsdfs:nr,bumpmap_pars_fragment:ir,clipping_planes_fragment:or,clipping_planes_pars_fragment:ar,clipping_planes_pars_vertex:sr,clipping_planes_vertex:cr,color_fragment:hr,color_pars_fragment:lr,color_pars_vertex:ur,color_vertex:pr,common:dr,cube_uv_reflection_fragment:fr,defaultnormal_vertex:mr,displacementmap_pars_vertex:gr,displacementmap_vertex:vr,emissivemap_fragment:yr,emissivemap_pars_fragment:xr,encodings_fragment:br,encodings_pars_fragment:_r,envmap_fragment:wr,envmap_pars_fragment:Mr,envmap_pars_vertex:Er,envmap_vertex:Tr,fog_vertex:Sr,fog_pars_vertex:Ar,fog_fragment:Rr,fog_pars_fragment:Lr,gradientmap_pars_fragment:Cr,lightmap_fragment:Pr,lightmap_pars_fragment:Or,lights_lambert_vertex:Ir,lights_pars_begin:Nr,lights_pars_maps:Dr,lights_phong_fragment:Ur,lights_phong_pars_fragment:Br,lights_physical_fragment:Fr,lights_physical_pars_fragment:zr,lights_fragment_begin:Gr,lights_fragment_maps:Hr,lights_fragment_end:Vr,logdepthbuf_fragment:kr,logdepthbuf_pars_fragment:jr,logdepthbuf_pars_vertex:Wr,logdepthbuf_vertex:Xr,map_fragment:qr,map_pars_fragment:Yr,map_particle_fragment:Jr,map_particle_pars_fragment:Zr,metalnessmap_fragment:Qr,metalnessmap_pars_fragment:Kr,morphnormal_vertex:$r,morphtarget_pars_vertex:tn,morphtarget_vertex:en,normal_fragment_begin:rn,normal_fragment_maps:nn,normalmap_pars_fragment:on,packing:an,premultiplied_alpha_fragment:sn,project_vertex:cn,dithering_fragment:hn,dithering_pars_fragment:ln,roughnessmap_fragment:un,roughnessmap_pars_fragment:pn,shadowmap_pars_fragment:dn,shadowmap_pars_vertex:fn,shadowmap_vertex:mn,shadowmask_pars_fragment:gn,skinbase_vertex:vn,skinning_pars_vertex:yn,skinning_vertex:xn,skinnormal_vertex:bn,specularmap_fragment:_n,specularmap_pars_fragment:wn,tonemapping_fragment:Mn,tonemapping_pars_fragment:En,uv_pars_fragment:Tn,uv_pars_vertex:Sn,uv_vertex:An,uv2_pars_fragment:Rn,uv2_pars_vertex:Ln,uv2_vertex:Cn,worldpos_vertex:Pn,cube_frag:On,cube_vert:In,depth_frag:Nn,depth_vert:Dn,distanceRGBA_frag:Un,distanceRGBA_vert:Bn,equirect_frag:Fn,equirect_vert:zn,linedashed_frag:Gn,linedashed_vert:Hn,meshbasic_frag:Vn,meshbasic_vert:kn,meshlambert_frag:jn,meshlambert_vert:Wn,meshphong_frag:Xn,meshphong_vert:qn,meshphysical_frag:Yn,meshphysical_vert:Jn,normal_frag:Zn,normal_vert:Qn,points_frag:Kn,points_vert:$n,shadow_frag:ti,shadow_vert:ei},ni={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t)for(var n in e[r]={},t[r]){var i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}return e}},ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oi(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}Object.assign(oi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=Ne.euclideanModulo(e,1),r=Ne.clamp(r,0,1),n=Ne.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var h,l=(h=r[1]).length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(h=ii[t])?this.setHex(h):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)e=0,r=0;else{var h=a-s;switch(r=c<=.5?h/(a+s):h/(2-a-s),a){case n:e=(i-o)/h+(i<o?6:0);break;case i:e=(o-n)/h+2;break;case o:e=(n-i)/h+4}e/=6}return t.h=e,t.s=r,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,r,n){return this.getHSL(t),t.h+=e,t.s+=r,t.l+=n,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var ai={common:{diffuse:{value:new oi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ze},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new oi(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new oi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ze}}},si={basic:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:ri.meshbasic_vert,fragmentShader:ri.meshbasic_frag},lambert:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.fog,ai.lights,{emissive:{value:new oi(0)}}]),vertexShader:ri.meshlambert_vert,fragmentShader:ri.meshlambert_frag},phong:{uniforms:ni.merge([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new oi(0)},specular:{value:new oi(1118481)},shininess:{value:30}}]),vertexShader:ri.meshphong_vert,fragmentShader:ri.meshphong_frag},standard:{uniforms:ni.merge([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new oi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},points:{uniforms:ni.merge([ai.points,ai.fog]),vertexShader:ri.points_vert,fragmentShader:ri.points_frag},dashed:{uniforms:ni.merge([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ri.linedashed_vert,fragmentShader:ri.linedashed_frag},depth:{uniforms:ni.merge([ai.common,ai.displacementmap]),vertexShader:ri.depth_vert,fragmentShader:ri.depth_frag},normal:{uniforms:ni.merge([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:ri.normal_vert,fragmentShader:ri.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ri.cube_vert,fragmentShader:ri.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ri.equirect_vert,fragmentShader:ri.equirect_frag},distanceRGBA:{uniforms:ni.merge([ai.common,ai.displacementmap,{referencePosition:{value:new Fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ri.distanceRGBA_vert,fragmentShader:ri.distanceRGBA_frag},shadow:{uniforms:ni.merge([ai.lights,ai.fog,{color:{value:new oi(0)},opacity:{value:1}}]),vertexShader:ri.shadow_vert,fragmentShader:ri.shadow_frag}};function ci(){var t=null,e=!1,r=null;function n(i,o){!1!==e&&(r(i,o),t.requestAnimationFrame(n))}return{start:function(){!0!==e&&null!==r&&(t.requestAnimationFrame(n),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){r=t},setContext:function(e){t=e}}}function hi(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(r){r.isInterleavedBufferAttribute&&(r=r.data);var n=e.get(r);n&&(t.deleteBuffer(n.buffer),e.delete(r))},update:function(r,n){r.isInterleavedBufferAttribute&&(r=r.data);var i=e.get(r);void 0===i?e.set(r,function(e,r){var n=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(r,o),t.bufferData(r,n,i),e.onUploadCallback();var a=t.FLOAT;return n instanceof Float32Array?a=t.FLOAT:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=t.UNSIGNED_SHORT:n instanceof Int16Array?a=t.SHORT:n instanceof Uint32Array?a=t.UNSIGNED_INT:n instanceof Int32Array?a=t.INT:n instanceof Int8Array?a=t.BYTE:n instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(r,n)):i.version<r.version&&(function(e,r,n){var i=r.array,o=r.updateRange;t.bindBuffer(n,e),!1===r.dynamic?t.bufferData(n,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(n,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,r,n),i.version=r.version)}}}function li(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||li.DefaultOrder}function ui(){this.mask=1}si.physical={uniforms:ni.merge([si.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ri.meshphysical_vert,fragmentShader:ri.meshphysical_frag},li.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],li.DefaultOrder="XYZ",Object.defineProperties(li.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(li.prototype,{isEuler:!0,set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=Ne.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],h=i[5],l=i[9],u=i[2],p=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,h),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,h))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ue;return function(e,r,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Be;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Fe(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(ui.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var pi=0;function di(){Object.defineProperty(this,"id",{value:pi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=di.DefaultUp.clone();var t=new Fe,e=new li,r=new Be,n=new Fe(1,1,1);e.onChange(function(){r.setFromEuler(e,!1)}),r.onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Ue},normalMatrix:{value:new ze}}),this.matrix=new Ue,this.matrixWorld=new Ue,this.matrixAutoUpdate=di.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ui,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function fi(){di.call(this),this.type="Camera",this.matrixWorldInverse=new Ue,this.projectionMatrix=new Ue}function mi(t,e,r,n,i,o){fi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function gi(t,e,r,n,i,o){this.a=t,this.b=e,this.c=r,this.normal=n&&n.isVector3?n:new Fe,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new oi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}di.DefaultUp=new Fe(0,1,0),di.DefaultMatrixAutoUpdate=!0,di.prototype=Object.assign(Object.create(t.prototype),{constructor:di,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Fe(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Fe(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Fe(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Fe;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Fe(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Fe(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Fe(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Ue;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Ue,e=new Fe;return function(r,n,i){r.isVector3?e.copy(r):e.set(r,n,i),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Fe),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Fe,e=new Fe;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new Be),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldScale:function(){var t=new Fe,e=new Be;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new Fe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||"string"==typeof t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),void 0!==this.geometry){n.geometry=i(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var h=a[s];i(t.shapes,h)}else i(t.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(i(t.materials,this.material[s]));n.material=l}else n.material=i(t.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(t).object)}if(e){var u=m(t.geometries),p=m(t.materials),d=m(t.textures),f=m(t.images);a=m(t.shapes);u.length>0&&(r.geometries=u),p.length>0&&(r.materials=p),d.length>0&&(r.textures=d),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=n,r;function m(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}}),fi.prototype=Object.assign(Object.create(di.prototype),{constructor:fi,isCamera:!0,copy:function(t,e){return di.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){di.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),mi.prototype=Object.assign(Object.create(fi.prototype),{constructor:mi,isOrthographicCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/c))+l*(this.view.width/c),s=(a-=u*(this.view.offsetY/h))-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(gi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var vi=0;function yi(){Object.defineProperty(this,"id",{value:vi+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function xi(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function bi(t,e,r){xi.call(this,new Int8Array(t),e,r)}function _i(t,e,r){xi.call(this,new Uint8Array(t),e,r)}function wi(t,e,r){xi.call(this,new Uint8ClampedArray(t),e,r)}function Mi(t,e,r){xi.call(this,new Int16Array(t),e,r)}function Ei(t,e,r){xi.call(this,new Uint16Array(t),e,r)}function Ti(t,e,r){xi.call(this,new Int32Array(t),e,r)}function Si(t,e,r){xi.call(this,new Uint32Array(t),e,r)}function Ai(t,e,r){xi.call(this,new Float32Array(t),e,r)}function Ri(t,e,r){xi.call(this,new Float64Array(t),e,r)}function Li(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ci(t){if(0===t.length)return-1/0;for(var e=t[0],r=1,n=t.length;r<n;++r)t[r]>e&&(e=t[r]);return e}yi.prototype=Object.assign(Object.create(t.prototype),{constructor:yi,isGeometry:!0,applyMatrix:function(t){for(var e=(new ze).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(t)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new di;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,r=null!==t.index?t.index.array:void 0,n=t.attributes,i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],u=[],p=0,d=0;p<i.length;p+=3,d+=2)e.vertices.push(new Fe(i[p],i[p+1],i[p+2])),void 0!==o&&h.push(new Fe(o[p],o[p+1],o[p+2])),void 0!==a&&e.colors.push(new oi(a[p],a[p+1],a[p+2])),void 0!==s&&l.push(new De(s[d],s[d+1])),void 0!==c&&u.push(new De(c[d],c[d+1]));function f(t,r,n,i){var p=new gi(t,r,n,void 0!==o?[h[t].clone(),h[r].clone(),h[n].clone()]:[],void 0!==a?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[r].clone(),l[n].clone()]),void 0!==c&&e.faceVertexUvs[1].push([u[t].clone(),u[r].clone(),u[n].clone()])}var m=t.groups;if(m.length>0)for(p=0;p<m.length;p++)for(var g=m[p],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==r?f(r[d],r[d+1],r[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==r)for(p=0;p<r.length;p+=3)f(r[p],r[p+1],r[p+2]);else for(p=0;p<i.length/3;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new Ue;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new Fe,e=new Fe,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,r,n,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)a[e]=new Fe;if(t){var s,c,h,l=new Fe,u=new Fe;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],h=this.vertices[o.c],l.subVectors(h,c),u.subVectors(s,c),l.cross(u),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,r=this.vertices.length;e<r;e++)a[e].normalize();for(n=0,i=this.faces.length;n<i;n++){var p=(o=this.faces[n]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,r;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var n=(r=this.faces[t]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new yi;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new Fe,h={a:new Fe,b:new Fe,c:new Fe},a.push(c),s.push(h)}var c,h,l=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=l.faceNormals[r],h=l.vertexNormals[r],c.copy(i.normal),h.a.copy(i.vertexNormals[0]),h.b.copy(i.vertexNormals[1]),h.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xe),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new qe),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===r&&(r=0),void 0!==e&&(n=(new ze).getNormalMatrix(e));for(var d=0,f=a.length;d<f;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,x=c[d],b=x.vertexNormals,_=x.vertexColors;(g=new gi(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var w=0,M=b.length;w<M;w++)v=b[w].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(w=0,M=_.length;w<M;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+r,s.push(g)}for(d=0,f=l.length;d<f;d++){var E=l[d],T=[];if(void 0!==E){for(w=0,M=E.length;w<M;w++)T.push(E[w].clone());h.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,r,n,i,o,a,s,c={},h=[],l=[],u=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],void 0===c[e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u)]?(c[e]=r,h.push(this.vertices[r]),l[r]=h.length-1):l[r]=l[c[e]];var p=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(r);break}}for(r=p.length-1;r>=0;r--){var f=p[r];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-h.length;return this.vertices=h,m},setFromPoints:function(t){this.vertices=[];for(var e=0,r=t.length;e<r;e++){var n=t[e];this.vertices.push(new Fe(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,r=0;r<e;r++)t[r]._id=r;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(n=[]),a&&a.length===e&&(i=[]);for(r=0;r<e;r++){var s=t[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}var a=[],s=[],c={},h=[],l={},u=[],p={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,g),x=M(x,6,v),x=M(x,7,y),a.push(x),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var b=this.faceVertexUvs[0][i];a.push(S(b[0]),S(b[1]),S(b[2]))}if(m&&a.push(E(d.normal)),g){var _=d.vertexNormals;a.push(E(_[0]),E(_[1]),E(_[2]))}if(v&&a.push(T(d.color)),y){var w=d.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function M(t,e,r){return r?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=s.length/3,s.push(t.x,t.y,t.z),c[e])}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=h.length,h.push(t.getHex()),l[e])}function S(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/2,u.push(t.x,t.y),p[e])}return t.data={},t.data.vertices=n,t.data.normals=s,h.length>0&&(t.data.colors=h),u.length>0&&(t.data.uvs=[u]),t.data.faces=a,t},clone:function(){return(new yi).copy(this)},copy:function(t){var e,r,n,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,r=s.length;e<r;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,r=c.length;e<r;e++)this.colors.push(c[e].clone());var h=t.faces;for(e=0,r=h.length;e<r;e++)this.faces.push(h[e].clone());for(e=0,r=t.faceVertexUvs.length;e<r;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,i=l.length;n<i;n++){var u=l[n],p=[];for(o=0,a=u.length;o<a;o++){var d=u[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,r=f.length;e<r;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,i=f[e].vertices.length;n<i;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,i=f[e].normals.length;n<i;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,r=g.length;e<r;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],n=0,i=g[e].vertexNormals.length;n<i;n++){var y=g[e].vertexNormals[n],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],n=0,i=g[e].faceNormals.length;n<i;n++)v.faceNormals.push(g[e].faceNormals[n].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,r=b.length;e<r;e++)this.skinWeights.push(b[e].clone());var _=t.skinIndices;for(e=0,r=_.length;e<r;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,r=w.length;e<r;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(xi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(xi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new oi),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new De),e[r++]=o.x,e[r++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new Fe),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Ve),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z,e[r++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),bi.prototype=Object.create(xi.prototype),bi.prototype.constructor=bi,_i.prototype=Object.create(xi.prototype),_i.prototype.constructor=_i,wi.prototype=Object.create(xi.prototype),wi.prototype.constructor=wi,Mi.prototype=Object.create(xi.prototype),Mi.prototype.constructor=Mi,Ei.prototype=Object.create(xi.prototype),Ei.prototype.constructor=Ei,Ti.prototype=Object.create(xi.prototype),Ti.prototype.constructor=Ti,Si.prototype=Object.create(xi.prototype),Si.prototype.constructor=Si,Ai.prototype=Object.create(xi.prototype),Ai.prototype.constructor=Ai,Ri.prototype=Object.create(xi.prototype),Ri.prototype.constructor=Ri,Object.assign(Li.prototype,{computeGroups:function(t){for(var e,r=[],n=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,r.push(e)),e={start:3*o,materialIndex:n})}void 0!==e&&(e.count=3*o-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,r=t.faces,n=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var h=0;h<c;h++)e[h]=[];this.morphTargets.position=e}var l,u=t.morphNormals,p=u.length;if(p>0){l=[];for(h=0;h<p;h++)l[h]=[];this.morphTargets.normal=l}var d=t.skinIndices,f=t.skinWeights,m=d.length===n.length,g=f.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(h=0;h<r.length;h++){var v=r[h];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=v.normal;this.normals.push(x,x,x)}var b,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(b=i[0][h])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new De,new De,new De));if(!0===a)void 0!==(b=i[1][h])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new De,new De,new De));for(var M=0;M<c;M++){var E=s[M].vertices;e[M].push(E[v.a],E[v.b],E[v.c])}for(M=0;M<p;M++){var T=u[M].vertexNormals[h];l[M].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Pi=1;function Oi(){Object.defineProperty(this,"id",{value:Pi+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Ii(t,e,r,n,i,o){yi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Ni(t,e,r,n,i,o)),this.mergeVertices()}function Ni(t,e,r,n,i,o){Oi.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};var a=this;t=t||1,e=e||1,r=r||1,n=Math.floor(n)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],h=[],l=[],u=0,p=0;function d(t,e,r,n,i,o,d,f,m,g,v){var y,x,b=o/m,_=d/g,w=o/2,M=d/2,E=f/2,T=m+1,S=g+1,A=0,R=0,L=new Fe;for(x=0;x<S;x++){var C=x*_-M;for(y=0;y<T;y++){var P=y*b-w;L[t]=P*n,L[e]=C*i,L[r]=E,c.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[r]=f>0?1:-1,h.push(L.x,L.y,L.z),l.push(y/m),l.push(1-x/g),A+=1}}for(x=0;x<g;x++)for(y=0;y<m;y++){var O=u+y+T*x,I=u+y+T*(x+1),N=u+(y+1)+T*(x+1),D=u+(y+1)+T*x;s.push(O,I,D),s.push(I,N,D),R+=6}a.addGroup(p,R,v),p+=R,u+=A}d("z","y","x",-1,-1,r,e,t,o,i,0),d("z","y","x",1,-1,r,e,-t,o,i,1),d("x","z","y",1,1,t,r,e,n,o,2),d("x","z","y",1,-1,t,r,-e,n,o,3),d("x","y","z",1,-1,t,e,r,n,i,4),d("x","y","z",-1,-1,t,e,-r,n,i,5),this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("normal",new Ai(h,3)),this.addAttribute("uv",new Ai(l,2))}function Di(t,e,r,n){yi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new Ui(t,e,r,n)),this.mergeVertices()}function Ui(t,e,r,n){Oi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};var i,o,a=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(r)||1,h=Math.floor(n)||1,l=c+1,u=h+1,p=t/c,d=e/h,f=[],m=[],g=[],v=[];for(o=0;o<u;o++){var y=o*d-s;for(i=0;i<l;i++){var x=i*p-a;m.push(x,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/h)}}for(o=0;o<h;o++)for(i=0;i<c;i++){var b=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),M=i+1+l*o;f.push(b,_,M),f.push(_,w,M)}this.setIndex(f),this.addAttribute("position",new Ai(m,3)),this.addAttribute("normal",new Ai(g,3)),this.addAttribute("uv",new Ai(v,2))}Oi.prototype=Object.assign(Object.create(t.prototype),{constructor:Oi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Ci(t)>65535?Si:Ei)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new xi(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new ze).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new di;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var r=new Ai(3*e.vertices.length,3),n=new Ai(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Ai(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Ai(e,3)),this},updateFromObject:function(t){var e,r=t.geometry;if(t.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(r.vertices),e.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(r.normals),e.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(r.colors),e.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(r.uvs),e.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(r.lineDistances),e.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Li).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new xi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new xi(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new xi(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new xi(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new xi(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[a],h=0,l=c.length;h<l;h++){var u=c[h],p=new Ai(3*u.length,3);s.push(p.copyVector3sArray(u))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new Ai(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Ai(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Xe);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Xe,e=new Fe;return function(){null===this.boundingSphere&&(this.boundingSphere=new qe);var r=this.attributes.position;if(r){var n=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(n);for(var i=0,o=0,a=r.count;o<a;o++)e.x=r.getX(o),e.y=r.getY(o),e.z=r.getZ(o),i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new xi(new Float32Array(n.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,c,h,l=e.normal.array,u=new Fe,p=new Fe,d=new Fe,f=new Fe,m=new Fe;if(t){var g=t.array;0===r.length&&this.addGroup(0,g.length);for(var v=0,y=r.length;v<y;++v){var x=r[v],b=x.start;for(o=b,a=b+x.count;o<a;o+=3)s=3*g[o+0],c=3*g[o+1],h=3*g[o+2],u.fromArray(n,s),p.fromArray(n,c),d.fromArray(n,h),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z,l[h]+=f.x,l[h+1]+=f.y,l[h+2]+=f.z}}else for(o=0,a=n.length;o<a;o+=9)u.fromArray(n,o),p.fromArray(n,o+3),d.fromArray(n,o+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[o]=f.x,l[o+1]=f.y,l[o+2]=f.z,l[o+3]=f.x,l[o+4]=f.y,l[o+5]=f.z,l[o+6]=f.x,l[o+7]=f.y,l[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n].array,o=t.attributes[n],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)i[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new Fe;return function(){for(var e=this.attributes.normal,r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.normalize(),e.setXYZ(r,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Oi,e=this.index.array,r=this.attributes;for(var n in r){for(var i=r[n],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*a;for(var p=0;p<a;p++)s[h++]=o[c++]}t.addAttribute(n,new xi(s,a))}var d=this.groups;for(l=0,u=d.length;l<u;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r];i=Array.prototype.slice.call(a.array);t.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Oi).copy(this)},copy:function(t){var e,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],h=s[e];for(r=0,n=h.length;r<n;r++)c.push(h[r].clone());this.morphAttributes[e]=c}var l=t.groups;for(r=0,n=l.length;r<n;r++){var u=l[r];this.addGroup(u.start,u.count,u.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ii.prototype=Object.create(yi.prototype),Ii.prototype.constructor=Ii,Ni.prototype=Object.create(Oi.prototype),Ni.prototype.constructor=Ni,Di.prototype=Object.create(yi.prototype),Di.prototype.constructor=Di,Ui.prototype=Object.create(Oi.prototype),Ui.prototype.constructor=Ui;var Bi=0;function Fi(){Object.defineProperty(this,"id",{value:Bi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=_,this.side=p,this.flatShading=!1,this.vertexColors=v,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=U,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function zi(t){Fi.call(this),this.type="MeshBasicMaterial",this.color=new oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Gi(t){Fi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Hi(t,e){this.origin=void 0!==t?t:new Fe,this.direction=void 0!==e?e:new Fe}function Vi(t,e){this.start=void 0!==t?t:new Fe,this.end=void 0!==e?e:new Fe}function ki(t,e,r){this.a=void 0!==t?t:new Fe,this.b=void 0!==e?e:new Fe,this.c=void 0!==r?r:new Fe}function ji(t,e){di.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new zi({color:16777215*Math.random()}),this.drawMode=xe,this.updateMorphTargets()}function Wi(t,e,r,n){var i,o,a,s=new oi(0),c=0;function h(t,r){e.buffers.color.setClear(t.r,t.g,t.b,r,n)}return{getClearColor:function(){return s},setClearColor:function(t,e){s.set(t),h(s,c=void 0!==e?e:1)},getClearAlpha:function(){return c},setClearAlpha:function(t){h(s,c=t)},render:function(e,n,l,u){var p=n.background;null===p?h(s,c):p&&p.isColor&&(h(p,1),u=!0),(t.autoClear||u)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&p.isCubeTexture?(void 0===a&&((a=new ji(new Ni(1,1,1),new Gi({uniforms:si.cube.uniforms,vertexShader:si.cube.vertexShader,fragmentShader:si.cube.fragmentShader,side:d,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,r){this.matrixWorld.copyPosition(r.matrixWorld)},r.update(a)),a.material.uniforms.tCube.value=p,e.push(a,a.geometry,a.material,0,null)):p&&p.isTexture&&(void 0===i&&(i=new mi(-1,1,1,-1,0,1),o=new ji(new Ui(2,2),new zi({depthTest:!1,depthWrite:!1,fog:!1})),r.update(o)),o.material.map=p,t.renderBufferDirect(i,null,o.geometry,o.material,o,null))}}}function Xi(t,e,r){var n;this.setMode=function(t){n=t},this.render=function(e,i){t.drawArrays(n,e,i),r.update(i,n)},this.renderInstances=function(t,i,o){var a=e.get("ANGLE_instanced_arrays");null!==a?(a.drawArraysInstancedANGLE(n,i,o,t.maxInstancedCount),r.update(o,n,t.maxInstancedCount)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function qi(t,e,r){var n;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o=void 0!==r.precision?r.precision:"highp",a=i(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);var s=!0===r.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_TEXTURE_SIZE),u=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),f=t.getParameter(t.MAX_VARYING_VECTORS),m=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,v=!!e.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==n)return n;var r=e.get("EXT_texture_filter_anisotropic");return n=null!==r?t.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:s,maxTextures:c,maxVertexTextures:h,maxTextureSize:l,maxCubemapSize:u,maxAttributes:p,maxVertexUniforms:d,maxVaryings:f,maxFragmentUniforms:m,vertexTextures:g,floatFragmentTextures:v,floatVertexTextures:g&&v}}function Yi(){var t=this,e=null,r=0,n=!1,i=!1,o=new Ye,a=new ze,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function h(e,r,n,i){var c=null!==e?e.length:0,h=null;if(0!==c){if(h=s.value,!0!==i||null===h){var l=n+4*c,u=r.matrixWorldInverse;a.getNormalMatrix(u),(null===h||h.length<l)&&(h=new Float32Array(l));for(var p=0,d=n;p!==c;++p,d+=4)o.copy(e[p]).applyMatrix4(u,a),o.normal.toArray(h,d),h[d+3]=o.constant}s.value=h,s.needsUpdate=!0}return t.numPlanes=c,h}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==r||n;return n=i,e=h(t,o,0),r=t.length,a},this.beginShadows=function(){i=!0,h(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,a,l,u,p){if(!n||null===t||0===t.length||i&&!a)i?h(null):c();else{var d=i?0:r,f=4*d,m=u.clippingState||null;s.value=m,m=h(t,l,f,p);for(var g=0;g!==f;++g)m[g]=e[g];u.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function Ji(t){var e={};return{get:function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}}}function Zi(t,e,r){var n={},i={};function o(t){var a=t.target,s=n[a.id];for(var c in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[c]);a.removeEventListener("dispose",o),delete n[a.id];var h=i[a.id];h&&(e.remove(h),delete i[a.id]),(h=i[s.id])&&(e.remove(h),delete i[s.id]),r.memory.geometries--}return{get:function(t,e){var i=n[e.id];return i||(e.addEventListener("dispose",o),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Oi).setFromObject(t)),i=e._bufferGeometry),n[e.id]=i,r.memory.geometries++,i)},update:function(r){var n=r.index,i=r.attributes;for(var o in null!==n&&e.update(n,t.ELEMENT_ARRAY_BUFFER),i)e.update(i[o],t.ARRAY_BUFFER);var a=r.morphAttributes;for(var o in a)for(var s=a[o],c=0,h=s.length;c<h;c++)e.update(s[c],t.ARRAY_BUFFER)},getWireframeAttribute:function(r){var n=i[r.id];if(n)return n;var o,a=[],s=r.index,c=r.attributes;if(null!==s)for(var h=0,l=(o=s.array).length;h<l;h+=3){var u=o[h+0],p=o[h+1],d=o[h+2];a.push(u,p,p,d,d,u)}else for(h=0,l=(o=c.position.array).length/3-1;h<l;h+=3)u=h+0,p=h+1,d=h+2,a.push(u,p,p,d,d,u);return n=new(Ci(a)>65535?Si:Ei)(a,1),e.update(n,t.ELEMENT_ARRAY_BUFFER),i[r.id]=n,n}}}function Qi(t,e,r){var n,i,o;this.setMode=function(t){n=t},this.setIndex=function(t){i=t.type,o=t.bytesPerElement},this.render=function(e,a){t.drawElements(n,a,i,e*o),r.update(a,n)},this.renderInstances=function(t,a,s){var c=e.get("ANGLE_instanced_arrays");null!==c?(c.drawElementsInstancedANGLE(n,s,i,a*o,t.maxInstancedCount),r.update(s,n,t.maxInstancedCount)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function Ki(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(r,n,i){switch(i=i||1,e.calls++,n){case t.TRIANGLES:e.triangles+=i*(r/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=i*(r-2);break;case t.LINES:e.lines+=i*(r/2);break;case t.LINE_STRIP:e.lines+=i*(r-1);break;case t.LINE_LOOP:e.lines+=i*r;break;case t.POINTS:e.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function $i(t,e){return Math.abs(e[1])-Math.abs(t[1])}function to(t){var e={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,c=s.length,h=e[i.id];if(void 0===h){h=[];for(var l=0;l<c;l++)h[l]=[l,0];e[i.id]=h}var u=o.morphTargets&&i.morphAttributes.position,p=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<c;l++)0!==(d=h[l])[1]&&(u&&i.removeAttribute("morphTarget"+l),p&&i.removeAttribute("morphNormal"+l));for(l=0;l<c;l++)(d=h[l])[0]=l,d[1]=s[l];for(h.sort($i),l=0;l<8;l++){var d;if(d=h[l]){var f=d[0],m=d[1];if(m){u&&i.addAttribute("morphTarget"+l,u[f]),p&&i.addAttribute("morphNormal"+l,p[f]),r[l]=m;continue}}r[l]=0}a.getUniforms().setValue(t,"morphTargetInfluences",r)}}}function eo(t,e){var r={};return{update:function(n){var i=e.render.frame,o=n.geometry,a=t.get(n,o);return r[a.id]!==i&&(o.isGeometry&&a.updateFromObject(n),t.update(a),r[a.id]=i),a},dispose:function(){r={}}}}function ro(t,e,r,n,i,o,a,s,c,h){t=void 0!==t?t:[],e=void 0!==e?e:ot,He.call(this,t,e,r,n,i,o,a,s,c,h),this.flipY=!1}Fi.prototype=Object.assign(Object.create(t.prototype),{constructor:Fi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r)if("shading"!==e){var n=this[e];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[e]="overdraw"===e?Number(r):r:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===m;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==p&&(r.side=this.side),this.vertexColors!==v&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),e){var i=n(t.textures),o=n(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,r=null;if(null!==e){var n=e.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=e[i].clone()}return this.clippingPlanes=r,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),zi.prototype=Object.create(Fi.prototype),zi.prototype.constructor=zi,zi.prototype.isMeshBasicMaterial=!0,zi.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Gi.prototype=Object.create(Fi.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isShaderMaterial=!0,Gi.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ni.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Gi.prototype.toJSON=function(t){var e=Fi.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(Hi.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Fe),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Fe;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Fe),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Fe;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a){t.copy(n).add(i).multiplyScalar(.5),e.copy(i).sub(n).normalize(),r.copy(this.origin).sub(t);var s,c,h,l,u=.5*n.distanceTo(i),p=-this.direction.dot(e),d=r.dot(this.direction),f=-r.dot(e),m=r.lengthSq(),g=Math.abs(1-p*p);if(g>0)if(c=p*d-f,l=u*g,(s=p*f-d)>=0)if(c>=-l)if(c<=l){var v=1/g;h=(s*=v)*(s+p*(c*=v)+2*d)+c*(p*s+c+2*f)+m}else c=u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c=-u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c<=-l?h=-(s=Math.max(0,-(-p*u+d)))*s+(c=s>0?-u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m:c<=l?(s=0,h=(c=Math.min(Math.max(-u,-f),u))*(c+2*f)+m):h=-(s=Math.max(0,-(p*u+d)))*s+(c=s>0?u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m;else c=p>0?-u:u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new Fe;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,c=n+a;return s<0&&c<0?null:s<0?this.at(c,r):this.at(s,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var r,n,i,o,a,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(r=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(r=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),h>=0?(i=(t.min.y-u.y)*h,o=(t.max.y-u.y)*h):(i=(t.max.y-u.y)*h,o=(t.min.y-u.y)*h),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),l>=0?(a=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(a=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectsBox:function(){var t=new Fe;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe;return function(i,o,a,s,c){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var h,l=this.direction.dot(n);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,i);var u=h*this.direction.dot(r.crossVectors(t,r));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(n);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(Vi.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Fe),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Fe),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Fe),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Fe,e=new Fe;return function(r,n){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t)/i;return n&&(o=Ne.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Fe),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Object.assign(ki,{getNormal:function(){var t=new Fe;return function(e,r,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Fe),i.subVectors(n,r),t.subVectors(e,r),i.cross(t);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}}(),getBarycoord:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),r.subVectors(n,i);var c=t.dot(t),h=t.dot(e),l=t.dot(r),u=e.dot(e),p=e.dot(r),d=c*u-h*h;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Fe),0===d)return s.set(-2,-1,-1);var f=1/d,m=(u*l-h*p)*f,g=(c*p-h*l)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new Fe;return function(e,r,n,i){return ki.getBarycoord(e,r,n,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}()}),Object.assign(ki.prototype,{set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Fe,e=new Fe;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Fe),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return ki.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Fe),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return ki.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ki.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new Ye,e=[new Vi,new Vi,new Vi],r=new Fe,n=new Fe;return function(i,o){void 0===o&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new Fe);var a=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,r),!0===this.containsPoint(r))o.copy(r);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var s=0;s<e.length;s++){e[s].closestPointToPoint(r,!0,n);var c=r.distanceToSquared(n);c<a&&(a=c,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),ji.prototype=Object.assign(Object.create(di.prototype),{constructor:ji,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return di.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)r=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var s=n.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}},raycast:function(){var t=new Ue,e=new Hi,r=new qe,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new De,l=new De,u=new De,p=new Fe,m=new Fe,g=new Fe;function v(t,e,r,n,i,o,a){return ki.getBarycoord(t,e,r,n,p),i.multiplyScalar(p.x),o.multiplyScalar(p.y),a.multiplyScalar(p.z),i.add(o).add(a),i.clone()}function y(t,e,r,n,i,o,a,s){if(null===(e.side===d?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,e.side!==f,s)))return null;g.copy(s),g.applyMatrix4(t.matrixWorld);var c=r.ray.origin.distanceTo(g);return c<r.near||c>r.far?null:{distance:c,point:g.clone(),object:t}}function x(t,e,r,a,s,c,p,d,f){n.fromBufferAttribute(s,p),i.fromBufferAttribute(s,d),o.fromBufferAttribute(s,f);var g=y(t,e,r,a,n,i,o,m);if(g){c&&(h.fromBufferAttribute(c,p),l.fromBufferAttribute(c,d),u.fromBufferAttribute(c,f),g.uv=v(m,n,i,o,h,l,u));var x=new gi(p,d,f);ki.getNormal(n,i,o,x.normal),g.face=x}return g}return function(p,d){var f,g=this.geometry,b=this.material,_=this.matrixWorld;if(void 0!==b&&(null===g.boundingSphere&&g.computeBoundingSphere(),r.copy(g.boundingSphere),r.applyMatrix4(_),!1!==p.ray.intersectsSphere(r)&&(t.getInverse(_),e.copy(p.ray).applyMatrix4(t),null===g.boundingBox||!1!==e.intersectsBox(g.boundingBox))))if(g.isBufferGeometry){var w,M,E,T,S,A,R,L,C,P=g.index,O=g.attributes.position,I=g.attributes.uv,N=g.groups,D=g.drawRange;if(null!==P)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(L=N[T]).materialIndex],S=Math.max(L.start,D.start),R=Math.min(L.start+L.count,D.start+D.count);S<R;S+=3)w=P.getX(T),M=P.getX(T+1),E=P.getX(T+2),(f=x(this,C,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(T/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(P.count,D.start+D.count);T<A;T+=3)w=P.getX(T),M=P.getX(T+1),E=P.getX(T+2),(f=x(this,b,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(T/3),d.push(f));else if(void 0!==O)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(L=N[T]).materialIndex],S=Math.max(L.start,D.start),R=Math.min(L.start+L.count,D.start+D.count);S<R;S+=3)(f=x(this,C,p,e,O,I,w=S,M=S+1,E=S+2))&&(f.faceIndex=Math.floor(T/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(O.count,D.start+D.count);T<A;T+=3)(f=x(this,b,p,e,O,I,w=T,M=T+1,E=T+2))&&(f.faceIndex=Math.floor(T/3),d.push(f))}else if(g.isGeometry){var U,B,F,z,G=Array.isArray(b),H=g.vertices,V=g.faces,k=g.faceVertexUvs[0];k.length>0&&(z=k);for(var j=0,W=V.length;j<W;j++){var X=V[j],q=G?b[X.materialIndex]:b;if(void 0!==q){if(U=H[X.a],B=H[X.b],F=H[X.c],!0===q.morphTargets){var Y=g.morphTargets,J=this.morphTargetInfluences;n.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var Z=0,Q=Y.length;Z<Q;Z++){var K=J[Z];if(0!==K){var $=Y[Z].vertices;n.addScaledVector(a.subVectors($[X.a],U),K),i.addScaledVector(s.subVectors($[X.b],B),K),o.addScaledVector(c.subVectors($[X.c],F),K)}}n.add(U),i.add(B),o.add(F),U=n,B=i,F=o}if(f=y(this,q,p,e,U,B,F,m)){if(z&&z[j]){var tt=z[j];h.copy(tt[0]),l.copy(tt[1]),u.copy(tt[2]),f.uv=v(m,U,B,F,h,l,u)}f.face=X,f.faceIndex=j,d.push(f)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ro.prototype=Object.create(He.prototype),ro.prototype.constructor=ro,ro.prototype.isCubeTexture=!0,Object.defineProperty(ro.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var no=new He,io=new ro;function oo(){this.seq=[],this.map={}}var ao=[],so=[],co=new Float32Array(16),ho=new Float32Array(9),lo=new Float32Array(4);function uo(t,e,r){var n=t[0];if(n<=0||n>0)return t;var i=e*r,o=ao[i];if(void 0===o&&(o=new Float32Array(i),ao[i]=o),0!==e){n.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=r,t[a].toArray(o,s)}return o}function po(t,e){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function fo(t,e){for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}function mo(t,e){var r=so[e];void 0===r&&(r=new Int32Array(e),so[e]=r);for(var n=0;n!==e;++n)r[n]=t.allocTextureUnit();return r}function go(t,e){var r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function vo(t,e){var r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function yo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(po(r,e))return;t.uniform2fv(this.addr,e),fo(r,e)}}function xo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(void 0!==e.r)r[0]===e.r&&r[1]===e.g&&r[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(po(r,e))return;t.uniform3fv(this.addr,e),fo(r,e)}}function bo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(po(r,e))return;t.uniform4fv(this.addr,e),fo(r,e)}}function _o(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;lo.set(n),t.uniformMatrix2fv(this.addr,!1,lo),fo(r,n)}}function wo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;ho.set(n),t.uniformMatrix3fv(this.addr,!1,ho),fo(r,n)}}function Mo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(po(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),fo(r,e)}else{if(po(r,n))return;co.set(n),t.uniformMatrix4fv(this.addr,!1,co),fo(r,n)}}function Eo(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(e||no,i)}function To(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(e||io,i)}function So(t,e){var r=this.cache;po(r,e)||(t.uniform2iv(this.addr,e),fo(r,e))}function Ao(t,e){var r=this.cache;po(r,e)||(t.uniform3iv(this.addr,e),fo(r,e))}function Ro(t,e){var r=this.cache;po(r,e)||(t.uniform4iv(this.addr,e),fo(r,e))}function Lo(t){switch(t){case 5126:return go;case 35664:return yo;case 35665:return xo;case 35666:return bo;case 35674:return _o;case 35675:return wo;case 35676:return Mo;case 35678:case 36198:return Eo;case 35680:return To;case 5124:case 35670:return vo;case 35667:case 35671:return So;case 35668:case 35672:return Ao;case 35669:case 35673:return Ro}}function Co(t,e){var r=this.cache;po(r,e)||(t.uniform1fv(this.addr,e),fo(r,e))}function Po(t,e){var r=this.cache;po(r,e)||(t.uniform1iv(this.addr,e),fo(r,e))}function Oo(t,e){var r=this.cache,n=uo(e,this.size,2);po(r,n)||(t.uniform2fv(this.addr,n),this.updateCache(n))}function Io(t,e){var r=this.cache,n=uo(e,this.size,3);po(r,n)||(t.uniform3fv(this.addr,n),this.updateCache(n))}function No(t,e){var r=this.cache,n=uo(e,this.size,4);po(r,n)||(t.uniform4fv(this.addr,n),this.updateCache(n))}function Do(t,e){var r=this.cache,n=uo(e,this.size,4);po(r,n)||(t.uniformMatrix2fv(this.addr,!1,n),this.updateCache(n))}function Uo(t,e){var r=this.cache,n=uo(e,this.size,9);po(r,n)||(t.uniformMatrix3fv(this.addr,!1,n),this.updateCache(n))}function Bo(t,e){var r=this.cache,n=uo(e,this.size,16);po(r,n)||(t.uniformMatrix4fv(this.addr,!1,n),this.updateCache(n))}function Fo(t,e,r){var n=this.cache,i=e.length,o=mo(r,i);!1===po(n,o)&&(t.uniform1iv(this.addr,o),fo(n,o));for(var a=0;a!==i;++a)r.setTexture2D(e[a]||no,o[a])}function zo(t,e,r){var n=this.cache,i=e.length,o=mo(r,i);!1===po(n,o)&&(t.uniform1iv(this.addr,o),fo(n,o));for(var a=0;a!==i;++a)r.setTextureCube(e[a]||io,o[a])}function Go(t){switch(t){case 5126:return Co;case 35664:return Oo;case 35665:return Io;case 35666:return No;case 35674:return Do;case 35675:return Uo;case 35676:return Bo;case 35678:return Fo;case 35680:return zo;case 5124:case 35670:return Po;case 35667:case 35671:return So;case 35668:case 35672:return Ao;case 35669:case 35673:return Ro}}function Ho(t,e,r){this.id=t,this.addr=r,this.cache=[],this.setValue=Lo(e.type)}function Vo(t,e,r){this.id=t,this.addr=r,this.cache=[],this.size=e.size,this.setValue=Go(e.type)}function ko(t){this.id=t,oo.call(this)}Vo.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),fo(e,t)},ko.prototype.setValue=function(t,e){for(var r=this.seq,n=0,i=r.length;n!==i;++n){var o=r[n];o.setValue(t,e[o.id])}};var jo=/([\w\d_]+)(\])?(\[|\.)?/g;function Wo(t,e){t.seq.push(e),t.map[e.id]=e}function Xo(t,e,r){var n=t.name,i=n.length;for(jo.lastIndex=0;;){var o=jo.exec(n),a=jo.lastIndex,s=o[1],c="]"===o[2],h=o[3];if(c&&(s|=0),void 0===h||"["===h&&a+2===i){Wo(r,void 0===h?new Ho(s,t,e):new Vo(s,t,e));break}var l=r.map[s];void 0===l&&Wo(r,l=new ko(s)),r=l}}function qo(t,e,r){oo.call(this),this.renderer=r;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;++i){var o=t.getActiveUniform(e,i);Xo(o,t.getUniformLocation(e,o.name),this)}}function Yo(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function Jo(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),Yo(r)),n}qo.prototype.setValue=function(t,e,r){var n=this.map[e];void 0!==n&&n.setValue(t,r,this.renderer)},qo.prototype.setOptional=function(t,e,r){var n=e[r];void 0!==n&&this.setValue(t,r,n)},qo.upload=function(t,e,r,n){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,n)}},qo.seqWithValue=function(t,e){for(var r=[],n=0,i=t.length;n!==i;++n){var o=t[n];o.id in e&&r.push(o)}return r};var Zo=0;function Qo(t){switch(t){case we:return["Linear","( value )"];case Me:return["sRGB","( value )"];case Te:return["RGBE","( value )"];case Ae:return["RGBM","( value, 7.0 )"];case Re:return["RGBM","( value, 16.0 )"];case Le:return["RGBD","( value, 256.0 )"];case Ee:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Ko(t,e){var r=Qo(e);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function $o(t,e){var r=Qo(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ta(t,e){var r;switch(e){case tt:r="Linear";break;case et:r="Reinhard";break;case rt:r="Uncharted2";break;case nt:r="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function ea(t,e,r){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ia).join("\n")}function ra(t){var e=[];for(var r in t){var n=t[r];!1!==n&&e.push("#define "+r+" "+n)}return e.join("\n")}function na(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i).name;r[o]=t.getAttribLocation(e,o)}return r}function ia(t){return""!==t}function oa(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function aa(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function sa(t){return t.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(t,e){var r=ri[e];if(void 0===r)throw new Error("Can not resolve #include <"+e+">");return sa(r)})}function ca(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,r,n){for(var i="",o=parseInt(e);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function ha(t,e,r,n,i,o){var a=t.context,s=n.defines,c=i.vertexShader,h=i.fragmentShader,p="SHADOWMAP_TYPE_BASIC";o.shadowMapType===l?p="SHADOWMAP_TYPE_PCF":o.shadowMapType===u&&(p="SHADOWMAP_TYPE_PCF_SOFT");var d="ENVMAP_TYPE_CUBE",f="ENVMAP_MODE_REFLECTION",m="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(n.envMap.mapping){case ot:case at:d="ENVMAP_TYPE_CUBE";break;case lt:case ut:d="ENVMAP_TYPE_CUBE_UV";break;case st:case ct:d="ENVMAP_TYPE_EQUIREC";break;case ht:d="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case at:case ct:f="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Z:m="ENVMAP_BLENDING_MULTIPLY";break;case Q:m="ENVMAP_BLENDING_MIX";break;case K:m="ENVMAP_BLENDING_ADD"}}var g,v,y=t.gammaFactor>0?t.gammaFactor:1,x=ea(n.extensions,o,e),b=ra(s),_=a.createProgram();n.isRawShaderMaterial?((g=[b].filter(ia).join("\n")).length>0&&(g+="\n"),(v=[x,b].filter(ia).join("\n")).length>0&&(v+="\n")):(g=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ia).join("\n"),v=[x,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,b,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+p:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&e.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&e.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==$?"#define TONE_MAPPING":"",o.toneMapping!==$?ri.tonemapping_pars_fragment:"",o.toneMapping!==$?ta("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?ri.encodings_pars_fragment:"",o.mapEncoding?Ko("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?Ko("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ko("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?$o("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ia).join("\n")),c=aa(c=oa(c=sa(c),o),o),h=aa(h=oa(h=sa(h),o),o);var w=g+(c=ca(c)),M=v+(h=ca(h)),E=Jo(a,a.VERTEX_SHADER,w),T=Jo(a,a.FRAGMENT_SHADER,M);a.attachShader(_,E),a.attachShader(_,T),void 0!==n.index0AttributeName?a.bindAttribLocation(_,0,n.index0AttributeName):!0===o.morphTargets&&a.bindAttribLocation(_,0,"position"),a.linkProgram(_);var S,A,R=a.getProgramInfoLog(_).trim(),L=a.getShaderInfoLog(E).trim(),C=a.getShaderInfoLog(T).trim(),P=!0,O=!0;return!1===a.getProgramParameter(_,a.LINK_STATUS)?(P=!1,console.error("THREE.WebGLProgram: shader error: ",a.getError(),"gl.VALIDATE_STATUS",a.getProgramParameter(_,a.VALIDATE_STATUS),"gl.getProgramInfoLog",R,L,C)):""!==R?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",R):""!==L&&""!==C||(O=!1),O&&(this.diagnostics={runnable:P,material:n,programLog:R,vertexShader:{log:L,prefix:g},fragmentShader:{log:C,prefix:v}}),a.deleteShader(E),a.deleteShader(T),this.getUniforms=function(){return void 0===S&&(S=new qo(a,_,t)),S},this.getAttributes=function(){return void 0===A&&(A=na(a,_)),A},this.destroy=function(){a.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Zo++,this.code=r,this.usedTimes=1,this.program=_,this.vertexShader=E,this.fragmentShader=T,this}function la(t,e,r){var n=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(t,e){var r;return t?t.isTexture?r=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=t.texture.encoding):r=we,r===we&&e&&(r=Ee),r}this.getParameters=function(e,n,o,s,c,h,l){var u=i[e.type],p=l.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(r.floatVertexTextures)return 1024;var n=r.maxVertexUniforms,i=Math.floor((n-20)/4),o=Math.min(i,e.length);return o<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+o+"."),0):o}(l):0,m=r.precision;null!==e.precision&&(m=r.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",m,"instead.");var g=t.getRenderTarget();return{shaderID:u,precision:m,supportsVertexTextures:r.vertexTextures,outputEncoding:a(g?g.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:a(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:a(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===lt||e.envMap.mapping===ut),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:a(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ie,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:r.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:r.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numClippingPlanes:c,numClipIntersection:h,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===f,flipSided:e.side===d,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,r){var n=[];if(r.shaderID?n.push(r.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);for(var a=0;a<o.length;a++)n.push(r[o[a]]);return n.push(e.onBeforeCompile.toString()),n.push(t.gammaOutput),n.join()},this.acquireProgram=function(r,i,o,a){for(var s,c=0,h=n.length;c<h;c++){var l=n[c];if(l.code===a){++(s=l).usedTimes;break}}return void 0===s&&(s=new ha(t,e,a,r,i,o),n.push(s)),s},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function ua(){var t=new WeakMap;return{get:function(e){var r=t.get(e);return void 0===r&&(r={},t.set(e,r)),r},remove:function(e){t.delete(e)},update:function(e,r,n){t.get(e)[r]=n},dispose:function(){t=new WeakMap}}}function pa(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function da(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function fa(){var t=[],e=0,r=[],n=[];return{opaque:r,transparent:n,init:function(){e=0,r.length=0,n.length=0},push:function(i,o,a,s,c){var h=t[e];void 0===h?(h={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:c},t[e]=h):(h.id=i.id,h.object=i,h.geometry=o,h.material=a,h.program=a.program,h.renderOrder=i.renderOrder,h.z=s,h.group=c),(!0===a.transparent?n:r).push(h),e++},sort:function(){r.length>1&&r.sort(pa),n.length>1&&n.sort(da)}}}function ma(){var t={};return{get:function(e,r){var n=e.id+","+r.id,i=t[n];return void 0===i&&(i=new fa,t[n]=i),i},dispose:function(){t={}}}}function ga(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var r;switch(e.type){case"DirectionalLight":r={direction:new Fe,color:new oi,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":r={position:new Fe,direction:new Fe,color:new oi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":r={position:new Fe,color:new oi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new Fe,skyColor:new oi,groundColor:new oi};break;case"RectAreaLight":r={color:new oi,position:new Fe,halfWidth:new Fe,halfHeight:new Fe}}return t[e.id]=r,r}}}var va=0;function ya(){var t=new ga,e={id:va++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new Fe,n=new Ue,i=new Ue;return{setup:function(o,a,s){for(var c=0,h=0,l=0,u=0,p=0,d=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var x=o[v],b=x.color,_=x.intensity,w=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=b.r*_,h+=b.g*_,l+=b.b*_;else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var E=x.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}e.directionalShadowMap[u]=M,e.directionalShadowMatrix[u]=x.shadow.matrix,e.directional[u]=T,u++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize),e.spotShadowMap[d]=M,e.spotShadowMatrix[d]=x.shadow.matrix,e.spot[d]=T,d++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(_),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),n.copy(x.matrixWorld),n.premultiply(g),i.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),e.rectArea[f]=T,f++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far),e.pointShadowMap[p]=M,e.pointShadowMatrix[p]=x.shadow.matrix,e.point[p]=T,p++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(_),T.groundColor.copy(x.groundColor).multiplyScalar(_),e.hemi[m]=T,m++}}e.ambient[0]=c,e.ambient[1]=h,e.ambient[2]=l,e.directional.length=u,e.spot.length=d,e.rectArea.length=f,e.point.length=p,e.hemi.length=m,e.hash=e.id+","+u+","+p+","+d+","+f+","+m+","+a.length},state:e}}function xa(){var t=new ya,e=[],r=[],n=[];return{init:function(){e.length=0,r.length=0,n.length=0},state:{lightsArray:e,shadowsArray:r,spritesArray:n,lights:t},setupLights:function(n){t.setup(e,r,n)},pushLight:function(t){e.push(t)},pushShadow:function(t){r.push(t)},pushSprite:function(t){n.push(t)}}}function ba(){var t={};return{get:function(e,r){var n=e.id+","+r.id,i=t[n];return void 0===i&&(i=new xa,t[n]=i),i},dispose:function(){t={}}}}function _a(t){Fi.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ce,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function wa(t){Fi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Fe,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Ma(t,e,r){for(var n=new Je,i=new Ue,o=new De,a=new De(r,r),s=new Fe,c=new Fe,h=1,u=2,m=1+(h|u),g=new Array(m),v=new Array(m),y={},x={0:d,1:p,2:f},b=[new Fe(1,0,0),new Fe(-1,0,0),new Fe(0,0,1),new Fe(0,0,-1),new Fe(0,1,0),new Fe(0,-1,0)],_=[new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,0,1),new Fe(0,0,-1)],w=[new Ve,new Ve,new Ve,new Ve,new Ve,new Ve],M=0;M!==m;++M){var E=0!=(M&h),T=0!=(M&u),S=new _a({depthPacking:Pe,morphTargets:E,skinning:T});g[M]=S;var A=new wa({morphTargets:E,skinning:T});v[M]=A}var R=this;function L(e,r,n,i,o,a){var s=e.geometry,c=null,l=g,p=e.customDepthMaterial;if(n&&(l=v,p=e.customDistanceMaterial),p)c=p;else{var d=!1;r.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===r.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var f=e.isSkinnedMesh&&r.skinning,m=0;d&&(m|=h),f&&(m|=u),c=l[m]}if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var b=c.uuid,_=r.uuid,w=y[b];void 0===w&&(w={},y[b]=w);var M=w[_];void 0===M&&(M=c.clone(),w[_]=M),c=M}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=null!=r.shadowSide?r.shadowSide:x[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,n&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=o,c.farDistance=a),c}function C(r,i,o,a){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&r.castShadow&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var s=e.update(r),h=r.material;if(Array.isArray(h))for(var l=s.groups,u=0,p=l.length;u<p;u++){var d=l[u],f=h[d.materialIndex];if(f&&f.visible){var m=L(r,f,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,d)}}else if(h.visible){m=L(r,h,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,null)}}for(var g=r.children,v=0,y=g.length;v<y;v++)C(g[v],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,r,h){if(!1!==R.enabled&&(!1!==R.autoUpdate||!1!==R.needsUpdate)&&0!==e.length){var l,u=t.context,p=t.state;p.disable(u.BLEND),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var d=0,f=e.length;d<f;d++){var m=e[d],g=m.shadow,v=m&&m.isPointLight;if(void 0!==g){var y=g.camera;if(o.copy(g.mapSize),o.min(a),v){var x=o.x,M=o.y;w[0].set(2*x,M,x,M),w[1].set(0,M,x,M),w[2].set(3*x,M,x,M),w[3].set(x,M,x,M),w[4].set(3*x,0,x,M),w[5].set(x,0,x,M),o.x*=4,o.y*=2}if(null===g.map){var E={minFilter:mt,magFilter:mt,format:Dt};g.map=new ke(o.x,o.y,E),g.map.texture.name=m.name+".shadowMap",y.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var T=g.map,S=g.matrix;c.setFromMatrixPosition(m.matrixWorld),y.position.copy(c),v?(l=6,S.makeTranslation(-c.x,-c.y,-c.z)):(l=1,s.setFromMatrixPosition(m.target.matrixWorld),y.lookAt(s),y.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(y.projectionMatrix),S.multiply(y.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var A=0;A<l;A++){if(v){s.copy(y.position),s.add(b[A]),y.up.copy(_[A]),y.lookAt(s),y.updateMatrixWorld();var L=w[A];p.viewport(L)}i.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),n.setFromMatrix(i),C(r,h,y,v)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}R.needsUpdate=!1}}}function Ea(t,e,r,n,i,o,a,s,c){He.call(this,t,e,r,n,i,o,a,s,c),this.needsUpdate=!0}function Ta(t,e,r,n,i){var o,a,s,c,h,l,u=new Fe,p=new Be,d=new Fe;function f(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);o=e.createBuffer(),a=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW),s=function(){var t=e.createProgram(),r=e.createShader(e.VERTEX_SHADER),n=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),e.shaderSource(n,["precision "+i.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),e.compileShader(r),e.compileShader(n),e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),t}(),c={position:e.getAttribLocation(s,"position"),uv:e.getAttribLocation(s,"uv")},h={uvOffset:e.getUniformLocation(s,"uvOffset"),uvScale:e.getUniformLocation(s,"uvScale"),rotation:e.getUniformLocation(s,"rotation"),center:e.getUniformLocation(s,"center"),scale:e.getUniformLocation(s,"scale"),color:e.getUniformLocation(s,"color"),map:e.getUniformLocation(s,"map"),opacity:e.getUniformLocation(s,"opacity"),modelViewMatrix:e.getUniformLocation(s,"modelViewMatrix"),projectionMatrix:e.getUniformLocation(s,"projectionMatrix"),fogType:e.getUniformLocation(s,"fogType"),fogDensity:e.getUniformLocation(s,"fogDensity"),fogNear:e.getUniformLocation(s,"fogNear"),fogFar:e.getUniformLocation(s,"fogFar"),fogColor:e.getUniformLocation(s,"fogColor"),fogDepth:e.getUniformLocation(s,"fogDepth"),alphaTest:e.getUniformLocation(s,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var u=n.getContext("2d");u.fillStyle="white",u.fillRect(0,0,8,8),l=new Ea(n)}function m(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(i,g,v){if(0!==i.length){void 0===s&&f(),r.useProgram(s),r.initAttributes(),r.enableAttribute(c.position),r.enableAttribute(c.uv),r.disableUnusedAttributes(),r.disable(e.CULL_FACE),r.enable(e.BLEND),e.bindBuffer(e.ARRAY_BUFFER,o),e.vertexAttribPointer(c.position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(c.uv,2,e.FLOAT,!1,16,8),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.uniformMatrix4fv(h.projectionMatrix,!1,v.projectionMatrix.elements),r.activeTexture(e.TEXTURE0),e.uniform1i(h.map,0);var y=0,x=0,b=g.fog;b?(e.uniform3f(h.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(e.uniform1f(h.fogNear,b.near),e.uniform1f(h.fogFar,b.far),e.uniform1i(h.fogType,1),y=1,x=1):b.isFogExp2&&(e.uniform1f(h.fogDensity,b.density),e.uniform1i(h.fogType,2),y=2,x=2)):(e.uniform1i(h.fogType,0),y=0,x=0);for(var _=0,w=i.length;_<w;_++){(T=i[_]).modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,T.matrixWorld),T.z=-T.modelViewMatrix.elements[14]}i.sort(m);var M=[],E=[];for(_=0,w=i.length;_<w;_++){var T,S=(T=i[_]).material;if(!1!==S.visible){T.onBeforeRender(t,g,v,void 0,S,void 0),e.uniform1f(h.alphaTest,S.alphaTest),e.uniformMatrix4fv(h.modelViewMatrix,!1,T.modelViewMatrix.elements),T.matrixWorld.decompose(u,p,d),M[0]=d.x,M[1]=d.y,E[0]=T.center.x-.5,E[1]=T.center.y-.5;var A=0;g.fog&&S.fog&&(A=x),y!==A&&(e.uniform1i(h.fogType,A),y=A),null!==S.map?(e.uniform2f(h.uvOffset,S.map.offset.x,S.map.offset.y),e.uniform2f(h.uvScale,S.map.repeat.x,S.map.repeat.y)):(e.uniform2f(h.uvOffset,0,0),e.uniform2f(h.uvScale,1,1)),e.uniform1f(h.opacity,S.opacity),e.uniform3f(h.color,S.color.r,S.color.g,S.color.b),e.uniform1f(h.rotation,S.rotation),e.uniform2fv(h.center,E),e.uniform2fv(h.scale,M),r.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst,S.blendEquationAlpha,S.blendSrcAlpha,S.blendDstAlpha,S.premultipliedAlpha),r.buffers.depth.setTest(S.depthTest),r.buffers.depth.setMask(S.depthWrite),r.buffers.color.setMask(S.colorWrite),n.setTexture2D(S.map||l,0),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),T.onAfterRender(t,g,v,void 0,S,void 0)}}r.enable(e.CULL_FACE),r.reset()}}}function Sa(t,e,r){var a=new function(){var e=!1,r=new Ve,n=null,i=new Ve(0,0,0,0);return{setMask:function(r){n===r||e||(t.colorMask(r,r,r,r),n=r)},setLocked:function(t){e=t},setClear:function(e,n,o,a,s){!0===s&&(e*=a,n*=a,o*=a),r.set(e,n,o,a),!1===i.equals(r)&&(t.clearColor(e,n,o,a),i.copy(r))},reset:function(){e=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var e=!1,r=null,n=null,i=null;return{setTest:function(e){e?rt(t.DEPTH_TEST):nt(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case V:t.depthFunc(t.NEVER);break;case k:t.depthFunc(t.ALWAYS);break;case j:t.depthFunc(t.LESS);break;case W:t.depthFunc(t.LEQUAL);break;case X:t.depthFunc(t.EQUAL);break;case q:t.depthFunc(t.GEQUAL);break;case Y:t.depthFunc(t.GREATER);break;case J:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,r=null,n=null,i=null}}},c=new function(){var e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null;return{setTest:function(e){e?rt(t.STENCIL_TEST):nt(t.STENCIL_TEST)},setMask:function(n){r===n||e||(t.stencilMask(n),r=n)},setFunc:function(e,r,a){n===e&&i===r&&o===a||(t.stencilFunc(e,r,a),n=e,i=r,o=a)},setOp:function(e,r,n){a===e&&s===r&&c===n||(t.stencilOp(e,r,n),a=e,s=r,c=n)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null}}},h=t.getParameter(t.MAX_VERTEX_ATTRIBS),l=new Uint8Array(h),u=new Uint8Array(h),p=new Uint8Array(h),m={},g=null,v=null,y=null,x=null,S=null,A=null,R=null,L=null,C=null,P=!1,O=null,I=null,N=null,D=null,U=null,B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),F=!1,z=0,G=t.getParameter(t.VERSION);-1!==G.indexOf("WebGL")?(z=parseFloat(/^WebGL\ ([0-9])/.exec(G)[1]),F=z>=1):-1!==G.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(G)[1]),F=z>=2);var H=null,Z={},Q=new Ve,K=new Ve;function $(e,r,n){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<n;a++)t.texImage2D(r+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}var tt={};function et(r,n){(l[r]=1,0===u[r]&&(t.enableVertexAttribArray(r),u[r]=1),p[r]!==n)&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(r,n),p[r]=n)}function rt(e){!0!==m[e]&&(t.enable(e),m[e]=!0)}function nt(e){!1!==m[e]&&(t.disable(e),m[e]=!1)}function it(e,n,i,o,a,s,c,h){if(e!==b?rt(t.BLEND):nt(t.BLEND),e!==T){if(e!==y||h!==P)switch(e){case w:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case M:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case E:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}x=null,S=null,A=null,R=null,L=null,C=null}else a=a||n,s=s||i,c=c||o,n===x&&a===R||(t.blendEquationSeparate(r.convert(n),r.convert(a)),x=n,R=a),i===S&&o===A&&s===L&&c===C||(t.blendFuncSeparate(r.convert(i),r.convert(o),r.convert(s),r.convert(c)),S=i,A=o,L=s,C=c);y=e,P=h}function ot(e){O!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),O=e)}function at(e){e!==n?(rt(t.CULL_FACE),e!==I&&(e===i?t.cullFace(t.BACK):e===o?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):nt(t.CULL_FACE),I=e}function st(e,r,n){e?(rt(t.POLYGON_OFFSET_FILL),D===r&&U===n||(t.polygonOffset(r,n),D=r,U=n)):nt(t.POLYGON_OFFSET_FILL)}function ct(e){void 0===e&&(e=t.TEXTURE0+B-1),H!==e&&(t.activeTexture(e),H=e)}return tt[t.TEXTURE_2D]=$(t.TEXTURE_2D,t.TEXTURE_2D,1),tt[t.TEXTURE_CUBE_MAP]=$(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),a.setClear(0,0,0,1),s.setClear(1),c.setClear(0),rt(t.DEPTH_TEST),s.setFunc(W),ot(!1),at(i),rt(t.CULL_FACE),rt(t.BLEND),it(_),{buffers:{color:a,depth:s,stencil:c},initAttributes:function(){for(var t=0,e=l.length;t<e;t++)l[t]=0},enableAttribute:function(t){et(t,0)},enableAttributeAndDivisor:et,disableUnusedAttributes:function(){for(var e=0,r=u.length;e!==r;++e)u[e]!==l[e]&&(t.disableVertexAttribArray(e),u[e]=0)},enable:rt,disable:nt,getCompressedTextureFormats:function(){if(null===g&&(g=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var r=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)g.push(r[n]);return g},useProgram:function(e){return v!==e&&(t.useProgram(e),v=e,!0)},setBlending:it,setMaterial:function(e,r){e.side===f?nt(t.CULL_FACE):rt(t.CULL_FACE);var n=e.side===d;r&&(n=!n),ot(n),e.blending===_&&!1===e.transparent?it(b):it(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),a.setMask(e.colorWrite),st(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ot,setCullFace:at,setLineWidth:function(e){e!==N&&(F&&t.lineWidth(e),N=e)},setPolygonOffset:st,setScissorTest:function(e){e?rt(t.SCISSOR_TEST):nt(t.SCISSOR_TEST)},activeTexture:ct,bindTexture:function(e,r){null===H&&ct();var n=Z[H];void 0===n&&(n={type:void 0,texture:void 0},Z[H]=n),n.type===e&&n.texture===r||(t.bindTexture(e,r||tt[e]),n.type=e,n.texture=r)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===Q.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),Q.copy(e))},viewport:function(e){!1===K.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),K.copy(e))},reset:function(){for(var e=0;e<u.length;e++)1===u[e]&&(t.disableVertexAttribArray(e),u[e]=0);m={},g=null,H=null,Z={},v=null,y=null,O=null,I=null,a.reset(),s.reset(),c.reset()}}}function Aa(t,e,r,n,i,o,a){var s,c="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,h={};function l(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var r=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function u(t){return Ne.isPowerOfTwo(t.width)&&Ne.isPowerOfTwo(t.height)}function p(t,e){return t.generateMipmaps&&e&&t.minFilter!==mt&&t.minFilter!==yt}function d(e,r,i,o){t.generateMipmap(e),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function f(e){return e===mt||e===gt||e===vt?t.NEAREST:t.LINEAR}function m(e){var r=e.target;r.removeEventListener("dispose",m),function(e){var r=n.get(e);if(e.image&&r.__image__webglTextureCube)t.deleteTexture(r.__image__webglTextureCube);else{if(void 0===r.__webglInit)return;t.deleteTexture(r.__webglTexture)}n.remove(e)}(r),r.isVideoTexture&&delete h[r.id],a.memory.textures--}function g(e){var r=e.target;r.removeEventListener("dispose",g),function(e){var r=n.get(e),i=n.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[o]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer);n.remove(e.texture),n.remove(e)}(r),a.memory.textures--}function v(e,f){var g=n.get(e);if(e.isVideoTexture&&function(t){var e=t.id,r=a.render.frame;h[e]!==r&&(h[e]=r,t.update())}(e),e.version>0&&g.__version!==e.version){var v=e.image;if(void 0===v)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==v.complete)return void function(e,n,h){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",m),e.__webglTexture=t.createTexture(),a.memory.textures++);r.activeTexture(t.TEXTURE0+h),r.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var f=l(n.image,i.maxTextureSize);(function(t){return t.wrapS!==dt||t.wrapT!==dt||t.minFilter!==mt&&t.minFilter!==yt})(n)&&!1===u(f)&&(f=function(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Ne.floorPowerOfTwo(t.width),s.height=Ne.floorPowerOfTwo(t.height),s.getContext("2d").drawImage(t,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+s.width+"x"+s.height,t),s):t}(f));var g=u(f),v=o.convert(n.format),x=o.convert(n.type);y(t.TEXTURE_2D,n,g);var b,_=n.mipmaps;if(n.isDepthTexture){var w=t.DEPTH_COMPONENT;if(n.type===At){if(!c)throw new Error("Float Depth Texture only supported in WebGL2.0");w=t.DEPTH_COMPONENT32F}else c&&(w=t.DEPTH_COMPONENT16);n.format===zt&&w===t.DEPTH_COMPONENT&&n.type!==Et&&n.type!==St&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Et,x=o.convert(n.type)),n.format===Gt&&(w=t.DEPTH_STENCIL,n.type!==Ot&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ot,x=o.convert(n.type))),r.texImage2D(t.TEXTURE_2D,0,w,f.width,f.height,0,v,x,null)}else if(n.isDataTexture)if(_.length>0&&g){for(var M=0,E=_.length;M<E;M++)b=_[M],r.texImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,v,x,b.data);n.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else r.texImage2D(t.TEXTURE_2D,0,v,f.width,f.height,0,v,x,f.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(var M=0,E=_.length;M<E;M++)b=_[M],n.format!==Dt&&n.format!==Nt?r.getCompressedTextureFormats().indexOf(v)>-1?r.compressedTexImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(t.TEXTURE_2D,M,v,b.width,b.height,0,v,x,b.data);e.__maxMipLevel=_.length-1}else if(_.length>0&&g){for(var M=0,E=_.length;M<E;M++)b=_[M],r.texImage2D(t.TEXTURE_2D,M,v,v,x,b);n.generateMipmaps=!1,e.__maxMipLevel=_.length-1}else r.texImage2D(t.TEXTURE_2D,0,v,v,x,f),e.__maxMipLevel=0;p(n,g)&&d(t.TEXTURE_2D,n,f.width,f.height);e.__version=n.version,n.onUpdate&&n.onUpdate(n)}(g,e,f);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}r.activeTexture(t.TEXTURE0+f),r.bindTexture(t.TEXTURE_2D,g.__webglTexture)}function y(r,a,s){var c;if(s?(t.texParameteri(r,t.TEXTURE_WRAP_S,o.convert(a.wrapS)),t.texParameteri(r,t.TEXTURE_WRAP_T,o.convert(a.wrapT)),t.texParameteri(r,t.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===dt&&a.wrapT===dt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",a),t.texParameteri(r,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==mt&&a.minFilter!==yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",a)),c=e.get("EXT_texture_filter_anisotropic")){if(a.type===At&&null===e.get("OES_texture_float_linear"))return;if(a.type===Rt&&null===e.get("OES_texture_half_float_linear"))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(t.texParameterf(r,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,i,a,s){var c=o.convert(i.texture.format),h=o.convert(i.texture.type);r.texImage2D(s,0,c,i.width,i.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,n.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function b(e,r){t.bindRenderbuffer(t.RENDERBUFFER,e),r.depthBuffer&&!r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):r.depthBuffer&&r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,r.width,r.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function _(e){var r=n.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),v(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===zt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(r.depthTexture.format!==Gt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(r.__webglFramebuffer,e)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),b(r.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),b(r.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}this.setTexture2D=v,this.setTextureCube=function(e,s){var c=n.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",m),c.__image__webglTextureCube=t.createTexture(),a.memory.textures++),r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,g=[],v=0;v<6;v++)g[v]=h||f?f?e.image[v].image:e.image[v]:l(e.image[v],i.maxCubemapSize);var x=g[0],b=u(x),_=o.convert(e.format),w=o.convert(e.type);for(y(t.TEXTURE_CUBE_MAP,e,b),v=0;v<6;v++)if(h)for(var M,E=g[v].mipmaps,T=0,S=E.length;T<S;T++)M=E[T],e.format!==Dt&&e.format!==Nt?r.getCompressedTextureFormats().indexOf(_)>-1?r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,T,_,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,T,_,M.width,M.height,0,_,w,M.data);else f?r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,g[v].width,g[v].height,0,_,w,g[v].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+v,0,_,_,w,g[v]);c.__maxMipLevel=h?E.length-1:0,p(e,b)&&d(t.TEXTURE_CUBE_MAP,e,x.width,x.height),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){r.activeTexture(t.TEXTURE0+i),r.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=n.get(e),o=n.get(e.texture);e.addEventListener("dispose",g),o.__webglTexture=t.createTexture(),a.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,c=u(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){for(r.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),y(t.TEXTURE_CUBE_MAP,e.texture,c),h=0;h<6;h++)x(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);p(e.texture,c)&&d(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_CUBE_MAP,null)}else r.bindTexture(t.TEXTURE_2D,o.__webglTexture),y(t.TEXTURE_2D,e.texture,c),x(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),p(e.texture,c)&&d(t.TEXTURE_2D,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&_(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(p(i,u(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=n.get(i).__webglTexture;r.bindTexture(o,a),d(o,i,e.width,e.height),r.bindTexture(o,null)}}}function Ra(t,e){return{convert:function(r){var n;if(r===pt)return t.REPEAT;if(r===dt)return t.CLAMP_TO_EDGE;if(r===ft)return t.MIRRORED_REPEAT;if(r===mt)return t.NEAREST;if(r===gt)return t.NEAREST_MIPMAP_NEAREST;if(r===vt)return t.NEAREST_MIPMAP_LINEAR;if(r===yt)return t.LINEAR;if(r===xt)return t.LINEAR_MIPMAP_NEAREST;if(r===bt)return t.LINEAR_MIPMAP_LINEAR;if(r===_t)return t.UNSIGNED_BYTE;if(r===Lt)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Ct)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Pt)return t.UNSIGNED_SHORT_5_6_5;if(r===wt)return t.BYTE;if(r===Mt)return t.SHORT;if(r===Et)return t.UNSIGNED_SHORT;if(r===Tt)return t.INT;if(r===St)return t.UNSIGNED_INT;if(r===At)return t.FLOAT;if(r===Rt&&null!==(n=e.get("OES_texture_half_float")))return n.HALF_FLOAT_OES;if(r===It)return t.ALPHA;if(r===Nt)return t.RGB;if(r===Dt)return t.RGBA;if(r===Ut)return t.LUMINANCE;if(r===Bt)return t.LUMINANCE_ALPHA;if(r===zt)return t.DEPTH_COMPONENT;if(r===Gt)return t.DEPTH_STENCIL;if(r===S)return t.FUNC_ADD;if(r===A)return t.FUNC_SUBTRACT;if(r===R)return t.FUNC_REVERSE_SUBTRACT;if(r===P)return t.ZERO;if(r===O)return t.ONE;if(r===I)return t.SRC_COLOR;if(r===N)return t.ONE_MINUS_SRC_COLOR;if(r===D)return t.SRC_ALPHA;if(r===U)return t.ONE_MINUS_SRC_ALPHA;if(r===B)return t.DST_ALPHA;if(r===F)return t.ONE_MINUS_DST_ALPHA;if(r===z)return t.DST_COLOR;if(r===G)return t.ONE_MINUS_DST_COLOR;if(r===H)return t.SRC_ALPHA_SATURATE;if((r===Ht||r===Vt||r===kt||r===jt)&&null!==(n=e.get("WEBGL_compressed_texture_s3tc"))){if(r===Ht)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Vt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===kt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===jt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===Wt||r===Xt||r===qt||r===Yt)&&null!==(n=e.get("WEBGL_compressed_texture_pvrtc"))){if(r===Wt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Xt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===qt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Yt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===Jt&&null!==(n=e.get("WEBGL_compressed_texture_etc1")))return n.COMPRESSED_RGB_ETC1_WEBGL;if((r===Zt||r===Qt||r===Kt||r===$t||r===te||r===ee||r===re||r===ne||r===ie||r===oe||r===ae||r===se||r===ce||r===he)&&null!==(n=e.get("WEBGL_compressed_texture_astc")))return r;if((r===L||r===C)&&null!==(n=e.get("EXT_blend_minmax"))){if(r===L)return n.MIN_EXT;if(r===C)return n.MAX_EXT}return r===Ot&&null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:0}}}function La(){di.call(this),this.type="Group"}function Ca(t,e,r,n){fi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Pa(t){Ca.call(this),this.cameras=t||[]}function Oa(t){var e=this,r=null,n=null,i=null,o=[],a=new Ue,s=new Ue;"undefined"!=typeof window&&"VRFrameData"in window&&(n=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",v,!1));var c=new Ue,h=new Be,l=new Fe,u=new Ca;u.bounds=new Ve(0,0,.5,1),u.layers.enable(1);var p=new Ca;p.bounds=new Ve(.5,0,.5,1),p.layers.enable(2);var d,f,m=new Pa([u,p]);function g(){return null!==r&&!0===r.isPresenting}function v(){if(g()){var n=r.getEyeParameters("left"),i=n.renderWidth,o=n.renderHeight;f=t.getPixelRatio(),d=t.getSize(),t.setDrawingBufferSize(2*i,o,1),b.start()}else e.enabled&&(t.setDrawingBufferSize(d.width,d.height,f),b.stop())}m.layers.enable(1),m.layers.enable(2);var y=!1;function x(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),r=0,n=0,i=e.length;r<i;r++){var o=e[r];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(n===t)return o;n++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=o[t];return void 0===e&&((e=new La).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),b.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){if(null===r)return t.position.set(0,e.userHeight,0),t;r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(n);var d=r.stageParameters;d?a.fromArray(d.sittingToStandingTransform):a.makeTranslation(0,e.userHeight,0);var f=n.pose,g=null!==i?i:t;if(g.matrix.copy(a),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==f.orientation&&(h.fromArray(f.orientation),g.quaternion.multiply(h)),null!==f.position&&(h.setFromRotationMatrix(a),l.fromArray(f.position),l.applyQuaternion(h),g.position.add(l)),g.updateMatrixWorld(),!1===r.isPresenting)return t;u.near=t.near,p.near=t.near,u.far=t.far,p.far=t.far,m.matrixWorld.copy(t.matrixWorld),m.matrixWorldInverse.copy(t.matrixWorldInverse),u.matrixWorldInverse.fromArray(n.leftViewMatrix),p.matrixWorldInverse.fromArray(n.rightViewMatrix),s.getInverse(a),u.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s);var v=g.parent;null!==v&&(c.getInverse(v.matrixWorld),u.matrixWorldInverse.multiply(c),p.matrixWorldInverse.multiply(c)),u.matrixWorld.getInverse(u.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),u.projectionMatrix.fromArray(n.leftProjectionMatrix),p.projectionMatrix.fromArray(n.rightProjectionMatrix),m.projectionMatrix.copy(u.projectionMatrix);var b=r.getLayers();if(b.length){var _=b[0];null!==_.leftBounds&&4===_.leftBounds.length&&u.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&p.bounds.fromArray(_.rightBounds)}return function(){for(var t=0;t<o.length;t++){var e=o[t],r=x(t);if(void 0!==r&&void 0!==r.pose){if(null===r.pose)return;var n=r.pose;!1===n.hasPosition&&e.position.set(.2,-.6,-.05),null!==n.position&&e.position.fromArray(n.position),null!==n.orientation&&e.quaternion.fromArray(n.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(a),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===r.id?0:1;y!==r.buttons[i].pressed&&((y=r.buttons[i].pressed)?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),m},this.getStandingMatrix=function(){return a},this.isPresenting=g;var b=new ci;this.setAnimationLoop=function(t){b.setAnimationLoop(t)},this.submitFrame=function(){g()&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",v)}}function Ia(t){var e=t.context,r=null,n=null,i=null,o=null,a=[],s=[];function c(){return null!==n&&null!==i}var h=new Ca;h.layers.enable(1),h.viewport=new Ve;var l=new Ca;l.layers.enable(2),l.viewport=new Ve;var u=new Pa([h,l]);function p(t){var e=a[s.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),g.stop()}function f(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}u.layers.enable(1),u.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new La).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),e.setCompatibleXRDevice(t)},this.setSession=function(r,o){null!==(n=r)&&(n.addEventListener("select",p),n.addEventListener("selectstart",p),n.addEventListener("selectend",p),n.addEventListener("end",d),n.baseLayer=new XRWebGLLayer(n,e),n.requestFrameOfReference(o.frameOfReferenceType).then(function(e){i=e,t.setFramebuffer(n.baseLayer.framebuffer),g.setContext(n),g.start()}),s=n.getInputSources(),n.addEventListener("inputsourceschange",function(){s=n.getInputSources(),console.log(s)}))},this.getCamera=function(t){if(c()){var e=t.parent,r=u.cameras;f(u,e);for(var n=0;n<r.length;n++)f(r[n],e);t.matrixWorld.copy(u.matrixWorld);for(var i=t.children,o=(n=0,i.length);n<o;n++)i[n].updateMatrixWorld(!0);return u}return t},this.isPresenting=c;var m=null;var g=new ci;g.setAnimationLoop(function(t,e){if(null!==(o=e.getDevicePose(i)))for(var r=n.baseLayer,c=e.views,h=0;h<c.length;h++){var l=c[h],p=r.getViewport(l),d=o.getViewMatrix(l),f=u.cameras[h];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(l.projectionMatrix),f.viewport.set(p.x,p.y,p.width,p.height),0===h&&(u.matrix.copy(f.matrix),u.projectionMatrix.copy(f.projectionMatrix))}for(h=0;h<a.length;h++){var g=a[h],v=s[h];if(v){var y=e.getInputPose(v,i);if(null!==y){g.matrix.elements=y.pointerMatrix,g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}m&&m(t)}),this.setAnimationLoop=function(t){m=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Na(t){console.log("THREE.WebGLRenderer",e);var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,o=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,h=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=null,p=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=tt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,g,y,x,b,_,w,M,E,T,S,A,R,L,C,P,O,I,N=this,D=!1,U=null,B=null,F=null,z=-1,G="",H=null,V=null,k=new Ve,j=new Ve,W=null,X=0,q=r.width,Y=r.height,J=1,Z=new Ve(0,0,q,Y),Q=new Ve(0,0,q,Y),K=!1,$=new Je,et=new Yi,rt=!1,nt=!1,it=new Ue,ot=new Fe;function at(){return null===B?J:1}try{var st={alpha:i,depth:o,stencil:a,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:l};if(r.addEventListener("webglcontextlost",ut,!1),r.addEventListener("webglcontextrestored",pt,!1),null===(f=n||r.getContext("webgl",st)||r.getContext("experimental-webgl",st)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function ct(){(m=new Ji(f)).get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_float_linear"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays"),I=new Ra(f,m),g=new qi(f,m,t),(y=new Sa(f,m,I)).scissor(j.copy(Q).multiplyScalar(J)),y.viewport(k.copy(Z).multiplyScalar(J)),x=new Ki(f),b=new ua,_=new Aa(f,m,y,b,g,I,x),w=new hi(f),M=new Zi(f,w,x),E=new eo(M,x),L=new to(f),T=new la(N,m,g),S=new ma,A=new ba,R=new Wi(N,y,E,c),C=new Xi(f,m,x),P=new Qi(f,m,x),O=new Ta(N,f,y,_,g),x.programs=T.programs,N.context=f,N.capabilities=g,N.extensions=m,N.properties=b,N.renderLists=S,N.state=y,N.info=x}ct();var ht="xr"in navigator?new Ia(N):new Oa(N);this.vr=ht;var lt=new Ma(N,E,g.maxTextureSize);function ut(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1,ct()}function dt(t){var e=t.target;e.removeEventListener("dispose",dt),function(t){ft(t),b.remove(t)}(e)}function ft(t){var e=b.get(t).program;t.program=void 0,void 0!==e&&T.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(t){void 0!==t&&(J=t,this.setSize(q,Y,!1))},this.getSize=function(){return{width:q,height:Y}},this.setSize=function(t,e,n){ht.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=t,Y=e,r.width=t*J,r.height=e*J,!1!==n&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:q*J,height:Y*J}},this.setDrawingBufferSize=function(t,e,n){q=t,Y=e,J=n,r.width=t*n,r.height=e*n,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return k},this.setViewport=function(t,e,r,n){Z.set(t,Y-e-n,r,n),y.viewport(k.copy(Z).multiplyScalar(J))},this.setScissor=function(t,e,r,n){Q.set(t,Y-e-n,r,n),y.scissor(j.copy(Q).multiplyScalar(J))},this.setScissorTest=function(t){y.setScissorTest(K=t)},this.getClearColor=function(){return R.getClearColor()},this.setClearColor=function(){R.setClearColor.apply(R,arguments)},this.getClearAlpha=function(){return R.getClearAlpha()},this.setClearAlpha=function(){R.setClearAlpha.apply(R,arguments)},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=f.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=f.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=f.STENCIL_BUFFER_BIT),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.dispose=function(){r.removeEventListener("webglcontextlost",ut,!1),r.removeEventListener("webglcontextrestored",pt,!1),S.dispose(),A.dispose(),b.dispose(),E.dispose(),ht.dispose(),vt.stop()},this.renderBufferImmediate=function(t,e,r){y.initAttributes();var n=b.get(t);t.hasPositions&&!n.position&&(n.position=f.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),t.hasColors&&!n.color&&(n.color=f.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(f.bindBuffer(f.ARRAY_BUFFER,n.position),f.bufferData(f.ARRAY_BUFFER,t.positionArray,f.DYNAMIC_DRAW),y.enableAttribute(i.position),f.vertexAttribPointer(i.position,3,f.FLOAT,!1,0,0)),t.hasNormals){if(f.bindBuffer(f.ARRAY_BUFFER,n.normal),!r.isMeshPhongMaterial&&!r.isMeshStandardMaterial&&!r.isMeshNormalMaterial&&!0===r.flatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,h=(s[o+1]+s[o+4]+s[o+7])/3,l=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=h,s[o+2]=l,s[o+3]=c,s[o+4]=h,s[o+5]=l,s[o+6]=c,s[o+7]=h,s[o+8]=l}f.bufferData(f.ARRAY_BUFFER,t.normalArray,f.DYNAMIC_DRAW),y.enableAttribute(i.normal),f.vertexAttribPointer(i.normal,3,f.FLOAT,!1,0,0)}t.hasUvs&&r.map&&(f.bindBuffer(f.ARRAY_BUFFER,n.uv),f.bufferData(f.ARRAY_BUFFER,t.uvArray,f.DYNAMIC_DRAW),y.enableAttribute(i.uv),f.vertexAttribPointer(i.uv,2,f.FLOAT,!1,0,0)),t.hasColors&&r.vertexColors!==v&&(f.bindBuffer(f.ARRAY_BUFFER,n.color),f.bufferData(f.ARRAY_BUFFER,t.colorArray,f.DYNAMIC_DRAW),y.enableAttribute(i.color),f.vertexAttribPointer(i.color,3,f.FLOAT,!1,0,0)),y.disableUnusedAttributes(),f.drawArrays(f.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,n,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0;y.setMaterial(n,a);var s=wt(t,e,n,i),c=r.id+"_"+s.id+"_"+(!0===n.wireframe),h=!1;c!==G&&(G=c,h=!0),i.morphTargetInfluences&&(L.update(i,r,n,s),h=!0);var l,u=r.index,p=r.attributes.position,d=1;!0===n.wireframe&&(u=M.getWireframeAttribute(r),d=2);var g=C;null!==u&&(l=w.get(u),(g=P).setIndex(l)),h&&(!function(t,e,r){if(r&&r.isInstancedBufferGeometry&&null===m.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");y.initAttributes();var n=r.attributes,i=e.getAttributes(),o=t.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var c=n[a];if(void 0!==c){var h=c.normalized,l=c.itemSize,u=w.get(c);if(void 0===u)continue;var p=u.buffer,d=u.type,g=u.bytesPerElement;if(c.isInterleavedBufferAttribute){var v=c.data,x=v.stride,b=c.offset;v&&v.isInstancedInterleavedBuffer?(y.enableAttributeAndDivisor(s,v.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=v.meshPerAttribute*v.count)):y.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,x*g,b*g)}else c.isInstancedBufferAttribute?(y.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=c.meshPerAttribute*c.count)):y.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,0,0)}else if(void 0!==o){var _=o[a];if(void 0!==_)switch(_.length){case 2:f.vertexAttrib2fv(s,_);break;case 3:f.vertexAttrib3fv(s,_);break;case 4:f.vertexAttrib4fv(s,_);break;default:f.vertexAttrib1fv(s,_)}}}}y.disableUnusedAttributes()}(n,s,r),null!==u&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l.buffer));var v=1/0;null!==u?v=u.count:void 0!==p&&(v=p.count);var x=r.drawRange.start*d,b=r.drawRange.count*d,_=null!==o?o.start*d:0,E=null!==o?o.count*d:1/0,T=Math.max(x,_),S=Math.min(v,x+b,_+E)-1,A=Math.max(0,S-T+1);if(0!==A){if(i.isMesh)if(!0===n.wireframe)y.setLineWidth(n.wireframeLinewidth*at()),g.setMode(f.LINES);else switch(i.drawMode){case xe:g.setMode(f.TRIANGLES);break;case be:g.setMode(f.TRIANGLE_STRIP);break;case _e:g.setMode(f.TRIANGLE_FAN)}else if(i.isLine){var R=n.linewidth;void 0===R&&(R=1),y.setLineWidth(R*at()),i.isLineSegments?g.setMode(f.LINES):i.isLineLoop?g.setMode(f.LINE_LOOP):g.setMode(f.LINE_STRIP)}else i.isPoints&&g.setMode(f.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&g.renderInstances(r,T,A):g.render(T,A)}},this.compile=function(t,e){(p=A.get(t,e)).init(),t.traverse(function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))}),p.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var r=0;r<e.material.length;r++)bt(e.material[r],t.fog,e);else bt(e.material,t.fog,e)})};var mt=null;var gt,vt=new ci;function yt(t,e,r,n){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,h=void 0===n?a.material:n,l=a.group;if(r.isArrayCamera){V=r;for(var u=r.cameras,p=0,d=u.length;p<d;p++){var f=u[p];if(s.layers.test(f.layers)){if("viewport"in f)y.viewport(k.copy(f.viewport));else{var m=f.bounds,g=m.x*q,v=m.y*Y,x=m.z*q,b=m.w*Y;y.viewport(k.set(g,v,x,b).multiplyScalar(J))}xt(s,e,f,c,h,l)}}}else V=null,xt(s,e,r,c,h,l)}}function xt(t,e,r,n,i,o){if(t.onBeforeRender(N,e,r,n,i,o),p=A.get(e,V||r),t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var a=t.isMesh&&t.matrixWorld.determinant()<0;y.setMaterial(i,a);var s=wt(r,e.fog,i,t);G="",function(t,e,r){t.render(function(t){N.renderBufferImmediate(t,e,r)})}(t,s,i)}else N.renderBufferDirect(r,e.fog,n,i,t,o);t.onAfterRender(N,e,r,n,i,o),p=A.get(e,V||r)}function bt(t,e,r){var n=b.get(t),i=p.state.lights,o=p.state.shadowsArray,a=T.getParameters(t,i.state,o,e,et.numPlanes,et.numIntersection,r),s=T.getProgramCode(t,a),c=n.program,h=!0;if(void 0===c)t.addEventListener("dispose",dt);else if(c.code!==s)ft(t);else if(n.lightsHash!==i.state.hash)b.update(t,"lightsHash",i.state.hash),h=!1;else{if(void 0!==a.shaderID)return;h=!1}if(h){if(a.shaderID){var l=si[a.shaderID];n.shader={name:t.type,uniforms:ni.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,N),c=T.acquireProgram(t,n.shader,a,s),n.program=c,t.program=c}var u=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var d=0;d<N.maxMorphTargets;d++)u["morphTarget"+d]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(d=0;d<N.maxMorphNormals;d++)u["morphNormal"+d]>=0&&t.numSupportedMorphNormals++}var f=n.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=et.numPlanes,n.numIntersection=et.numIntersection,f.clippingPlanes=et.uniform),n.fog=e,n.lightsHash=i.state.hash,t.lights&&(f.ambientLightColor.value=i.state.ambient,f.directionalLights.value=i.state.directional,f.spotLights.value=i.state.spot,f.rectAreaLights.value=i.state.rectArea,f.pointLights.value=i.state.point,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=n.program.getUniforms(),g=qo.seqWithValue(m.seq,f);n.uniformsList=g}function wt(t,e,r,n){X=0;var i=b.get(r),o=p.state.lights;if(rt&&(nt||t!==H)){var a=t===H&&r.id===z;et.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,t,i,a)}!1===r.needsUpdate&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==e?r.needsUpdate=!0:r.lights&&i.lightsHash!==o.state.hash?r.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===et.numPlanes&&i.numIntersection===et.numIntersection||(r.needsUpdate=!0)),r.needsUpdate&&(bt(r,e,n),r.needsUpdate=!1);var s,c,h=!1,l=!1,u=!1,m=i.program,v=m.getUniforms(),x=i.shader.uniforms;if(y.useProgram(m.program)&&(h=!0,l=!0,u=!0),r.id!==z&&(z=r.id,l=!0),h||t!==H){if(v.setValue(f,"projectionMatrix",t.projectionMatrix),g.logarithmicDepthBuffer&&v.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),H!==(V||t)&&(H=V||t,l=!0,u=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var _=v.map.cameraPosition;void 0!==_&&_.setValue(f,ot.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&v.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(r.skinning){v.setOptional(f,n,"bindMatrix"),v.setOptional(f,n,"bindMatrixInverse");var w=n.skeleton;if(w){var M=w.bones;if(g.floatVertexTextures){if(void 0===w.boneTexture){var E=Math.sqrt(4*M.length);E=Ne.ceilPowerOfTwo(E),E=Math.max(E,4);var T=new Float32Array(E*E*4);T.set(w.boneMatrices);var S=new We(T,E,E,Dt,At);S.needsUpdate=!0,w.boneMatrices=T,w.boneTexture=S,w.boneTextureSize=E}v.setValue(f,"boneTexture",w.boneTexture),v.setValue(f,"boneTextureSize",w.boneTextureSize)}else v.setOptional(f,w,"boneMatrices")}}return l&&(v.setValue(f,"toneMappingExposure",N.toneMappingExposure),v.setValue(f,"toneMappingWhitePoint",N.toneMappingWhitePoint),r.lights&&(c=u,(s=x).ambientLightColor.needsUpdate=c,s.directionalLights.needsUpdate=c,s.pointLights.needsUpdate=c,s.spotLights.needsUpdate=c,s.rectAreaLights.needsUpdate=c,s.hemisphereLights.needsUpdate=c),e&&r.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(x,e),r.isMeshBasicMaterial?Mt(x,r):r.isMeshLambertMaterial?(Mt(x,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(x,r)):r.isMeshPhongMaterial?(Mt(x,r),r.isMeshToonMaterial?function(t,e){Et(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(x,r):Et(x,r)):r.isMeshStandardMaterial?(Mt(x,r),r.isMeshPhysicalMaterial?function(t,e){Tt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(x,r):Tt(x,r)):r.isMeshDepthMaterial?(Mt(x,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,r)):r.isMeshDistanceMaterial?(Mt(x,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(x,r)):r.isMeshNormalMaterial?(Mt(x,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(x,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(x,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(x,r)):r.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*J,t.scale.value=.5*Y,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(x,r):r.isShadowMaterial&&(x.color.value=r.color,x.opacity.value=r.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=ai.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=ai.LTC_2),qo.upload(f,i.uniformsList,x,N)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(qo.upload(f,i.uniformsList,x,N),r.uniformsNeedUpdate=!1),v.setValue(f,"modelViewMatrix",n.modelViewMatrix),v.setValue(f,"normalMatrix",n.normalMatrix),v.setValue(f,"modelMatrix",n.matrixWorld),m}function Mt(t,e){var r;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=b.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?r=e.map:e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.roughnessMap?r=e.roughnessMap:e.metalnessMap?r=e.metalnessMap:e.alphaMap?r=e.alphaMap:e.emissiveMap&&(r=e.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}function Et(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Tt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}vt.setAnimationLoop(function(t){ht.isPresenting()||mt&&mt(t)}),"undefined"!=typeof window&&vt.setContext(window),this.setAnimationLoop=function(t){mt=t,ht.setAnimationLoop(t),vt.start()},this.render=function(t,e,r,n){if(e&&e.isCamera){if(!D){G="",z=-1,H=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ht.enabled&&(e=ht.getCamera(e)),(p=A.get(t,e)).init(),t.onBeforeRender(N,t,e,r),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),$.setFromMatrix(it),nt=this.localClippingEnabled,rt=et.init(this.clippingPlanes,nt,e),(u=S.get(t,e)).init(),function t(e,r,n){if(!1===e.visible)return;var i=e.layers.test(r.layers);if(i)if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite)e.frustumCulled&&!$.intersectsSprite(e)||p.pushSprite(e);else if(e.isImmediateRenderObject)n&&ot.setFromMatrixPosition(e.matrixWorld).applyMatrix4(it),u.push(e,null,e.material,ot.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||$.intersectsObject(e))){n&&ot.setFromMatrixPosition(e.matrixWorld).applyMatrix4(it);var o=E.update(e),a=e.material;if(Array.isArray(a))for(var s=o.groups,c=0,h=s.length;c<h;c++){var l=s[c],d=a[l.materialIndex];d&&d.visible&&u.push(e,o,d,ot.z,l)}else a.visible&&u.push(e,o,a,ot.z,null)}var f=e.children;for(var c=0,h=f.length;c<h;c++)t(f[c],r,n)}(t,e,N.sortObjects),!0===N.sortObjects&&u.sort(),rt&&et.beginShadows();var i=p.state.shadowsArray;lt.render(i,t,e),p.setupLights(e),rt&&et.endShadows(),this.info.autoReset&&this.info.reset(),void 0===r&&(r=null),this.setRenderTarget(r),R.render(u,t,e,n);var o=u.opaque,a=u.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&yt(o,t,e,s),a.length&&yt(a,t,e,s)}else o.length&&yt(o,t,e),a.length&&yt(a,t,e);var c=p.state.spritesArray;O.render(c,t,e),r&&_.updateRenderTargetMipmap(r),y.buffers.depth.setTest(!0),y.buffers.depth.setMask(!0),y.buffers.color.setMask(!0),y.setPolygonOffset(!1),t.onAfterRender(N,t,e),ht.enabled&&ht.submitFrame(),u=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=X;return t>=g.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+g.maxTextures),X+=1,t},this.setTexture2D=(gt=!1,function(t,e){t&&t.isWebGLRenderTarget&&(gt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),gt=!0),t=t.texture),_.setTexture2D(t,e)}),this.setTexture=function(){var t=!1;return function(e,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),_.setTexture2D(e,r)}}(),this.setTextureCube=function(){var t=!1;return function(e,r){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?_.setTextureCube(e,r):_.setTextureCubeDynamic(e,r)}}(),this.setFramebuffer=function(t){U=t},this.getRenderTarget=function(){return B},this.setRenderTarget=function(t){B=t,t&&void 0===b.get(t).__webglFramebuffer&&_.setupRenderTarget(t);var e=U,r=!1;if(t){var n=b.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=n[t.activeCubeFace],r=!0):e=n,k.copy(t.viewport),j.copy(t.scissor),W=t.scissorTest}else k.copy(Z).multiplyScalar(J),j.copy(Q).multiplyScalar(J),W=K;if(F!==e&&(f.bindFramebuffer(f.FRAMEBUFFER,e),F=e),y.viewport(k),y.scissor(j),y.setScissorTest(W),r){var i=b.get(t.texture);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,r,n,i,o){if(t&&t.isWebGLRenderTarget){var a=b.get(t).__webglFramebuffer;if(a){var s=!1;a!==F&&(f.bindFramebuffer(f.FRAMEBUFFER,a),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==Dt&&I.convert(h)!==f.getParameter(f.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===_t||I.convert(l)===f.getParameter(f.IMPLEMENTATION_COLOR_READ_TYPE)||l===At&&(m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||l===Rt&&m.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&r>=0&&r<=t.height-i&&f.readPixels(e,r,n,i,I.convert(h),I.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(f.FRAMEBUFFER,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,r){var n=e.image.width,i=e.image.height,o=I.convert(e.format);this.setTexture2D(e,0),f.copyTexImage2D(f.TEXTURE_2D,r||0,o,t.x,t.y,n,i,0)},this.copyTextureToTexture=function(t,e,r,n){var i=e.image.width,o=e.image.height,a=I.convert(r.format),s=I.convert(r.type);this.setTexture2D(r,0),e.isDataTexture?f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,i,o,a,s,e.image.data):f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,a,s,e.image)}}function Da(t,e){this.name="",this.color=new oi(t),this.density=void 0!==e?e:25e-5}function Ua(t,e,r){this.name="",this.color=new oi(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3}function Ba(){di.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Fa(t){Fi.call(this),this.type="SpriteMaterial",this.color=new oi(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function za(t){di.call(this),this.type="Sprite",this.material=void 0!==t?t:new Fa,this.center=new De(.5,.5)}function Ga(){di.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Ha(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Ue)}}function Va(){di.call(this),this.type="Bone"}function ka(t,e){ji.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ue,this.bindMatrixInverse=new Ue;var r=new Ha(this.initBones());this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function ja(t){Fi.call(this),this.type="LineBasicMaterial",this.color=new oi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Wa(t,e,r){if(1===r)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Xa(t,e);di.call(this),this.type="Line",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new ja({color:16777215*Math.random()})}function Xa(t,e){Wa.call(this,t,e),this.type="LineSegments"}function qa(t,e){Wa.call(this,t,e),this.type="LineLoop"}function Ya(t){Fi.call(this),this.type="PointsMaterial",this.color=new oi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Ja(t,e){di.call(this),this.type="Points",this.geometry=void 0!==t?t:new Oi,this.material=void 0!==e?e:new Ya({color:16777215*Math.random()})}function Za(t,e,r,n,i,o,a,s,c){He.call(this,t,e,r,n,i,o,a,s,c),this.generateMipmaps=!1}function Qa(t,e,r,n,i,o,a,s,c,h,l,u){He.call(this,null,o,a,s,c,h,n,i,l,u),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ka(t,e,r,n,i,o,a,s,c,h){if((h=void 0!==h?h:zt)!==zt&&h!==Gt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&h===zt&&(r=Et),void 0===r&&h===Gt&&(r=Ot),He.call(this,null,n,i,o,a,s,h,r,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:mt,this.minFilter=void 0!==s?s:mt,this.flipY=!1,this.generateMipmaps=!1}function $a(t){Oi.call(this),this.type="WireframeGeometry";var e,r,n,i,o,a,s,c,h,l,u=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,n=m.length;e<n;e++){var g=m[e];for(r=0;r<3;r++)s=g[f[r]],c=g[f[(r+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]})}for(h in d)a=d[h],l=t.vertices[a.index1],u.push(l.x,l.y,l.z),l=t.vertices[a.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,x,b,_,w,M;if(l=new Fe,null!==t.index){for(v=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),i=0,o=x.length;i<o;++i)for(e=_=(b=x[i]).start,n=_+b.count;e<n;e+=3)for(r=0;r<3;r++)s=y.getX(e+r),c=y.getX(e+(r+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]});for(h in d)a=d[h],l.fromBufferAttribute(v,a.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),u.push(l.x,l.y,l.z)}else for(e=0,n=(v=t.attributes.position).count/3;e<n;e++)for(r=0;r<3;r++)w=3*e+r,l.fromBufferAttribute(v,w),u.push(l.x,l.y,l.z),M=3*e+(r+1)%3,l.fromBufferAttribute(v,M),u.push(l.x,l.y,l.z)}this.addAttribute("position",new Ai(u,3))}function ts(t,e,r){yi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r},this.fromBufferGeometry(new es(t,e,r)),this.mergeVertices()}function es(t,e,r){Oi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:r};var n,i,o=[],a=[],s=[],c=[],h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=new Fe;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=e;i++){var g=i/e;t(g,m,l),a.push(l.x,l.y,l.z),g-1e-5>=0?(t(g-1e-5,m,u),p.subVectors(l,u)):(t(g+1e-5,m,u),p.subVectors(u,l)),m-1e-5>=0?(t(g,m-1e-5,u),d.subVectors(l,u)):(t(g,m+1e-5,u),d.subVectors(u,l)),h.crossVectors(p,d).normalize(),s.push(h.x,h.y,h.z),c.push(g,m)}}for(n=0;n<r;n++)for(i=0;i<e;i++){var v=n*f+i,y=n*f+i+1,x=(n+1)*f+i+1,b=(n+1)*f+i;o.push(v,y,b),o.push(y,x,b)}this.setIndex(o),this.addAttribute("position",new Ai(a,3)),this.addAttribute("normal",new Ai(s,3)),this.addAttribute("uv",new Ai(c,2))}function rs(t,e,r,n){yi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},this.fromBufferGeometry(new ns(t,e,r,n)),this.mergeVertices()}function ns(t,e,r,n){Oi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},r=r||1;var i=[],o=[];function a(t,e,r,n){var i,o,a=Math.pow(2,n),c=[];for(i=0;i<=a;i++){c[i]=[];var h=t.clone().lerp(r,i/a),l=e.clone().lerp(r,i/a),u=a-i;for(o=0;o<=u;o++)c[i][o]=0===o&&i===a?h:h.clone().lerp(l,o/u)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var p=Math.floor(o/2);o%2==0?(s(c[i][p+1]),s(c[i+1][p]),s(c[i][p])):(s(c[i][p+1]),s(c[i+1][p+1]),s(c[i+1][p]))}}function s(t){i.push(t.x,t.y,t.z)}function c(e,r){var n=3*e;r.x=t[n+0],r.y=t[n+1],r.z=t[n+2]}function h(t,e,r,n){n<0&&1===t.x&&(o[e]=t.x-1),0===r.x&&0===r.z&&(o[e]=n/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}!function(t){for(var r=new Fe,n=new Fe,i=new Fe,o=0;o<e.length;o+=3)c(e[o+0],r),c(e[o+1],n),c(e[o+2],i),a(r,n,i,t)}(n=n||0),function(t){for(var e=new Fe,r=0;r<i.length;r+=3)e.x=i[r+0],e.y=i[r+1],e.z=i[r+2],e.normalize().multiplyScalar(t),i[r+0]=e.x,i[r+1]=e.y,i[r+2]=e.z}(r),function(){for(var t=new Fe,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var r=l(t)/2/Math.PI+.5,n=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(r,1-n)}var a;(function(){for(var t=new Fe,e=new Fe,r=new Fe,n=new Fe,a=new De,s=new De,c=new De,u=0,p=0;u<i.length;u+=9,p+=6){t.set(i[u+0],i[u+1],i[u+2]),e.set(i[u+3],i[u+4],i[u+5]),r.set(i[u+6],i[u+7],i[u+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),c.set(o[p+4],o[p+5]),n.copy(t).add(e).add(r).divideScalar(3);var d=l(n);h(a,p+0,t,d),h(s,p+2,e,d),h(c,p+4,r,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],r=o[t+2],n=o[t+4],i=Math.max(e,r,n),a=Math.min(e,r,n);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),r<.2&&(o[t+2]+=1),n<.2&&(o[t+4]+=1))}}()}(),this.addAttribute("position",new Ai(i,3)),this.addAttribute("normal",new Ai(i.slice(),3)),this.addAttribute("uv",new Ai(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function is(t,e){yi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new os(t,e)),this.mergeVertices()}function os(t,e){ns.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function as(t,e){yi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ss(t,e)),this.mergeVertices()}function ss(t,e){ns.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function cs(t,e){yi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new hs(t,e)),this.mergeVertices()}function hs(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];ns.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ls(t,e){yi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new us(t,e)),this.mergeVertices()}function us(t,e){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];ns.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ps(t,e,r,n,i,o){yi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new ds(t,e,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function ds(t,e,r,n,i){Oi.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},e=e||64,r=r||1,n=n||8,i=i||!1;var o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new Fe,h=new Fe,l=new De,u=new Fe,p=[],d=[],f=[],m=[];function g(i){u=t.getPointAt(i/e,u);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);h.x=g*a.x+m*l.x,h.y=g*a.y+m*l.y,h.z=g*a.z+m*l.z,h.normalize(),d.push(h.x,h.y,h.z),c.x=u.x+r*h.x,c.y=u.y+r*h.y,c.z=u.z+r*h.z,p.push(c.x,c.y,c.z)}}!function(){for(a=0;a<e;a++)g(a);g(!1===i?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=n;s++)l.x=a/e,l.y=s/n,f.push(l.x,l.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=n;a++){var t=(n+1)*(s-1)+(a-1),r=(n+1)*s+(a-1),i=(n+1)*s+a,o=(n+1)*(s-1)+a;m.push(t,r,o),m.push(r,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Ai(p,3)),this.addAttribute("normal",new Ai(d,3)),this.addAttribute("uv",new Ai(f,2))}function fs(t,e,r,n,i,o,a){yi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ms(t,e,r,n,i,o)),this.mergeVertices()}function ms(t,e,r,n,i,o){Oi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},t=t||1,e=e||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var a,s,c=[],h=[],l=[],u=[],p=new Fe,d=new Fe,f=new Fe,m=new Fe,g=new Fe,v=new Fe,y=new Fe;for(a=0;a<=r;++a){var x=a/r*i*Math.PI*2;for(A(x,i,o,t,f),A(x+.01,i,o,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var b=s/n*Math.PI*2,_=-e*Math.cos(b),w=e*Math.sin(b);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),h.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),l.push(d.x,d.y,d.z),u.push(a/r),u.push(s/n)}}for(s=1;s<=r;s++)for(a=1;a<=n;a++){var M=(n+1)*(s-1)+(a-1),E=(n+1)*s+(a-1),T=(n+1)*s+a,S=(n+1)*(s-1)+a;c.push(M,E,S),c.push(E,T,S)}function A(t,e,r,n,i){var o=Math.cos(t),a=Math.sin(t),s=r/e*t,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Ai(h,3)),this.addAttribute("normal",new Ai(l,3)),this.addAttribute("uv",new Ai(u,2))}function gs(t,e,r,n,i){yi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new vs(t,e,r,n,i)),this.mergeVertices()}function vs(t,e,r,n,i){Oi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},t=t||1,e=e||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],c=[],h=[],l=[],u=new Fe,p=new Fe,d=new Fe;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var f=a/n*i,m=o/r*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(p,u).normalize(),h.push(d.x,d.y,d.z),l.push(a/n),l.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var g=(n+1)*o+a-1,v=(n+1)*(o-1)+a-1,y=(n+1)*(o-1)+a,x=(n+1)*o+a;s.push(g,v,x),s.push(v,y,x)}this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("normal",new Ai(h,3)),this.addAttribute("uv",new Ai(l,2))}_a.prototype=Object.create(Fi.prototype),_a.prototype.constructor=_a,_a.prototype.isMeshDepthMaterial=!0,_a.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},wa.prototype=Object.create(Fi.prototype),wa.prototype.constructor=wa,wa.prototype.isMeshDistanceMaterial=!0,wa.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Ea.prototype=Object.create(He.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isCanvasTexture=!0,La.prototype=Object.assign(Object.create(di.prototype),{constructor:La,isGroup:!0}),Ca.prototype=Object.assign(Object.create(fi.prototype),{constructor:Ca,isPerspectiveCamera:!0,copy:function(t,e){return fi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ne.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ne.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ne.RAD2DEG*Math.atan(Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,r,n,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom,r=2*e,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,e-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,e,e-r,t,this.far)},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Pa.prototype=Object.assign(Object.create(Ca.prototype),{constructor:Pa,isArrayCamera:!0}),Da.prototype.isFogExp2=!0,Da.prototype.clone=function(){return new Da(this.color,this.density)},Da.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Ua.prototype.isFog=!0,Ua.prototype.clone=function(){return new Ua(this.color,this.near,this.far)},Ua.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Ba.prototype=Object.assign(Object.create(di.prototype),{constructor:Ba,copy:function(t,e){return di.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Fa.prototype=Object.create(Fi.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isSpriteMaterial=!0,Fa.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},za.prototype=Object.assign(Object.create(di.prototype),{constructor:za,isSprite:!0,raycast:function(){var t=new Fe,e=new Fe,r=new Fe,n=new De,i=new De,o=new Ue,a=new Fe,s=new Fe,c=new Fe;function h(t,e,r,a,s,c){n.subVectors(t,r).addScalar(.5).multiply(a),void 0!==s?(i.x=c*n.x-s*n.y,i.y=s*n.x+c*n.y):i.copy(n),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(o)}return function(n,i){e.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),r.setFromMatrixPosition(this.modelViewMatrix);var l,u,p=this.material.rotation;0!==p&&(u=Math.cos(p),l=Math.sin(p));var d=this.center;h(a.set(-.5,-.5,0),r,d,e,l,u),h(s.set(.5,-.5,0),r,d,e,l,u),h(c.set(.5,.5,0),r,d,e,l,u);var f=n.ray.intersectTriangle(a,s,c,!1,t);if(null!==f||(h(s.set(-.5,.5,0),r,d,e,l,u),null!==(f=n.ray.intersectTriangle(a,c,s,!1,t)))){var m=n.ray.origin.distanceTo(t);m<n.near||m>n.far||i.push({distance:m,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return di.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Ga.prototype=Object.assign(Object.create(di.prototype),{constructor:Ga,copy:function(t){di.prototype.copy.call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var i=e[r];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=this.levels,n=0;n<r.length&&!(e<r[n].distance);n++);r.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,r=1,n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object},raycast:function(){var t=new Fe;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,r)}}(),update:function(){var t=new Fe,e=new Fe;return function(r){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),toJSON:function(t){var e=di.prototype.toJSON.call(this,t);e.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(Ha.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new Ue;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},pose:function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Ue,e=new Ue;return function(){for(var r=this.bones,n=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=r.length;a<s;a++){var c=r[a]?r[a].matrixWorld:e;t.multiplyMatrices(c,n[a]),t.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new Ha(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e];if(n.name===t)return n}}}),Va.prototype=Object.assign(Object.create(di.prototype),{constructor:Va,isBone:!0}),ka.prototype=Object.assign(Object.create(ji.prototype),{constructor:ka,isSkinnedMesh:!0,initBones:function(){var t,e,r,n,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,n=this.geometry.bones.length;r<n;r++)e=this.geometry.bones[r],t=new Va,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,n=this.geometry.bones.length;r<n;r++)-1!==(e=this.geometry.bones[r]).parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[r]):this.add(i[r])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var r=this.geometry.skinWeights[e];(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new Ve,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)n.x=i.getX(e),n.y=i.getY(e),n.z=i.getZ(e),n.w=i.getW(e),(t=1/n.manhattanLength())!==1/0?n.multiplyScalar(t):n.set(1,0,0,0),i.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){ji.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ja.prototype=Object.create(Fi.prototype),ja.prototype.constructor=ja,ja.prototype.isLineBasicMaterial=!0,ja.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Wa.prototype=Object.assign(Object.create(di.prototype),{constructor:Wa,isLine:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[0],o=1,a=n.count;o<a;o++)t.fromBufferAttribute(n,o-1),e.fromBufferAttribute(n,o),i[o]=i[o-1],i[o]+=t.distanceTo(e);r.addAttribute("lineDistance",new Ai(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;(i=r.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var t=new Ue,e=new Hi,r=new qe;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(c),!1!==n.ray.intersectsSphere(r)){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var g=f.array,v=0,y=g.length-1;v<y;v+=d){var x=g[v],b=g[v+1];if(h.fromArray(m,3*x),l.fromArray(m,3*b),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(v=0,y=m.length/3-1;v<y;v+=d){if(h.fromArray(m,3*v),l.fromArray(m,3*v+3),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var _=s.vertices,w=_.length;for(v=0;v<w-1;v+=d){var M;if(!(e.distanceSqToSegment(_[v],_[v+1],p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Xa.prototype=Object.assign(Object.create(Wa.prototype),{constructor:Xa,isLineSegments:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[],o=0,a=n.count;o<a;o+=2)t.fromBufferAttribute(n,o),e.fromBufferAttribute(n,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e);r.addAttribute("lineDistance",new Ai(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;for(i=r.lineDistances,o=0,a=s.length;o<a;o+=2)t.copy(s[o]),e.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e)}return this}}()}),qa.prototype=Object.assign(Object.create(Wa.prototype),{constructor:qa,isLineLoop:!0}),Ya.prototype=Object.create(Fi.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isPointsMaterial=!0,Ya.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Ja.prototype=Object.assign(Object.create(di.prototype),{constructor:Ja,isPoints:!0,raycast:function(){var t=new Ue,e=new Hi,r=new qe;return function(n,i){var o=this,a=this.geometry,s=this.matrixWorld,c=n.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),r.copy(a.boundingSphere),r.applyMatrix4(s),r.radius+=c,!1!==n.ray.intersectsSphere(r)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),l=h*h,u=new Fe,p=new Fe;if(a.isBufferGeometry){var d=a.index,f=a.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];u.fromArray(f,3*y),_(u,y)}else{g=0;for(var x=f.length/3;g<x;g++)u.fromArray(f,3*g),_(u,g)}}else{var b=a.vertices;for(g=0,x=b.length;g<x;g++)_(b[g],g)}}function _(t,r){var a=e.distanceSqToPoint(t);if(a<l){e.closestPointToPoint(t,p),p.applyMatrix4(s);var c=n.ray.origin.distanceTo(p);if(c<n.near||c>n.far)return;i.push({distance:c,distanceToRay:Math.sqrt(a),point:p.clone(),index:r,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Za.prototype=Object.assign(Object.create(He.prototype),{constructor:Za,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Qa.prototype=Object.create(He.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isCompressedTexture=!0,Ka.prototype=Object.create(He.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isDepthTexture=!0,$a.prototype=Object.create(Oi.prototype),$a.prototype.constructor=$a,ts.prototype=Object.create(yi.prototype),ts.prototype.constructor=ts,es.prototype=Object.create(Oi.prototype),es.prototype.constructor=es,rs.prototype=Object.create(yi.prototype),rs.prototype.constructor=rs,ns.prototype=Object.create(Oi.prototype),ns.prototype.constructor=ns,is.prototype=Object.create(yi.prototype),is.prototype.constructor=is,os.prototype=Object.create(ns.prototype),os.prototype.constructor=os,as.prototype=Object.create(yi.prototype),as.prototype.constructor=as,ss.prototype=Object.create(ns.prototype),ss.prototype.constructor=ss,cs.prototype=Object.create(yi.prototype),cs.prototype.constructor=cs,hs.prototype=Object.create(ns.prototype),hs.prototype.constructor=hs,ls.prototype=Object.create(yi.prototype),ls.prototype.constructor=ls,us.prototype=Object.create(ns.prototype),us.prototype.constructor=us,ps.prototype=Object.create(yi.prototype),ps.prototype.constructor=ps,ds.prototype=Object.create(Oi.prototype),ds.prototype.constructor=ds,fs.prototype=Object.create(yi.prototype),fs.prototype.constructor=fs,ms.prototype=Object.create(Oi.prototype),ms.prototype.constructor=ms,gs.prototype=Object.create(yi.prototype),gs.prototype.constructor=gs,vs.prototype=Object.create(Oi.prototype),vs.prototype.constructor=vs;var ys={triangulate:function(t,e,r){r=r||2;var n,i,o,a,s,c,h,l=e&&e.length,u=l?e[0]*r:t.length,p=xs(t,0,u,r,!0),d=[];if(!p)return d;if(l&&(p=Ss(t,e,p,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var f=r;f<u;f+=r)(s=t[f])<n&&(n=s),(c=t[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);h=0!==(h=Math.max(o-n,a-i))?1/h:0}return _s(p,d,r,n,i,h),d}};function xs(t,e,r,n,i){var o,a;if(i===Xs(t,e,r,n)>0)for(o=e;o<r;o+=n)a=ks(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=ks(o,t[o],t[o+1],a);return a&&Bs(a,a.next)&&(js(a),a=a.next),a}function bs(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Bs(n,n.next)&&0!==Us(n.prev,n,n.next))n=n.next;else{if(js(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function _s(t,e,r,n,i,o,a){if(t){!a&&o&&Cs(t,n,i,o);for(var s,c,h=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?Ms(t,n,i,o):ws(t))e.push(s.i/r),e.push(t.i/r),e.push(c.i/r),js(t),t=c.next,h=c.next;else if((t=c)===h){a?1===a?_s(t=Es(t,e,r),e,r,n,i,o,2):2===a&&Ts(t,e,r,n,i,o):_s(bs(t),e,r,n,i,o,1);break}}}function ws(t){var e=t.prev,r=t,n=t.next;if(Us(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ns(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Us(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ms(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Us(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Os(s,c,e,r,n),p=Os(h,l,e,r,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&Ns(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Us(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=u;){if(d!==t.prev&&d!==t.next&&Ns(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Us(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Es(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Bs(i,o)&&Fs(i,n,n.next,o)&&Gs(i,o)&&Gs(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),js(n),js(n.next),n=t=o),n=n.next}while(n!==t);return n}function Ts(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ds(a,s)){var c=Vs(a,s);return a=bs(a,a.next),c=bs(c,c.next),_s(a,e,r,n,i,o),void _s(c,e,r,n,i,o)}s=s.next}a=a.next}while(a!==t)}function Ss(t,e,r,n){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=xs(t,e[i]*n,i<o-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),s.push(Is(a));for(s.sort(As),i=0;i<s.length;i++)Rs(s[i],r),r=bs(r,r.next);return r}function As(t,e){return t.x-e.x}function Rs(t,e){if(e=Ls(t,e)){var r=Vs(e,t);bs(r,r.next)}}function Ls(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var c,h=r,l=r.x,u=r.y,p=1/0;for(n=r.next;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&Ns(o<u?i:a,o,l,u,o<u?a:i,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(i-n.x))<p||c===p&&n.x>r.x)&&Gs(n,t)&&(r=n,p=c),n=n.next;return r}function Cs(t,e,r,n){var i=t;do{null===i.z&&(i.z=Os(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ps(i)}function Ps(t){var e,r,n,i,o,a,s,c,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(c=h;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1);return t}function Os(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Is(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function Ns(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function Ds(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!zs(t,e)&&Gs(t,e)&&Gs(e,t)&&Hs(t,e)}function Us(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Bs(t,e){return t.x===e.x&&t.y===e.y}function Fs(t,e,r,n){return!!(Bs(t,e)&&Bs(r,n)||Bs(t,n)&&Bs(r,e))||Us(t,e,r)>0!=Us(t,e,n)>0&&Us(r,n,t)>0!=Us(r,n,e)>0}function zs(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Fs(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Gs(t,e){return Us(t.prev,t,t.next)<0?Us(t,e,t.next)>=0&&Us(t,t.prev,e)>=0:Us(t,e,t.prev)<0||Us(t,t.next,e)<0}function Hs(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function Vs(t,e){var r=new Ws(t.i,t.x,t.y),n=new Ws(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function ks(t,e,r,n){var i=new Ws(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function js(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ws(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xs(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}var qs={area:function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},isClockWise:function(t){return qs.area(t)<0},triangulateShape:function(t,e){var r=[],n=[],i=[];Ys(t),Js(r,t);var o=t.length;e.forEach(Ys);for(var a=0;a<e.length;a++)n.push(o),o+=e[a].length,Js(r,e[a]);var s=ys.triangulate(r,n);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Ys(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Js(t,e){for(var r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}function Zs(t,e){yi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Qs(t,e)),this.mergeVertices()}function Qs(t,e){Oi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var r=this,n=[],i=[],o=0,a=t.length;o<a;o++){s(t[o])}function s(t){var o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,c=void 0!==e.depth?e.depth:100,h=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:l-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:Ks;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);var m,g,v,y,x,b,_,w,M=!1;d&&(m=d.getSpacedPoints(s),M=!0,h=!1,g=d.computeFrenetFrames(s,!1),v=new Fe,y=new Fe,x=new Fe),h||(p=0,l=0,u=0);var E=t.extractPoints(a),T=E.shape,S=E.holes;if(!qs.isClockWise(T))for(T=T.reverse(),_=0,w=S.length;_<w;_++)b=S[_],qs.isClockWise(b)&&(S[_]=b.reverse());var A=qs.triangulateShape(T,S),R=T;for(_=0,w=S.length;_<w;_++)b=S[_],T=T.concat(b);function L(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(r).add(t)}var C,P,O,I,N,D,U=T.length,B=A.length;function F(t,e,r){var n,i,o,a=t.x-e.x,s=t.y-e.y,c=r.x-t.x,h=r.y-t.y,l=a*a+s*s,u=a*h-s*c;if(Math.abs(u)>Number.EPSILON){var p=Math.sqrt(l),d=Math.sqrt(c*c+h*h),f=e.x-s/p,m=e.y+a/p,g=((r.x-h/d-f)*h-(r.y+c/d-m)*c)/(a*h-s*c),v=(n=f+a*g-t.x)*n+(i=m+s*g-t.y)*i;if(v<=2)return new De(n,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(h)&&(y=!0),y?(n=-s,i=a,o=Math.sqrt(l)):(n=a,i=s,o=Math.sqrt(l/2))}return new De(n/o,i/o)}for(var z=[],G=0,H=R.length,V=H-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),z[G]=F(R[G],R[V],R[k]);var j,W,X=[],q=z.concat();for(_=0,w=S.length;_<w;_++){for(b=S[_],j=[],G=0,V=(H=b.length)-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),j[G]=F(b[G],b[V],b[k]);X.push(j),q=q.concat(j)}for(C=0;C<p;C++){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=R.length;G<H;G++)J((N=L(R[G],z[G],P)).x,N.y,-I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)J((N=L(b[G],j[G],P)).x,N.y,-I)}for(P=u,G=0;G<U;G++)N=h?L(T[G],q[G],P):T[G],M?(y.copy(g.normals[0]).multiplyScalar(N.x),v.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(m[0]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,0);for(W=1;W<=s;W++)for(G=0;G<U;G++)N=h?L(T[G],q[G],P):T[G],M?(y.copy(g.normals[W]).multiplyScalar(N.x),v.copy(g.binormals[W]).multiplyScalar(N.y),x.copy(m[W]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,c/s*W);for(C=p-1;C>=0;C--){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=R.length;G<H;G++)J((N=L(R[G],z[G],P)).x,N.y,c+I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)N=L(b[G],j[G],P),M?J(N.x,N.y+m[s-1].y,m[s-1].x+I):J(N.x,N.y,c+I)}function Y(t,e){var r,n;for(G=t.length;--G>=0;){r=G,(n=G-1)<0&&(n=t.length-1);var i=0,o=s+2*p;for(i=0;i<o;i++){var a=U*i,c=U*(i+1);Q(e+r+a,e+n+a,e+n+c,e+r+c)}}}function J(t,e,r){o.push(t),o.push(e),o.push(r)}function Z(t,e,i){K(t),K(e),K(i);var o=n.length/3,a=f.generateTopUV(r,n,o-3,o-2,o-1);$(a[0]),$(a[1]),$(a[2])}function Q(t,e,i,o){K(t),K(e),K(o),K(e),K(i),K(o);var a=n.length/3,s=f.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function K(t){n.push(o[3*t+0]),n.push(o[3*t+1]),n.push(o[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=n.length/3;if(h){var e=0,i=U*e;for(G=0;G<B;G++)Z((D=A[G])[2]+i,D[1]+i,D[0]+i);for(i=U*(e=s+2*p),G=0;G<B;G++)Z((D=A[G])[0]+i,D[1]+i,D[2]+i)}else{for(G=0;G<B;G++)Z((D=A[G])[2],D[1],D[0]);for(G=0;G<B;G++)Z((D=A[G])[0]+U*s,D[1]+U*s,D[2]+U*s)}r.addGroup(t,n.length/3-t,0)}(),function(){var t=n.length/3,e=0;for(Y(R,e),e+=R.length,_=0,w=S.length;_<w;_++)Y(b=S[_],e),e+=b.length;r.addGroup(t,n.length/3-t,1)}()}this.addAttribute("position",new Ai(n,3)),this.addAttribute("uv",new Ai(i,2)),this.computeVertexNormals()}Zs.prototype=Object.create(yi.prototype),Zs.prototype.constructor=Zs,Zs.prototype.toJSON=function(){var t=yi.prototype.toJSON.call(this);return $s(this.parameters.shapes,this.parameters.options,t)},Qs.prototype=Object.create(Oi.prototype),Qs.prototype.constructor=Qs,Qs.prototype.toJSON=function(){var t=Oi.prototype.toJSON.call(this);return $s(this.parameters.shapes,this.parameters.options,t)};var Ks={generateTopUV:function(t,e,r,n,i){var o=e[3*r],a=e[3*r+1],s=e[3*n],c=e[3*n+1],h=e[3*i],l=e[3*i+1];return[new De(o,a),new De(s,c),new De(h,l)]},generateSideWallUV:function(t,e,r,n,i,o){var a=e[3*r],s=e[3*r+1],c=e[3*r+2],h=e[3*n],l=e[3*n+1],u=e[3*n+2],p=e[3*i],d=e[3*i+1],f=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-l)<.01?[new De(a,1-c),new De(h,1-u),new De(p,1-f),new De(m,1-v)]:[new De(s,1-c),new De(l,1-u),new De(d,1-f),new De(g,1-v)]}};function $s(t,e,r){if(r.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var o=t[n];r.shapes.push(o.uuid)}else r.shapes.push(t.uuid);return void 0!==e.extrudePath&&(r.options.extrudePath=e.extrudePath.toJSON()),r}function tc(t,e){yi.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ec(t,e)),this.mergeVertices()}function ec(t,e){var r=(e=e||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new yi;var n=r.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Qs.call(this,n,e),this.type="TextBufferGeometry"}function rc(t,e,r,n,i,o,a){yi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new nc(t,e,r,n,i,o,a)),this.mergeVertices()}function nc(t,e,r,n,i,o,a){Oi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,c,h=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,u=[],p=new Fe,d=new Fe,f=[],m=[],g=[],v=[];for(c=0;c<=r;c++){var y=[],x=c/r;for(s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(n+b*i)*Math.sin(o+x*a),p.y=t*Math.cos(o+x*a),p.z=t*Math.sin(n+b*i)*Math.sin(o+x*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(b,1-x),y.push(l++)}u.push(y)}for(c=0;c<r;c++)for(s=0;s<e;s++){var _=u[c][s+1],w=u[c][s],M=u[c+1][s],E=u[c+1][s+1];(0!==c||o>0)&&f.push(_,w,E),(c!==r-1||h<Math.PI)&&f.push(w,M,E)}this.setIndex(f),this.addAttribute("position",new Ai(m,3)),this.addAttribute("normal",new Ai(g,3)),this.addAttribute("uv",new Ai(v,2))}function ic(t,e,r,n,i,o){yi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new oc(t,e,r,n,i,o)),this.mergeVertices()}function oc(t,e,r,n,i,o){Oi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},t=t||.5,e=e||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,c,h=[],l=[],u=[],p=[],d=t,f=(e-t)/(n=void 0!==n?Math.max(1,n):1),m=new Fe,g=new De;for(s=0;s<=n;s++){for(c=0;c<=r;c++)a=i+c/r*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<n;s++){var v=s*(r+1);for(c=0;c<r;c++){var y=a=c+v,x=a+r+1,b=a+r+2,_=a+1;h.push(y,x,_),h.push(x,b,_)}}this.setIndex(h),this.addAttribute("position",new Ai(l,3)),this.addAttribute("normal",new Ai(u,3)),this.addAttribute("uv",new Ai(p,2))}function ac(t,e,r,n){yi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},this.fromBufferGeometry(new sc(t,e,r,n)),this.mergeVertices()}function sc(t,e,r,n){Oi.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=Math.floor(e)||12,r=r||0,n=n||2*Math.PI,n=Ne.clamp(n,0,2*Math.PI);var i,o,a,s=[],c=[],h=[],l=1/e,u=new Fe,p=new De;for(o=0;o<=e;o++){var d=r+o*l*n,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)u.x=t[a].x*f,u.y=t[a].y,u.z=t[a].x*m,c.push(u.x,u.y,u.z),p.x=o/e,p.y=a/(t.length-1),h.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=i=a+o*t.length,v=i+t.length,y=i+t.length+1,x=i+1;s.push(g,v,x),s.push(v,y,x)}if(this.setIndex(s),this.addAttribute("position",new Ai(c,3)),this.addAttribute("uv",new Ai(h,2)),this.computeVertexNormals(),n===2*Math.PI){var b=this.attributes.normal.array,_=new Fe,w=new Fe,M=new Fe;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)_.x=b[a+0],_.y=b[a+1],_.z=b[a+2],w.x=b[i+a+0],w.y=b[i+a+1],w.z=b[i+a+2],M.addVectors(_,w).normalize(),b[a+0]=b[i+a+0]=M.x,b[a+1]=b[i+a+1]=M.y,b[a+2]=b[i+a+2]=M.z}}function cc(t,e){yi.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new hc(t,e)),this.mergeVertices()}function hc(t,e){Oi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(t))h(t);else for(var c=0;c<t.length;c++)h(t[c]),this.addGroup(a,s,c),a+=s,s=0;function h(t){var a,c,h,l=n.length/3,u=t.extractPoints(e),p=u.shape,d=u.holes;if(!1===qs.isClockWise(p))for(p=p.reverse(),a=0,c=d.length;a<c;a++)h=d[a],!0===qs.isClockWise(h)&&(d[a]=h.reverse());var f=qs.triangulateShape(p,d);for(a=0,c=d.length;a<c;a++)h=d[a],p=p.concat(h);for(a=0,c=p.length;a<c;a++){var m=p[a];n.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=f.length;a<c;a++){var g=f[a],v=g[0]+l,y=g[1]+l,x=g[2]+l;r.push(v,y,x),s+=3}}this.setIndex(r),this.addAttribute("position",new Ai(n,3)),this.addAttribute("normal",new Ai(i,3)),this.addAttribute("uv",new Ai(o,2))}function lc(t,e){if(e.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var i=t[r];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function uc(t,e){Oi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,n,i,o,a=[],s=Math.cos(Ne.DEG2RAD*e),c=[0,0],h={},l=["a","b","c"];t.isBufferGeometry?(o=new yi).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var u=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)r=m[l[g]],n=m[l[(g+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),void 0===h[i=c[0]+","+c[1]]?h[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:h[i].face2=d;for(i in h){var v=h[i];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=u[v.index1];a.push(y.x,y.y,y.z),y=u[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Ai(a,3))}function pc(t,e,r,n,i,o,a,s){yi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new dc(t,e,r,n,i,o,a,s)),this.mergeVertices()}function dc(t,e,r,n,i,o,a,s){Oi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var h=[],l=[],u=[],p=[],d=0,f=[],m=r/2,g=0;function v(r){var i,o,f,v=new De,y=new Fe,x=0,b=!0===r?t:e,_=!0===r?1:-1;for(o=d,i=1;i<=n;i++)l.push(0,m*_,0),u.push(0,_,0),p.push(.5,.5),d++;for(f=d,i=0;i<=n;i++){var w=i/n*s+a,M=Math.cos(w),E=Math.sin(w);y.x=b*E,y.y=m*_,y.z=b*M,l.push(y.x,y.y,y.z),u.push(0,_,0),v.x=.5*M+.5,v.y=.5*E*_+.5,p.push(v.x,v.y),d++}for(i=0;i<n;i++){var T=o+i,S=f+i;!0===r?h.push(S,S+1,T):h.push(S+1,S,T),x+=3}c.addGroup(g,x,!0===r?1:2),g+=x}!function(){var o,v,y=new Fe,x=new Fe,b=0,_=(e-t)/r;for(v=0;v<=i;v++){var w=[],M=v/i,E=M*(e-t)+t;for(o=0;o<=n;o++){var T=o/n,S=T*s+a,A=Math.sin(S),R=Math.cos(S);x.x=E*A,x.y=-M*r+m,x.z=E*R,l.push(x.x,x.y,x.z),y.set(A,_,R).normalize(),u.push(y.x,y.y,y.z),p.push(T,1-M),w.push(d++)}f.push(w)}for(o=0;o<n;o++)for(v=0;v<i;v++){var L=f[v][o],C=f[v+1][o],P=f[v+1][o+1],O=f[v][o+1];h.push(L,C,O),h.push(C,P,O),b+=6}c.addGroup(g,b,0),g+=b}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(h),this.addAttribute("position",new Ai(l,3)),this.addAttribute("normal",new Ai(u,3)),this.addAttribute("uv",new Ai(p,2))}function fc(t,e,r,n,i,o,a){pc.call(this,0,t,e,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function mc(t,e,r,n,i,o,a){dc.call(this,0,t,e,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function gc(t,e,r,n){yi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new vc(t,e,r,n)),this.mergeVertices()}function vc(t,e,r,n){Oi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||1,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o,a=[],s=[],c=[],h=[],l=new Fe,u=new De;for(s.push(0,0,0),c.push(0,0,1),h.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var p=r+o/e*n;l.x=t*Math.cos(p),l.y=t*Math.sin(p),s.push(l.x,l.y,l.z),c.push(0,0,1),u.x=(s[i]/t+1)/2,u.y=(s[i+1]/t+1)/2,h.push(u.x,u.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new Ai(s,3)),this.addAttribute("normal",new Ai(c,3)),this.addAttribute("uv",new Ai(h,2))}tc.prototype=Object.create(yi.prototype),tc.prototype.constructor=tc,ec.prototype=Object.create(Qs.prototype),ec.prototype.constructor=ec,rc.prototype=Object.create(yi.prototype),rc.prototype.constructor=rc,nc.prototype=Object.create(Oi.prototype),nc.prototype.constructor=nc,ic.prototype=Object.create(yi.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(Oi.prototype),oc.prototype.constructor=oc,ac.prototype=Object.create(yi.prototype),ac.prototype.constructor=ac,sc.prototype=Object.create(Oi.prototype),sc.prototype.constructor=sc,cc.prototype=Object.create(yi.prototype),cc.prototype.constructor=cc,cc.prototype.toJSON=function(){var t=yi.prototype.toJSON.call(this);return lc(this.parameters.shapes,t)},hc.prototype=Object.create(Oi.prototype),hc.prototype.constructor=hc,hc.prototype.toJSON=function(){var t=Oi.prototype.toJSON.call(this);return lc(this.parameters.shapes,t)},uc.prototype=Object.create(Oi.prototype),uc.prototype.constructor=uc,pc.prototype=Object.create(yi.prototype),pc.prototype.constructor=pc,dc.prototype=Object.create(Oi.prototype),dc.prototype.constructor=dc,fc.prototype=Object.create(pc.prototype),fc.prototype.constructor=fc,mc.prototype=Object.create(dc.prototype),mc.prototype.constructor=mc,gc.prototype=Object.create(yi.prototype),gc.prototype.constructor=gc,vc.prototype=Object.create(Oi.prototype),vc.prototype.constructor=vc;var yc=Object.freeze({WireframeGeometry:$a,ParametricGeometry:ts,ParametricBufferGeometry:es,TetrahedronGeometry:is,TetrahedronBufferGeometry:os,OctahedronGeometry:as,OctahedronBufferGeometry:ss,IcosahedronGeometry:cs,IcosahedronBufferGeometry:hs,DodecahedronGeometry:ls,DodecahedronBufferGeometry:us,PolyhedronGeometry:rs,PolyhedronBufferGeometry:ns,TubeGeometry:ps,TubeBufferGeometry:ds,TorusKnotGeometry:fs,TorusKnotBufferGeometry:ms,TorusGeometry:gs,TorusBufferGeometry:vs,TextGeometry:tc,TextBufferGeometry:ec,SphereGeometry:rc,SphereBufferGeometry:nc,RingGeometry:ic,RingBufferGeometry:oc,PlaneGeometry:Di,PlaneBufferGeometry:Ui,LatheGeometry:ac,LatheBufferGeometry:sc,ShapeGeometry:cc,ShapeBufferGeometry:hc,ExtrudeGeometry:Zs,ExtrudeBufferGeometry:Qs,EdgesGeometry:uc,ConeGeometry:fc,ConeBufferGeometry:mc,CylinderGeometry:pc,CylinderBufferGeometry:dc,CircleGeometry:gc,CircleBufferGeometry:vc,BoxGeometry:Ii,BoxBufferGeometry:Ni});function xc(t){Fi.call(this),this.type="ShadowMaterial",this.color=new oi(0),this.transparent=!0,this.setValues(t)}function bc(t){Gi.call(this,t),this.type="RawShaderMaterial"}function _c(t){Fi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new oi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wc(t){_c.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Mc(t){Fi.call(this),this.type="MeshPhongMaterial",this.color=new oi(16777215),this.specular=new oi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ec(t){Mc.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Tc(t){Fi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Sc(t){Fi.call(this),this.type="MeshLambertMaterial",this.color=new oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ac(t){ja.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}xc.prototype=Object.create(Fi.prototype),xc.prototype.constructor=xc,xc.prototype.isShadowMaterial=!0,xc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this},bc.prototype=Object.create(Gi.prototype),bc.prototype.constructor=bc,bc.prototype.isRawShaderMaterial=!0,_c.prototype=Object.create(Fi.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshStandardMaterial=!0,_c.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wc.prototype=Object.create(_c.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshPhysicalMaterial=!0,wc.prototype.copy=function(t){return _c.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Mc.prototype=Object.create(Fi.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isMeshPhongMaterial=!0,Mc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ec.prototype=Object.create(Mc.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshToonMaterial=!0,Ec.prototype.copy=function(t){return Mc.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Tc.prototype=Object.create(Fi.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isMeshNormalMaterial=!0,Tc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Sc.prototype=Object.create(Fi.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isMeshLambertMaterial=!0,Sc.prototype.copy=function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ac.prototype=Object.create(ja.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isLineDashedMaterial=!0,Ac.prototype.copy=function(t){return ja.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Rc=Object.freeze({ShadowMaterial:xc,SpriteMaterial:Fa,RawShaderMaterial:bc,ShaderMaterial:Gi,PointsMaterial:Ya,MeshPhysicalMaterial:wc,MeshStandardMaterial:_c,MeshPhongMaterial:Mc,MeshToonMaterial:Ec,MeshNormalMaterial:Tc,MeshLambertMaterial:Sc,MeshDepthMaterial:_a,MeshDistanceMaterial:wa,MeshBasicMaterial:zi,LineDashedMaterial:Ac,LineBasicMaterial:ja,Material:Fi}),Lc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Cc(t,e,r){var n=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,!1===i&&void 0!==n.onStart&&n.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Pc=new Cc,Oc={};function Ic(t){this.manager=void 0!==t?t:Pc}function Nc(t){this.manager=void 0!==t?t:Pc,this._parser=null}function Dc(t){this.manager=void 0!==t?t:Pc,this._parser=null}function Uc(t){this.manager=void 0!==t?t:Pc}function Bc(t){this.manager=void 0!==t?t:Pc}function Fc(t){this.manager=void 0!==t?t:Pc}function zc(){this.type="Curve",this.arcLengthDivisions=200}function Gc(t,e,r,n,i,o,a,s){zc.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Hc(t,e,r,n,i,o){Gc.call(this,t,e,r,r,n,i,o),this.type="ArcCurve"}function Vc(){var t=0,e=0,r=0,n=0;function i(i,o,a,s){t=i,e=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(t,e,r,n,o){i(e,r,o*(r-t),o*(n-e))},initNonuniformCatmullRom:function(t,e,r,n,o,a,s){var c=(e-t)/o-(r-t)/(o+a)+(r-e)/a,h=(r-e)/a-(n-e)/(a+s)+(n-r)/s;i(e,r,c*=a,h*=a)},calc:function(i){var o=i*i;return t+e*i+r*o+n*(o*i)}}}Object.assign(Ic.prototype,{load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;if(void 0===Oc[t]){var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],h=a[3];h=window.decodeURIComponent(h),c&&(h=window.atob(h));try{var l,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var p=new Uint8Array(h.length),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);l="blob"===u?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;l=f.parseFromString(h,s);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{Oc[t]=[],Oc[t].push({onLoad:e,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",t,!0),m.addEventListener("load",function(e){var r=this.response;Lc.add(t,r);var n=Oc[t];if(delete Oc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=n.length;o<a;o++){(s=n[o]).onLoad&&s.onLoad(r)}i.manager.itemEnd(t)}else{for(o=0,a=n.length;o<a;o++){var s;(s=n[o]).onError&&s.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)}},!1),m.addEventListener("progress",function(e){for(var r=Oc[t],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(e)}},!1),m.addEventListener("error",function(e){var r=Oc[t];delete Oc[t];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m}Oc[t].push({onLoad:e,onProgress:r,onError:n})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Nc.prototype,{load:function(t,e,r,n){var i=this,o=[],a=new Qa;a.image=o;var s=new Ic(this.manager);function c(c){s.load(t[c],function(t){var r=i._parser(t,!0);o[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(h+=1)&&(1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a))},r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)c(l);else s.load(t,function(t){var r=i._parser(t,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a)},r,n);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Dc.prototype,{load:function(t,e,r,n){var i=this,o=new We,a=new Ic(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var r=i._parser(t);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:dt,o.wrapT=void 0!==r.wrapT?r.wrapT:dt,o.magFilter=void 0!==r.magFilter?r.magFilter:yt,o.minFilter=void 0!==r.minFilter?r.minFilter:bt,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=yt),o.needsUpdate=!0,e&&e(o,r))},r,n),o}}),Object.assign(Uc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Lc.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Bc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new ro,o=new Uc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(t[r],function(t){i.images[r]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))},void 0,n)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Fc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new He,o=new Uc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(r){i.image=r;var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=n?Nt:Dt,i.needsUpdate=!0,void 0!==e&&e(i)},r,n),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(zc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var r=this.getUtoTmapping(t);return this.getPoint(r,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)o+=(e=this.getPoint(r/t)).distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e||t*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var h=n[i];return(i+(r-h)/(n[i+1]-h))/(o-1)},getTangent:function(t){var e=t-1e-4,r=t+1e-4;e<0&&(e=0),r>1&&(r=1);var n=this.getPoint(e);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var r,n,i,o=new Fe,a=[],s=[],c=[],h=new Fe,l=new Ue;for(r=0;r<=t;r++)n=r/t,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new Fe,c[0]=new Fe;var u=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=u&&(u=p,o.set(1,0,0)),d<=u&&(u=d,o.set(0,1,0)),f<=u&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),c[0].crossVectors(a[0],s[0]),r=1;r<=t;r++)s[r]=s[r-1].clone(),c[r]=c[r-1].clone(),h.crossVectors(a[r-1],a[r]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Ne.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(l.makeRotationAxis(h,i))),c[r].crossVectors(a[r],s[r]);if(!0===e)for(i=Math.acos(Ne.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),r=1;r<=t;r++)s[r].applyMatrix4(l.makeRotationAxis(a[r],i*r)),c[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Gc.prototype=Object.create(zc.prototype),Gc.prototype.constructor=Gc,Gc.prototype.isEllipseCurve=!0,Gc.prototype.getPoint=function(t,e){for(var r=e||new De,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var h=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=s-this.aX,p=c-this.aY;s=u*h-p*l+this.aX,c=u*l+p*h+this.aY}return r.set(s,c)},Gc.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Gc.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Gc.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Hc.prototype=Object.create(Gc.prototype),Hc.prototype.constructor=Hc,Hc.prototype.isArcCurve=!0;var kc=new Fe,jc=new Vc,Wc=new Vc,Xc=new Vc;function qc(t,e,r,n){zc.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Yc(t,e,r,n,i){var o=.5*(n-e),a=.5*(i-r),s=t*t;return(2*r-2*n+o+a)*(t*s)+(-3*r+3*n-2*o-a)*s+o*t+r}function Jc(t,e){var r=1-t;return r*r*e}function Zc(t,e){return 2*(1-t)*t*e}function Qc(t,e){return t*t*e}function Kc(t,e,r,n){return Jc(t,e)+Zc(t,r)+Qc(t,n)}function $c(t,e){var r=1-t;return r*r*r*e}function th(t,e){var r=1-t;return 3*r*r*t*e}function eh(t,e){return 3*(1-t)*t*t*e}function rh(t,e){return t*t*t*e}function nh(t,e,r,n,i){return $c(t,e)+th(t,r)+eh(t,n)+rh(t,i)}function ih(t,e,r,n){zc.call(this),this.type="CubicBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De,this.v3=n||new De}function oh(t,e,r,n){zc.call(this),this.type="CubicBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe,this.v3=n||new Fe}function ah(t,e){zc.call(this),this.type="LineCurve",this.v1=t||new De,this.v2=e||new De}function sh(t,e){zc.call(this),this.type="LineCurve3",this.v1=t||new Fe,this.v2=e||new Fe}function ch(t,e,r){zc.call(this),this.type="QuadraticBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De}function hh(t,e,r){zc.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe}function lh(t){zc.call(this),this.type="SplineCurve",this.points=t||[]}qc.prototype=Object.create(zc.prototype),qc.prototype.constructor=qc,qc.prototype.isCatmullRomCurve3=!0,qc.prototype.getPoint=function(t,e){var r,n,i,o,a=e||new Fe,s=this.points,c=s.length,h=(c-(this.closed?0:1))*t,l=Math.floor(h),u=h-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/c)+1)*c:0===u&&l===c-1&&(l=c-2,u=1),this.closed||l>0?r=s[(l-1)%c]:(kc.subVectors(s[0],s[1]).add(s[0]),r=kc),n=s[l%c],i=s[(l+1)%c],this.closed||l+2<c?o=s[(l+2)%c]:(kc.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=kc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(r.distanceToSquared(n),p),f=Math.pow(n.distanceToSquared(i),p),m=Math.pow(i.distanceToSquared(o),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),jc.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,d,f,m),Wc.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,d,f,m),Xc.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,d,f,m)}else"catmullrom"===this.curveType&&(jc.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),Wc.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),Xc.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(jc.calc(u),Wc.calc(u),Xc.calc(u)),a},qc.prototype.copy=function(t){zc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},qc.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},qc.prototype.fromJSON=function(t){zc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new Fe).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ih.prototype=Object.create(zc.prototype),ih.prototype.constructor=ih,ih.prototype.isCubicBezierCurve=!0,ih.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(nh(t,n.x,i.x,o.x,a.x),nh(t,n.y,i.y,o.y,a.y)),r},ih.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ih.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ih.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},oh.prototype=Object.create(zc.prototype),oh.prototype.constructor=oh,oh.prototype.isCubicBezierCurve3=!0,oh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(nh(t,n.x,i.x,o.x,a.x),nh(t,n.y,i.y,o.y,a.y),nh(t,n.z,i.z,o.z,a.z)),r},oh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},oh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},oh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},ah.prototype=Object.create(zc.prototype),ah.prototype.constructor=ah,ah.prototype.isLineCurve=!0,ah.prototype.getPoint=function(t,e){var r=e||new De;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},ah.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ah.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},ah.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ah.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ah.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},sh.prototype=Object.create(zc.prototype),sh.prototype.constructor=sh,sh.prototype.isLineCurve3=!0,sh.prototype.getPoint=function(t,e){var r=e||new Fe;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},sh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},sh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},sh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},sh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ch.prototype=Object.create(zc.prototype),ch.prototype.constructor=ch,ch.prototype.isQuadraticBezierCurve=!0,ch.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2;return r.set(Kc(t,n.x,i.x,o.x),Kc(t,n.y,i.y,o.y)),r},ch.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ch.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ch.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},hh.prototype=Object.create(zc.prototype),hh.prototype.constructor=hh,hh.prototype.isQuadraticBezierCurve3=!0,hh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2;return r.set(Kc(t,n.x,i.x,o.x),Kc(t,n.y,i.y,o.y),Kc(t,n.z,i.z,o.z)),r},hh.prototype.copy=function(t){return zc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},hh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},hh.prototype.fromJSON=function(t){return zc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lh.prototype=Object.create(zc.prototype),lh.prototype.constructor=lh,lh.prototype.isSplineCurve=!0,lh.prototype.getPoint=function(t,e){var r=e||new De,n=this.points,i=(n.length-1)*t,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],h=n[o>n.length-2?n.length-1:o+1],l=n[o>n.length-3?n.length-1:o+2];return r.set(Yc(a,s.x,c.x,h.x,l.x),Yc(a,s.y,c.y,h.y,l.y)),r},lh.prototype.copy=function(t){zc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this},lh.prototype.toJSON=function(){var t=zc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t},lh.prototype.fromJSON=function(t){zc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new De).fromArray(n))}return this};var uh=Object.freeze({ArcCurve:Hc,CatmullRomCurve3:qc,CubicBezierCurve:ih,CubicBezierCurve3:oh,EllipseCurve:Gc,LineCurve:ah,LineCurve3:sh,QuadraticBezierCurve:ch,QuadraticBezierCurve3:hh,SplineCurve:lh});function ph(){zc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function dh(t){ph.call(this),this.type="Path",this.currentPoint=new De,t&&this.setFromPoints(t)}function fh(t){dh.call(this,t),this.uuid=Ne.generateUUID(),this.type="Shape",this.holes=[]}function mh(t,e){di.call(this),this.type="Light",this.color=new oi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function gh(t,e,r){mh.call(this,t,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(di.DefaultUp),this.updateMatrix(),this.groundColor=new oi(e)}function vh(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new De(512,512),this.map=null,this.matrix=new Ue}function yh(){vh.call(this,new Ca(50,1,.5,500))}function xh(t,e,r,n,i,o){mh.call(this,t,e),this.type="SpotLight",this.position.copy(di.DefaultUp),this.updateMatrix(),this.target=new di,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new yh}function bh(t,e,r,n){mh.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new vh(new Ca(90,1,.5,500))}function _h(){vh.call(this,new mi(-5,5,5,-5,.5,500))}function wh(t,e){mh.call(this,t,e),this.type="DirectionalLight",this.position.copy(di.DefaultUp),this.updateMatrix(),this.target=new di,this.shadow=new _h}function Mh(t,e){mh.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Eh(t,e,r,n){mh.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function Th(t,e,r,n){Uh.call(this,t,e,r,n)}function Sh(t,e,r){Uh.call(this,t,e,r)}function Ah(t,e,r,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function Rh(t,e,r,n){Ah.call(this,t,e,r,n)}function Lh(t,e,r,n){Uh.call(this,t,e,r,n)}function Ch(t,e,r,n){Uh.call(this,t,e,r,n)}function Ph(t,e,r,n){Uh.call(this,t,e,r,n)}function Oh(t,e,r,n){Ah.call(this,t,e,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ih(t,e,r,n){Ah.call(this,t,e,r,n)}function Nh(t,e,r,n){Ah.call(this,t,e,r,n)}ph.prototype=Object.assign(Object.create(zc.prototype),{constructor:ph,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ah(e,t))},getPoint:function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(r.push(h),e=h)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(t){zc.prototype.copy.call(this,t),this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=zc.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,r=this.curves.length;e<r;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){zc.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push((new uh[n.type]).fromJSON(n))}return this}}),dh.prototype=Object.assign(Object.create(ph.prototype),{constructor:dh,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var r=new ah(this.currentPoint.clone(),new De(t,e));this.curves.push(r),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,r,n){var i=new ch(this.currentPoint.clone(),new De(t,e),new De(r,n));this.curves.push(i),this.currentPoint.set(r,n)},bezierCurveTo:function(t,e,r,n,i,o){var a=new ih(this.currentPoint.clone(),new De(t,e),new De(r,n),new De(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new lh([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,r,n,i,o)},absarc:function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},ellipse:function(t,e,r,n,i,o,a,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,r,n,i,o,a,s)},absellipse:function(t,e,r,n,i,o,a,s){var c=new Gc(t,e,r,n,i,o,a,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return ph.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=ph.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return ph.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),fh.prototype=Object.assign(Object.create(dh.prototype),{constructor:fh,getPointsHoles:function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){dh.prototype.copy.call(this,t),this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){var t=dh.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,r=this.holes.length;e<r;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){dh.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push((new dh).fromJSON(n))}return this}}),mh.prototype=Object.assign(Object.create(di.prototype),{constructor:mh,isLight:!0,copy:function(t){return di.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=di.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),gh.prototype=Object.assign(Object.create(mh.prototype),{constructor:gh,isHemisphereLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(vh.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),yh.prototype=Object.assign(Object.create(vh.prototype),{constructor:yh,isSpotLightShadow:!0,update:function(t){var e=this.camera,r=2*Ne.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;r===e.fov&&n===e.aspect&&i===e.far||(e.fov=r,e.aspect=n,e.far=i,e.updateProjectionMatrix())}}),xh.prototype=Object.assign(Object.create(mh.prototype),{constructor:xh,isSpotLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),bh.prototype=Object.assign(Object.create(mh.prototype),{constructor:bh,isPointLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),_h.prototype=Object.assign(Object.create(vh.prototype),{constructor:_h}),wh.prototype=Object.assign(Object.create(mh.prototype),{constructor:wh,isDirectionalLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mh.prototype=Object.assign(Object.create(mh.prototype),{constructor:Mh,isAmbientLight:!0}),Eh.prototype=Object.assign(Object.create(mh.prototype),{constructor:Eh,isRectAreaLight:!0,copy:function(t){return mh.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=mh.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Th.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Th,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Sh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Sh,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(Ah.prototype,{evaluate:function(t){var e=this.parameterPositions,r=this._cachedIndex,n=e[r],i=e[r-1];t:{e:{var o;r:{n:if(!(t<n)){for(var a=r+2;;){if(void 0===n){if(t<i)break n;return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,t,i)}if(r===a)break;if(i=n,t<(n=e[++r]))break e}o=e.length;break r}if(t>=i)break t;var s=e[1];t<s&&(r=2,i=s);for(a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(r===a)break;if(n=i,t>=(i=e[--r-1]))break e}o=r,r=0}for(;r<o;){var c=r+o>>>1;t<e[c]?o=c:r=c+1}if(n=e[r],void 0===(i=e[r-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,i,t)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n,o=0;o!==n;++o)e[o]=r[i+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ah.prototype,{beforeStart_:Ah.prototype.copySampleValue_,afterEnd_:Ah.prototype.copySampleValue_}),Rh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Rh,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(r-e)/(n-e),h=s+a;s!==h;s+=4)Be.slerpFlat(i,0,o,s-a,o,s,c);return i}}),Lh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Lh,ValueTypeName:"quaternion",DefaultInterpolation:fe,InterpolantFactoryMethodLinear:function(t){return new Rh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Ch.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Ch,ValueTypeName:"color"}),Ph.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Ph,ValueTypeName:"number"}),Oh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Oh,DefaultSettings_:{endingStart:ge,endingEnd:ge},intervalChanged_:function(t,e,r){var n=this.parameterPositions,i=t-2,o=t+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case ve:i=t,a=2*e-r;break;case ye:a=e+n[i=n.length-2]-n[i+1];break;default:i=t,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case ve:o=t,s=2*r-e;break;case ye:o=1,s=r+n[1]-n[0];break;default:o=t-1,s=e}var c=.5*(r-e),h=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-r),this._offsetPrev=i*h,this._offsetNext=o*h},interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(r-e)/(n-e),f=d*d,m=f*d,g=-u*m+2*u*f-u*d,v=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==a;++b)i[b]=g*o[h+b]+v*o[c+b]+y*o[s+b]+x*o[l+b];return i}}),Ih.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Ih,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=(r-e)/(n-e),l=1-h,u=0;u!==a;++u)i[u]=o[c+u]*l+o[s+u]*h;return i}}),Nh.prototype=Object.assign(Object.create(Ah.prototype),{constructor:Nh,interpolate_:function(t){return this.copySampleValue_(t-1)}});var Dh={arraySlice:function(t,e,r){return Dh.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==r?r:t.length)):t.slice(e,r)},convertArray:function(t,e,r){return!t||!r&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,r=new Array(e),n=0;n!==e;++n)r[n]=n;return r.sort(function(e,r){return t[e]-t[r]}),r},sortedArray:function(t,e,r){for(var n=t.length,i=new t.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,r,n){for(var i=1,o=t[0];void 0!==o&&void 0===o[n];)o=t[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(e.push(o.time),r.push.apply(r,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(e.push(o.time),a.toArray(r,r.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(e.push(o.time),r.push(a)),o=t[i++]}while(void 0!==o)}}};function Uh(t,e,r,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Dh.convertArray(e,this.TimeBufferType),this.values=Dh.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function Bh(t,e,r,n){Uh.call(this,t,e,r,n)}function Fh(t,e,r){this.name=t,this.tracks=r,this.duration=void 0!==e?e:-1,this.uuid=Ne.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function zh(t){this.manager=void 0!==t?t:Pc,this.textures={}}function Gh(t){this.manager=void 0!==t?t:Pc}Object.assign(Uh,{parse:function(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=Uh._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var r=[],n=[];Dh.flattenJSON(t.keys,r,n,"value"),t.times=r,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,r=t.constructor;if(void 0!==r.toJSON)e=r.toJSON(t);else{e={name:t.name,times:Dh.convertArray(t.times,Array),values:Dh.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ph;case"vector":case"vector2":case"vector3":case"vector4":return Bh;case"color":return Ch;case"quaternion":return Lh;case"bool":case"boolean":return Sh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}}),Object.assign(Uh.prototype,{constructor:Uh,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:fe,InterpolantFactoryMethodDiscrete:function(t){return new Nh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ih(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Oh(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case de:e=this.InterpolantFactoryMethodDiscrete;break;case fe:e=this.InterpolantFactoryMethodLinear;break;case me:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",r)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return de;case this.InterpolantFactoryMethodLinear:return fe;case this.InterpolantFactoryMethodSmooth:return me}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]*=t;return this},trim:function(t,e){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<t;)++i;for(;-1!==o&&r[o]>e;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Dh.arraySlice(r,i,o),this.values=Dh.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==n&&Dh.isTypedArray(n)){a=0;for(var c=n.length;a!==c;++a){var h=n[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,r=this.getValueSize(),n=this.getInterpolation()===me,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(n)s=!0;else for(var h=a*r,l=h-r,u=h+r,p=0;p!==r;++p){var d=e[h+p];if(d!==e[l+p]||d!==e[u+p]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var f=a*r,m=i*r;for(p=0;p!==r;++p)e[m+p]=e[f+p]}++i}}if(o>0){t[i]=t[o];for(f=o*r,m=i*r,p=0;p!==r;++p)e[m+p]=e[f+p];++i}return i!==t.length&&(this.times=Dh.arraySlice(t,0,i),this.values=Dh.arraySlice(e,0,i*r)),this}}),Bh.prototype=Object.assign(Object.create(Uh.prototype),{constructor:Bh,ValueTypeName:"vector"}),Object.assign(Fh,{parse:function(t){for(var e=[],r=t.tracks,n=1/(t.fps||1),i=0,o=r.length;i!==o;++i)e.push(Uh.parse(r[i]).scale(n));return new Fh(t.name,t.duration,e)},toJSON:function(t){for(var e=[],r=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,o=r.length;i!==o;++i)e.push(Uh.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(t,e,r,n){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var h=Dh.getKeyframeOrder(s);s=Dh.sortedArray(s,1,h),c=Dh.sortedArray(c,1,h),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Ph(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/r))}return new Fh(t,-1,o)},findByName:function(t,e){var r=t;if(!Array.isArray(t)){var n=t;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===e)return r[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var h=n[u=c[1]];h||(n[u]=h=[]),h.push(s)}}var l=[];for(var u in n)l.push(Fh.CreateFromMorphTargetSequence(u,n[u],e,r));return l},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(t,e,r,n,i){if(0!==r.length){var o=[],a=[];Dh.flattenJSON(r,o,a,n),0!==o.length&&i.push(new t(e,o,a))}},n=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){var f=[],m=[];for(p=0;p!==h[u].morphTargets.length;++p){var g=h[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}n.push(new Ph(".morphTargetInfluence["+d+"]",f,m))}o=l.length*(a||1)}else{var v=".bones["+e[c].name+"]";r(Bh,v+".position",h,"pos",n),r(Lh,v+".quaternion",h,"rot",n),r(Bh,v+".scale",h,"scl",n)}}return 0===n.length?null:new Fh(i,o,n)}}),Object.assign(Fh.prototype,{resetDuration:function(){for(var t=0,e=0,r=this.tracks.length;e!==r;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(zh.prototype,{load:function(t,e,r,n){var i=this;new Ic(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function r(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new Rc[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(n.uniforms=t.uniforms),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=r(t.map)),void 0!==t.alphaMap&&(n.alphaMap=r(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=r(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=r(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),n.normalScale=(new De).fromArray(i)}return void 0!==t.displacementMap&&(n.displacementMap=r(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=r(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=r(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=r(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=r(t.specularMap)),void 0!==t.envMap&&(n.envMap=r(t.envMap)),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=r(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=r(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=r(t.gradientMap)),n}}),Object.assign(Gh.prototype,{load:function(t,e,r,n){var i=this;new Ic(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},parse:function(t){var e=new Oi,r=t.data.index;if(void 0!==r){var n=new Hh[r.type](r.array);e.setIndex(new xi(n,1))}var i=t.data.attributes;for(var o in i){var a=i[o];n=new Hh[a.type](a.array);e.addAttribute(o,new xi(n,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,h=s.length;c!==h;++c){var l=s[c];e.addGroup(l.start,l.count,l.materialIndex)}var u=t.data.boundingSphere;if(void 0!==u){var p=new Fe;void 0!==u.center&&p.fromArray(u.center),e.boundingSphere=new qe(p,u.radius)}return e}});var Hh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Vh(){}Vh.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,r=0,n=e.length;r<n;r+=2){var i=e[r],o=e[r+1];if(i.test(t))return o}return null}},Object.assign(Vh.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,r){for(var n=[],i=0;i<t.length;++i)n[i]=this.createMaterial(t[i],e,r);return n},createMaterial:function(){var t={NoBlending:b,NormalBlending:_,AdditiveBlending:w,SubtractiveBlending:M,MultiplyBlending:E,CustomBlending:T},e=new oi,r=new Fc,n=new zh;return function(i,o,a){var s={};function c(t,e,n,i,c){var h,l=o+t,u=Vh.Handlers.get(l);null!==u?h=u.load(l):(r.setCrossOrigin(a),h=r.load(l)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=pt),1!==e[1]&&(h.wrapT=pt)),void 0!==n&&h.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(h.wrapS=pt),"mirror"===i[0]&&(h.wrapS=ft),"repeat"===i[1]&&(h.wrapT=pt),"mirror"===i[1]&&(h.wrapT=ft)),void 0!==c&&(h.anisotropy=c);var p=Ne.generateUUID();return s[p]=h,p}var h={uuid:Ne.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var u=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=u;break;case"blending":h.blending=t[u];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":h.color=e.fromArray(u).getHex();break;case"colorSpecular":h.specular=e.fromArray(u).getHex();break;case"colorEmissive":h.emissive=e.fromArray(u).getHex();break;case"specularCoef":h.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===u.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=c(u,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=c(u,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=c(u,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=c(u,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=c(u,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=c(u,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=u;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=c(u,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=c(u,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=c(u,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=c(u,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=d;break;case"doubleSided":h.side=f;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=u;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[l]=u;break;case"vertexColors":!0===u&&(h.vertexColors=x),"face"===u&&(h.vertexColors=y);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,u)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),n.setTextures(s),n.parse(h)}}()});var kh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,n=t.length;r<n;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function jh(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Pc,this.withCredentials=!1}function Wh(t){this.manager=void 0!==t?t:Pc,this.texturePath=""}Object.assign(jh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:kh.extractUrlBase(t),a=new Ic(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(r){var n=JSON.parse(r),a=n.metadata;if(void 0!==a){var s=a.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.")}var c=i.parse(n,o);e(c.geometry,c.materials)},r,n)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(){return function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var r=new yi;return function(t,e){function r(t,e){return t&1<<e}var n,i,o,a,s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T,S,A,R=t.faces,L=t.vertices,C=t.normals,P=t.colors,O=t.scale,I=0;if(void 0!==t.uvs){for(n=0;n<t.uvs.length;n++)t.uvs[n].length&&I++;for(n=0;n<I;n++)e.faceVertexUvs[n]=[]}for(a=0,s=L.length;a<s;)(b=new Fe).x=L[a++]*O,b.y=L[a++]*O,b.z=L[a++]*O,e.vertices.push(b);for(a=0,s=R.length;a<s;)if(d=r(p=R[a++],0),f=r(p,1),m=r(p,3),g=r(p,4),v=r(p,5),y=r(p,6),x=r(p,7),d){if((w=new gi).a=R[a],w.b=R[a+1],w.c=R[a+3],(M=new gi).a=R[a+1],M.b=R[a+2],M.c=R[a+3],a+=4,f&&(u=R[a++],w.materialIndex=u,M.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],e.faceVertexUvs[n][o+1]=[],i=0;i<4;i++)A=new De(S[2*(l=R[a++])],S[2*l+1]),2!==i&&e.faceVertexUvs[n][o].push(A),0!==i&&e.faceVertexUvs[n][o+1].push(A);if(g&&(h=3*R[a++],w.normal.set(C[h++],C[h++],C[h]),M.normal.copy(w.normal)),v)for(n=0;n<4;n++)h=3*R[a++],T=new Fe(C[h++],C[h++],C[h]),2!==n&&w.vertexNormals.push(T),0!==n&&M.vertexNormals.push(T);if(y&&(E=P[c=R[a++]],w.color.setHex(E),M.color.setHex(E)),x)for(n=0;n<4;n++)E=P[c=R[a++]],2!==n&&w.vertexColors.push(new oi(E)),0!==n&&M.vertexColors.push(new oi(E));e.faces.push(w),e.faces.push(M)}else{if((_=new gi).a=R[a++],_.b=R[a++],_.c=R[a++],f&&(u=R[a++],_.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],i=0;i<3;i++)A=new De(S[2*(l=R[a++])],S[2*l+1]),e.faceVertexUvs[n][o].push(A);if(g&&(h=3*R[a++],_.normal.set(C[h++],C[h++],C[h])),v)for(n=0;n<3;n++)h=3*R[a++],T=new Fe(C[h++],C[h++],C[h]),_.vertexNormals.push(T);if(y&&(c=R[a++],_.color.setHex(P[c])),x)for(n=0;n<3;n++)c=R[a++],_.vertexColors.push(new oi(P[c]));e.faces.push(_)}}(t,r),function(t,e){var r=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,i=t.skinWeights.length;n<i;n+=r){var o=t.skinWeights[n],a=r>1?t.skinWeights[n+1]:0,s=r>2?t.skinWeights[n+2]:0,c=r>3?t.skinWeights[n+3]:0;e.skinWeights.push(new Ve(o,a,s,c))}if(t.skinIndices)for(n=0,i=t.skinIndices.length;n<i;n+=r){var h=t.skinIndices[n],l=r>1?t.skinIndices[n+1]:0,u=r>2?t.skinIndices[n+2]:0,p=r>3?t.skinIndices[n+3]:0;e.skinIndices.push(new Ve(h,l,u,p))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,r),function(t,e){var r=t.scale;if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){e.morphTargets[n]={},e.morphTargets[n].name=t.morphTargets[n].name,e.morphTargets[n].vertices=[];for(var o=e.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,c=a.length;s<c;s+=3){var h=new Fe;h.x=a[s]*r,h.y=a[s+1]*r,h.z=a[s+2]*r,o.push(h)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=e.faces,u=t.morphColors[0].colors;for(n=0,i=l.length;n<i;n++)l[n].color.fromArray(u,3*n)}}(t,r),function(t,e){var r=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=Fh.parseAnimation(n[i],e.bones);o&&r.push(o)}if(e.morphTargets){var a=Fh.CreateClipsFromMorphTargetSequences(e.morphTargets,10);r=r.concat(a)}r.length>0&&(e.animations=r)}(t,r),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:r}:{geometry:r,materials:Vh.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}()}),Object.assign(Wh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Ic(i.manager).load(t,function(r){var o=null;try{o=JSON.parse(r)}catch(e){return void 0!==n&&n(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")},r,n)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var r=this.parseShape(t.shapes),n=this.parseGeometries(t.geometries,r),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,i),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,n,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var r=0,n=t.length;r<n;r++){var i=(new fh).fromJSON(t[r]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var r={};if(void 0!==t)for(var n=new jh,i=new Gh,o=0,a=t.length;o<a;o++){var s,c=t[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new yc[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new yc[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new yc[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new yc[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new yc[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new yc[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new yc[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new yc[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new yc[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new yc[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new yc[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new yc[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],l=0,u=c.shapes.length;l<u;l++){var p=e[c.shapes[l]];h.push(p)}s=new yc[c.type](h,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(h=[],l=0,u=c.shapes.length;l<u;l++){p=e[c.shapes[l]];h.push(p)}var d=c.options.extrudePath;void 0!==d&&(c.options.extrudePath=(new uh[d.type]).fromJSON(d)),s=new yc[c.type](h,c.options);break;case"BufferGeometry":s=i.parse(c);break;case"Geometry":s=n.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),r[c.uuid]=s}return r},parseMaterials:function(t,e){var r={};if(void 0!==t){var n=new zh;n.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(n.parse(a.materials[c]));r[a.uuid]=s}else r[a.uuid]=n.parse(a)}}return r},parseAnimations:function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],i=Fh.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),e.push(i)}return e},parseImages:function(t,e){var r=this,n={};function i(t){return r.manager.itemStart(t),o.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}if(void 0!==t&&t.length>0){var o=new Uc(new Cc(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var c=t[a],h=c.url;if(Array.isArray(h)){n[c.uuid]=[];for(var l=0,u=h.length;l<u;l++){var p=h[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.texturePath+p;n[c.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;n[c.uuid]=i(d)}}}return n},parseTextures:function(t,e){function r(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new ro(e[s.image]):new He(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=r(s.mapping,qh)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=r(s.wrap[0],Yh),a.wrapT=r(s.wrap[1],Yh)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=r(s.minFilter,Jh)),void 0!==s.magFilter&&(a.magFilter=r(s.magFilter,Jh)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),n[s.uuid]=a}return n},parseObject:function(t,e,r){var n;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(r[o])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}switch(t.type){case"Scene":n=new Ba,void 0!==t.background&&Number.isInteger(t.background)&&(n.background=new oi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?n.fog=new Ua(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(n.fog=new Da(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":n=new Ca(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"OrthographicCamera":n=new mi(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"AmbientLight":n=new Mh(t.color,t.intensity);break;case"DirectionalLight":n=new wh(t.color,t.intensity);break;case"PointLight":n=new bh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":n=new Eh(t.color,t.intensity,t.width,t.height);break;case"SpotLight":n=new xh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":n=new gh(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(t.geometry),s=o(t.material);n=a.bones&&a.bones.length>0?new ka(a,s):new ji(a,s);break;case"LOD":n=new Ga;break;case"Line":n=new Wa(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":n=new qa(i(t.geometry),o(t.material));break;case"LineSegments":n=new Xa(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":n=new Ja(i(t.geometry),o(t.material));break;case"Sprite":n=new za(o(t.material));break;case"Group":n=new La;break;default:n=new di}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)n.add(this.parseObject(c[h],e,r));if("LOD"===t.type)for(var l=t.levels,u=0;u<l.length;u++){var p=l[u],d=n.getObjectByProperty("uuid",p.object);void 0!==d&&n.addLevel(d,p.distance)}return n}});var Xh,qh={UVMapping:it,CubeReflectionMapping:ot,CubeRefractionMapping:at,EquirectangularReflectionMapping:st,EquirectangularRefractionMapping:ct,SphericalReflectionMapping:ht,CubeUVReflectionMapping:lt,CubeUVRefractionMapping:ut},Yh={RepeatWrapping:pt,ClampToEdgeWrapping:dt,MirroredRepeatWrapping:ft},Jh={NearestFilter:mt,NearestMipMapNearestFilter:gt,NearestMipMapLinearFilter:vt,LinearFilter:yt,LinearMipMapNearestFilter:xt,LinearMipMapLinearFilter:bt};function Zh(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Pc,this.options=void 0}function Qh(){this.type="ShapePath",this.color=new oi,this.subPaths=[],this.currentPath=null}function Kh(t){this.type="Font",this.data=t}function $h(t,e,r){for(var n=Array.from?Array.from(t):String(t).split(""),i=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,h=0;h<n.length;h++){var l=n[h];if("\n"===l)s=0,c-=o;else{var u=tl(l,i,s,c,r);s+=u.offsetX,a.push(u.path)}}return a}function tl(t,e,r,n,i){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,c,h,l,u,p,d,f=new Qh;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*e+r,s=m[g++]*e+n,f.moveTo(a,s);break;case"l":a=m[g++]*e+r,s=m[g++]*e+n,f.lineTo(a,s);break;case"q":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,f.quadraticCurveTo(l,u,c,h);break;case"b":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,p=m[g++]*e+r,d=m[g++]*e+n,f.bezierCurveTo(l,u,p,d,c,h)}}return{offsetX:o.ha*e,path:f}}}function el(t){this.manager=void 0!==t?t:Pc}Zh.prototype={constructor:Zh,setOptions:function(t){return this.options=t,this},load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(r){Lc.add(t,r),e&&e(r),i.manager.itemEnd(t)}).catch(function(e){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(Qh.prototype,{moveTo:function(t,e){this.currentPath=new dh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,r,n){this.currentPath.quadraticCurveTo(t,e,r,n)},bezierCurveTo:function(t,e,r,n,i,o){this.currentPath.bezierCurveTo(t,e,r,n,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function r(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r],o=new fh;o.curves=i.curves,e.push(o)}return e}function n(t,e){for(var r=e.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=e[i],s=e[o],c=s.x-a.x,h=s.y-a.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(a=e[o],c=-c,s=e[i],h=-h),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=h*(t.x-a.x)-c*(t.y-a.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var i=qs.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return r(o);var a,s,c,h=[];if(1===o.length)return s=o[0],(c=new fh).curves=s.curves,h.push(c),h;var l=!i(o[0].getPoints());l=t?!l:l;var u,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(u=(s=o[v]).getPoints()),(a=t?!a:a)?(!l&&f[g]&&g++,f[g]={s:new fh,p:u},f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:u[0]});if(!f[0])return r(o);if(f.length>1){for(var x=!1,b=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var M=m[_],E=0;E<M.length;E++){for(var T=M[E],S=!0,A=0;A<f.length;A++)n(T.p,f[A].p)&&(_!==A&&b.push({froms:_,tos:A,hole:E}),S?(S=!1,d[A].push(T)):x=!0);S&&d[_].push(T)}b.length>0&&(x||(m=d))}v=0;for(var R=f.length;v<R;v++){c=f[v].s,h.push(c);for(var L=0,C=(p=m[v]).length;L<C;L++)c.holes.push(p[L].h)}return h}}),Object.assign(Kh.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var r=[],n=$h(t,e,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),Object.assign(el.prototype,{load:function(t,e,r,n){var i=this,o=new Ic(this.manager);o.setPath(this.path),o.load(t,function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var n=i.parse(r);e&&e(n)},r,n)},parse:function(t){return new Kh(t)},setPath:function(t){return this.path=t,this}});var rl={getContext:function(){return void 0===Xh&&(Xh=new(window.AudioContext||window.webkitAudioContext)),Xh},setContext:function(t){Xh=t}};function nl(t){this.manager=void 0!==t?t:Pc}function il(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ca,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ca,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function ol(t,e,r){di.call(this),this.type="CubeCamera";var n=new Ca(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new Fe(1,0,0)),this.add(n);var i=new Ca(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Fe(-1,0,0)),this.add(i);var o=new Ca(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Fe(0,1,0)),this.add(o);var a=new Ca(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Fe(0,-1,0)),this.add(a);var s=new Ca(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Fe(0,0,1)),this.add(s);var c=new Ca(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Fe(0,0,-1)),this.add(c);var h={format:Nt,magFilter:yt,minFilter:yt};this.renderTarget=new je(r,r,h),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,n,r),r.activeCubeFace=1,t.render(e,i,r),r.activeCubeFace=2,t.render(e,o,r),r.activeCubeFace=3,t.render(e,a,r),r.activeCubeFace=4,t.render(e,s,r),r.texture.generateMipmaps=h,r.activeCubeFace=5,t.render(e,c,r),t.setRenderTarget(null)},this.clear=function(t,e,r,n){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,t.setRenderTarget(i),t.clear(e,r,n);t.setRenderTarget(null)}}function al(){di.call(this),this.type="AudioListener",this.context=rl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function sl(t){di.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function cl(t){sl.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function hl(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function ll(t,e,r){this.binding=t,this.valueSize=r;var n,i=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(nl.prototype,{load:function(t,e,r,n){var i=new Ic(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){var r=t.slice(0);rl.getContext().decodeAudioData(r,function(t){e(t)})},r,n)}}),Object.assign(il.prototype,{update:function(){var t,e,r,n,i,o,a,s,c=new Ue,h=new Ue;return function(l){if(t!==this||e!==l.focus||r!==l.fov||n!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,r=l.fov,n=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var u,p,d=l.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(Ne.DEG2RAD*r*.5)/a;h.elements[12]=-s,c.elements[12]=s,u=-m*n+f,p=m*n+f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-m*n-f,p=m*n-f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),ol.prototype=Object.create(di.prototype),ol.prototype.constructor=ol,al.prototype=Object.assign(Object.create(di.prototype),{constructor:al,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){di.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(n.x,this.context.currentTime),o.forwardY.setValueAtTime(n.y,this.context.currentTime),o.forwardZ.setValueAtTime(n.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z))}}()}),sl.prototype=Object.assign(Object.create(di.prototype),{constructor:sl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),cl.prototype=Object.assign(Object.create(sl.prototype),{constructor:cl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,r){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){di.prototype.updateMatrixWorld.call(this,i);var o=this.panner;this.matrixWorld.decompose(t,e,r),n.set(0,0,1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z)}}()}),Object.assign(hl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),r=0;r<e.length;r++)t+=e[r];return t/e.length}}),Object.assign(ll.prototype,{accumulate:function(t,e){var r=this.buffer,n=this.valueSize,i=t*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,r=this.buffer,n=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(r,n,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(r[s]!==r[s+e]){o.setValue(r,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,r=this.valueSize,n=3*r;t.getValue(e,n);for(var i=r,o=n;i!==o;++i)e[i]=e[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)t[e+o]=t[r+o]},_slerp:function(t,e,r,n){Be.slerpFlat(t,e,t,e,t,r,n)},_lerp:function(t,e,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[r+a]*n}}});var ul,pl,dl="\\[\\]\\.:\\/";function fl(t,e,r){var n=r||ml.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function ml(t,e,r){this.path=e,this.parsedPath=r||ml.parseTrackName(e),this.node=ml.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function gl(){this.uuid=Ne.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,r=arguments.length;e!==r;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function vl(t,e,r){this._mixer=t,this._clip=e,this._localRoot=r||null;for(var n=e.tracks,i=n.length,o=new Array(i),a={endingStart:ge,endingEnd:ge},s=0;s!==i;++s){var c=n[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function yl(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function xl(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function bl(){Oi.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function _l(t,e,r,n){this.data=t,this.itemSize=e,this.offset=r,this.normalized=!0===n}function wl(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ml(t,e,r){wl.call(this,t,e),this.meshPerAttribute=r||1}function El(t,e,r){xi.call(this,t,e),this.meshPerAttribute=r||1}function Tl(t,e,r,n){this.ray=new Hi(t,e),this.near=r||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Sl(t,e){return t.distance-e.distance}function Al(t,e,r,n){if(!1!==t.visible&&(t.raycast(e,r),!0===n))for(var i=t.children,o=0,a=i.length;o<a;o++)Al(i[o],e,r,!0)}function Rl(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ll(t,e,r){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==r?r:0,this}function Cl(t,e,r){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==r?r:0,this}function Pl(t,e){this.min=void 0!==t?t:new De(1/0,1/0),this.max=void 0!==e?e:new De(-1/0,-1/0)}function Ol(t){di.call(this),this.material=t,this.render=function(){}}function Il(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Oi,h=new Ai(2*a*3,3);c.addAttribute("position",h),Xa.call(this,c,new ja({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Nl(t,e){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var r=new Oi,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.addAttribute("position",new Ai(n,3));var c=new ja({fog:!1});this.cone=new Xa(r,c),this.add(this.cone),this.update()}function Dl(t){var e=[];t&&t.isBone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,Dl(t.children[r]));return e}function Ul(t){for(var e=Dl(t),r=new Oi,n=[],i=[],o=new oi(0,0,1),a=new oi(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.addAttribute("position",new Ai(n,3)),r.addAttribute("color",new Ai(i,3));var h=new ja({vertexColors:x,depthTest:!1,depthWrite:!1,transparent:!0});Xa.call(this,r,h),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Bl(t,e,r){this.light=t,this.light.updateMatrixWorld(),this.color=r;var n=new nc(e,4,2),i=new zi({wireframe:!0,fog:!1});ji.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Fl(t,e){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var r=new ja({fog:!1}),n=new Oi;n.addAttribute("position",new xi(new Float32Array(15),3)),this.line=new Wa(n,r),this.add(this.line),this.update()}function zl(t,e,r){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new ss(e);n.rotateY(.5*Math.PI),this.material=new zi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=x);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new xi(o,3)),this.add(new ji(n,this.material)),this.update()}function Gl(t,e,r,n){t=t||10,e=e||10,r=new oi(void 0!==r?r:4473924),n=new oi(void 0!==n?n:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],c=[],h=0,l=0,u=-a;h<=e;h++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);var p=h===i?r:n;p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3}var d=new Oi;d.addAttribute("position",new Ai(s,3)),d.addAttribute("color",new Ai(c,3));var f=new ja({vertexColors:x});Xa.call(this,d,f)}function Hl(t,e,r,n,i,o){t=t||10,e=e||16,r=r||8,n=n||64,i=new oi(void 0!==i?i:4473924),o=new oi(void 0!==o?o:8947848);var a,s,c,h,l,u,p,d=[],f=[];for(h=0;h<=e;h++)c=h/e*(2*Math.PI),a=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(a,0,s),p=1&h?i:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(h=0;h<=r;h++)for(p=1&h?i:o,u=t-t/r*h,l=0;l<n;l++)c=l/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b),c=(l+1)/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b);var m=new Oi;m.addAttribute("position",new Ai(d,3)),m.addAttribute("color",new Ai(f,3));var g=new ja({vertexColors:x});Xa.call(this,m,g)}function Vl(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Oi,h=new Ai(2*a*3,3);c.addAttribute("position",h),Xa.call(this,c,new ja({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function kl(t,e,r){di.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===e&&(e=1);var n=new Oi;n.addAttribute("position",new Ai([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new ja({fog:!1});this.lightPlane=new Wa(n,i),this.add(this.lightPlane),(n=new Oi).addAttribute("position",new Ai([0,0,0,0,0,1],3)),this.targetLine=new Wa(n,i),this.add(this.targetLine),this.update()}function jl(t){var e=new Oi,r=new ja({color:16777215,vertexColors:y}),n=[],i=[],o={},a=new oi(16755200),s=new oi(16711680),c=new oi(43775),h=new oi(16777215),l=new oi(3355443);function u(t,e,r){p(t,r),p(e,r)}function p(t,e){n.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(n.length/3-1)}u("n1","n2",a),u("n2","n4",a),u("n4","n3",a),u("n3","n1",a),u("f1","f2",a),u("f2","f4",a),u("f4","f3",a),u("f3","f1",a),u("n1","f1",a),u("n2","f2",a),u("n3","f3",a),u("n4","f4",a),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",h),u("p","c",l),u("cn1","cn2",l),u("cn3","cn4",l),u("cf1","cf2",l),u("cf3","cf4",l),e.addAttribute("position",new Ai(n,3)),e.addAttribute("color",new Ai(i,3)),Xa.call(this,e,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Wl(t,e){this.object=t,void 0===e&&(e=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Oi;i.setIndex(new xi(r,1)),i.addAttribute("position",new xi(n,3)),Xa.call(this,i,new ja({color:e})),this.matrixAutoUpdate=!1,this.update()}function Xl(t,e){this.type="Box3Helper",this.box=t;var r=void 0!==e?e:16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Oi;i.setIndex(new xi(n,1)),i.addAttribute("position",new Ai([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Xa.call(this,i,new ja({color:r})),this.geometry.computeBoundingSphere()}function ql(t,e,r){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var n=void 0!==r?r:16776960,i=new Oi;i.addAttribute("position",new Ai([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Wa.call(this,i,new ja({color:n}));var o=new Oi;o.addAttribute("position",new Ai([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new ji(o,new zi({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}function Yl(t,e,r,n,i,o){di.call(this),void 0===n&&(n=16776960),void 0===r&&(r=1),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===ul&&((ul=new Oi).addAttribute("position",new Ai([0,0,0,0,1,0],3)),(pl=new dc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Wa(ul,new ja({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ji(pl,new zi({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,i,o)}function Jl(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=new Oi;r.addAttribute("position",new Ai(e,3)),r.addAttribute("color",new Ai([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new ja({vertexColors:x});Xa.call(this,r,n)}function Zl(t,e,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new gi(t,e,r,i,o,a)}Object.assign(fl.prototype,{getValue:function(t,e){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}}),Object.assign(ml,{Composite:fl,create:function(t,e,r){return t&&t.isAnimationObjectGroup?new ml.Composite(t,e,r):new ml(t,e,r)},sanitizeNodeName:function(){var t=new RegExp("["+dl+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+dl+"]",e="[^"+dl.replace("\\.","")+"]",r=/((?:WC+[\/:])*)/.source.replace("WC",t),n=/(WCOD+)?/.source.replace("WCOD",e),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),a=new RegExp("^"+r+n+i+o+"$"),s=["material","materials","bones"];return function(t){var e=a.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==s.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var r=t.skeleton.getBoneByName(e);if(void 0!==r)return r}if(t.children){var n=function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.name===e||i.uuid===e)return i;var o=n(i.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(ml.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)t[e++]=r[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,r=e.objectName,n=e.propertyName,i=e.propertyIndex;if(t||(t=ml.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=e.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(ml.prototype,{_getValue_unbound:ml.prototype.getValue,_setValue_unbound:ml.prototype.setValue}),Object.assign(gl.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=n[p];if(void 0===d){d=e++,n[p]=d,t.push(u);for(var f=0,m=s;f!==m;++f)a[f].push(new ml(u,i[f],o[f]))}else if(d<r){c=t[d];var g=--r,v=t[g];n[v.uuid]=d,t[d]=v,n[p]=g,t[g]=u;for(f=0,m=s;f!==m;++f){var y=a[f],x=y[g],b=y[d];y[d]=x,void 0===b&&(b=new ml(u,i[f],o[f])),y[g]=b}}else t[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,h=r[c];if(void 0!==h&&h>=e){var l=e++,u=t[l];r[u.uuid]=h,t[h]=u,r[c]=l,t[l]=s;for(var p=0,d=i;p!==d;++p){var f=n[p],m=f[l],g=f[h];f[h]=m,f[l]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,h=n[c];if(void 0!==h)if(delete n[c],h<r){var l=--r,u=t[l],p=t[v=--e];n[u.uuid]=h,t[h]=u,n[p.uuid]=l,t[l]=p,t.pop();for(var d=0,f=o;d!==f;++d){var m=(y=i[d])[l],g=y[v];y[h]=m,y[l]=g,y.pop()}}else{var v;n[(p=t[v=--e]).uuid]=h,t[h]=p,t.pop();for(d=0,f=o;d!==f;++d){var y;(y=i[d])[h]=y[v],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var r=this._bindingsIndicesByPath,n=r[t],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=i.length,r[t]=n,o.push(t),a.push(e),i.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new ml(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,r=e[t];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(vl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){var n=this._clip.duration,i=t._clip.duration,o=i/n,a=n/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,r){return t.crossFadeFrom(this,e,r)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(t-i)*r;if(o<0||0===r)return;this._startTime=null,e=r*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(a),h[l].accumulate(n,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)e*=r.evaluate(t)[0],t>r.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var r=this._clip.duration,n=this.loop,i=this._loopCount;if(n===le){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=r)e=r;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=n===pe;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=r||e<0){var a=Math.floor(e/r);e-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,r-e}return this.time=e,e},_setEndings:function(t,e,r){var n=this._interpolantSettings;r?(n.endingStart=ve,n.endingEnd=ve):(n.endingStart=t?this.zeroSlopeAtStart?ve:ge:ye,n.endingEnd=e?this.zeroSlopeAtEnd?ve:ge:ye)},_scheduleFading:function(t,e,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=r,this}}),yl.prototype=Object.assign(Object.create(t.prototype),{constructor:yl,_bindAction:function(t,e){var r=t._localRoot||this._root,n=t._clip.tracks,i=n.length,o=t._propertyBindings,a=t._interpolants,s=r.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==i;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(d=new ll(ml.create(r,p,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,r=t._clip.uuid,n=this._actionsByClip[r];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,r,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,r){var n=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[r]=t},_removeInactiveAction:function(t){var e=this._actions,r=e[e.length-1],n=t._cacheIndex;r._cacheIndex=n,e[n]=r,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,r=t._cacheIndex,n=this._nActiveActions++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackAction:function(t){var e=this._actions,r=t._cacheIndex,n=--this._nActiveActions,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_addInactiveBinding:function(t,e,r){var n=this._bindingsByRootAndName,i=n[e],o=this._bindings;void 0===i&&(i={},n[e]=i),i[r]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,r=t.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var h in a)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=this._nActiveBindings++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=--this._nActiveBindings,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,r=t[e];return void 0===r&&((r=new Ih(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=r),r},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,r=t.__cacheIndex,n=--this._nActiveControlInterpolants,i=e[n];t.__cacheIndex=n,e[n]=t,i.__cacheIndex=r,e[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Fh.findByName(r,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[n];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var h=new vl(this,i,e);return this._bindAction(h,s),this._addInactiveAction(h,o,n),h},existingAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Fh.findByName(r,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==n;++i)r[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,r=this._nActiveActions,n=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==r;++a){e[a]._update(n,t,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,r=t.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(t){var e=t.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var r=this.existingAction(t,e);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),xl.prototype.clone=function(){return new xl(void 0===this.value.clone?this.value:this.value.clone())},bl.prototype=Object.assign(Object.create(Oi.prototype),{constructor:bl,isInstancedBufferGeometry:!0,copy:function(t){return Oi.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(_l.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(_l.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}}),Object.defineProperty(wl.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(wl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.stride,r*=e.stride;for(var n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Ml.prototype=Object.assign(Object.create(wl.prototype),{constructor:Ml,isInstancedInterleavedBuffer:!0,copy:function(t){return wl.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),El.prototype=Object.assign(Object.create(xi.prototype),{constructor:El,isInstancedBufferAttribute:!0,copy:function(t){return xi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Tl.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,r){var n=r||[];return Al(t,this,n,e),n.sort(Sl),n},intersectObjects:function(t,e,r){var n=r||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=t.length;i<o;i++)Al(t[i],this,n,e);return n.sort(Sl),n}}),Object.assign(Rl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Ll.prototype,{set:function(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ne.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Cl.prototype,{set:function(t,e,r){return this.radius=t,this.theta=e,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Pl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new De;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new De),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new De),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new De;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Ol.prototype=Object.create(di.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isImmediateRenderObject=!0,Il.prototype=Object.create(Xa.prototype),Il.prototype.constructor=Il,Il.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,c=a.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[n[d]]],g=p.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(h=0,d=0,f=v.count;d<f;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}o.needsUpdate=!0}}(),Nl.prototype=Object.create(di.prototype),Nl.prototype.constructor=Nl,Nl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Nl.prototype.update=function(){var t=new Fe,e=new Fe;return function(){this.light.updateMatrixWorld();var r=this.light.distance?this.light.distance:1e3,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Ul.prototype=Object.create(Xa.prototype),Ul.prototype.constructor=Ul,Ul.prototype.updateMatrixWorld=function(){var t=new Fe,e=new Ue,r=new Ue;return function(n){var i=this.bones,o=this.geometry,a=o.getAttribute("position");r.getInverse(this.root.matrixWorld);for(var s=0,c=0;s<i.length;s++){var h=i[s];h.parent&&h.parent.isBone&&(e.multiplyMatrices(r,h.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c,t.x,t.y,t.z),e.multiplyMatrices(r,h.parent.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c+1,t.x,t.y,t.z),c+=2)}o.getAttribute("position").needsUpdate=!0,di.prototype.updateMatrixWorld.call(this,n)}}(),Bl.prototype=Object.create(ji.prototype),Bl.prototype.constructor=Bl,Bl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Bl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Fl.prototype=Object.create(di.prototype),Fl.prototype.constructor=Fl,Fl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Fl.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,r=this.line.geometry.attributes.position,n=r.array;n[0]=t,n[1]=-e,n[2]=0,n[3]=t,n[4]=e,n[5]=0,n[6]=-t,n[7]=e,n[8]=0,n[9]=-t,n[10]=-e,n[11]=0,n[12]=t,n[13]=-e,n[14]=0,r.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},zl.prototype=Object.create(di.prototype),zl.prototype.constructor=zl,zl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},zl.prototype.update=function(){var t=new Fe,e=new oi,r=new oi;return function(){var n=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=n.geometry.getAttribute("color");e.copy(this.light.color),r.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:r;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Gl.prototype=Object.create(Xa.prototype),Gl.prototype.constructor=Gl,Hl.prototype=Object.create(Xa.prototype),Hl.prototype.constructor=Hl,Vl.prototype=Object.create(Xa.prototype),Vl.prototype.constructor=Vl,Vl.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(n),e.copy(p).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}i.needsUpdate=!0}}(),kl.prototype=Object.create(di.prototype),kl.prototype.constructor=kl,kl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},kl.prototype.update=function(){var t=new Fe,e=new Fe,r=new Fe;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t),this.lightPlane.lookAt(r),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r),this.targetLine.scale.z=r.length()}}(),jl.prototype=Object.create(Xa.prototype),jl.prototype.constructor=jl,jl.prototype.update=function(){var t,e,r=new Fe,n=new fi;function i(i,o,a,s){r.set(o,a,s).unproject(n);var c=e[i];if(void 0!==c)for(var h=t.getAttribute("position"),l=0,u=c.length;l<u;l++)h.setXYZ(c[l],r.x,r.y,r.z)}return function(){t=this.geometry,e=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Wl.prototype=Object.create(Xa.prototype),Wl.prototype.constructor=Wl,Wl.prototype.update=function(){var t=new Xe;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,n=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Wl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Xl.prototype=Object.create(Xa.prototype),Xl.prototype.constructor=Xl,Xl.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),di.prototype.updateMatrixWorld.call(this,t))},ql.prototype=Object.create(Wa.prototype),ql.prototype.constructor=ql,ql.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?d:p,this.lookAt(this.plane.normal),di.prototype.updateMatrixWorld.call(this,t)},Yl.prototype=Object.create(di.prototype),Yl.prototype.constructor=Yl,Yl.prototype.setDirection=function(){var t,e=new Fe;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),Yl.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},Yl.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Jl.prototype=Object.create(Xa.prototype),Jl.prototype.constructor=Jl;var Ql=0,Kl=1;function $l(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function tu(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function eu(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ja(t,e)}function ru(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new za(t)}function nu(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ja(t,e)}function iu(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function ou(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function au(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ya(t)}function su(t,e,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Fe(t,e,r)}function cu(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new xi(t,e).setDynamic(!0)}function hu(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new bi(t,e)}function lu(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new _i(t,e)}function uu(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new wi(t,e)}function pu(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Mi(t,e)}function du(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ei(t,e)}function fu(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ti(t,e)}function mu(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Si(t,e)}function gu(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ai(t,e)}function vu(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ri(t,e)}function yu(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom",this.closed=!0}function xu(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom"}function bu(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),qc.call(this,t),this.type="catmullrom"}function _u(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Jl(t)}function wu(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Wl(t,e)}function Mu(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Xa(new uc(t.geometry),new ja({color:void 0!==e?e:16777215}))}function Eu(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Xa(new $a(t.geometry),new ja({color:void 0!==e?e:16777215}))}function Tu(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ic(t)}function Su(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Dc(t)}zc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(zc.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(ph.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new yi,r=0,n=t.length;r<n;r++){var i=t[r];e.vertices.push(new Fe(i.x,i.y,i.z||0))}return e}}),Object.assign(dh.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),yu.prototype=Object.create(qc.prototype),xu.prototype=Object.create(qc.prototype),bu.prototype=Object.create(qc.prototype),Object.assign(bu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Gl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Ul.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Vh.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kh.extractUrlBase(t)}}),Object.assign(Pl.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Xe.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Vi.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Ne,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ne.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ne.ceilPowerOfTwo(t)}}),Object.assign(ze.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ue.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Fe),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,r,i,o)}}),Ye.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Be.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Hi.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(ki.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(ki,{barycoordFromPoint:function(t,e,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ki.getBarycoord(t,e,r,n,i)},normal:function(t,e,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ki.getNormal(t,e,r,n)}}),Object.assign(fh.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zs(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new cc(this,t)}}),Object.assign(De.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Fe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ve.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(di.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(di.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ga.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ha.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(zc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ca.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(mh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(xi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Oi.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Oi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Qs.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(xl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Fi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new oi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===m}}}),Object.defineProperties(Mc.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Gi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Na.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Na.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Ma.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ke.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Oa.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),sl.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new nl).load(t,function(t){e.setBuffer(t)}),this},hl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ol.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Au={merge:function(t,e,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ru={crossOrigin:void 0,loadTexture:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Fc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Bc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function Lu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Cu(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}var Pu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Ou(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}exports.WebGLRenderTargetCube=je,exports.WebGLRenderTarget=ke,exports.WebGLRenderer=Na,exports.ShaderLib=si,exports.UniformsLib=ai,exports.UniformsUtils=ni,exports.ShaderChunk=ri,exports.FogExp2=Da,exports.Fog=Ua,exports.Scene=Ba,exports.Sprite=za,exports.LOD=Ga,exports.SkinnedMesh=ka,exports.Skeleton=Ha,exports.Bone=Va,exports.Mesh=ji,exports.LineSegments=Xa,exports.LineLoop=qa,exports.Line=Wa,exports.Points=Ja,exports.Group=La,exports.VideoTexture=Za,exports.DataTexture=We,exports.CompressedTexture=Qa,exports.CubeTexture=ro,exports.CanvasTexture=Ea,exports.DepthTexture=Ka,exports.Texture=He,exports.CompressedTextureLoader=Nc,exports.DataTextureLoader=Dc,exports.CubeTextureLoader=Bc,exports.TextureLoader=Fc,exports.ObjectLoader=Wh,exports.MaterialLoader=zh,exports.BufferGeometryLoader=Gh,exports.DefaultLoadingManager=Pc,exports.LoadingManager=Cc,exports.JSONLoader=jh,exports.ImageLoader=Uc,exports.ImageBitmapLoader=Zh,exports.FontLoader=el,exports.FileLoader=Ic,exports.Loader=Vh,exports.LoaderUtils=kh,exports.Cache=Lc,exports.AudioLoader=nl,exports.SpotLightShadow=yh,exports.SpotLight=xh,exports.PointLight=bh,exports.RectAreaLight=Eh,exports.HemisphereLight=gh,exports.DirectionalLightShadow=_h,exports.DirectionalLight=wh,exports.AmbientLight=Mh,exports.LightShadow=vh,exports.Light=mh,exports.StereoCamera=il,exports.PerspectiveCamera=Ca,exports.OrthographicCamera=mi,exports.CubeCamera=ol,exports.ArrayCamera=Pa,exports.Camera=fi,exports.AudioListener=al,exports.PositionalAudio=cl,exports.AudioContext=rl,exports.AudioAnalyser=hl,exports.Audio=sl,exports.VectorKeyframeTrack=Bh,exports.StringKeyframeTrack=Th,exports.QuaternionKeyframeTrack=Lh,exports.NumberKeyframeTrack=Ph,exports.ColorKeyframeTrack=Ch,exports.BooleanKeyframeTrack=Sh,exports.PropertyMixer=ll,exports.PropertyBinding=ml,exports.KeyframeTrack=Uh,exports.AnimationUtils=Dh,exports.AnimationObjectGroup=gl,exports.AnimationMixer=yl,exports.AnimationClip=Fh,exports.Uniform=xl,exports.InstancedBufferGeometry=bl,exports.BufferGeometry=Oi,exports.Geometry=yi,exports.InterleavedBufferAttribute=_l,exports.InstancedInterleavedBuffer=Ml,exports.InterleavedBuffer=wl,exports.InstancedBufferAttribute=El,exports.Face3=gi,exports.Object3D=di,exports.Raycaster=Tl,exports.Layers=ui,exports.EventDispatcher=t,exports.Clock=Rl,exports.QuaternionLinearInterpolant=Rh,exports.LinearInterpolant=Ih,exports.DiscreteInterpolant=Nh,exports.CubicInterpolant=Oh,exports.Interpolant=Ah,exports.Triangle=ki,exports.Math=Ne,exports.Spherical=Ll,exports.Cylindrical=Cl,exports.Plane=Ye,exports.Frustum=Je,exports.Sphere=qe,exports.Ray=Hi,exports.Matrix4=Ue,exports.Matrix3=ze,exports.Box3=Xe,exports.Box2=Pl,exports.Line3=Vi,exports.Euler=li,exports.Vector4=Ve,exports.Vector3=Fe,exports.Vector2=De,exports.Quaternion=Be,exports.Color=oi,exports.ImmediateRenderObject=Ol,exports.VertexNormalsHelper=Il,exports.SpotLightHelper=Nl,exports.SkeletonHelper=Ul,exports.PointLightHelper=Bl,exports.RectAreaLightHelper=Fl,exports.HemisphereLightHelper=zl,exports.GridHelper=Gl,exports.PolarGridHelper=Hl,exports.FaceNormalsHelper=Vl,exports.DirectionalLightHelper=kl,exports.CameraHelper=jl,exports.BoxHelper=Wl,exports.Box3Helper=Xl,exports.PlaneHelper=ql,exports.ArrowHelper=Yl,exports.AxesHelper=Jl,exports.Shape=fh,exports.Path=dh,exports.ShapePath=Qh,exports.Font=Kh,exports.CurvePath=ph,exports.Curve=zc,exports.ShapeUtils=qs,exports.WebGLUtils=Ra,exports.WireframeGeometry=$a,exports.ParametricGeometry=ts,exports.ParametricBufferGeometry=es,exports.TetrahedronGeometry=is,exports.TetrahedronBufferGeometry=os,exports.OctahedronGeometry=as,exports.OctahedronBufferGeometry=ss,exports.IcosahedronGeometry=cs,exports.IcosahedronBufferGeometry=hs,exports.DodecahedronGeometry=ls,exports.DodecahedronBufferGeometry=us,exports.PolyhedronGeometry=rs,exports.PolyhedronBufferGeometry=ns,exports.TubeGeometry=ps,exports.TubeBufferGeometry=ds,exports.TorusKnotGeometry=fs,exports.TorusKnotBufferGeometry=ms,exports.TorusGeometry=gs,exports.TorusBufferGeometry=vs,exports.TextGeometry=tc,exports.TextBufferGeometry=ec,exports.SphereGeometry=rc,exports.SphereBufferGeometry=nc,exports.RingGeometry=ic,exports.RingBufferGeometry=oc,exports.PlaneGeometry=Di,exports.PlaneBufferGeometry=Ui,exports.LatheGeometry=ac,exports.LatheBufferGeometry=sc,exports.ShapeGeometry=cc,exports.ShapeBufferGeometry=hc,exports.ExtrudeGeometry=Zs,exports.ExtrudeBufferGeometry=Qs,exports.EdgesGeometry=uc,exports.ConeGeometry=fc,exports.ConeBufferGeometry=mc,exports.CylinderGeometry=pc,exports.CylinderBufferGeometry=dc,exports.CircleGeometry=gc,exports.CircleBufferGeometry=vc,exports.BoxGeometry=Ii,exports.BoxBufferGeometry=Ni,exports.ShadowMaterial=xc,exports.SpriteMaterial=Fa,exports.RawShaderMaterial=bc,exports.ShaderMaterial=Gi,exports.PointsMaterial=Ya,exports.MeshPhysicalMaterial=wc,exports.MeshStandardMaterial=_c,exports.MeshPhongMaterial=Mc,exports.MeshToonMaterial=Ec,exports.MeshNormalMaterial=Tc,exports.MeshLambertMaterial=Sc,exports.MeshDepthMaterial=_a,exports.MeshDistanceMaterial=wa,exports.MeshBasicMaterial=zi,exports.LineDashedMaterial=Ac,exports.LineBasicMaterial=ja,exports.Material=Fi,exports.Float64BufferAttribute=Ri,exports.Float32BufferAttribute=Ai,exports.Uint32BufferAttribute=Si,exports.Int32BufferAttribute=Ti,exports.Uint16BufferAttribute=Ei,exports.Int16BufferAttribute=Mi,exports.Uint8ClampedBufferAttribute=wi,exports.Uint8BufferAttribute=_i,exports.Int8BufferAttribute=bi,exports.BufferAttribute=xi,exports.ArcCurve=Hc,exports.CatmullRomCurve3=qc,exports.CubicBezierCurve=ih,exports.CubicBezierCurve3=oh,exports.EllipseCurve=Gc,exports.LineCurve=ah,exports.LineCurve3=sh,exports.QuadraticBezierCurve=ch,exports.QuadraticBezierCurve3=hh,exports.SplineCurve=lh,exports.REVISION=e,exports.MOUSE=r,exports.CullFaceNone=n,exports.CullFaceBack=i,exports.CullFaceFront=o,exports.CullFaceFrontBack=a,exports.FrontFaceDirectionCW=s,exports.FrontFaceDirectionCCW=c,exports.BasicShadowMap=h,exports.PCFShadowMap=l,exports.PCFSoftShadowMap=u,exports.FrontSide=p,exports.BackSide=d,exports.DoubleSide=f,exports.FlatShading=m,exports.SmoothShading=g,exports.NoColors=v,exports.FaceColors=y,exports.VertexColors=x,exports.NoBlending=b,exports.NormalBlending=_,exports.AdditiveBlending=w,exports.SubtractiveBlending=M,exports.MultiplyBlending=E,exports.CustomBlending=T,exports.AddEquation=S,exports.SubtractEquation=A,exports.ReverseSubtractEquation=R,exports.MinEquation=L,exports.MaxEquation=C,exports.ZeroFactor=P,exports.OneFactor=O,exports.SrcColorFactor=I,exports.OneMinusSrcColorFactor=N,exports.SrcAlphaFactor=D,exports.OneMinusSrcAlphaFactor=U,exports.DstAlphaFactor=B,exports.OneMinusDstAlphaFactor=F,exports.DstColorFactor=z,exports.OneMinusDstColorFactor=G,exports.SrcAlphaSaturateFactor=H,exports.NeverDepth=V,exports.AlwaysDepth=k,exports.LessDepth=j,exports.LessEqualDepth=W,exports.EqualDepth=X,exports.GreaterEqualDepth=q,exports.GreaterDepth=Y,exports.NotEqualDepth=J,exports.MultiplyOperation=Z,exports.MixOperation=Q,exports.AddOperation=K,exports.NoToneMapping=$,exports.LinearToneMapping=tt,exports.ReinhardToneMapping=et,exports.Uncharted2ToneMapping=rt,exports.CineonToneMapping=nt,exports.UVMapping=it,exports.CubeReflectionMapping=ot,exports.CubeRefractionMapping=at,exports.EquirectangularReflectionMapping=st,exports.EquirectangularRefractionMapping=ct,exports.SphericalReflectionMapping=ht,exports.CubeUVReflectionMapping=lt,exports.CubeUVRefractionMapping=ut,exports.RepeatWrapping=pt,exports.ClampToEdgeWrapping=dt,exports.MirroredRepeatWrapping=ft,exports.NearestFilter=mt,exports.NearestMipMapNearestFilter=gt,exports.NearestMipMapLinearFilter=vt,exports.LinearFilter=yt,exports.LinearMipMapNearestFilter=xt,exports.LinearMipMapLinearFilter=bt,exports.UnsignedByteType=_t,exports.ByteType=wt,exports.ShortType=Mt,exports.UnsignedShortType=Et,exports.IntType=Tt,exports.UnsignedIntType=St,exports.FloatType=At,exports.HalfFloatType=Rt,exports.UnsignedShort4444Type=Lt,exports.UnsignedShort5551Type=Ct,exports.UnsignedShort565Type=Pt,exports.UnsignedInt248Type=Ot,exports.AlphaFormat=It,exports.RGBFormat=Nt,exports.RGBAFormat=Dt,exports.LuminanceFormat=Ut,exports.LuminanceAlphaFormat=Bt,exports.RGBEFormat=Ft,exports.DepthFormat=zt,exports.DepthStencilFormat=Gt,exports.RGB_S3TC_DXT1_Format=Ht,exports.RGBA_S3TC_DXT1_Format=Vt,exports.RGBA_S3TC_DXT3_Format=kt,exports.RGBA_S3TC_DXT5_Format=jt,exports.RGB_PVRTC_4BPPV1_Format=Wt,exports.RGB_PVRTC_2BPPV1_Format=Xt,exports.RGBA_PVRTC_4BPPV1_Format=qt,exports.RGBA_PVRTC_2BPPV1_Format=Yt,exports.RGB_ETC1_Format=Jt,exports.RGBA_ASTC_4x4_Format=Zt,exports.RGBA_ASTC_5x4_Format=Qt,exports.RGBA_ASTC_5x5_Format=Kt,exports.RGBA_ASTC_6x5_Format=$t,exports.RGBA_ASTC_6x6_Format=te,exports.RGBA_ASTC_8x5_Format=ee,exports.RGBA_ASTC_8x6_Format=re,exports.RGBA_ASTC_8x8_Format=ne,exports.RGBA_ASTC_10x5_Format=ie,exports.RGBA_ASTC_10x6_Format=oe,exports.RGBA_ASTC_10x8_Format=ae,exports.RGBA_ASTC_10x10_Format=se,exports.RGBA_ASTC_12x10_Format=ce,exports.RGBA_ASTC_12x12_Format=he,exports.LoopOnce=le,exports.LoopRepeat=ue,exports.LoopPingPong=pe,exports.InterpolateDiscrete=de,exports.InterpolateLinear=fe,exports.InterpolateSmooth=me,exports.ZeroCurvatureEnding=ge,exports.ZeroSlopeEnding=ve,exports.WrapAroundEnding=ye,exports.TrianglesDrawMode=xe,exports.TriangleStripDrawMode=be,exports.TriangleFanDrawMode=_e,exports.LinearEncoding=we,exports.sRGBEncoding=Me,exports.GammaEncoding=Ee,exports.RGBEEncoding=Te,exports.LogLuvEncoding=Se,exports.RGBM7Encoding=Ae,exports.RGBM16Encoding=Re,exports.RGBDEncoding=Le,exports.BasicDepthPacking=Ce,exports.RGBADepthPacking=Pe,exports.TangentSpaceNormalMap=Oe,exports.ObjectSpaceNormalMap=Ie,exports.CubeGeometry=Ii,exports.Face4=Zl,exports.LineStrip=Ql,exports.LinePieces=Kl,exports.MeshFaceMaterial=$l,exports.MultiMaterial=tu,exports.PointCloud=eu,exports.Particle=ru,exports.ParticleSystem=nu,exports.PointCloudMaterial=iu,exports.ParticleBasicMaterial=ou,exports.ParticleSystemMaterial=au,exports.Vertex=su,exports.DynamicBufferAttribute=cu,exports.Int8Attribute=hu,exports.Uint8Attribute=lu,exports.Uint8ClampedAttribute=uu,exports.Int16Attribute=pu,exports.Uint16Attribute=du,exports.Int32Attribute=fu,exports.Uint32Attribute=mu,exports.Float32Attribute=gu,exports.Float64Attribute=vu,exports.ClosedSplineCurve3=yu,exports.SplineCurve3=xu,exports.Spline=bu,exports.AxisHelper=_u,exports.BoundingBoxHelper=wu,exports.EdgesHelper=Mu,exports.WireframeHelper=Eu,exports.XHRLoader=Tu,exports.BinaryTextureLoader=Su,exports.GeometryUtils=Au,exports.ImageUtils=Ru,exports.Projector=Lu,exports.CanvasRenderer=Cu,exports.SceneUtils=Pu,exports.LensFlare=Ou;
},{}],"djk6":[function(require,module,exports) {
"use strict";function t(){}Object.defineProperty(exports,"__esModule",{value:!0}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),Object.assign(t.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners[t];if(void 0!==r){var n=r.indexOf(e);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var r=e.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,t)}}}});var e="95",r={LEFT:0,MIDDLE:1,RIGHT:2},n=0,i=1,o=2,a=3,s=0,c=1,h=0,l=1,u=2,p=0,d=1,f=2,m=1,g=2,v=0,y=1,x=2,b=0,_=1,w=2,M=3,E=4,T=5,S=100,A=101,L=102,R=103,C=104,P=200,O=201,I=202,N=203,D=204,U=205,B=206,F=207,z=208,G=209,H=210,V=0,k=1,j=2,W=3,X=4,q=5,Y=6,J=7,Z=0,Q=1,K=2,$=0,tt=1,et=2,rt=3,nt=4,it=300,ot=301,at=302,st=303,ct=304,ht=305,lt=306,ut=307,pt=1e3,dt=1001,ft=1002,mt=1003,gt=1004,vt=1005,yt=1006,xt=1007,bt=1008,_t=1009,wt=1010,Mt=1011,Et=1012,Tt=1013,St=1014,At=1015,Lt=1016,Rt=1017,Ct=1018,Pt=1019,Ot=1020,It=1021,Nt=1022,Dt=1023,Ut=1024,Bt=1025,Ft=Dt,zt=1026,Gt=1027,Ht=33776,Vt=33777,kt=33778,jt=33779,Wt=35840,Xt=35841,qt=35842,Yt=35843,Jt=36196,Zt=37808,Qt=37809,Kt=37810,$t=37811,te=37812,ee=37813,re=37814,ne=37815,ie=37816,oe=37817,ae=37818,se=37819,ce=37820,he=37821,le=2200,ue=2201,pe=2202,de=2300,fe=2301,me=2302,ge=2400,ve=2401,ye=2402,xe=0,be=1,_e=2,we=3e3,Me=3001,Ee=3007,Te=3002,Se=3003,Ae=3004,Le=3005,Re=3006,Ce=3200,Pe=3201,Oe=0,Ie=1,Ne={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return(1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ne.DEG2RAD},radToDeg:function(t){return t*Ne.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function De(t,e){this.x=t||0,this.y=e||0}function Ue(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Be(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}function Fe(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}function ze(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(De.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(De.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new De,e=new De;return function(r,n){return t.set(r,r),e.set(n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*r-o*n+t.x,this.y=i*n+o*r+t.y,this}}),Object.assign(Ue.prototype,{isMatrix4:!0,set:function(t,e,r,n,i,o,a,s,c,h,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=h,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ue).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t=new Fe;return function(e){var r=this.elements,n=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[7]=0,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,r=t.x,n=t.y,i=t.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),c=Math.sin(n),h=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-a*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=o*s}else if("YXZ"===t.order){var m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*c,e[1]=o*l,e[5]=o*h,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order){m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m-y*a,e[4]=-o*l,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*h,e[9]=y-m*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){u=o*h,p=o*l,d=a*h,f=a*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=w-x*l,e[8]=_*l+b,e[1]=l,e[5]=o*h,e[9]=-a*h,e[2]=-c*h,e[6]=b*l+_,e[10]=x-w*l}else if("XZY"===t.order){x=o*s,b=o*c,_=a*s,w=a*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=o*h,e[9]=b*l-_,e[2]=_*l-b,e[6]=a*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new Fe(0,0,0),e=new Fe(1,1,1);return function(r){return this.compose(t,r,e)}}(),lookAt:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o){var a=this.elements;return r.subVectors(n,i),0===r.lengthSq()&&(r.z=1),r.normalize(),t.crossVectors(o,r),0===t.lengthSq()&&(1===Math.abs(o.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),t.crossVectors(o,r)),t.normalize(),e.crossVectors(r,t),a[0]=t.x,a[4]=e.x,a[8]=r.x,a[1]=t.y,a[5]=e.y,a[9]=r.y,a[2]=t.z,a[6]=e.z,a[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[4],s=r[8],c=r[12],h=r[1],l=r[5],u=r[9],p=r[13],d=r[2],f=r[6],m=r[10],g=r[14],v=r[3],y=r[7],x=r[11],b=r[15],_=n[0],w=n[4],M=n[8],E=n[12],T=n[1],S=n[5],A=n[9],L=n[13],R=n[2],C=n[6],P=n[10],O=n[14],I=n[3],N=n[7],D=n[11],U=n[15];return i[0]=o*_+a*T+s*R+c*I,i[4]=o*w+a*S+s*C+c*N,i[8]=o*M+a*A+s*P+c*D,i[12]=o*E+a*L+s*O+c*U,i[1]=h*_+l*T+u*R+p*I,i[5]=h*w+l*S+u*C+p*N,i[9]=h*M+l*A+u*P+p*D,i[13]=h*E+l*L+u*O+p*U,i[2]=d*_+f*T+m*R+g*I,i[6]=d*w+f*S+m*C+g*N,i[10]=d*M+f*A+m*P+g*D,i[14]=d*E+f*L+m*O+g*U,i[3]=v*_+y*T+x*R+b*I,i[7]=v*w+y*S+x*C+b*N,i[11]=v*M+y*A+x*P+b*D,i[15]=v*E+y*L+x*O+b*U,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix4(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+i*s*l-n*c*l-i*a*u+r*c*u+n*a*p-r*s*p)+t[7]*(+e*s*p-e*c*u+i*o*u-n*o*p+n*c*h-i*s*h)+t[11]*(+e*c*l-e*a*p-i*o*l+r*o*p+i*a*h-r*c*h)+t[15]*(-n*a*h-e*s*l+e*a*u+n*o*l-r*o*u+r*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=n[9],f=n[10],m=n[11],g=n[12],v=n[13],y=n[14],x=n[15],b=d*y*u-v*f*u+v*l*m-h*y*m-d*l*x+h*f*x,_=g*f*u-p*y*u-g*l*m+c*y*m+p*l*x-c*f*x,w=p*v*u-g*d*u+g*h*m-c*v*m-p*h*x+c*d*x,M=g*d*l-p*v*l-g*h*f+c*v*f+p*h*y-c*d*y,E=i*b+o*_+a*w+s*M;if(0===E){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return r[0]=b*S,r[1]=(v*f*s-d*y*s-v*a*m+o*y*m+d*a*x-o*f*x)*S,r[2]=(h*y*s-v*l*s+v*a*u-o*y*u-h*a*x+o*l*x)*S,r[3]=(d*l*s-h*f*s-d*a*u+o*f*u+h*a*m-o*l*m)*S,r[4]=_*S,r[5]=(p*y*s-g*f*s+g*a*m-i*y*m-p*a*x+i*f*x)*S,r[6]=(g*l*s-c*y*s-g*a*u+i*y*u+c*a*x-i*l*x)*S,r[7]=(c*f*s-p*l*s+p*a*u-i*f*u-c*a*m+i*l*m)*S,r[8]=w*S,r[9]=(g*d*s-p*v*s-g*o*m+i*v*m+p*o*x-i*d*x)*S,r[10]=(c*v*s-g*h*s+g*o*u-i*v*u-c*o*x+i*h*x)*S,r[11]=(p*h*s-c*d*s-p*o*u+i*d*u+c*o*m-i*h*m)*S,r[12]=M*S,r[13]=(p*v*a-g*d*a+g*o*f-i*v*f-p*o*y+i*d*y)*S,r[14]=(g*h*a-c*v*a-g*o*l+i*v*l+c*o*y-i*h*y)*S,r[15]=(c*d*a-p*h*a+p*o*l-i*d*l-c*o*f+i*h*f)*S,this},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,o=t.x,a=t.y,s=t.z,c=i*o,h=i*a;return this.set(c*o+r,c*a-n*s,c*s+n*a,0,c*a+n*s,h*a+r,h*s-n*o,0,c*s-n*a,h*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,r){var n=this.elements,i=e._x,o=e._y,a=e._z,s=e._w,c=i+i,h=o+o,l=a+a,u=i*c,p=i*h,d=i*l,f=o*h,m=o*l,g=a*l,v=s*c,y=s*h,x=s*l,b=r.x,_=r.y,w=r.z;return n[0]=(1-(f+g))*b,n[1]=(p+x)*b,n[2]=(d-y)*b,n[3]=0,n[4]=(p-x)*_,n[5]=(1-(u+g))*_,n[6]=(m+v)*_,n[7]=0,n[8]=(d+y)*w,n[9]=(m-v)*w,n[10]=(1-(u+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:function(){var t=new Fe,e=new Ue;return function(r,n,i){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],e.copy(this);var h=1/a,l=1/s,u=1/c;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,n.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,r,n,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(e-t),c=2*i/(r-n),h=(e+t)/(e-t),l=(r+n)/(r-n),u=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=h,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=u,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,r,n,i,o){var a=this.elements,s=1/(e-t),c=1/(r-n),h=1/(o-i),l=(e+t)*s,u=(r+n)*c,p=(o+i)*h;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-u,a[2]=0,a[6]=0,a[10]=-2*h,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}}),Object.assign(Be,{slerp:function(t,e,r,n){return r.copy(t).slerp(e,n)},slerpFlat:function(t,e,r,n,i,o,a){var s=r[n+0],c=r[n+1],h=r[n+2],l=r[n+3],u=i[o+0],p=i[o+1],d=i[o+2],f=i[o+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-a,g=s*u+c*p+h*d+l*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,g*v);m=Math.sin(m*b)/x,a=Math.sin(a*b)/x}var _=a*v;if(s=s*m+u*_,c=c*m+p*_,h=h*m+d*_,l=l*m+f*_,m===1-a){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),Object.defineProperties(Be.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Be.prototype,{set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,n=t._y,i=t._z,o=t.order,a=Math.cos,s=Math.sin,c=a(r/2),h=a(n/2),l=a(i/2),u=s(r/2),p=s(n/2),d=s(i/2);return"XYZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"YXZ"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"ZXY"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):"ZYX"===o?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):"YZX"===o?(this._x=u*h*l+c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l-u*p*d):"XZY"===o&&(this._x=u*h*l-c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l+u*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],c=r[9],h=r[2],l=r[6],u=r[10],p=n+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(o-h)*e,this._z=(a-i)*e):n>s&&n>u?(e=2*Math.sqrt(1+n-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+h)/e):s>u?(e=2*Math.sqrt(1+s-n-u),this._w=(o-h)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-n-s),this._w=(a-i)/e,this._x=(o+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Fe;return function(r,n){return void 0===e&&(e=new Fe),(t=r.dot(n)+1)<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,n),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Ne.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var r=this.angleTo(t);if(0===r)return this;var n=Math.min(1,e/r);return this.slerp(t,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,h=e._w;return this._x=r*h+o*a+n*c-i*s,this._y=n*h+o*s+i*a-r*c,this._z=i*h+o*c+r*s-n*a,this._w=o*h-r*a-n*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*t._w+r*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-e;return this._w=c*o+e*this._w,this._x=c*r+e*this._x,this._y=c*n+e*this._y,this._z=c*i+e*this._z,this.normalize()}var h=Math.sqrt(s),l=Math.atan2(h,a),u=Math.sin((1-e)*l)/h,p=Math.sin(e*l)/h;return this._w=o*u+this._w*p,this._x=r*u+this._x*p,this._y=n*u+this._y*p,this._z=i*u+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Fe.prototype,{isVector3:!0,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Be;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new Be;return function(e,r){return this.applyQuaternion(t.setFromAxisAngle(e,r))}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,o=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*n-a*r,h=s*r+a*e-i*n,l=s*n+i*r-o*e,u=-i*e-o*r-a*n;return this.x=c*s+u*-i+h*-a-l*-o,this.y=h*s+u*-o+l*-i-c*-a,this.z=l*s+u*-a+c*-o-h*-i,this},project:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new Ue;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Fe,e=new Fe;return function(r,n){return t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Fe;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Fe;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Ne.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(ze.prototype,{isMatrix3:!0,set:function(t,e,r,n,i,o,a,s,c){var h=this.elements;return h[0]=t,h[1]=n,h[2]=a,h[3]=e,h[4]=i,h[5]=s,h[6]=r,h[7]=o,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Fe;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix3(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,o=r[0],a=r[3],s=r[6],c=r[1],h=r[4],l=r[7],u=r[2],p=r[5],d=r[8],f=n[0],m=n[3],g=n[6],v=n[1],y=n[4],x=n[7],b=n[2],_=n[5],w=n[8];return i[0]=o*f+a*v+s*b,i[3]=o*m+a*y+s*_,i[6]=o*g+a*x+s*w,i[1]=c*f+h*v+l*b,i[4]=c*m+h*y+l*_,i[7]=c*g+h*x+l*w,i[2]=u*f+p*v+d*b,i[5]=u*m+p*y+d*_,i[8]=u*g+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],h=t[8];return e*o*h-e*a*c-r*i*h+r*a*s+n*i*c-n*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=t.elements,n=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],h=r[5],l=r[6],u=r[7],p=r[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,g=i*d+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return n[0]=d*y,n[1]=(a*u-p*o)*y,n[2]=(h*o-a*c)*y,n[3]=f*y,n[4]=(p*i-a*l)*y,n[5]=(a*s-h*i)*y,n[6]=m*y,n[7]=(o*l-u*i)*y,n[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,r,n,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(r*s,r*c,-r*(s*o+c*a)+o+t,-n*c,n*s,-n*(-c*o+s*a)+a+e,0,0,1)},scale:function(t,e){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this},rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],o=n[3],a=n[6],s=n[1],c=n[4],h=n[7];return n[0]=e*i+r*s,n[3]=e*o+r*c,n[6]=e*a+r*h,n[1]=-r*i+e*s,n[4]=-r*o+e*c,n[7]=-r*a+e*h,this},translate:function(t,e){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}});var Ge={getDataURL:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{"undefined"!=typeof OffscreenCanvas?e=new OffscreenCanvas(t.width,t.height):((e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.width,e.height=t.height);var r=e.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},He=0;function Ve(t,e,r,n,i,o,a,s,c,h){Object.defineProperty(this,"id",{value:He++}),this.uuid=Ne.generateUUID(),this.name="",this.image=void 0!==t?t:Ve.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Ve.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:dt,this.wrapT=void 0!==n?n:dt,this.magFilter=void 0!==i?i:yt,this.minFilter=void 0!==o?o:bt,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Dt,this.type=void 0!==s?s:_t,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ze,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:we,this.version=0,this.onUpdate=null}function ke(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}function je(t,e,r){this.width=t,this.height=e,this.scissor=new ke(0,0,t,e),this.scissorTest=!1,this.viewport=new ke(0,0,t,e),void 0===(r=r||{}).minFilter&&(r.minFilter=yt),this.texture=new Ve(void 0,void 0,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.generateMipmaps=void 0===r.generateMipmaps||r.generateMipmaps,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function We(t,e,r){je.call(this,t,e,r),this.activeCubeFace=0,this.activeMipMapLevel=0}function Xe(t,e,r,n,i,o,a,s,c,h,l,u){Ve.call(this,null,o,a,s,c,h,n,i,l,u),this.image={data:t,width:e,height:r},this.magFilter=void 0!==c?c:mt,this.minFilter=void 0!==h?h:mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function qe(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0,-1/0)}function Ye(t,e){this.center=void 0!==t?t:new Fe,this.radius=void 0!==e?e:0}function Je(t,e){this.normal=void 0!==t?t:new Fe(1,0,0),this.constant=void 0!==e?e:0}function Ze(t,e,r,n,i,o){this.planes=[void 0!==t?t:new Je,void 0!==e?e:new Je,void 0!==r?r:new Je,void 0!==n?n:new Je,void 0!==i?i:new Je,void 0!==o?o:new Je]}Ve.DEFAULT_IMAGE=void 0,Ve.DEFAULT_MAPPING=it,Ve.prototype=Object.assign(Object.create(t.prototype),{constructor:Ve,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=Ne.generateUUID()),!e&&void 0===t.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var o=0,a=n.length;o<a;o++)i.push(Ge.getDataURL(n[o]))}else i=Ge.getDataURL(n);t.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return e||(t.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===it){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case pt:t.x=t.x-Math.floor(t.x);break;case dt:t.x=t.x<0?0:1;break;case ft:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case pt:t.y=t.y-Math.floor(t.y);break;case dt:t.y=t.y<0?0:1;break;case ft:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(Ve.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(ke.prototype,{isVector4:!0,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*e+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*e+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*e+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,o=t.elements,a=o[0],s=o[4],c=o[8],h=o[1],l=o[5],u=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-h)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+h)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(a+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,g=(l+1)/2,v=(f+1)/2,y=(s+h)/4,x=(c+p)/4,b=(u+d)/4;return m>g&&m>v?m<.01?(r=0,n=.707106781,i=.707106781):(n=y/(r=Math.sqrt(m)),i=x/r):g>v?g<.01?(r=.707106781,n=0,i=.707106781):(r=y/(n=Math.sqrt(g)),i=b/n):v<.01?(r=.707106781,n=.707106781,i=0):(r=x/(i=Math.sqrt(v)),n=b/i),this.set(r,n,i,e),this}var _=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(h-s)*(h-s));return Math.abs(_)<.001&&(_=1),this.x=(d-u)/_,this.y=(c-p)/_,this.z=(h-s)/_,this.w=Math.acos((a+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,n){return void 0===t&&(t=new ke,e=new ke),t.set(r,r,r,r),e.set(n,n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),je.prototype=Object.assign(Object.create(t.prototype),{constructor:je,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),We.prototype=Object.create(je.prototype),We.prototype.constructor=We,We.prototype.isWebGLRenderTargetCube=!0,Xe.prototype=Object.create(Ve.prototype),Xe.prototype.constructor=Xe,Xe.prototype.isDataTexture=!0,Object.assign(qe.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.count;s<c;s++){var h=t.getX(s),l=t.getY(s),u=t.getZ(s);h<e&&(e=h),l<r&&(r=l),u<n&&(n=u),h>i&&(i=h),l>o&&(o=l),u>a&&(a=u)}return this.min.set(e,r,n),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Fe),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,r,n=new Fe;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(e=0,r=a.length;e<r;e++)n.copy(a[e]),n.applyMatrix4(i.matrixWorld),t.expandByPoint(n)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(e=0,r=s.count;e<r;e++)n.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(n)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Fe;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=t.constant&&r>=t.constant},intersectsTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new Fe;function l(n){var i,o;for(i=0,o=n.length-3;i<=o;i+=3){a.fromArray(n,i);var s=c.x*Math.abs(a.x)+c.y*Math.abs(a.y)+c.z*Math.abs(a.z),h=t.dot(a),l=e.dot(a),u=r.dot(a);if(Math.max(-Math.max(h,l,u),Math.min(h,l,u))>s)return!1}return!0}return function(a){if(this.isEmpty())return!1;this.getCenter(s),c.subVectors(this.max,s),t.subVectors(a.a,s),e.subVectors(a.b,s),r.subVectors(a.c,s),n.subVectors(e,t),i.subVectors(r,e),o.subVectors(t,r);var u=[0,-n.z,n.y,0,-i.z,i.y,0,-o.z,o.y,n.z,0,-n.x,i.z,0,-i.x,o.z,0,-o.x,-n.y,n.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!l(u)&&(!!l(u=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(n,i),l(u=[h.x,h.y,h.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Fe;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new Ye),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,r=e[0]*this.min.x,n=e[1]*this.min.x,i=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,c=e[4]*this.min.y,h=e[5]*this.min.y,l=e[6]*this.min.y,u=e[4]*this.max.y,p=e[5]*this.max.y,d=e[6]*this.max.y,f=e[8]*this.min.z,m=e[9]*this.min.z,g=e[10]*this.min.z,v=e[8]*this.max.z,y=e[9]*this.max.z,x=e[10]*this.max.z;return this.min.x=Math.min(r,o)+Math.min(c,u)+Math.min(f,v)+e[12],this.min.y=Math.min(n,a)+Math.min(h,p)+Math.min(m,y)+e[13],this.min.z=Math.min(i,s)+Math.min(l,d)+Math.min(g,x)+e[14],this.max.x=Math.max(r,o)+Math.max(c,u)+Math.max(f,v)+e[12],this.max.y=Math.max(n,a)+Math.max(h,p)+Math.max(m,y)+e[13],this.max.z=Math.max(i,s)+Math.max(l,d)+Math.max(g,x)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Ye.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new qe;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).getCenter(n);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var r=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Fe),e.copy(t),r>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new qe),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Je.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,r,n){return this.normal.set(t,e,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Fe,e=new Fe;return function(r,n,i){var o=t.subVectors(i,n).cross(e.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Fe),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Fe;return function(e,r){void 0===r&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new Fe);var n=e.delta(t),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:r.copy(n).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return e<0&&r>0||r<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Fe),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Fe,e=new ze;return function(r,n){var i=n||e.getNormalMatrix(r),o=this.coplanarPoint(t).applyMatrix4(r),a=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Ze.prototype,{set:function(t,e,r,n,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,r=0;r<6;r++)e[r].copy(t.planes[r]);return this},setFromMatrix:function(t){var e=this.planes,r=t.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],h=r[6],l=r[7],u=r[8],p=r[9],d=r[10],f=r[11],m=r[12],g=r[13],v=r[14],y=r[15];return e[0].setComponents(a-n,l-s,f-u,y-m).normalize(),e[1].setComponents(a+n,l+s,f+u,y+m).normalize(),e[2].setComponents(a+i,l+c,f+p,y+g).normalize(),e[3].setComponents(a-i,l-c,f-p,y-g).normalize(),e[4].setComponents(a-o,l-h,f-d,y-v).normalize(),e[5].setComponents(a+o,l+h,f+d,y+v).normalize(),this},intersectsObject:function(){var t=new Ye;return function(e){var r=e.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),t.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Ye;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,r=t.center,n=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(){var t=new Fe;return function(e){for(var r=this.planes,n=0;n<6;n++){var i=r[n];if(t.x=i.normal.x>0?e.max.x:e.min.x,t.y=i.normal.y>0?e.max.y:e.min.y,t.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,r=0;r<6;r++)if(e[r].distanceToPoint(t)<0)return!1;return!0}});var Qe="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Ke="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",$e="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",tr="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",er="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",rr="\nvec3 transformed = vec3( position );\n",nr="\nvec3 objectNormal = vec3( normal );\n",ir="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",or="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",ar="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",sr="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",cr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",hr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",lr="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",ur="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",pr="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",dr="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",fr="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",mr="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",gr="vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",vr="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",yr="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",xr="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",br="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",_r="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",wr="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",Mr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Er="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Tr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Sr="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Ar="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",Lr="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",Rr="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Cr="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",Pr="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",Or="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Ir="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Nr="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Dr="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",Ur="#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Br="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Fr="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",zr="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",Gr="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Hr="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",Vr="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",kr="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",jr="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Wr="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Xr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",qr="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",Yr="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Jr="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Zr="#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Qr="#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",Kr="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",$r="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",tn="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",en="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",rn="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",nn="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",on="#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",an="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",sn="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",cn="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",hn="vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",ln="#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",un="#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",pn="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",dn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",fn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",mn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",gn="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",vn="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",yn="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",xn="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",bn="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",_n="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",wn="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Mn="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",En="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",Tn="#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Sn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",An="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",Ln="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Rn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Cn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Pn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",On="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",In="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",Nn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",Dn="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",Un="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Bn="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",Fn="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",zn="uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",Gn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",Hn="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Vn="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",kn="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",jn="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",Wn="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Xn="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",qn="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Yn="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Jn="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",Zn="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",Qn="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",Kn="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",$n="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",ti="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",ei="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",ri="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",ni="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",ii="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",oi={alphamap_fragment:Qe,alphamap_pars_fragment:Ke,alphatest_fragment:$e,aomap_fragment:tr,aomap_pars_fragment:er,begin_vertex:rr,beginnormal_vertex:nr,bsdfs:ir,bumpmap_pars_fragment:or,clipping_planes_fragment:ar,clipping_planes_pars_fragment:sr,clipping_planes_pars_vertex:cr,clipping_planes_vertex:hr,color_fragment:lr,color_pars_fragment:ur,color_pars_vertex:pr,color_vertex:dr,common:fr,cube_uv_reflection_fragment:mr,defaultnormal_vertex:gr,displacementmap_pars_vertex:vr,displacementmap_vertex:yr,emissivemap_fragment:xr,emissivemap_pars_fragment:br,encodings_fragment:_r,encodings_pars_fragment:wr,envmap_fragment:Mr,envmap_pars_fragment:Er,envmap_pars_vertex:Tr,envmap_physical_pars_fragment:Ur,envmap_vertex:Sr,fog_vertex:Ar,fog_pars_vertex:Lr,fog_fragment:Rr,fog_pars_fragment:Cr,gradientmap_pars_fragment:Pr,lightmap_fragment:Or,lightmap_pars_fragment:Ir,lights_lambert_vertex:Nr,lights_pars_begin:Dr,lights_phong_fragment:Br,lights_phong_pars_fragment:Fr,lights_physical_fragment:zr,lights_physical_pars_fragment:Gr,lights_fragment_begin:Hr,lights_fragment_maps:Vr,lights_fragment_end:kr,logdepthbuf_fragment:jr,logdepthbuf_pars_fragment:Wr,logdepthbuf_pars_vertex:Xr,logdepthbuf_vertex:qr,map_fragment:Yr,map_pars_fragment:Jr,map_particle_fragment:Zr,map_particle_pars_fragment:Qr,metalnessmap_fragment:Kr,metalnessmap_pars_fragment:$r,morphnormal_vertex:tn,morphtarget_pars_vertex:en,morphtarget_vertex:rn,normal_fragment_begin:nn,normal_fragment_maps:on,normalmap_pars_fragment:an,packing:sn,premultiplied_alpha_fragment:cn,project_vertex:hn,dithering_fragment:ln,dithering_pars_fragment:un,roughnessmap_fragment:pn,roughnessmap_pars_fragment:dn,shadowmap_pars_fragment:fn,shadowmap_pars_vertex:mn,shadowmap_vertex:gn,shadowmask_pars_fragment:vn,skinbase_vertex:yn,skinning_pars_vertex:xn,skinning_vertex:bn,skinnormal_vertex:_n,specularmap_fragment:wn,specularmap_pars_fragment:Mn,tonemapping_fragment:En,tonemapping_pars_fragment:Tn,uv_pars_fragment:Sn,uv_pars_vertex:An,uv_vertex:Ln,uv2_pars_fragment:Rn,uv2_pars_vertex:Cn,uv2_vertex:Pn,worldpos_vertex:On,cube_frag:In,cube_vert:Nn,depth_frag:Dn,depth_vert:Un,distanceRGBA_frag:Bn,distanceRGBA_vert:Fn,equirect_frag:zn,equirect_vert:Gn,linedashed_frag:Hn,linedashed_vert:Vn,meshbasic_frag:kn,meshbasic_vert:jn,meshlambert_frag:Wn,meshlambert_vert:Xn,meshphong_frag:qn,meshphong_vert:Yn,meshphysical_frag:Jn,meshphysical_vert:Zn,normal_frag:Qn,normal_vert:Kn,points_frag:$n,points_vert:ti,shadow_frag:ei,shadow_vert:ri,sprite_frag:ni,sprite_vert:ii},ai={merge:function(t){for(var e={},r=0;r<t.length;r++){var n=this.clone(t[r]);for(var i in n)e[i]=n[i]}return e},clone:function(t){var e={};for(var r in t)for(var n in e[r]={},t[r]){var i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}return e}},si={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ci(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}Object.assign(ci.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=Ne.euclideanModulo(e,1),r=Ne.clamp(r,0,1),n=Ne.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+r):n+r-n*r,o=2*n-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(a,s,c)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var h,l=(h=r[1]).length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(h=si[t])?this.setHex(h):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,r,n=this.r,i=this.g,o=this.b,a=Math.max(n,i,o),s=Math.min(n,i,o),c=(s+a)/2;if(s===a)e=0,r=0;else{var h=a-s;switch(r=c<=.5?h/(a+s):h/(2-a-s),a){case n:e=(i-o)/h+(i<o?6:0);break;case i:e=(o-n)/h+2;break;case o:e=(n-i)/h+4}e/=6}return t.h=e,t.s=r,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,r,n){return this.getHSL(t),t.h+=e,t.s+=r,t.l+=n,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var hi={common:{diffuse:{value:new ci(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ze},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ci(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new ci(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new ze}},sprite:{diffuse:{value:new ci(15658734)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new ze}}},li={basic:{uniforms:ai.merge([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.fog]),vertexShader:oi.meshbasic_vert,fragmentShader:oi.meshbasic_frag},lambert:{uniforms:ai.merge([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.fog,hi.lights,{emissive:{value:new ci(0)}}]),vertexShader:oi.meshlambert_vert,fragmentShader:oi.meshlambert_frag},phong:{uniforms:ai.merge([hi.common,hi.specularmap,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.gradientmap,hi.fog,hi.lights,{emissive:{value:new ci(0)},specular:{value:new ci(1118481)},shininess:{value:30}}]),vertexShader:oi.meshphong_vert,fragmentShader:oi.meshphong_frag},standard:{uniforms:ai.merge([hi.common,hi.envmap,hi.aomap,hi.lightmap,hi.emissivemap,hi.bumpmap,hi.normalmap,hi.displacementmap,hi.roughnessmap,hi.metalnessmap,hi.fog,hi.lights,{emissive:{value:new ci(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:oi.meshphysical_vert,fragmentShader:oi.meshphysical_frag},points:{uniforms:ai.merge([hi.points,hi.fog]),vertexShader:oi.points_vert,fragmentShader:oi.points_frag},dashed:{uniforms:ai.merge([hi.common,hi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:oi.linedashed_vert,fragmentShader:oi.linedashed_frag},depth:{uniforms:ai.merge([hi.common,hi.displacementmap]),vertexShader:oi.depth_vert,fragmentShader:oi.depth_frag},normal:{uniforms:ai.merge([hi.common,hi.bumpmap,hi.normalmap,hi.displacementmap,{opacity:{value:1}}]),vertexShader:oi.normal_vert,fragmentShader:oi.normal_frag},sprite:{uniforms:ai.merge([hi.sprite,hi.fog]),vertexShader:oi.sprite_vert,fragmentShader:oi.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:oi.cube_vert,fragmentShader:oi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:oi.equirect_vert,fragmentShader:oi.equirect_frag},distanceRGBA:{uniforms:ai.merge([hi.common,hi.displacementmap,{referencePosition:{value:new Fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:oi.distanceRGBA_vert,fragmentShader:oi.distanceRGBA_frag},shadow:{uniforms:ai.merge([hi.lights,hi.fog,{color:{value:new ci(0)},opacity:{value:1}}]),vertexShader:oi.shadow_vert,fragmentShader:oi.shadow_frag}};function ui(){var t=null,e=!1,r=null;function n(i,o){!1!==e&&(r(i,o),t.requestAnimationFrame(n))}return{start:function(){!0!==e&&null!==r&&(t.requestAnimationFrame(n),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){r=t},setContext:function(e){t=e}}}function pi(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(r){r.isInterleavedBufferAttribute&&(r=r.data);var n=e.get(r);n&&(t.deleteBuffer(n.buffer),e.delete(r))},update:function(r,n){r.isInterleavedBufferAttribute&&(r=r.data);var i=e.get(r);void 0===i?e.set(r,function(e,r){var n=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(r,o),t.bufferData(r,n,i),e.onUploadCallback();var a=t.FLOAT;return n instanceof Float32Array?a=t.FLOAT:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?a=t.UNSIGNED_SHORT:n instanceof Int16Array?a=t.SHORT:n instanceof Uint32Array?a=t.UNSIGNED_INT:n instanceof Int32Array?a=t.INT:n instanceof Int8Array?a=t.BYTE:n instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}(r,n)):i.version<r.version&&(function(e,r,n){var i=r.array,o=r.updateRange;t.bindBuffer(n,e),!1===r.dynamic?t.bufferData(n,i,t.STATIC_DRAW):-1===o.count?t.bufferSubData(n,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,r,n),i.version=r.version)}}}function di(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._order=n||di.DefaultOrder}function fi(){this.mask=1}li.physical={uniforms:ai.merge([li.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:oi.meshphysical_vert,fragmentShader:oi.meshphysical_frag},di.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],di.DefaultOrder="XYZ",Object.defineProperties(di.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(di.prototype,{isEuler:!0,set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=Ne.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],h=i[5],l=i[9],u=i[2],p=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,h),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,h))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Ue;return function(e,r,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Be;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Fe(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(fi.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var mi=0;function gi(){Object.defineProperty(this,"id",{value:mi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gi.DefaultUp.clone();var t=new Fe,e=new di,r=new Be,n=new Fe(1,1,1);e.onChange(function(){r.setFromEuler(e,!1)}),r.onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Ue},normalMatrix:{value:new ze}}),this.matrix=new Ue,this.matrixWorld=new Ue,this.matrixAutoUpdate=gi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new fi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function vi(){gi.call(this),this.type="Camera",this.matrixWorldInverse=new Ue,this.projectionMatrix=new Ue}function yi(t,e,r,n,i,o){vi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function xi(t,e,r,n,i,o){this.a=t,this.b=e,this.c=r,this.normal=n&&n.isVector3?n:new Fe,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new ci,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}gi.DefaultUp=new Fe(0,1,0),gi.DefaultMatrixAutoUpdate=!0,gi.prototype=Object.assign(Object.create(t.prototype),{constructor:gi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new Be;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Fe(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Fe(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Fe(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Fe;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new Fe(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Fe(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Fe(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Ue;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Ue,e=new Fe;return function(r,n,i){r.isVector3?e.copy(r):e.set(r,n,i),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Fe),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Fe,e=new Fe;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new Be),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldScale:function(){var t=new Fe,e=new Be;return function(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new Fe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||"string"==typeof t,r={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){n.geometry=i(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var h=a[s];i(t.shapes,h)}else i(t.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(i(t.materials,this.material[s]));n.material=l}else n.material=i(t.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(t).object)}if(e){var u=m(t.geometries),p=m(t.materials),d=m(t.textures),f=m(t.images);a=m(t.shapes);u.length>0&&(r.geometries=u),p.length>0&&(r.materials=p),d.length>0&&(r.textures=d),f.length>0&&(r.images=f),a.length>0&&(r.shapes=a)}return r.object=n,r;function m(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}}),vi.prototype=Object.assign(Object.create(gi.prototype),{constructor:vi,isCamera:!0,copy:function(t,e){return gi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new Be;return function(e){return void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Fe),this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){gi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),yi.prototype=Object.assign(Object.create(vi.prototype),{constructor:yi,isOrthographicCamera:!0,copy:function(t,e){return vi.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,r,n,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-t,o=r+t,a=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;o=(i+=l*(this.view.offsetX/c))+l*(this.view.width/c),s=(a-=u*(this.view.offsetY/h))-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=gi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(xi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var bi=0;function _i(){Object.defineProperty(this,"id",{value:bi+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function wi(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Mi(t,e,r){wi.call(this,new Int8Array(t),e,r)}function Ei(t,e,r){wi.call(this,new Uint8Array(t),e,r)}function Ti(t,e,r){wi.call(this,new Uint8ClampedArray(t),e,r)}function Si(t,e,r){wi.call(this,new Int16Array(t),e,r)}function Ai(t,e,r){wi.call(this,new Uint16Array(t),e,r)}function Li(t,e,r){wi.call(this,new Int32Array(t),e,r)}function Ri(t,e,r){wi.call(this,new Uint32Array(t),e,r)}function Ci(t,e,r){wi.call(this,new Float32Array(t),e,r)}function Pi(t,e,r){wi.call(this,new Float64Array(t),e,r)}function Oi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ii(t){if(0===t.length)return-1/0;for(var e=t[0],r=1,n=t.length;r<n;++r)t[r]>e&&(e=t[r]);return e}_i.prototype=Object.assign(Object.create(t.prototype),{constructor:_i,isGeometry:!0,applyMatrix:function(t){for(var e=(new ze).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(t)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new gi;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,r=null!==t.index?t.index.array:void 0,n=t.attributes,i=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,a=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],u=[],p=0,d=0;p<i.length;p+=3,d+=2)e.vertices.push(new Fe(i[p],i[p+1],i[p+2])),void 0!==o&&h.push(new Fe(o[p],o[p+1],o[p+2])),void 0!==a&&e.colors.push(new ci(a[p],a[p+1],a[p+2])),void 0!==s&&l.push(new De(s[d],s[d+1])),void 0!==c&&u.push(new De(c[d],c[d+1]));function f(t,r,n,i){var p=new xi(t,r,n,void 0!==o?[h[t].clone(),h[r].clone(),h[n].clone()]:[],void 0!==a?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[r].clone(),l[n].clone()]),void 0!==c&&e.faceVertexUvs[1].push([u[t].clone(),u[r].clone(),u[n].clone()])}var m=t.groups;if(m.length>0)for(p=0;p<m.length;p++)for(var g=m[p],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==r?f(r[d],r[d+1],r[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==r)for(p=0;p<r.length;p+=3)f(r[p],r[p+1],r[p+2]);else for(p=0;p<i.length/3;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new Ue;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new Fe,e=new Fe,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,r,n,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)a[e]=new Fe;if(t){var s,c,h,l=new Fe,u=new Fe;for(n=0,i=this.faces.length;n<i;n++)o=this.faces[n],s=this.vertices[o.a],c=this.vertices[o.b],h=this.vertices[o.c],l.subVectors(h,c),u.subVectors(s,c),l.cross(u),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a[(o=this.faces[n]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,r=this.vertices.length;e<r;e++)a[e].normalize();for(n=0,i=this.faces.length;n<i;n++){var p=(o=this.faces[n]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,r;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var n=(r=this.faces[t]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new _i;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)c=new Fe,h={a:new Fe,b:new Fe,c:new Fe},a.push(c),s.push(h)}var c,h,l=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],c=l.faceNormals[r],h=l.vertexNormals[r],c.copy(i.normal),h.a.copy(i.vertexNormals[0]),h.b.copy(i.vertexNormals[1]),h.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new qe),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ye),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===r&&(r=0),void 0!==e&&(n=(new ze).getNormalMatrix(e));for(var d=0,f=a.length;d<f;d++){var m=a[d].clone();void 0!==e&&m.applyMatrix4(e),o.push(m)}for(d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,x=c[d],b=x.vertexNormals,_=x.vertexColors;(g=new xi(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var w=0,M=b.length;w<M;w++)v=b[w].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(w=0,M=_.length;w<M;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+r,s.push(g)}for(d=0,f=l.length;d<f;d++){var E=l[d],T=[];if(void 0!==E){for(w=0,M=E.length;w<M;w++)T.push(E[w].clone());h.push(T)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,r,n,i,o,a,s,c={},h=[],l=[],u=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],void 0===c[e=Math.round(t.x*u)+"_"+Math.round(t.y*u)+"_"+Math.round(t.z*u)]?(c[e]=r,h.push(this.vertices[r]),l[r]=h.length-1):l[r]=l[c[e]];var p=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(r);break}}for(r=p.length-1;r>=0;r--){var f=p[r];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-h.length;return this.vertices=h,m},setFromPoints:function(t){this.vertices=[];for(var e=0,r=t.length;e<r;e++){var n=t[e];this.vertices.push(new Fe(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,r=0;r<e;r++)t[r]._id=r;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(n=[]),a&&a.length===e&&(i=[]);for(r=0;r<e;r++){var s=t[r]._id;n&&n.push(o[s]),i&&i.push(a[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}for(var n=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];n.push(o.x,o.y,o.z)}var a=[],s=[],c={},h=[],l={},u=[],p={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,g),x=M(x,6,v),x=M(x,7,y),a.push(x),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var b=this.faceVertexUvs[0][i];a.push(S(b[0]),S(b[1]),S(b[2]))}if(m&&a.push(E(d.normal)),g){var _=d.vertexNormals;a.push(E(_[0]),E(_[1]),E(_[2]))}if(v&&a.push(T(d.color)),y){var w=d.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function M(t,e,r){return r?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=s.length/3,s.push(t.x,t.y,t.z),c[e])}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=h.length,h.push(t.getHex()),l[e])}function S(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/2,u.push(t.x,t.y),p[e])}return t.data={},t.data.vertices=n,t.data.normals=s,h.length>0&&(t.data.colors=h),u.length>0&&(t.data.uvs=[u]),t.data.faces=a,t},clone:function(){return(new _i).copy(this)},copy:function(t){var e,r,n,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,r=s.length;e<r;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,r=c.length;e<r;e++)this.colors.push(c[e].clone());var h=t.faces;for(e=0,r=h.length;e<r;e++)this.faces.push(h[e].clone());for(e=0,r=t.faceVertexUvs.length;e<r;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,i=l.length;n<i;n++){var u=l[n],p=[];for(o=0,a=u.length;o<a;o++){var d=u[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,r=f.length;e<r;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,i=f[e].vertices.length;n<i;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,i=f[e].normals.length;n<i;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,r=g.length;e<r;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],n=0,i=g[e].vertexNormals.length;n<i;n++){var y=g[e].vertexNormals[n],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],n=0,i=g[e].faceNormals.length;n<i;n++)v.faceNormals.push(g[e].faceNormals[n].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,r=b.length;e<r;e++)this.skinWeights.push(b[e].clone());var _=t.skinIndices;for(e=0,r=_.length;e<r;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,r=w.length;e<r;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(wi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new ci),e[r++]=o.r,e[r++]=o.g,e[r++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new De),e[r++]=o.x,e[r++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new Fe),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new ke),e[r++]=o.x,e[r++]=o.y,e[r++]=o.z,e[r++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),Mi.prototype=Object.create(wi.prototype),Mi.prototype.constructor=Mi,Ei.prototype=Object.create(wi.prototype),Ei.prototype.constructor=Ei,Ti.prototype=Object.create(wi.prototype),Ti.prototype.constructor=Ti,Si.prototype=Object.create(wi.prototype),Si.prototype.constructor=Si,Ai.prototype=Object.create(wi.prototype),Ai.prototype.constructor=Ai,Li.prototype=Object.create(wi.prototype),Li.prototype.constructor=Li,Ri.prototype=Object.create(wi.prototype),Ri.prototype.constructor=Ri,Ci.prototype=Object.create(wi.prototype),Ci.prototype.constructor=Ci,Pi.prototype=Object.create(wi.prototype),Pi.prototype.constructor=Pi,Object.assign(Oi.prototype,{computeGroups:function(t){for(var e,r=[],n=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,r.push(e)),e={start:3*o,materialIndex:n})}void 0!==e&&(e.count=3*o-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,r=t.faces,n=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var h=0;h<c;h++)e[h]=[];this.morphTargets.position=e}var l,u=t.morphNormals,p=u.length;if(p>0){l=[];for(h=0;h<p;h++)l[h]=[];this.morphTargets.normal=l}var d=t.skinIndices,f=t.skinWeights,m=d.length===n.length,g=f.length===n.length;n.length>0&&0===r.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(h=0;h<r.length;h++){var v=r[h];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=v.normal;this.normals.push(x,x,x)}var b,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(b=i[0][h])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",h),this.uvs.push(new De,new De,new De));if(!0===a)void 0!==(b=i[1][h])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",h),this.uvs2.push(new De,new De,new De));for(var M=0;M<c;M++){var E=s[M].vertices;e[M].push(E[v.a],E[v.b],E[v.c])}for(M=0;M<p;M++){var T=u[M].vertexNormals[h];l[M].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Ni=1;function Di(){Object.defineProperty(this,"id",{value:Ni+=2}),this.uuid=Ne.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function Ui(t,e,r,n,i,o){_i.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Bi(t,e,r,n,i,o)),this.mergeVertices()}function Bi(t,e,r,n,i,o){Di.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};var a=this;t=t||1,e=e||1,r=r||1,n=Math.floor(n)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],h=[],l=[],u=0,p=0;function d(t,e,r,n,i,o,d,f,m,g,v){var y,x,b=o/m,_=d/g,w=o/2,M=d/2,E=f/2,T=m+1,S=g+1,A=0,L=0,R=new Fe;for(x=0;x<S;x++){var C=x*_-M;for(y=0;y<T;y++){var P=y*b-w;R[t]=P*n,R[e]=C*i,R[r]=E,c.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[r]=f>0?1:-1,h.push(R.x,R.y,R.z),l.push(y/m),l.push(1-x/g),A+=1}}for(x=0;x<g;x++)for(y=0;y<m;y++){var O=u+y+T*x,I=u+y+T*(x+1),N=u+(y+1)+T*(x+1),D=u+(y+1)+T*x;s.push(O,I,D),s.push(I,N,D),L+=6}a.addGroup(p,L,v),p+=L,u+=A}d("z","y","x",-1,-1,r,e,t,o,i,0),d("z","y","x",1,-1,r,e,-t,o,i,1),d("x","z","y",1,1,t,r,e,n,o,2),d("x","z","y",1,-1,t,r,-e,n,o,3),d("x","y","z",1,-1,t,e,r,n,i,4),d("x","y","z",-1,-1,t,e,-r,n,i,5),this.setIndex(s),this.addAttribute("position",new Ci(c,3)),this.addAttribute("normal",new Ci(h,3)),this.addAttribute("uv",new Ci(l,2))}function Fi(t,e,r,n){_i.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new zi(t,e,r,n)),this.mergeVertices()}function zi(t,e,r,n){Di.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:r,heightSegments:n};var i,o,a=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(r)||1,h=Math.floor(n)||1,l=c+1,u=h+1,p=t/c,d=e/h,f=[],m=[],g=[],v=[];for(o=0;o<u;o++){var y=o*d-s;for(i=0;i<l;i++){var x=i*p-a;m.push(x,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/h)}}for(o=0;o<h;o++)for(i=0;i<c;i++){var b=i+l*o,_=i+l*(o+1),w=i+1+l*(o+1),M=i+1+l*o;f.push(b,_,M),f.push(_,w,M)}this.setIndex(f),this.addAttribute("position",new Ci(m,3)),this.addAttribute("normal",new Ci(g,3)),this.addAttribute("uv",new Ci(v,2))}Di.prototype=Object.assign(Object.create(t.prototype),{constructor:Di,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Ii(t)>65535?Ri:Ai)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new wi(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var r=this.attributes.normal;void 0!==r&&((new ze).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Ue;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Ue;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Ue;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Ue;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new Ue;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new gi;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Fe;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var r=new Ci(3*e.vertices.length,3),n=new Ci(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Ci(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Ci(e,3)),this},updateFromObject:function(t){var e,r=t.geometry;if(t.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(r.vertices),e.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(r.normals),e.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(r.colors),e.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(r.uvs),e.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(r.lineDistances),e.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Oi).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new wi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new wi(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new wi(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new wi(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new wi(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[a],h=0,l=c.length;h<l;h++){var u=c[h],p=new Ci(3*u.length,3);s.push(p.copyVector3sArray(u))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new Ci(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Ci(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new qe);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new qe,e=new Fe;return function(){null===this.boundingSphere&&(this.boundingSphere=new Ye);var r=this.attributes.position;if(r){var n=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(n);for(var i=0,o=0,a=r.count;o<a;o++)e.x=r.getX(o),e.y=r.getY(o),e.z=r.getZ(o),i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new wi(new Float32Array(n.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,c,h,l=e.normal.array,u=new Fe,p=new Fe,d=new Fe,f=new Fe,m=new Fe;if(t){var g=t.array;0===r.length&&this.addGroup(0,g.length);for(var v=0,y=r.length;v<y;++v){var x=r[v],b=x.start;for(o=b,a=b+x.count;o<a;o+=3)s=3*g[o+0],c=3*g[o+1],h=3*g[o+2],u.fromArray(n,s),p.fromArray(n,c),d.fromArray(n,h),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z,l[h]+=f.x,l[h+1]+=f.y,l[h+2]+=f.z}}else for(o=0,a=n.length;o<a;o+=9)u.fromArray(n,o),p.fromArray(n,o+3),d.fromArray(n,o+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[o]=f.x,l[o+1]=f.y,l[o+2]=f.z,l[o+3]=f.x,l[o+4]=f.y,l[o+5]=f.z,l[o+6]=f.x,l[o+7]=f.y,l[o+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n].array,o=t.attributes[n],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)i[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){var t=new Fe;return function(){for(var e=this.attributes.normal,r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.normalize(),e.setXYZ(r,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Di,e=this.index.array,r=this.attributes;for(var n in r){for(var i=r[n],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*a;for(var p=0;p<a;p++)s[h++]=o[c++]}t.addAttribute(n,new wi(s,a))}var d=this.groups;for(l=0,u=d.length;l<u;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var o=this.attributes;for(var r in o){var a=o[r];i=Array.prototype.slice.call(a.array);t.data.attributes[r]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Di).copy(this)},copy:function(t){var e,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var c=[],h=s[e];for(r=0,n=h.length;r<n;r++)c.push(h[r].clone());this.morphAttributes[e]=c}var l=t.groups;for(r=0,n=l.length;r<n;r++){var u=l[r];this.addGroup(u.start,u.count,u.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Ui.prototype=Object.create(_i.prototype),Ui.prototype.constructor=Ui,Bi.prototype=Object.create(Di.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(_i.prototype),Fi.prototype.constructor=Fi,zi.prototype=Object.create(Di.prototype),zi.prototype.constructor=zi;var Gi=0;function Hi(){Object.defineProperty(this,"id",{value:Gi++}),this.uuid=Ne.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=_,this.side=p,this.flatShading=!1,this.vertexColors=v,this.opacity=1,this.transparent=!1,this.blendSrc=D,this.blendDst=U,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function Vi(t){Hi.call(this),this.type="MeshBasicMaterial",this.color=new ci(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function ki(t){Hi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function ji(t,e){this.origin=void 0!==t?t:new Fe,this.direction=void 0!==e?e:new Fe}function Wi(t,e,r){this.a=void 0!==t?t:new Fe,this.b=void 0!==e?e:new Fe,this.c=void 0!==r?r:new Fe}function Xi(t,e){gi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Di,this.material=void 0!==e?e:new Vi({color:16777215*Math.random()}),this.drawMode=xe,this.updateMorphTargets()}function qi(t,e,r,n){var i,o,a,s=new ci(0),c=0;function h(t,r){e.buffers.color.setClear(t.r,t.g,t.b,r,n)}return{getClearColor:function(){return s},setClearColor:function(t,e){s.set(t),h(s,c=void 0!==e?e:1)},getClearAlpha:function(){return c},setClearAlpha:function(t){h(s,c=t)},render:function(e,n,l,u){var p=n.background;null===p?h(s,c):p&&p.isColor&&(h(p,1),u=!0),(t.autoClear||u)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&p.isCubeTexture?(void 0===a&&((a=new Xi(new Bi(1,1,1),new ki({uniforms:li.cube.uniforms,vertexShader:li.cube.vertexShader,fragmentShader:li.cube.fragmentShader,side:d,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,r){this.matrixWorld.copyPosition(r.matrixWorld)},r.update(a)),a.material.uniforms.tCube.value=p,e.push(a,a.geometry,a.material,0,null)):p&&p.isTexture&&(void 0===i&&(i=new yi(-1,1,1,-1,0,1),o=new Xi(new zi(2,2),new Vi({depthTest:!1,depthWrite:!1,fog:!1})),r.update(o)),o.material.map=p,t.renderBufferDirect(i,null,o.geometry,o.material,o,null))}}}function Yi(t,e,r,n){var i;this.setMode=function(t){i=t},this.render=function(e,n){t.drawArrays(i,e,n),r.update(n,i)},this.renderInstances=function(o,a,s){var c;if(n.isWebGL2)c=t;else if(null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[n.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](i,a,s,o.maxInstancedCount),r.update(s,i,o.maxInstancedCount)}}function Ji(t,e,r){var n;function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,a=void 0!==r.precision?r.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===r.logarithmicDepthBuffer,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=e.get("EXT_texture_filter_anisotropic");return n=null!==r?t.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}function Zi(){var t=this,e=null,r=0,n=!1,i=!1,o=new Je,a=new ze,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function h(e,r,n,i){var c=null!==e?e.length:0,h=null;if(0!==c){if(h=s.value,!0!==i||null===h){var l=n+4*c,u=r.matrixWorldInverse;a.getNormalMatrix(u),(null===h||h.length<l)&&(h=new Float32Array(l));for(var p=0,d=n;p!==c;++p,d+=4)o.copy(e[p]).applyMatrix4(u,a),o.normal.toArray(h,d),h[d+3]=o.constant}s.value=h,s.needsUpdate=!0}return t.numPlanes=c,h}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==r||n;return n=i,e=h(t,o,0),r=t.length,a},this.beginShadows=function(){i=!0,h(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,a,l,u,p){if(!n||null===t||0===t.length||i&&!a)i?h(null):c();else{var d=i?0:r,f=4*d,m=u.clippingState||null;s.value=m,m=h(t,l,f,p);for(var g=0;g!==f;++g)m[g]=e[g];u.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function Qi(t){var e={};return{get:function(r){if(void 0!==e[r])return e[r];var n;switch(r){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),e[r]=n,n}}}function Ki(t,e,r){var n={},i={};function o(t){var a=t.target,s=n[a.id];for(var c in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[c]);a.removeEventListener("dispose",o),delete n[a.id];var h=i[s.id];h&&(e.remove(h),delete i[s.id]),r.memory.geometries--}return{get:function(t,e){var i=n[e.id];return i||(e.addEventListener("dispose",o),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Di).setFromObject(t)),i=e._bufferGeometry),n[e.id]=i,r.memory.geometries++,i)},update:function(r){var n=r.index,i=r.attributes;for(var o in null!==n&&e.update(n,t.ELEMENT_ARRAY_BUFFER),i)e.update(i[o],t.ARRAY_BUFFER);var a=r.morphAttributes;for(var o in a)for(var s=a[o],c=0,h=s.length;c<h;c++)e.update(s[c],t.ARRAY_BUFFER)},getWireframeAttribute:function(r){var n=i[r.id];if(n)return n;var o,a=[],s=r.index,c=r.attributes;if(null!==s)for(var h=0,l=(o=s.array).length;h<l;h+=3){var u=o[h+0],p=o[h+1],d=o[h+2];a.push(u,p,p,d,d,u)}else for(h=0,l=(o=c.position.array).length/3-1;h<l;h+=3)u=h+0,p=h+1,d=h+2,a.push(u,p,p,d,d,u);return n=new(Ii(a)>65535?Ri:Ai)(a,1),e.update(n,t.ELEMENT_ARRAY_BUFFER),i[r.id]=n,n}}}function $i(t,e,r,n){var i,o,a;this.setMode=function(t){i=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,n){t.drawElements(i,n,o,e*a),r.update(n,i)},this.renderInstances=function(s,c,h){var l;if(n.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[n.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](i,h,o,c*a,s.maxInstancedCount),r.update(h,i,s.maxInstancedCount)}}function to(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(r,n,i){switch(i=i||1,e.calls++,n){case t.TRIANGLES:e.triangles+=i*(r/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=i*(r-2);break;case t.LINES:e.lines+=i*(r/2);break;case t.LINE_STRIP:e.lines+=i*(r-1);break;case t.LINE_LOOP:e.lines+=i*r;break;case t.POINTS:e.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function eo(t,e){return Math.abs(e[1])-Math.abs(t[1])}function ro(t){var e={},r=new Float32Array(8);return{update:function(n,i,o,a){var s=n.morphTargetInfluences,c=s.length,h=e[i.id];if(void 0===h){h=[];for(var l=0;l<c;l++)h[l]=[l,0];e[i.id]=h}var u=o.morphTargets&&i.morphAttributes.position,p=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<c;l++)0!==(d=h[l])[1]&&(u&&i.removeAttribute("morphTarget"+l),p&&i.removeAttribute("morphNormal"+l));for(l=0;l<c;l++)(d=h[l])[0]=l,d[1]=s[l];for(h.sort(eo),l=0;l<8;l++){var d;if(d=h[l]){var f=d[0],m=d[1];if(m){u&&i.addAttribute("morphTarget"+l,u[f]),p&&i.addAttribute("morphNormal"+l,p[f]),r[l]=m;continue}}r[l]=0}a.getUniforms().setValue(t,"morphTargetInfluences",r)}}}function no(t,e){var r={};return{update:function(n){var i=e.render.frame,o=n.geometry,a=t.get(n,o);return r[a.id]!==i&&(o.isGeometry&&a.updateFromObject(n),t.update(a),r[a.id]=i),a},dispose:function(){r={}}}}function io(t,e,r,n,i,o,a,s,c,h){t=void 0!==t?t:[],e=void 0!==e?e:ot,Ve.call(this,t,e,r,n,i,o,a,s,c,h),this.flipY=!1}Hi.prototype=Object.assign(Object.create(t.prototype),{constructor:Hi,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var r=t[e];if(void 0!==r)if("shading"!==e){var n=this[e];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[e]="overdraw"===e?Number(r):r:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===m;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),this.side!==p&&(r.side=this.side),this.vertexColors!==v&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0!==this.rotation&&(r.rotation=this.rotation),1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),e){var i=n(t.textures),o=n(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,r=null;if(null!==e){var n=e.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=e[i].clone()}return this.clippingPlanes=r,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Vi.prototype=Object.create(Hi.prototype),Vi.prototype.constructor=Vi,Vi.prototype.isMeshBasicMaterial=!0,Vi.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},ki.prototype=Object.create(Hi.prototype),ki.prototype.constructor=ki,ki.prototype.isShaderMaterial=!0,ki.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ai.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},ki.prototype.toJSON=function(t){var e=Hi.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(ji.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Fe),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Fe;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Fe),e.subVectors(t,this.origin);var r=e.dot(this.direction);return r<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Fe;return function(e){var r=t.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(r).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a){t.copy(n).add(i).multiplyScalar(.5),e.copy(i).sub(n).normalize(),r.copy(this.origin).sub(t);var s,c,h,l,u=.5*n.distanceTo(i),p=-this.direction.dot(e),d=r.dot(this.direction),f=-r.dot(e),m=r.lengthSq(),g=Math.abs(1-p*p);if(g>0)if(c=p*d-f,l=u*g,(s=p*f-d)>=0)if(c>=-l)if(c<=l){var v=1/g;h=(s*=v)*(s+p*(c*=v)+2*d)+c*(p*s+c+2*f)+m}else c=u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c=-u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c<=-l?h=-(s=Math.max(0,-(-p*u+d)))*s+(c=s>0?-u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m:c<=l?(s=0,h=(c=Math.min(Math.max(-u,-f),u))*(c+2*f)+m):h=-(s=Math.max(0,-(p*u+d)))*s+(c=s>0?u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m;else c=p>0?-u:u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new Fe;return function(e,r){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),i=t.dot(t)-n*n,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,c=n+a;return s<0&&c<0?null:s<0?this.at(c,r):this.at(s,r)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(t.normal)+t.constant)/e;return r>=0?r:null},intersectPlane:function(t,e){var r=this.distanceToPlane(t);return null===r?null:this.at(r,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var r,n,i,o,a,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(r=(t.min.x-u.x)*c,n=(t.max.x-u.x)*c):(r=(t.max.x-u.x)*c,n=(t.min.x-u.x)*c),h>=0?(i=(t.min.y-u.y)*h,o=(t.max.y-u.y)*h):(i=(t.max.y-u.y)*h,o=(t.min.y-u.y)*h),r>o||i>n?null:((i>r||r!=r)&&(r=i),(o<n||n!=n)&&(n=o),l>=0?(a=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(a=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),r>s||a>n?null:((a>r||r!=r)&&(r=a),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,e)))},intersectsBox:function(){var t=new Fe;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe;return function(i,o,a,s,c){e.subVectors(o,i),r.subVectors(a,i),n.crossVectors(e,r);var h,l=this.direction.dot(n);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,i);var u=h*this.direction.dot(r.crossVectors(t,r));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(n);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(Wi,{getNormal:function(){var t=new Fe;return function(e,r,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Fe),i.subVectors(n,r),t.subVectors(e,r),i.cross(t);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}}(),getBarycoord:function(){var t=new Fe,e=new Fe,r=new Fe;return function(n,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),r.subVectors(n,i);var c=t.dot(t),h=t.dot(e),l=t.dot(r),u=e.dot(e),p=e.dot(r),d=c*u-h*h;if(void 0===s&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),s=new Fe),0===d)return s.set(-2,-1,-1);var f=1/d,m=(u*l-h*p)*f,g=(c*p-h*l)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new Fe;return function(e,r,n,i){return Wi.getBarycoord(e,r,n,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}()}),Object.assign(Wi.prototype,{set:function(t,e,r){return this.a.copy(t),this.b.copy(e),this.c.copy(r),this},setFromPointsAndIndices:function(t,e,r,n){return this.a.copy(t[e]),this.b.copy(t[r]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Fe,e=new Fe;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Fe),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Wi.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Fe),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Wi.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Wi.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new Fe,e=new Fe,r=new Fe,n=new Fe,i=new Fe,o=new Fe;return function(a,s){void 0===s&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),s=new Fe);var c,h,l=this.a,u=this.b,p=this.c;t.subVectors(u,l),e.subVectors(p,l),n.subVectors(a,l);var d=t.dot(n),f=e.dot(n);if(d<=0&&f<=0)return s.copy(l);i.subVectors(a,u);var m=t.dot(i),g=e.dot(i);if(m>=0&&g<=m)return s.copy(u);var v=d*g-m*f;if(v<=0&&d>=0&&m<=0)return c=d/(d-m),s.copy(l).addScaledVector(t,c);o.subVectors(a,p);var y=t.dot(o),x=e.dot(o);if(x>=0&&y<=x)return s.copy(p);var b=y*f-d*x;if(b<=0&&f>=0&&x<=0)return h=f/(f-x),s.copy(l).addScaledVector(e,h);var _=m*x-y*g;if(_<=0&&g-m>=0&&y-x>=0)return r.subVectors(p,u),h=(g-m)/(g-m+(y-x)),s.copy(u).addScaledVector(r,h);var w=1/(_+b+v);return c=b*w,h=v*w,s.copy(l).addScaledVector(t,c).addScaledVector(e,h)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Xi.prototype=Object.assign(Object.create(gi.prototype),{constructor:Xi,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return gi.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)r=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}else{var s=n.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)r=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}},raycast:function(){var t=new Ue,e=new ji,r=new Ye,n=new Fe,i=new Fe,o=new Fe,a=new Fe,s=new Fe,c=new Fe,h=new De,l=new De,u=new De,p=new Fe,m=new Fe,g=new Fe;function v(t,e,r,n,i,o,a){return Wi.getBarycoord(t,e,r,n,p),i.multiplyScalar(p.x),o.multiplyScalar(p.y),a.multiplyScalar(p.z),i.add(o).add(a),i.clone()}function y(t,e,r,n,i,o,a,s){if(null===(e.side===d?n.intersectTriangle(a,o,i,!0,s):n.intersectTriangle(i,o,a,e.side!==f,s)))return null;g.copy(s),g.applyMatrix4(t.matrixWorld);var c=r.ray.origin.distanceTo(g);return c<r.near||c>r.far?null:{distance:c,point:g.clone(),object:t}}function x(t,e,r,a,s,c,p,d,f){n.fromBufferAttribute(s,p),i.fromBufferAttribute(s,d),o.fromBufferAttribute(s,f);var g=y(t,e,r,a,n,i,o,m);if(g){c&&(h.fromBufferAttribute(c,p),l.fromBufferAttribute(c,d),u.fromBufferAttribute(c,f),g.uv=v(m,n,i,o,h,l,u));var x=new xi(p,d,f);Wi.getNormal(n,i,o,x.normal),g.face=x}return g}return function(p,d){var f,g=this.geometry,b=this.material,_=this.matrixWorld;if(void 0!==b&&(null===g.boundingSphere&&g.computeBoundingSphere(),r.copy(g.boundingSphere),r.applyMatrix4(_),!1!==p.ray.intersectsSphere(r)&&(t.getInverse(_),e.copy(p.ray).applyMatrix4(t),null===g.boundingBox||!1!==e.intersectsBox(g.boundingBox))))if(g.isBufferGeometry){var w,M,E,T,S,A,L,R,C,P=g.index,O=g.attributes.position,I=g.attributes.uv,N=g.groups,D=g.drawRange;if(null!==P)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(R=N[T]).materialIndex],S=Math.max(R.start,D.start),L=Math.min(R.start+R.count,D.start+D.count);S<L;S+=3)w=P.getX(S),M=P.getX(S+1),E=P.getX(S+2),(f=x(this,C,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(S/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(P.count,D.start+D.count);T<A;T+=3)w=P.getX(T),M=P.getX(T+1),E=P.getX(T+2),(f=x(this,b,p,e,O,I,w,M,E))&&(f.faceIndex=Math.floor(T/3),d.push(f));else if(void 0!==O)if(Array.isArray(b))for(T=0,A=N.length;T<A;T++)for(C=b[(R=N[T]).materialIndex],S=Math.max(R.start,D.start),L=Math.min(R.start+R.count,D.start+D.count);S<L;S+=3)(f=x(this,C,p,e,O,I,w=S,M=S+1,E=S+2))&&(f.faceIndex=Math.floor(S/3),d.push(f));else for(T=Math.max(0,D.start),A=Math.min(O.count,D.start+D.count);T<A;T+=3)(f=x(this,b,p,e,O,I,w=T,M=T+1,E=T+2))&&(f.faceIndex=Math.floor(T/3),d.push(f))}else if(g.isGeometry){var U,B,F,z,G=Array.isArray(b),H=g.vertices,V=g.faces,k=g.faceVertexUvs[0];k.length>0&&(z=k);for(var j=0,W=V.length;j<W;j++){var X=V[j],q=G?b[X.materialIndex]:b;if(void 0!==q){if(U=H[X.a],B=H[X.b],F=H[X.c],!0===q.morphTargets){var Y=g.morphTargets,J=this.morphTargetInfluences;n.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var Z=0,Q=Y.length;Z<Q;Z++){var K=J[Z];if(0!==K){var $=Y[Z].vertices;n.addScaledVector(a.subVectors($[X.a],U),K),i.addScaledVector(s.subVectors($[X.b],B),K),o.addScaledVector(c.subVectors($[X.c],F),K)}}n.add(U),i.add(B),o.add(F),U=n,B=i,F=o}if(f=y(this,q,p,e,U,B,F,m)){if(z&&z[j]){var tt=z[j];h.copy(tt[0]),l.copy(tt[1]),u.copy(tt[2]),f.uv=v(m,U,B,F,h,l,u)}f.face=X,f.faceIndex=j,d.push(f)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),io.prototype=Object.create(Ve.prototype),io.prototype.constructor=io,io.prototype.isCubeTexture=!0,Object.defineProperty(io.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var oo=new Ve,ao=new io;function so(){this.seq=[],this.map={}}var co=[],ho=[],lo=new Float32Array(16),uo=new Float32Array(9),po=new Float32Array(4);function fo(t,e,r){var n=t[0];if(n<=0||n>0)return t;var i=e*r,o=co[i];if(void 0===o&&(o=new Float32Array(i),co[i]=o),0!==e){n.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=r,t[a].toArray(o,s)}return o}function mo(t,e){if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function go(t,e){for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}function vo(t,e){var r=ho[e];void 0===r&&(r=new Int32Array(e),ho[e]=r);for(var n=0;n!==e;++n)r[n]=t.allocTextureUnit();return r}function yo(t,e){var r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function xo(t,e){var r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function bo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(mo(r,e))return;t.uniform2fv(this.addr,e),go(r,e)}}function _o(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(void 0!==e.r)r[0]===e.r&&r[1]===e.g&&r[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(mo(r,e))return;t.uniform3fv(this.addr,e),go(r,e)}}function wo(t,e){var r=this.cache;if(void 0!==e.x)r[0]===e.x&&r[1]===e.y&&r[2]===e.z&&r[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(mo(r,e))return;t.uniform4fv(this.addr,e),go(r,e)}}function Mo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(mo(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),go(r,e)}else{if(mo(r,n))return;po.set(n),t.uniformMatrix2fv(this.addr,!1,po),go(r,n)}}function Eo(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(mo(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),go(r,e)}else{if(mo(r,n))return;uo.set(n),t.uniformMatrix3fv(this.addr,!1,uo),go(r,n)}}function To(t,e){var r=this.cache,n=e.elements;if(void 0===n){if(mo(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),go(r,e)}else{if(mo(r,n))return;lo.set(n),t.uniformMatrix4fv(this.addr,!1,lo),go(r,n)}}function So(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(e||oo,i)}function Ao(t,e,r){var n=this.cache,i=r.allocTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(e||ao,i)}function Lo(t,e){var r=this.cache;mo(r,e)||(t.uniform2iv(this.addr,e),go(r,e))}function Ro(t,e){var r=this.cache;mo(r,e)||(t.uniform3iv(this.addr,e),go(r,e))}function Co(t,e){var r=this.cache;mo(r,e)||(t.uniform4iv(this.addr,e),go(r,e))}function Po(t){switch(t){case 5126:return yo;case 35664:return bo;case 35665:return _o;case 35666:return wo;case 35674:return Mo;case 35675:return Eo;case 35676:return To;case 35678:case 36198:return So;case 35680:return Ao;case 5124:case 35670:return xo;case 35667:case 35671:return Lo;case 35668:case 35672:return Ro;case 35669:case 35673:return Co}}function Oo(t,e){var r=this.cache;mo(r,e)||(t.uniform1fv(this.addr,e),go(r,e))}function Io(t,e){var r=this.cache;mo(r,e)||(t.uniform1iv(this.addr,e),go(r,e))}function No(t,e){var r=this.cache,n=fo(e,this.size,2);mo(r,n)||(t.uniform2fv(this.addr,n),this.updateCache(n))}function Do(t,e){var r=this.cache,n=fo(e,this.size,3);mo(r,n)||(t.uniform3fv(this.addr,n),this.updateCache(n))}function Uo(t,e){var r=this.cache,n=fo(e,this.size,4);mo(r,n)||(t.uniform4fv(this.addr,n),this.updateCache(n))}function Bo(t,e){var r=this.cache,n=fo(e,this.size,4);mo(r,n)||(t.uniformMatrix2fv(this.addr,!1,n),this.updateCache(n))}function Fo(t,e){var r=this.cache,n=fo(e,this.size,9);mo(r,n)||(t.uniformMatrix3fv(this.addr,!1,n),this.updateCache(n))}function zo(t,e){var r=this.cache,n=fo(e,this.size,16);mo(r,n)||(t.uniformMatrix4fv(this.addr,!1,n),this.updateCache(n))}function Go(t,e,r){var n=this.cache,i=e.length,o=vo(r,i);!1===mo(n,o)&&(t.uniform1iv(this.addr,o),go(n,o));for(var a=0;a!==i;++a)r.setTexture2D(e[a]||oo,o[a])}function Ho(t,e,r){var n=this.cache,i=e.length,o=vo(r,i);!1===mo(n,o)&&(t.uniform1iv(this.addr,o),go(n,o));for(var a=0;a!==i;++a)r.setTextureCube(e[a]||ao,o[a])}function Vo(t){switch(t){case 5126:return Oo;case 35664:return No;case 35665:return Do;case 35666:return Uo;case 35674:return Bo;case 35675:return Fo;case 35676:return zo;case 35678:return Go;case 35680:return Ho;case 5124:case 35670:return Io;case 35667:case 35671:return Lo;case 35668:case 35672:return Ro;case 35669:case 35673:return Co}}function ko(t,e,r){this.id=t,this.addr=r,this.cache=[],this.setValue=Po(e.type)}function jo(t,e,r){this.id=t,this.addr=r,this.cache=[],this.size=e.size,this.setValue=Vo(e.type)}function Wo(t){this.id=t,so.call(this)}jo.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),go(e,t)},Wo.prototype.setValue=function(t,e,r){for(var n=this.seq,i=0,o=n.length;i!==o;++i){var a=n[i];a.setValue(t,e[a.id],r)}};var Xo=/([\w\d_]+)(\])?(\[|\.)?/g;function qo(t,e){t.seq.push(e),t.map[e.id]=e}function Yo(t,e,r){var n=t.name,i=n.length;for(Xo.lastIndex=0;;){var o=Xo.exec(n),a=Xo.lastIndex,s=o[1],c="]"===o[2],h=o[3];if(c&&(s|=0),void 0===h||"["===h&&a+2===i){qo(r,void 0===h?new ko(s,t,e):new jo(s,t,e));break}var l=r.map[s];void 0===l&&qo(r,l=new Wo(s)),r=l}}function Jo(t,e,r){so.call(this),this.renderer=r;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;++i){var o=t.getActiveUniform(e,i);Yo(o,t.getUniformLocation(e,o.name),this)}}function Zo(t){for(var e=t.split("\n"),r=0;r<e.length;r++)e[r]=r+1+": "+e[r];return e.join("\n")}function Qo(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),Zo(r)),n}Jo.prototype.setValue=function(t,e,r){var n=this.map[e];void 0!==n&&n.setValue(t,r,this.renderer)},Jo.prototype.setOptional=function(t,e,r){var n=e[r];void 0!==n&&this.setValue(t,r,n)},Jo.upload=function(t,e,r,n){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=r[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,n)}},Jo.seqWithValue=function(t,e){for(var r=[],n=0,i=t.length;n!==i;++n){var o=t[n];o.id in e&&r.push(o)}return r};var Ko=0;function $o(t){switch(t){case we:return["Linear","( value )"];case Me:return["sRGB","( value )"];case Te:return["RGBE","( value )"];case Ae:return["RGBM","( value, 7.0 )"];case Le:return["RGBM","( value, 16.0 )"];case Re:return["RGBD","( value, 256.0 )"];case Ee:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function ta(t,e){var r=$o(e);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function ea(t,e){var r=$o(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function ra(t,e){var r;switch(e){case tt:r="Linear";break;case et:r="Reinhard";break;case rt:r="Uncharted2";break;case nt:r="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function na(t,e,r){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&r.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&r.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&r.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(aa).join("\n")}function ia(t){var e=[];for(var r in t){var n=t[r];!1!==n&&e.push("#define "+r+" "+n)}return e.join("\n")}function oa(t,e){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i).name;r[o]=t.getAttribLocation(e,o)}return r}function aa(t){return""!==t}function sa(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ca(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function ha(t){return t.replace(/^[ \t]*#include +<([\w\d.\/]+)>/gm,function(t,e){var r=oi[e];if(void 0===r)throw new Error("Can not resolve #include <"+e+">");return ha(r)})}function la(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,r,n){for(var i="",o=parseInt(e);o<parseInt(r);o++)i+=n.replace(/\[ i \]/g,"[ "+o+" ]");return i})}function ua(t,e,r,n,i,o,a){var s=t.context,c=n.defines,h=i.vertexShader,p=i.fragmentShader,d="SHADOWMAP_TYPE_BASIC";o.shadowMapType===l?d="SHADOWMAP_TYPE_PCF":o.shadowMapType===u&&(d="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",g="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(n.envMap.mapping){case ot:case at:f="ENVMAP_TYPE_CUBE";break;case lt:case ut:f="ENVMAP_TYPE_CUBE_UV";break;case st:case ct:f="ENVMAP_TYPE_EQUIREC";break;case ht:f="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case at:case ct:m="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Z:g="ENVMAP_BLENDING_MULTIPLY";break;case Q:g="ENVMAP_BLENDING_MIX";break;case K:g="ENVMAP_BLENDING_ADD"}}var v,y,x=t.gammaFactor>0?t.gammaFactor:1,b=a.isWebGL2?"":na(n.extensions,o,e),_=ia(c),w=s.createProgram();if(n.isRawShaderMaterial?((v=[_].filter(aa).join("\n")).length>0&&(v+="\n"),(y=[b,_].filter(aa).join("\n")).length>0&&(y+="\n")):(v=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+x,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+m:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(aa).join("\n"),y=[b,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+i.name,_,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+x,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+f:"",o.envMap?"#define "+m:"",o.envMap?"#define "+g:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+d:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==$?"#define TONE_MAPPING":"",o.toneMapping!==$?oi.tonemapping_pars_fragment:"",o.toneMapping!==$?ra("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?oi.encodings_pars_fragment:"",o.mapEncoding?ta("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?ta("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?ta("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?ea("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(aa).join("\n")),h=ca(h=sa(h=ha(h),o),o),p=ca(p=sa(p=ha(p),o),o),h=la(h),p=la(p),a.isWebGL2&&!n.isRawShaderMaterial){var M=!1,E=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==h.match(E)&&null!==p.match(E)&&(M=!0,h=h.replace(E,""),p=p.replace(E,"")),v=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,y=["#version 300 es\n","#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var T=v+h,S=y+p,A=Qo(s,s.VERTEX_SHADER,T),L=Qo(s,s.FRAGMENT_SHADER,S);s.attachShader(w,A),s.attachShader(w,L),void 0!==n.index0AttributeName?s.bindAttribLocation(w,0,n.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(w,0,"position"),s.linkProgram(w);var R,C,P=s.getProgramInfoLog(w).trim(),O=s.getShaderInfoLog(A).trim(),I=s.getShaderInfoLog(L).trim(),N=!0,D=!0;return!1===s.getProgramParameter(w,s.LINK_STATUS)?(N=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(w,s.VALIDATE_STATUS),"gl.getProgramInfoLog",P,O,I)):""!==P?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):""!==O&&""!==I||(D=!1),D&&(this.diagnostics={runnable:N,material:n,programLog:P,vertexShader:{log:O,prefix:v},fragmentShader:{log:I,prefix:y}}),s.deleteShader(A),s.deleteShader(L),this.getUniforms=function(){return void 0===R&&(R=new Jo(s,w,t)),R},this.getAttributes=function(){return void 0===C&&(C=oa(s,w)),C},this.destroy=function(){s.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=i.name,this.id=Ko++,this.code=r,this.usedTimes=1,this.program=w,this.vertexShader=A,this.fragmentShader=L,this}function pa(t,e,r){var n=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function a(t,e){var r;return t?t.isTexture?r=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),r=t.texture.encoding):r=we,r===we&&e&&(r=Ee),r}this.getParameters=function(e,n,o,s,c,h,l){var u=i[e.type],p=l.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(r.floatVertexTextures)return 1024;var n=r.maxVertexUniforms,i=Math.floor((n-20)/4),o=Math.min(i,e.length);return o<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+o+"."),0):o}(l):0,m=r.precision;null!==e.precision&&(m=r.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",m,"instead.");var g=t.getRenderTarget();return{shaderID:u,precision:m,supportsVertexTextures:r.vertexTextures,outputEncoding:a(g?g.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:a(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:a(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===lt||e.envMap.mapping===ut),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:a(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ie,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:r.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:r.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numClippingPlanes:c,numClipIntersection:h,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&o.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===f,flipSided:e.side===d,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,r){var n=[];if(r.shaderID?n.push(r.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);for(var a=0;a<o.length;a++)n.push(r[o[a]]);return n.push(e.onBeforeCompile.toString()),n.push(t.gammaOutput),n.join()},this.acquireProgram=function(i,o,a,s){for(var c,h=0,l=n.length;h<l;h++){var u=n[h];if(u.code===s){++(c=u).usedTimes;break}}return void 0===c&&(c=new ua(t,e,s,i,o,a,r),n.push(c)),c},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function da(){var t=new WeakMap;return{get:function(e){var r=t.get(e);return void 0===r&&(r={},t.set(e,r)),r},remove:function(e){t.delete(e)},update:function(e,r,n){t.get(e)[r]=n},dispose:function(){t=new WeakMap}}}function fa(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ma(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ga(){var t=[],e=0,r=[],n=[];return{opaque:r,transparent:n,init:function(){e=0,r.length=0,n.length=0},push:function(i,o,a,s,c){var h=t[e];void 0===h?(h={id:i.id,object:i,geometry:o,material:a,program:a.program,renderOrder:i.renderOrder,z:s,group:c},t[e]=h):(h.id=i.id,h.object=i,h.geometry=o,h.material=a,h.program=a.program,h.renderOrder=i.renderOrder,h.z=s,h.group=c),(!0===a.transparent?n:r).push(h),e++},sort:function(){r.length>1&&r.sort(fa),n.length>1&&n.sort(ma)}}}function va(){var t={};return{get:function(e,r){var n=e.id+","+r.id,i=t[n];return void 0===i&&(i=new ga,t[n]=i),i},dispose:function(){t={}}}}function ya(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var r;switch(e.type){case"DirectionalLight":r={direction:new Fe,color:new ci,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":r={position:new Fe,direction:new Fe,color:new ci,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":r={position:new Fe,color:new ci,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":r={direction:new Fe,skyColor:new ci,groundColor:new ci};break;case"RectAreaLight":r={color:new ci,position:new Fe,halfWidth:new Fe,halfHeight:new Fe}}return t[e.id]=r,r}}}var xa,ba=0;function _a(){var t=new ya,e={id:ba++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=new Fe,n=new Ue,i=new Ue;return{setup:function(o,a,s){for(var c=0,h=0,l=0,u=0,p=0,d=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=o.length;v<y;v++){var x=o[v],b=x.color,_=x.intensity,w=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=b.r*_,h+=b.g*_,l+=b.b*_;else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var E=x.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}e.directionalShadowMap[u]=M,e.directionalShadowMatrix[u]=x.shadow.matrix,e.directional[u]=T,u++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize),e.spotShadowMap[d]=M,e.spotShadowMatrix[d]=x.shadow.matrix,e.spot[d]=T,d++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(_),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),n.copy(x.matrixWorld),n.premultiply(g),i.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),e.rectArea[f]=T,f++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=0===x.distance?0:x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far),e.pointShadowMap[p]=M,e.pointShadowMatrix[p]=x.shadow.matrix,e.point[p]=T,p++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(_),T.groundColor.copy(x.groundColor).multiplyScalar(_),e.hemi[m]=T,m++}}e.ambient[0]=c,e.ambient[1]=h,e.ambient[2]=l,e.directional.length=u,e.spot.length=d,e.rectArea.length=f,e.point.length=p,e.hemi.length=m,e.hash.stateID=e.id,e.hash.directionalLength=u,e.hash.pointLength=p,e.hash.spotLength=d,e.hash.rectAreaLength=f,e.hash.hemiLength=m,e.hash.shadowsLength=a.length},state:e}}function wa(){var t=new _a,e=[],r=[];return{init:function(){e.length=0,r.length=0},state:{lightsArray:e,shadowsArray:r,lights:t},setupLights:function(n){t.setup(e,r,n)},pushLight:function(t){e.push(t)},pushShadow:function(t){r.push(t)}}}function Ma(){var t={};return{get:function(e,r){var n;return void 0===t[e.id]?(n=new wa,t[e.id]={},t[e.id][r.id]=n):void 0===t[e.id][r.id]?(n=new wa,t[e.id][r.id]=n):n=t[e.id][r.id],n},dispose:function(){t={}}}}function Ea(t){Hi.call(this),this.type="MeshDepthMaterial",this.depthPacking=Ce,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Ta(t){Hi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Fe,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Sa(t,e,r){for(var n=new Ze,i=new Ue,o=new De,a=new De(r,r),s=new Fe,c=new Fe,h=1,u=2,m=1+(h|u),g=new Array(m),v=new Array(m),y={},x={0:d,1:p,2:f},b=[new Fe(1,0,0),new Fe(-1,0,0),new Fe(0,0,1),new Fe(0,0,-1),new Fe(0,1,0),new Fe(0,-1,0)],_=[new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,1,0),new Fe(0,0,1),new Fe(0,0,-1)],w=[new ke,new ke,new ke,new ke,new ke,new ke],M=0;M!==m;++M){var E=0!=(M&h),T=0!=(M&u),S=new Ea({depthPacking:Pe,morphTargets:E,skinning:T});g[M]=S;var A=new Ta({morphTargets:E,skinning:T});v[M]=A}var L=this;function R(e,r,n,i,o,a){var s=e.geometry,c=null,l=g,p=e.customDepthMaterial;if(n&&(l=v,p=e.customDistanceMaterial),p)c=p;else{var d=!1;r.morphTargets&&(s&&s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===r.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var f=e.isSkinnedMesh&&r.skinning,m=0;d&&(m|=h),f&&(m|=u),c=l[m]}if(t.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var b=c.uuid,_=r.uuid,w=y[b];void 0===w&&(w={},y[b]=w);var M=w[_];void 0===M&&(M=c.clone(),w[_]=M),c=M}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=null!=r.shadowSide?r.shadowSide:x[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,n&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=o,c.farDistance=a),c}function C(r,i,o,a){if(!1!==r.visible){if(r.layers.test(i.layers)&&(r.isMesh||r.isLine||r.isPoints)&&r.castShadow&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,r.matrixWorld);var s=e.update(r),h=r.material;if(Array.isArray(h))for(var l=s.groups,u=0,p=l.length;u<p;u++){var d=l[u],f=h[d.materialIndex];if(f&&f.visible){var m=R(r,f,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,d)}}else if(h.visible){m=R(r,h,a,c,o.near,o.far);t.renderBufferDirect(o,null,s,m,r,null)}}for(var g=r.children,v=0,y=g.length;v<y;v++)C(g[v],i,o,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,r,h){if(!1!==L.enabled&&(!1!==L.autoUpdate||!1!==L.needsUpdate)&&0!==e.length){var l,u=t.context,p=t.state;p.disable(u.BLEND),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var d=0,f=e.length;d<f;d++){var m=e[d],g=m.shadow,v=m&&m.isPointLight;if(void 0!==g){var y=g.camera;if(o.copy(g.mapSize),o.min(a),v){var x=o.x,M=o.y;w[0].set(2*x,M,x,M),w[1].set(0,M,x,M),w[2].set(3*x,M,x,M),w[3].set(x,M,x,M),w[4].set(3*x,0,x,M),w[5].set(x,0,x,M),o.x*=4,o.y*=2}if(null===g.map){var E={minFilter:mt,magFilter:mt,format:Dt};g.map=new je(o.x,o.y,E),g.map.texture.name=m.name+".shadowMap",y.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var T=g.map,S=g.matrix;c.setFromMatrixPosition(m.matrixWorld),y.position.copy(c),v?(l=6,S.makeTranslation(-c.x,-c.y,-c.z)):(l=1,s.setFromMatrixPosition(m.target.matrixWorld),y.lookAt(s),y.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(y.projectionMatrix),S.multiply(y.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var A=0;A<l;A++){if(v){s.copy(y.position),s.add(b[A]),y.up.copy(_[A]),y.lookAt(s),y.updateMatrixWorld();var R=w[A];p.viewport(R)}i.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),n.setFromMatrix(i),C(r,h,y,v)}}else console.warn("THREE.WebGLShadowMap:",m,"has no shadow.")}L.needsUpdate=!1}}}function Aa(t,e,r,a){var s=new function(){var e=!1,r=new ke,n=null,i=new ke(0,0,0,0);return{setMask:function(r){n===r||e||(t.colorMask(r,r,r,r),n=r)},setLocked:function(t){e=t},setClear:function(e,n,o,a,s){!0===s&&(e*=a,n*=a,o*=a),r.set(e,n,o,a),!1===i.equals(r)&&(t.clearColor(e,n,o,a),i.copy(r))},reset:function(){e=!1,n=null,i.set(-1,0,0,0)}}},c=new function(){var e=!1,r=null,n=null,i=null;return{setTest:function(e){e?nt(t.DEPTH_TEST):it(t.DEPTH_TEST)},setMask:function(n){r===n||e||(t.depthMask(n),r=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case V:t.depthFunc(t.NEVER);break;case k:t.depthFunc(t.ALWAYS);break;case j:t.depthFunc(t.LESS);break;case W:t.depthFunc(t.LEQUAL);break;case X:t.depthFunc(t.EQUAL);break;case q:t.depthFunc(t.GEQUAL);break;case Y:t.depthFunc(t.GREATER);break;case J:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,r=null,n=null,i=null}}},h=new function(){var e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null;return{setTest:function(e){e?nt(t.STENCIL_TEST):it(t.STENCIL_TEST)},setMask:function(n){r===n||e||(t.stencilMask(n),r=n)},setFunc:function(e,r,a){n===e&&i===r&&o===a||(t.stencilFunc(e,r,a),n=e,i=r,o=a)},setOp:function(e,r,n){a===e&&s===r&&c===n||(t.stencilOp(e,r,n),a=e,s=r,c=n)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,r=null,n=null,i=null,o=null,a=null,s=null,c=null,h=null}}},l=t.getParameter(t.MAX_VERTEX_ATTRIBS),u=new Uint8Array(l),p=new Uint8Array(l),m=new Uint8Array(l),g={},v=null,y=null,x=null,S=null,A=null,L=null,R=null,C=null,P=null,O=!1,I=null,N=null,D=null,U=null,B=null,F=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),z=!1,G=0,H=t.getParameter(t.VERSION);-1!==H.indexOf("WebGL")?(G=parseFloat(/^WebGL\ ([0-9])/.exec(H)[1]),z=G>=1):-1!==H.indexOf("OpenGL ES")&&(G=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(H)[1]),z=G>=2);var Z=null,Q={},K=new ke,$=new ke;function tt(e,r,n){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<n;a++)t.texImage2D(r+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}var et={};function rt(r,n){(u[r]=1,0===p[r]&&(t.enableVertexAttribArray(r),p[r]=1),m[r]!==n)&&((a.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[a.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,n),m[r]=n)}function nt(e){!0!==g[e]&&(t.enable(e),g[e]=!0)}function it(e){!1!==g[e]&&(t.disable(e),g[e]=!1)}function ot(e,n,i,o,a,s,c,h){if(e!==b?nt(t.BLEND):it(t.BLEND),e!==T){if(e!==x||h!==O)switch(e){case w:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case M:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case E:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:h?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}S=null,A=null,L=null,R=null,C=null,P=null}else a=a||n,s=s||i,c=c||o,n===S&&a===R||(t.blendEquationSeparate(r.convert(n),r.convert(a)),S=n,R=a),i===A&&o===L&&s===C&&c===P||(t.blendFuncSeparate(r.convert(i),r.convert(o),r.convert(s),r.convert(c)),A=i,L=o,C=s,P=c);x=e,O=h}function at(e){I!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),I=e)}function st(e){e!==n?(nt(t.CULL_FACE),e!==N&&(e===i?t.cullFace(t.BACK):e===o?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):it(t.CULL_FACE),N=e}function ct(e,r,n){e?(nt(t.POLYGON_OFFSET_FILL),U===r&&B===n||(t.polygonOffset(r,n),U=r,B=n)):it(t.POLYGON_OFFSET_FILL)}function ht(e){void 0===e&&(e=t.TEXTURE0+F-1),Z!==e&&(t.activeTexture(e),Z=e)}return et[t.TEXTURE_2D]=tt(t.TEXTURE_2D,t.TEXTURE_2D,1),et[t.TEXTURE_CUBE_MAP]=tt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),s.setClear(0,0,0,1),c.setClear(1),h.setClear(0),nt(t.DEPTH_TEST),c.setFunc(W),at(!1),st(i),nt(t.CULL_FACE),nt(t.BLEND),ot(_),{buffers:{color:s,depth:c,stencil:h},initAttributes:function(){for(var t=0,e=u.length;t<e;t++)u[t]=0},enableAttribute:function(t){rt(t,0)},enableAttributeAndDivisor:rt,disableUnusedAttributes:function(){for(var e=0,r=p.length;e!==r;++e)p[e]!==u[e]&&(t.disableVertexAttribArray(e),p[e]=0)},enable:nt,disable:it,getCompressedTextureFormats:function(){if(null===v&&(v=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var r=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<r.length;n++)v.push(r[n]);return v},useProgram:function(e){return y!==e&&(t.useProgram(e),y=e,!0)},setBlending:ot,setMaterial:function(e,r){e.side===f?it(t.CULL_FACE):nt(t.CULL_FACE);var n=e.side===d;r&&(n=!n),at(n),e.blending===_&&!1===e.transparent?ot(b):ot(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),c.setFunc(e.depthFunc),c.setTest(e.depthTest),c.setMask(e.depthWrite),s.setMask(e.colorWrite),ct(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:at,setCullFace:st,setLineWidth:function(e){e!==D&&(z&&t.lineWidth(e),D=e)},setPolygonOffset:ct,setScissorTest:function(e){e?nt(t.SCISSOR_TEST):it(t.SCISSOR_TEST)},activeTexture:ht,bindTexture:function(e,r){null===Z&&ht();var n=Q[Z];void 0===n&&(n={type:void 0,texture:void 0},Q[Z]=n),n.type===e&&n.texture===r||(t.bindTexture(e,r||et[e]),n.type=e,n.texture=r)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===K.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),K.copy(e))},viewport:function(e){!1===$.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),$.copy(e))},reset:function(){for(var e=0;e<p.length;e++)1===p[e]&&(t.disableVertexAttribArray(e),p[e]=0);g={},v=null,Z=null,Q={},y=null,x=null,I=null,N=null,s.reset(),c.reset(),h.reset()}}}function La(t,e,r,n,i,o,a){var s,c={};function h(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var r=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(t.width*r),n.height=Math.floor(t.height*r),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height),n}return t}function l(t){return Ne.isPowerOfTwo(t.width)&&Ne.isPowerOfTwo(t.height)}function u(t,e){return t.generateMipmaps&&e&&t.minFilter!==mt&&t.minFilter!==yt}function p(e,r,i,o){t.generateMipmap(e),n.get(r).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function d(e,r){if(!i.isWebGL2)return e;if(e===t.RGB){if(r===t.FLOAT)return t.RGB32F;if(r===t.HALF_FLOAT)return t.RGB16F;if(r===t.UNSIGNED_BYTE)return t.RGB8}if(e===t.RGBA){if(r===t.FLOAT)return t.RGBA32F;if(r===t.HALF_FLOAT)return t.RGBA16F;if(r===t.UNSIGNED_BYTE)return t.RGBA8}return e}function f(e){return e===mt||e===gt||e===vt?t.NEAREST:t.LINEAR}function m(e){var r=e.target;r.removeEventListener("dispose",m),function(e){var r=n.get(e);if(e.image&&r.__image__webglTextureCube)t.deleteTexture(r.__image__webglTextureCube);else{if(void 0===r.__webglInit)return;t.deleteTexture(r.__webglTexture)}n.remove(e)}(r),r.isVideoTexture&&delete c[r.id],a.memory.textures--}function g(e){var r=e.target;r.removeEventListener("dispose",g),function(e){var r=n.get(e),i=n.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[o]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer);n.remove(e.texture),n.remove(e)}(r),a.memory.textures--}function v(e,f){var g=n.get(e);if(e.isVideoTexture&&function(t){var e=t.id,r=a.render.frame;c[e]!==r&&(c[e]=r,t.update())}(e),e.version>0&&g.__version!==e.version){var v=e.image;if(void 0===v)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==v.complete)return void function(e,n,c){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",m),e.__webglTexture=t.createTexture(),a.memory.textures++);r.activeTexture(t.TEXTURE0+c),r.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var f=h(n.image,i.maxTextureSize);(function(t){return!i.isWebGL2&&(t.wrapS!==dt||t.wrapT!==dt||t.minFilter!==mt&&t.minFilter!==yt)})(n)&&!1===l(f)&&(f=function(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),s.width=Ne.floorPowerOfTwo(t.width),s.height=Ne.floorPowerOfTwo(t.height),s.getContext("2d").drawImage(t,0,0,s.width,s.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+s.width+"x"+s.height),s):t}(f));var g=l(f),v=o.convert(n.format),x=o.convert(n.type),b=d(v,x);y(t.TEXTURE_2D,n,g);var _,w=n.mipmaps;if(n.isDepthTexture){if(b=t.DEPTH_COMPONENT,n.type===At){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");b=t.DEPTH_COMPONENT32F}else i.isWebGL2&&(b=t.DEPTH_COMPONENT16);n.format===zt&&b===t.DEPTH_COMPONENT&&n.type!==Et&&n.type!==St&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Et,x=o.convert(n.type)),n.format===Gt&&(b=t.DEPTH_STENCIL,n.type!==Ot&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ot,x=o.convert(n.type))),r.texImage2D(t.TEXTURE_2D,0,b,f.width,f.height,0,v,x,null)}else if(n.isDataTexture)if(w.length>0&&g){for(var M=0,E=w.length;M<E;M++)_=w[M],r.texImage2D(t.TEXTURE_2D,M,b,_.width,_.height,0,v,x,_.data);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else r.texImage2D(t.TEXTURE_2D,0,b,f.width,f.height,0,v,x,f.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(var M=0,E=w.length;M<E;M++)_=w[M],n.format!==Dt&&n.format!==Nt?r.getCompressedTextureFormats().indexOf(v)>-1?r.compressedTexImage2D(t.TEXTURE_2D,M,b,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(t.TEXTURE_2D,M,b,_.width,_.height,0,v,x,_.data);e.__maxMipLevel=w.length-1}else if(w.length>0&&g){for(var M=0,E=w.length;M<E;M++)_=w[M],r.texImage2D(t.TEXTURE_2D,M,b,v,x,_);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else r.texImage2D(t.TEXTURE_2D,0,b,v,x,f),e.__maxMipLevel=0;u(n,g)&&p(t.TEXTURE_2D,n,f.width,f.height);e.__version=n.version,n.onUpdate&&n.onUpdate(n)}(g,e,f);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(t.TEXTURE0+f),r.bindTexture(t.TEXTURE_2D,g.__webglTexture)}function y(r,a,s){var c;if(s?(t.texParameteri(r,t.TEXTURE_WRAP_S,o.convert(a.wrapS)),t.texParameteri(r,t.TEXTURE_WRAP_T,o.convert(a.wrapT)),t.texParameteri(r,t.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(t.texParameteri(r,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(r,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===dt&&a.wrapT===dt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(r,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(r,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==mt&&a.minFilter!==yt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),c=e.get("EXT_texture_filter_anisotropic")){if(a.type===At&&null===e.get("OES_texture_float_linear"))return;if(a.type===Lt&&null===(i.isWebGL2||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(t.texParameterf(r,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,i,a,s){var c=o.convert(i.texture.format),h=o.convert(i.texture.type),l=d(c,h);r.texImage2D(s,0,l,i.width,i.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,n.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function b(e,r){t.bindRenderbuffer(t.RENDERBUFFER,e),r.depthBuffer&&!r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):r.depthBuffer&&r.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,r.width,r.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,r.width,r.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function _(e){var r=n.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),v(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===zt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(r.depthTexture.format!==Gt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(r.__webglFramebuffer,e)}else if(i){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),b(r.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),b(r.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}this.setTexture2D=v,this.setTextureCube=function(e,s){var c=n.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",m),c.__image__webglTextureCube=t.createTexture(),a.memory.textures++),r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var f=e&&e.isCompressedTexture,g=e.image[0]&&e.image[0].isDataTexture,v=[],x=0;x<6;x++)v[x]=f||g?g?e.image[x].image:e.image[x]:h(e.image[x],i.maxCubemapSize);var b=v[0],_=l(b),w=o.convert(e.format),M=o.convert(e.type),E=d(w,M);for(y(t.TEXTURE_CUBE_MAP,e,_),x=0;x<6;x++)if(f)for(var T,S=v[x].mipmaps,A=0,L=S.length;A<L;A++)T=S[A],e.format!==Dt&&e.format!==Nt?r.getCompressedTextureFormats().indexOf(w)>-1?r.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,A,E,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,A,E,T.width,T.height,0,w,M,T.data);else g?r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,v[x].width,v[x].height,0,w,M,v[x].data):r.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,w,M,v[x]);c.__maxMipLevel=f?S.length-1:0,u(e,_)&&p(t.TEXTURE_CUBE_MAP,e,b.width,b.height),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else r.activeTexture(t.TEXTURE0+s),r.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){r.activeTexture(t.TEXTURE0+i),r.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=n.get(e),o=n.get(e.texture);e.addEventListener("dispose",g),o.__webglTexture=t.createTexture(),a.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,c=l(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){for(r.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),y(t.TEXTURE_CUBE_MAP,e.texture,c),h=0;h<6;h++)x(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);u(e.texture,c)&&p(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_CUBE_MAP,null)}else r.bindTexture(t.TEXTURE_2D,o.__webglTexture),y(t.TEXTURE_2D,e.texture,c),x(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),u(e.texture,c)&&p(t.TEXTURE_2D,e.texture,e.width,e.height),r.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&_(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(u(i,l(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=n.get(i).__webglTexture;r.bindTexture(o,a),p(o,i,e.width,e.height),r.bindTexture(o,null)}}}function Ra(t,e,r){return{convert:function(n){var i;if(n===pt)return t.REPEAT;if(n===dt)return t.CLAMP_TO_EDGE;if(n===ft)return t.MIRRORED_REPEAT;if(n===mt)return t.NEAREST;if(n===gt)return t.NEAREST_MIPMAP_NEAREST;if(n===vt)return t.NEAREST_MIPMAP_LINEAR;if(n===yt)return t.LINEAR;if(n===xt)return t.LINEAR_MIPMAP_NEAREST;if(n===bt)return t.LINEAR_MIPMAP_LINEAR;if(n===_t)return t.UNSIGNED_BYTE;if(n===Rt)return t.UNSIGNED_SHORT_4_4_4_4;if(n===Ct)return t.UNSIGNED_SHORT_5_5_5_1;if(n===Pt)return t.UNSIGNED_SHORT_5_6_5;if(n===wt)return t.BYTE;if(n===Mt)return t.SHORT;if(n===Et)return t.UNSIGNED_SHORT;if(n===Tt)return t.INT;if(n===St)return t.UNSIGNED_INT;if(n===At)return t.FLOAT;if(n===Lt){if(r.isWebGL2)return t.HALF_FLOAT;if(null!==(i=e.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(n===It)return t.ALPHA;if(n===Nt)return t.RGB;if(n===Dt)return t.RGBA;if(n===Ut)return t.LUMINANCE;if(n===Bt)return t.LUMINANCE_ALPHA;if(n===zt)return t.DEPTH_COMPONENT;if(n===Gt)return t.DEPTH_STENCIL;if(n===S)return t.FUNC_ADD;if(n===A)return t.FUNC_SUBTRACT;if(n===L)return t.FUNC_REVERSE_SUBTRACT;if(n===P)return t.ZERO;if(n===O)return t.ONE;if(n===I)return t.SRC_COLOR;if(n===N)return t.ONE_MINUS_SRC_COLOR;if(n===D)return t.SRC_ALPHA;if(n===U)return t.ONE_MINUS_SRC_ALPHA;if(n===B)return t.DST_ALPHA;if(n===F)return t.ONE_MINUS_DST_ALPHA;if(n===z)return t.DST_COLOR;if(n===G)return t.ONE_MINUS_DST_COLOR;if(n===H)return t.SRC_ALPHA_SATURATE;if((n===Ht||n===Vt||n===kt||n===jt)&&null!==(i=e.get("WEBGL_compressed_texture_s3tc"))){if(n===Ht)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Vt)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===kt)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===jt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((n===Wt||n===Xt||n===qt||n===Yt)&&null!==(i=e.get("WEBGL_compressed_texture_pvrtc"))){if(n===Wt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Xt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===qt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Yt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Jt&&null!==(i=e.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((n===Zt||n===Qt||n===Kt||n===$t||n===te||n===ee||n===re||n===ne||n===ie||n===oe||n===ae||n===se||n===ce||n===he)&&null!==(i=e.get("WEBGL_compressed_texture_astc")))return n;if(n===R||n===C){if(r.isWebGL2){if(n===R)return t.MIN;if(n===C)return t.MAX}if(null!==(i=e.get("EXT_blend_minmax"))){if(n===R)return i.MIN_EXT;if(n===C)return i.MAX_EXT}}if(n===Ot){if(r.isWebGL2)return t.UNSIGNED_INT_24_8;if(null!==(i=e.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Ca(){gi.call(this),this.type="Group"}function Pa(t,e,r,n){vi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Oa(t){Pa.call(this),this.cameras=t||[]}function Ia(t){var e=this,r=null,n=null,i=null,o=[],a=new Ue,s=new Ue;"undefined"!=typeof window&&"VRFrameData"in window&&(n=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",v,!1));var c=new Ue,h=new Be,l=new Fe,u=new Pa;u.bounds=new ke(0,0,.5,1),u.layers.enable(1);var p=new Pa;p.bounds=new ke(.5,0,.5,1),p.layers.enable(2);var d,f,m=new Oa([u,p]);function g(){return null!==r&&!0===r.isPresenting}function v(){if(g()){var n=r.getEyeParameters("left"),i=n.renderWidth,o=n.renderHeight;f=t.getPixelRatio(),d=t.getSize(),t.setDrawingBufferSize(2*i,o,1),b.start()}else e.enabled&&(t.setDrawingBufferSize(d.width,d.height,f),b.stop())}m.layers.enable(1),m.layers.enable(2);var y=[];function x(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),r=0,n=0,i=e.length;r<i;r++){var o=e[r];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(n===t)return o;n++}}}this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=o[t];return void 0===e&&((e=new Ca).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),b.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){if(null===r)return t.position.set(0,e.userHeight,0),t;r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(n);var d=r.stageParameters;d?a.fromArray(d.sittingToStandingTransform):a.makeTranslation(0,e.userHeight,0);var f=n.pose,g=null!==i?i:t;if(g.matrix.copy(a),g.matrix.decompose(g.position,g.quaternion,g.scale),null!==f.orientation&&(h.fromArray(f.orientation),g.quaternion.multiply(h)),null!==f.position&&(h.setFromRotationMatrix(a),l.fromArray(f.position),l.applyQuaternion(h),g.position.add(l)),g.updateMatrixWorld(),!1===r.isPresenting)return t;u.near=t.near,p.near=t.near,u.far=t.far,p.far=t.far,m.matrixWorld.copy(t.matrixWorld),m.matrixWorldInverse.copy(t.matrixWorldInverse),u.matrixWorldInverse.fromArray(n.leftViewMatrix),p.matrixWorldInverse.fromArray(n.rightViewMatrix),s.getInverse(a),u.matrixWorldInverse.multiply(s),p.matrixWorldInverse.multiply(s);var v=g.parent;null!==v&&(c.getInverse(v.matrixWorld),u.matrixWorldInverse.multiply(c),p.matrixWorldInverse.multiply(c)),u.matrixWorld.getInverse(u.matrixWorldInverse),p.matrixWorld.getInverse(p.matrixWorldInverse),u.projectionMatrix.fromArray(n.leftProjectionMatrix),p.projectionMatrix.fromArray(n.rightProjectionMatrix),m.projectionMatrix.copy(u.projectionMatrix);var b=r.getLayers();if(b.length){var _=b[0];null!==_.leftBounds&&4===_.leftBounds.length&&u.bounds.fromArray(_.leftBounds),null!==_.rightBounds&&4===_.rightBounds.length&&p.bounds.fromArray(_.rightBounds)}return function(){for(var t=0;t<o.length;t++){var e=o[t],r=x(t);if(void 0!==r&&void 0!==r.pose){if(null===r.pose)return;var n=r.pose;!1===n.hasPosition&&e.position.set(.2,-.6,-.05),null!==n.position&&e.position.fromArray(n.position),null!==n.orientation&&e.quaternion.fromArray(n.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(a),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i="Daydream Controller"===r.id?0:1;y[t]!==r.buttons[i].pressed&&(y[t]=r.buttons[i].pressed,!0===y[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),m},this.getStandingMatrix=function(){return a},this.isPresenting=g;var b=new ui;this.setAnimationLoop=function(t){b.setAnimationLoop(t)},this.submitFrame=function(){g()&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",v)}}function Na(t){var e=t.context,r=null,n=null,i=null,o=null,a=[],s=[];function c(){return null!==n&&null!==i}var h=new Pa;h.layers.enable(1),h.viewport=new ke;var l=new Pa;l.layers.enable(2),l.viewport=new ke;var u=new Oa([h,l]);function p(t){var e=a[s.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),g.stop()}function f(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}u.layers.enable(1),u.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new Ca).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),t instanceof XRDevice&&e.setCompatibleXRDevice(t)},this.setSession=function(r,o){null!==(n=r)&&(n.addEventListener("select",p),n.addEventListener("selectstart",p),n.addEventListener("selectend",p),n.addEventListener("end",d),n.baseLayer=new XRWebGLLayer(n,e),n.requestFrameOfReference(o.frameOfReferenceType).then(function(e){i=e,t.setFramebuffer(n.baseLayer.framebuffer),g.setContext(n),g.start()}),s=n.getInputSources(),n.addEventListener("inputsourceschange",function(){s=n.getInputSources(),console.log(s)}))},this.getCamera=function(t){if(c()){var e=t.parent,r=u.cameras;f(u,e);for(var n=0;n<r.length;n++)f(r[n],e);t.matrixWorld.copy(u.matrixWorld);for(var i=t.children,o=(n=0,i.length);n<o;n++)i[n].updateMatrixWorld(!0);return u}return t},this.isPresenting=c;var m=null;var g=new ui;g.setAnimationLoop(function(t,e){if(null!==(o=e.getDevicePose(i)))for(var r=n.baseLayer,c=e.views,h=0;h<c.length;h++){var l=c[h],p=r.getViewport(l),d=o.getViewMatrix(l),f=u.cameras[h];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(l.projectionMatrix),f.viewport.set(p.x,p.y,p.width,p.height),0===h&&(u.matrix.copy(f.matrix),u.projectionMatrix.copy(f.projectionMatrix))}for(h=0;h<a.length;h++){var g=a[h],v=s[h];if(v){var y=e.getInputPose(v,i);if(null!==y){g.matrix.elements=y.pointerMatrix,g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}m&&m(t)}),this.setAnimationLoop=function(t){m=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Da(t){console.log("THREE.WebGLRenderer",e);var r=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,o=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,h=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=null,p=null;this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=tt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,g,v,y,x,b,_,w,M,E,T,S,A,L,R,C,P,O=this,I=!1,N=null,D=null,U=null,B=-1,F={geometry:null,program:null,wireframe:!1},z=null,G=null,H=new ke,V=new ke,k=null,j=0,W=r.width,X=r.height,q=1,Y=new ke(0,0,W,X),J=new ke(0,0,W,X),Z=!1,Q=new Ze,K=new Zi,$=!1,et=!1,rt=new Ue,nt=new Fe;function it(){return null===D?q:1}try{var ot={alpha:i,depth:o,stencil:a,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:l};if(r.addEventListener("webglcontextlost",ht,!1),r.addEventListener("webglcontextrestored",lt,!1),null===(f=n||r.getContext("webgl",ot)||r.getContext("experimental-webgl",ot)))throw null!==r.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}function at(){m=new Qi(f),(g=new Ji(f,m,t)).isWebGL2||(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),P=new Ra(f,m,g),(v=new Aa(f,m,P,g)).scissor(V.copy(J).multiplyScalar(q)),v.viewport(H.copy(Y).multiplyScalar(q)),y=new to(f),x=new da,b=new La(f,m,v,x,g,P,y),_=new pi(f),w=new Ki(f,_,y),M=new no(w,y),L=new ro(f),E=new pa(O,m,g),T=new va,S=new Ma,A=new qi(O,v,M,c),R=new Yi(f,m,y,g),C=new $i(f,m,y,g),y.programs=E.programs,O.context=f,O.capabilities=g,O.extensions=m,O.properties=x,O.renderLists=T,O.state=v,O.info=y}at();var st="xr"in navigator?new Na(O):new Ia(O);this.vr=st;var ct=new Sa(O,M,g.maxTextureSize);function ht(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function lt(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1,at()}function ut(t){var e=t.target;e.removeEventListener("dispose",ut),function(t){pt(t),x.remove(t)}(e)}function pt(t){var e=x.get(t).program;t.program=void 0,void 0!==e&&E.releaseProgram(e)}this.shadowMap=ct,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(t){void 0!==t&&(q=t,this.setSize(W,X,!1))},this.getSize=function(){return{width:W,height:X}},this.setSize=function(t,e,n){st.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=t,X=e,r.width=t*q,r.height=e*q,!1!==n&&(r.style.width=t+"px",r.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(){return{width:W*q,height:X*q}},this.setDrawingBufferSize=function(t,e,n){W=t,X=e,q=n,r.width=t*n,r.height=e*n,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return H},this.setViewport=function(t,e,r,n){Y.set(t,X-e-n,r,n),v.viewport(H.copy(Y).multiplyScalar(q))},this.setScissor=function(t,e,r,n){J.set(t,X-e-n,r,n),v.scissor(V.copy(J).multiplyScalar(q))},this.setScissorTest=function(t){v.setScissorTest(Z=t)},this.getClearColor=function(){return A.getClearColor()},this.setClearColor=function(){A.setClearColor.apply(A,arguments)},this.getClearAlpha=function(){return A.getClearAlpha()},this.setClearAlpha=function(){A.setClearAlpha.apply(A,arguments)},this.clear=function(t,e,r){var n=0;(void 0===t||t)&&(n|=f.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=f.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=f.STENCIL_BUFFER_BIT),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,r,n){this.setRenderTarget(t),this.clear(e,r,n)},this.dispose=function(){r.removeEventListener("webglcontextlost",ht,!1),r.removeEventListener("webglcontextrestored",lt,!1),T.dispose(),S.dispose(),x.dispose(),M.dispose(),st.dispose(),mt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var r=x.get(t);t.hasPositions&&!r.position&&(r.position=f.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=f.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=f.createBuffer()),t.hasColors&&!r.color&&(r.color=f.createBuffer());var n=e.getAttributes();t.hasPositions&&(f.bindBuffer(f.ARRAY_BUFFER,r.position),f.bufferData(f.ARRAY_BUFFER,t.positionArray,f.DYNAMIC_DRAW),v.enableAttribute(n.position),f.vertexAttribPointer(n.position,3,f.FLOAT,!1,0,0)),t.hasNormals&&(f.bindBuffer(f.ARRAY_BUFFER,r.normal),f.bufferData(f.ARRAY_BUFFER,t.normalArray,f.DYNAMIC_DRAW),v.enableAttribute(n.normal),f.vertexAttribPointer(n.normal,3,f.FLOAT,!1,0,0)),t.hasUvs&&(f.bindBuffer(f.ARRAY_BUFFER,r.uv),f.bufferData(f.ARRAY_BUFFER,t.uvArray,f.DYNAMIC_DRAW),v.enableAttribute(n.uv),f.vertexAttribPointer(n.uv,2,f.FLOAT,!1,0,0)),t.hasColors&&(f.bindBuffer(f.ARRAY_BUFFER,r.color),f.bufferData(f.ARRAY_BUFFER,t.colorArray,f.DYNAMIC_DRAW),v.enableAttribute(n.color),f.vertexAttribPointer(n.color,3,f.FLOAT,!1,0,0)),v.disableUnusedAttributes(),f.drawArrays(f.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,n,i,o){var a=i.isMesh&&i.normalMatrix.determinant()<0;v.setMaterial(n,a);var s=xt(t,e,n,i),c=!1;F.geometry===r.id&&F.program===s.id&&F.wireframe===(!0===n.wireframe)||(F.geometry=r.id,F.program=s.id,F.wireframe=!0===n.wireframe,c=!0),i.morphTargetInfluences&&(L.update(i,r,n,s),c=!0);var h,l=r.index,u=r.attributes.position,p=1;!0===n.wireframe&&(l=w.getWireframeAttribute(r),p=2);var d=R;null!==l&&(h=_.get(l),(d=C).setIndex(h)),c&&(!function(t,e,r){if(r&&r.isInstancedBufferGeometry&!g.isWebGL2&&null===m.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v.initAttributes();var n=r.attributes,i=e.getAttributes(),o=t.defaultAttributeValues;for(var a in i){var s=i[a];if(s>=0){var c=n[a];if(void 0!==c){var h=c.normalized,l=c.itemSize,u=_.get(c);if(void 0===u)continue;var p=u.buffer,d=u.type,y=u.bytesPerElement;if(c.isInterleavedBufferAttribute){var x=c.data,b=x.stride,w=c.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,b*y,w*y)}else c.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===r.maxInstancedCount&&(r.maxInstancedCount=c.meshPerAttribute*c.count)):v.enableAttribute(s),f.bindBuffer(f.ARRAY_BUFFER,p),f.vertexAttribPointer(s,l,d,h,0,0)}else if(void 0!==o){var M=o[a];if(void 0!==M)switch(M.length){case 2:f.vertexAttrib2fv(s,M);break;case 3:f.vertexAttrib3fv(s,M);break;case 4:f.vertexAttrib4fv(s,M);break;default:f.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}(n,s,r),null!==l&&f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,h.buffer));var y=1/0;null!==l?y=l.count:void 0!==u&&(y=u.count);var x=r.drawRange.start*p,b=r.drawRange.count*p,M=null!==o?o.start*p:0,E=null!==o?o.count*p:1/0,T=Math.max(x,M),S=Math.min(y,x+b,M+E)-1,A=Math.max(0,S-T+1);if(0!==A){if(i.isMesh)if(!0===n.wireframe)v.setLineWidth(n.wireframeLinewidth*it()),d.setMode(f.LINES);else switch(i.drawMode){case xe:d.setMode(f.TRIANGLES);break;case be:d.setMode(f.TRIANGLE_STRIP);break;case _e:d.setMode(f.TRIANGLE_FAN)}else if(i.isLine){var P=n.linewidth;void 0===P&&(P=1),v.setLineWidth(P*it()),i.isLineSegments?d.setMode(f.LINES):i.isLineLoop?d.setMode(f.LINE_LOOP):d.setMode(f.LINE_STRIP)}else i.isPoints?d.setMode(f.POINTS):i.isSprite&&d.setMode(f.TRIANGLES);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&d.renderInstances(r,T,A):d.render(T,A)}},this.compile=function(t,e){(p=S.get(t,e)).init(),t.traverse(function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))}),p.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var r=0;r<e.material.length;r++)yt(e.material[r],t.fog,e);else yt(e.material,t.fog,e)})};var dt=null;var ft,mt=new ui;function gt(t,e,r,n){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,h=void 0===n?a.material:n,l=a.group;if(r.isArrayCamera){G=r;for(var u=r.cameras,p=0,d=u.length;p<d;p++){var f=u[p];if(s.layers.test(f.layers)){if("viewport"in f)v.viewport(H.copy(f.viewport));else{var m=f.bounds,g=m.x*W,y=m.y*X,x=m.z*W,b=m.w*X;v.viewport(H.set(g,y,x,b).multiplyScalar(q))}vt(s,e,f,c,h,l)}}}else G=null,vt(s,e,r,c,h,l)}}function vt(t,e,r,n,i,o){if(t.onBeforeRender(O,e,r,n,i,o),p=S.get(e,G||r),t.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(i);var a=xt(r,e.fog,i,t);F.geometry=null,F.program=null,F.wireframe=!1,function(t,e){t.render(function(t){O.renderBufferImmediate(t,e)})}(t,a)}else O.renderBufferDirect(r,e.fog,n,i,t,o);t.onAfterRender(O,e,r,n,i,o),p=S.get(e,G||r)}function yt(t,e,r){var n=x.get(t),i=p.state.lights,o=p.state.shadowsArray,a=n.lightsHash,s=i.state.hash,c=E.getParameters(t,i.state,o,e,K.numPlanes,K.numIntersection,r),h=E.getProgramCode(t,c),l=n.program,u=!0;if(void 0===l)t.addEventListener("dispose",ut);else if(l.code!==h)pt(t);else if(a.stateID!==s.stateID||a.directionalLength!==s.directionalLength||a.pointLength!==s.pointLength||a.spotLength!==s.spotLength||a.rectAreaLength!==s.rectAreaLength||a.hemiLength!==s.hemiLength||a.shadowsLength!==s.shadowsLength)a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,u=!1;else{if(void 0!==c.shaderID)return;u=!1}if(u){if(c.shaderID){var d=li[c.shaderID];n.shader={name:t.type,uniforms:ai.clone(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else n.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(n.shader,O),h=E.getProgramCode(t,c),l=E.acquireProgram(t,n.shader,c,h),n.program=l,t.program=l}var f=l.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<O.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(m=0;m<O.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++}var g=n.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=K.numPlanes,n.numIntersection=K.numIntersection,g.clippingPlanes=K.uniform),n.fog=e,void 0===a&&(n.lightsHash=a={}),a.stateID=s.stateID,a.directionalLength=s.directionalLength,a.pointLength=s.pointLength,a.spotLength=s.spotLength,a.rectAreaLength=s.rectAreaLength,a.hemiLength=s.hemiLength,a.shadowsLength=s.shadowsLength,t.lights&&(g.ambientLightColor.value=i.state.ambient,g.directionalLights.value=i.state.directional,g.spotLights.value=i.state.spot,g.rectAreaLights.value=i.state.rectArea,g.pointLights.value=i.state.point,g.hemisphereLights.value=i.state.hemi,g.directionalShadowMap.value=i.state.directionalShadowMap,g.directionalShadowMatrix.value=i.state.directionalShadowMatrix,g.spotShadowMap.value=i.state.spotShadowMap,g.spotShadowMatrix.value=i.state.spotShadowMatrix,g.pointShadowMap.value=i.state.pointShadowMap,g.pointShadowMatrix.value=i.state.pointShadowMatrix);var v=n.program.getUniforms(),y=Jo.seqWithValue(v.seq,g);n.uniformsList=y}function xt(t,e,r,n){j=0;var i=x.get(r),o=p.state.lights,a=i.lightsHash,s=o.state.hash;if($&&(et||t!==z)){var c=t===z&&r.id===B;K.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,t,i,c)}!1===r.needsUpdate&&(void 0===i.program?r.needsUpdate=!0:r.fog&&i.fog!==e?r.needsUpdate=!0:(!r.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===K.numPlanes&&i.numIntersection===K.numIntersection)||(r.needsUpdate=!0)),r.needsUpdate&&(yt(r,e,n),r.needsUpdate=!1);var h,l,u=!1,m=!1,y=!1,b=i.program,_=b.getUniforms(),w=i.shader.uniforms;if(v.useProgram(b.program)&&(u=!0,m=!0,y=!0),r.id!==B&&(B=r.id,m=!0),u||t!==z){if(_.setValue(f,"projectionMatrix",t.projectionMatrix),g.logarithmicDepthBuffer&&_.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),z!==(G||t)&&(z=G||t,m=!0,y=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var M=_.map.cameraPosition;void 0!==M&&M.setValue(f,nt.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&_.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(r.skinning){_.setOptional(f,n,"bindMatrix"),_.setOptional(f,n,"bindMatrixInverse");var E=n.skeleton;if(E){var T=E.bones;if(g.floatVertexTextures){if(void 0===E.boneTexture){var S=Math.sqrt(4*T.length);S=Ne.ceilPowerOfTwo(S),S=Math.max(S,4);var A=new Float32Array(S*S*4);A.set(E.boneMatrices);var L=new Xe(A,S,S,Dt,At);L.needsUpdate=!0,E.boneMatrices=A,E.boneTexture=L,E.boneTextureSize=S}_.setValue(f,"boneTexture",E.boneTexture),_.setValue(f,"boneTextureSize",E.boneTextureSize)}else _.setOptional(f,E,"boneMatrices")}}return m&&(_.setValue(f,"toneMappingExposure",O.toneMappingExposure),_.setValue(f,"toneMappingWhitePoint",O.toneMappingWhitePoint),r.lights&&(l=y,(h=w).ambientLightColor.needsUpdate=l,h.directionalLights.needsUpdate=l,h.pointLights.needsUpdate=l,h.spotLights.needsUpdate=l,h.rectAreaLights.needsUpdate=l,h.hemisphereLights.needsUpdate=l),e&&r.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(w,e),r.isMeshBasicMaterial?bt(w,r):r.isMeshLambertMaterial?(bt(w,r),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(w,r)):r.isMeshPhongMaterial?(bt(w,r),r.isMeshToonMaterial?function(t,e){wt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(w,r):wt(w,r)):r.isMeshStandardMaterial?(bt(w,r),r.isMeshPhysicalMaterial?function(t,e){Mt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(w,r):Mt(w,r)):r.isMeshDepthMaterial?(bt(w,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,r)):r.isMeshDistanceMaterial?(bt(w,r),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(w,r)):r.isMeshNormalMaterial?(bt(w,r),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(w,r)):r.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(w,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(w,r)):r.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*q,t.scale.value=.5*X,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(w,r):r.isSpriteMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(w,r):r.isShadowMaterial&&(w.color.value=r.color,w.opacity.value=r.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=hi.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=hi.LTC_2),Jo.upload(f,i.uniformsList,w,O)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Jo.upload(f,i.uniformsList,w,O),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&_.setValue(f,"center",n.center),_.setValue(f,"modelViewMatrix",n.modelViewMatrix),_.setValue(f,"normalMatrix",n.normalMatrix),_.setValue(f,"modelMatrix",n.matrixWorld),b}function bt(t,e){var r;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=x.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?r=e.map:e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.roughnessMap?r=e.roughnessMap:e.metalnessMap?r=e.metalnessMap:e.alphaMap?r=e.alphaMap:e.emissiveMap&&(r=e.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}function wt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Mt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===d&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===d&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}mt.setAnimationLoop(function(t){st.isPresenting()||dt&&dt(t)}),"undefined"!=typeof window&&mt.setContext(window),this.setAnimationLoop=function(t){dt=t,st.setAnimationLoop(t),mt.start()},this.render=function(t,e,r,n){if(e&&e.isCamera){if(!I){F.geometry=null,F.program=null,F.wireframe=!1,B=-1,z=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),st.enabled&&(e=st.getCamera(e)),(p=S.get(t,e)).init(),t.onBeforeRender(O,t,e,r),rt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Q.setFromMatrix(rt),et=this.localClippingEnabled,$=K.init(this.clippingPlanes,et,e),(u=T.get(t,e)).init(),function t(e,r,n){if(!1===e.visible)return;var i=e.layers.test(r.layers);if(i)if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||Q.intersectsSprite(e)){n&&nt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(rt);var o=M.update(e),a=e.material;u.push(e,o,a,nt.z,null)}}else if(e.isImmediateRenderObject)n&&nt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(rt),u.push(e,null,e.material,nt.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||Q.intersectsObject(e))){n&&nt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(rt);var o=M.update(e),a=e.material;if(Array.isArray(a))for(var s=o.groups,c=0,h=s.length;c<h;c++){var l=s[c],d=a[l.materialIndex];d&&d.visible&&u.push(e,o,d,nt.z,l)}else a.visible&&u.push(e,o,a,nt.z,null)}var f=e.children;for(var c=0,h=f.length;c<h;c++)t(f[c],r,n)}(t,e,O.sortObjects),!0===O.sortObjects&&u.sort(),$&&K.beginShadows();var i=p.state.shadowsArray;ct.render(i,t,e),p.setupLights(e),$&&K.endShadows(),this.info.autoReset&&this.info.reset(),void 0===r&&(r=null),this.setRenderTarget(r),A.render(u,t,e,n);var o=u.opaque,a=u.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&gt(o,t,e,s),a.length&&gt(a,t,e,s)}else o.length&&gt(o,t,e),a.length&&gt(a,t,e);r&&b.updateRenderTargetMipmap(r),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),t.onAfterRender(O,t,e),st.enabled&&st.submitFrame(),u=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.allocTextureUnit=function(){var t=j;return t>=g.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+g.maxTextures),j+=1,t},this.setTexture2D=(ft=!1,function(t,e){t&&t.isWebGLRenderTarget&&(ft||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ft=!0),t=t.texture),b.setTexture2D(t,e)}),this.setTexture=function(){var t=!1;return function(e,r){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),b.setTexture2D(e,r)}}(),this.setTextureCube=function(){var t=!1;return function(e,r){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?b.setTextureCube(e,r):b.setTextureCubeDynamic(e,r)}}(),this.setFramebuffer=function(t){N=t},this.getRenderTarget=function(){return D},this.setRenderTarget=function(t){D=t,t&&void 0===x.get(t).__webglFramebuffer&&b.setupRenderTarget(t);var e=N,r=!1;if(t){var n=x.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=n[t.activeCubeFace],r=!0):e=n,H.copy(t.viewport),V.copy(t.scissor),k=t.scissorTest}else H.copy(Y).multiplyScalar(q),V.copy(J).multiplyScalar(q),k=Z;if(U!==e&&(f.bindFramebuffer(f.FRAMEBUFFER,e),U=e),v.viewport(H),v.scissor(V),v.setScissorTest(k),r){var i=x.get(t.texture);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,r,n,i,o){if(t&&t.isWebGLRenderTarget){var a=x.get(t).__webglFramebuffer;if(a){var s=!1;a!==U&&(f.bindFramebuffer(f.FRAMEBUFFER,a),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==Dt&&P.convert(h)!==f.getParameter(f.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===_t||P.convert(l)===f.getParameter(f.IMPLEMENTATION_COLOR_READ_TYPE)||l===At&&(g.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float"))||l===Lt&&(g.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&r>=0&&r<=t.height-i&&f.readPixels(e,r,n,i,P.convert(h),P.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&f.bindFramebuffer(f.FRAMEBUFFER,U)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,r){var n=e.image.width,i=e.image.height,o=P.convert(e.format);this.setTexture2D(e,0),f.copyTexImage2D(f.TEXTURE_2D,r||0,o,t.x,t.y,n,i,0)},this.copyTextureToTexture=function(t,e,r,n){var i=e.image.width,o=e.image.height,a=P.convert(r.format),s=P.convert(r.type);this.setTexture2D(r,0),e.isDataTexture?f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,i,o,a,s,e.image.data):f.texSubImage2D(f.TEXTURE_2D,n||0,t.x,t.y,a,s,e.image)}}function Ua(t,e){this.name="",this.color=new ci(t),this.density=void 0!==e?e:25e-5}function Ba(t,e,r){this.name="",this.color=new ci(t),this.near=void 0!==e?e:1,this.far=void 0!==r?r:1e3}function Fa(){gi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function za(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ga(t,e,r,n){this.data=t,this.itemSize=e,this.offset=r,this.normalized=!0===n}function Ha(t){Hi.call(this),this.type="SpriteMaterial",this.color=new ci(16777215),this.map=null,this.rotation=0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Va(t){if(gi.call(this),this.type="Sprite",void 0===xa){xa=new Di;var e=new za(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);xa.setIndex([0,1,2,0,2,3]),xa.addAttribute("position",new Ga(e,3,0,!1)),xa.addAttribute("uv",new Ga(e,2,3,!1))}this.geometry=xa,this.material=void 0!==t?t:new Ha,this.center=new De(.5,.5)}function ka(){gi.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ja(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Ue)}}function Wa(){gi.call(this),this.type="Bone"}function Xa(t,e){Xi.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ue,this.bindMatrixInverse=new Ue;var r=new ja(this.initBones());this.bind(r,this.matrixWorld),this.normalizeSkinWeights()}function qa(t){Hi.call(this),this.type="LineBasicMaterial",this.color=new ci(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ya(t,e,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),gi.call(this),this.type="Line",this.geometry=void 0!==t?t:new Di,this.material=void 0!==e?e:new qa({color:16777215*Math.random()})}function Ja(t,e){Ya.call(this,t,e),this.type="LineSegments"}function Za(t,e){Ya.call(this,t,e),this.type="LineLoop"}function Qa(t){Hi.call(this),this.type="PointsMaterial",this.color=new ci(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Ka(t,e){gi.call(this),this.type="Points",this.geometry=void 0!==t?t:new Di,this.material=void 0!==e?e:new Qa({color:16777215*Math.random()})}function $a(t,e,r,n,i,o,a,s,c){Ve.call(this,t,e,r,n,i,o,a,s,c),this.generateMipmaps=!1}function ts(t,e,r,n,i,o,a,s,c,h,l,u){Ve.call(this,null,o,a,s,c,h,n,i,l,u),this.image={width:e,height:r},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function es(t,e,r,n,i,o,a,s,c){Ve.call(this,t,e,r,n,i,o,a,s,c),this.needsUpdate=!0}function rs(t,e,r,n,i,o,a,s,c,h){if((h=void 0!==h?h:zt)!==zt&&h!==Gt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&h===zt&&(r=Et),void 0===r&&h===Gt&&(r=Ot),Ve.call(this,null,n,i,o,a,s,h,r,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:mt,this.minFilter=void 0!==s?s:mt,this.flipY=!1,this.generateMipmaps=!1}function ns(t){Di.call(this),this.type="WireframeGeometry";var e,r,n,i,o,a,s,c,h,l,u=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,n=m.length;e<n;e++){var g=m[e];for(r=0;r<3;r++)s=g[f[r]],c=g[f[(r+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]})}for(h in d)a=d[h],l=t.vertices[a.index1],u.push(l.x,l.y,l.z),l=t.vertices[a.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,x,b,_,w,M;if(l=new Fe,null!==t.index){for(v=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),i=0,o=x.length;i<o;++i)for(e=_=(b=x[i]).start,n=_+b.count;e<n;e+=3)for(r=0;r<3;r++)s=y.getX(e+r),c=y.getX(e+(r+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+","+p[1]]&&(d[h]={index1:p[0],index2:p[1]});for(h in d)a=d[h],l.fromBufferAttribute(v,a.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,a.index2),u.push(l.x,l.y,l.z)}else for(e=0,n=(v=t.attributes.position).count/3;e<n;e++)for(r=0;r<3;r++)w=3*e+r,l.fromBufferAttribute(v,w),u.push(l.x,l.y,l.z),M=3*e+(r+1)%3,l.fromBufferAttribute(v,M),u.push(l.x,l.y,l.z)}this.addAttribute("position",new Ci(u,3))}function is(t,e,r){_i.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:r},this.fromBufferGeometry(new os(t,e,r)),this.mergeVertices()}function os(t,e,r){Di.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:r};var n,i,o=[],a=[],s=[],c=[],h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=new Fe;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var f=e+1;for(n=0;n<=r;n++){var m=n/r;for(i=0;i<=e;i++){var g=i/e;t(g,m,l),a.push(l.x,l.y,l.z),g-1e-5>=0?(t(g-1e-5,m,u),p.subVectors(l,u)):(t(g+1e-5,m,u),p.subVectors(u,l)),m-1e-5>=0?(t(g,m-1e-5,u),d.subVectors(l,u)):(t(g,m+1e-5,u),d.subVectors(u,l)),h.crossVectors(p,d).normalize(),s.push(h.x,h.y,h.z),c.push(g,m)}}for(n=0;n<r;n++)for(i=0;i<e;i++){var v=n*f+i,y=n*f+i+1,x=(n+1)*f+i+1,b=(n+1)*f+i;o.push(v,y,b),o.push(y,x,b)}this.setIndex(o),this.addAttribute("position",new Ci(a,3)),this.addAttribute("normal",new Ci(s,3)),this.addAttribute("uv",new Ci(c,2))}function as(t,e,r,n){_i.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},this.fromBufferGeometry(new ss(t,e,r,n)),this.mergeVertices()}function ss(t,e,r,n){Di.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:r,detail:n},r=r||1;var i=[],o=[];function a(t,e,r,n){var i,o,a=Math.pow(2,n),c=[];for(i=0;i<=a;i++){c[i]=[];var h=t.clone().lerp(r,i/a),l=e.clone().lerp(r,i/a),u=a-i;for(o=0;o<=u;o++)c[i][o]=0===o&&i===a?h:h.clone().lerp(l,o/u)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var p=Math.floor(o/2);o%2==0?(s(c[i][p+1]),s(c[i+1][p]),s(c[i][p])):(s(c[i][p+1]),s(c[i+1][p+1]),s(c[i+1][p]))}}function s(t){i.push(t.x,t.y,t.z)}function c(e,r){var n=3*e;r.x=t[n+0],r.y=t[n+1],r.z=t[n+2]}function h(t,e,r,n){n<0&&1===t.x&&(o[e]=t.x-1),0===r.x&&0===r.z&&(o[e]=n/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}!function(t){for(var r=new Fe,n=new Fe,i=new Fe,o=0;o<e.length;o+=3)c(e[o+0],r),c(e[o+1],n),c(e[o+2],i),a(r,n,i,t)}(n=n||0),function(t){for(var e=new Fe,r=0;r<i.length;r+=3)e.x=i[r+0],e.y=i[r+1],e.z=i[r+2],e.normalize().multiplyScalar(t),i[r+0]=e.x,i[r+1]=e.y,i[r+2]=e.z}(r),function(){for(var t=new Fe,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var r=l(t)/2/Math.PI+.5,n=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(r,1-n)}var a;(function(){for(var t=new Fe,e=new Fe,r=new Fe,n=new Fe,a=new De,s=new De,c=new De,u=0,p=0;u<i.length;u+=9,p+=6){t.set(i[u+0],i[u+1],i[u+2]),e.set(i[u+3],i[u+4],i[u+5]),r.set(i[u+6],i[u+7],i[u+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),c.set(o[p+4],o[p+5]),n.copy(t).add(e).add(r).divideScalar(3);var d=l(n);h(a,p+0,t,d),h(s,p+2,e,d),h(c,p+4,r,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],r=o[t+2],n=o[t+4],i=Math.max(e,r,n),a=Math.min(e,r,n);i>.9&&a<.1&&(e<.2&&(o[t+0]+=1),r<.2&&(o[t+2]+=1),n<.2&&(o[t+4]+=1))}}()}(),this.addAttribute("position",new Ci(i,3)),this.addAttribute("normal",new Ci(i.slice(),3)),this.addAttribute("uv",new Ci(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function cs(t,e){_i.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new hs(t,e)),this.mergeVertices()}function hs(t,e){ss.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ls(t,e){_i.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new us(t,e)),this.mergeVertices()}function us(t,e){ss.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ps(t,e){_i.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ds(t,e)),this.mergeVertices()}function ds(t,e){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];ss.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function fs(t,e){_i.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ms(t,e)),this.mergeVertices()}function ms(t,e){var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];ss.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function gs(t,e,r,n,i,o){_i.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new vs(t,e,r,n,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function vs(t,e,r,n,i){Di.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:r,radialSegments:n,closed:i},e=e||64,r=r||1,n=n||8,i=i||!1;var o=t.computeFrenetFrames(e,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new Fe,h=new Fe,l=new De,u=new Fe,p=[],d=[],f=[],m=[];function g(i){u=t.getPointAt(i/e,u);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);h.x=g*a.x+m*l.x,h.y=g*a.y+m*l.y,h.z=g*a.z+m*l.z,h.normalize(),d.push(h.x,h.y,h.z),c.x=u.x+r*h.x,c.y=u.y+r*h.y,c.z=u.z+r*h.z,p.push(c.x,c.y,c.z)}}!function(){for(a=0;a<e;a++)g(a);g(!1===i?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=n;s++)l.x=a/e,l.y=s/n,f.push(l.x,l.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=n;a++){var t=(n+1)*(s-1)+(a-1),r=(n+1)*s+(a-1),i=(n+1)*s+a,o=(n+1)*(s-1)+a;m.push(t,r,o),m.push(r,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Ci(p,3)),this.addAttribute("normal",new Ci(d,3)),this.addAttribute("uv",new Ci(f,2))}function ys(t,e,r,n,i,o,a){_i.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new xs(t,e,r,n,i,o)),this.mergeVertices()}function xs(t,e,r,n,i,o){Di.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:r,radialSegments:n,p:i,q:o},t=t||1,e=e||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,i=i||2,o=o||3;var a,s,c=[],h=[],l=[],u=[],p=new Fe,d=new Fe,f=new Fe,m=new Fe,g=new Fe,v=new Fe,y=new Fe;for(a=0;a<=r;++a){var x=a/r*i*Math.PI*2;for(A(x,i,o,t,f),A(x+.01,i,o,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=n;++s){var b=s/n*Math.PI*2,_=-e*Math.cos(b),w=e*Math.sin(b);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),h.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),l.push(d.x,d.y,d.z),u.push(a/r),u.push(s/n)}}for(s=1;s<=r;s++)for(a=1;a<=n;a++){var M=(n+1)*(s-1)+(a-1),E=(n+1)*s+(a-1),T=(n+1)*s+a,S=(n+1)*(s-1)+a;c.push(M,E,S),c.push(E,T,S)}function A(t,e,r,n,i){var o=Math.cos(t),a=Math.sin(t),s=r/e*t,c=Math.cos(s);i.x=n*(2+c)*.5*o,i.y=n*(2+c)*a*.5,i.z=n*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Ci(h,3)),this.addAttribute("normal",new Ci(l,3)),this.addAttribute("uv",new Ci(u,2))}function bs(t,e,r,n,i){_i.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},this.fromBufferGeometry(new _s(t,e,r,n,i)),this.mergeVertices()}function _s(t,e,r,n,i){Di.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:r,tubularSegments:n,arc:i},t=t||1,e=e||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,i=i||2*Math.PI;var o,a,s=[],c=[],h=[],l=[],u=new Fe,p=new Fe,d=new Fe;for(o=0;o<=r;o++)for(a=0;a<=n;a++){var f=a/n*i,m=o/r*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(p,u).normalize(),h.push(d.x,d.y,d.z),l.push(a/n),l.push(o/r)}for(o=1;o<=r;o++)for(a=1;a<=n;a++){var g=(n+1)*o+a-1,v=(n+1)*(o-1)+a-1,y=(n+1)*(o-1)+a,x=(n+1)*o+a;s.push(g,v,x),s.push(v,y,x)}this.setIndex(s),this.addAttribute("position",new Ci(c,3)),this.addAttribute("normal",new Ci(h,3)),this.addAttribute("uv",new Ci(l,2))}Ea.prototype=Object.create(Hi.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isMeshDepthMaterial=!0,Ea.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ta.prototype=Object.create(Hi.prototype),Ta.prototype.constructor=Ta,Ta.prototype.isMeshDistanceMaterial=!0,Ta.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Ca.prototype=Object.assign(Object.create(gi.prototype),{constructor:Ca,isGroup:!0}),Pa.prototype=Object.assign(Object.create(vi.prototype),{constructor:Pa,isPerspectiveCamera:!0,copy:function(t,e){return vi.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Ne.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ne.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ne.RAD2DEG*Math.atan(Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,r,n,i,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Ne.DEG2RAD*this.fov)/this.zoom,r=2*e,n=this.aspect*r,i=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*n/a,e-=o.offsetY*r/s,n*=o.width/a,r*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,e,e-r,t,this.far)},toJSON:function(t){var e=gi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Oa.prototype=Object.assign(Object.create(Pa.prototype),{constructor:Oa,isArrayCamera:!0}),Ua.prototype.isFogExp2=!0,Ua.prototype.clone=function(){return new Ua(this.color,this.density)},Ua.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Ba.prototype.isFog=!0,Ba.prototype.clone=function(){return new Ba(this.color,this.near,this.far)},Ba.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Fa.prototype=Object.assign(Object.create(gi.prototype),{constructor:Fa,copy:function(t,e){return gi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=gi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(za.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(za.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.stride,r*=e.stride;for(var n=0,i=this.stride;n<i;n++)this.array[t+n]=e.array[r+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Ga.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ga.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=r,this.data.array[t+2]=n,this.data.array[t+3]=i,this}}),Ha.prototype=Object.create(Hi.prototype),Ha.prototype.constructor=Ha,Ha.prototype.isSpriteMaterial=!0,Ha.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Va.prototype=Object.assign(Object.create(gi.prototype),{constructor:Va,isSprite:!0,raycast:function(){var t=new Fe,e=new Fe,r=new Fe,n=new De,i=new De,o=new Ue,a=new Fe,s=new Fe,c=new Fe;function h(t,e,r,a,s,c){n.subVectors(t,r).addScalar(.5).multiply(a),void 0!==s?(i.x=c*n.x-s*n.y,i.y=s*n.x+c*n.y):i.copy(n),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(o)}return function(n,i){e.setFromMatrixScale(this.matrixWorld),o.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),r.setFromMatrixPosition(this.modelViewMatrix);var l,u,p=this.material.rotation;0!==p&&(u=Math.cos(p),l=Math.sin(p));var d=this.center;h(a.set(-.5,-.5,0),r,d,e,l,u),h(s.set(.5,-.5,0),r,d,e,l,u),h(c.set(.5,.5,0),r,d,e,l,u);var f=n.ray.intersectTriangle(a,s,c,!1,t);if(null!==f||(h(s.set(-.5,.5,0),r,d,e,l,u),null!==(f=n.ray.intersectTriangle(a,c,s,!1,t)))){var m=n.ray.origin.distanceTo(t);m<n.near||m>n.far||i.push({distance:m,point:t.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return gi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),ka.prototype=Object.assign(Object.create(gi.prototype),{constructor:ka,copy:function(t){gi.prototype.copy.call(this,t,!1);for(var e=t.levels,r=0,n=e.length;r<n;r++){var i=e[r];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var r=this.levels,n=0;n<r.length&&!(e<r[n].distance);n++);r.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,r=1,n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object},raycast:function(){var t=new Fe;return function(e,r){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,r)}}(),update:function(){var t=new Fe,e=new Fe;return function(r){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(r.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);n[0].object.visible=!0;for(var o=1,a=n.length;o<a&&i>=n[o].distance;o++)n[o-1].object.visible=!1,n[o].object.visible=!0;for(;o<a;o++)n[o].object.visible=!1}}}(),toJSON:function(t){var e=gi.prototype.toJSON.call(this,t);e.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var o=r[n];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ja.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var r=new Ue;this.bones[t]&&r.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(r)}},pose:function(){var t,e,r;for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,r=this.bones.length;e<r;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Ue,e=new Ue;return function(){for(var r=this.bones,n=this.boneInverses,i=this.boneMatrices,o=this.boneTexture,a=0,s=r.length;a<s;a++){var c=r[a]?r[a].matrixWorld:e;t.multiplyMatrices(c,n[a]),t.toArray(i,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new ja(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,r=this.bones.length;e<r;e++){var n=this.bones[e];if(n.name===t)return n}}}),Wa.prototype=Object.assign(Object.create(gi.prototype),{constructor:Wa,isBone:!0}),Xa.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Xa,isSkinnedMesh:!0,initBones:function(){var t,e,r,n,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(r=0,n=this.geometry.bones.length;r<n;r++)e=this.geometry.bones[r],t=new Wa,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(r=0,n=this.geometry.bones.length;r<n;r++)-1!==(e=this.geometry.bones[r]).parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[r]):this.add(i[r])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var r=this.geometry.skinWeights[e];(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new ke,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)n.x=i.getX(e),n.y=i.getY(e),n.z=i.getZ(e),n.w=i.getW(e),(t=1/n.manhattanLength())!==1/0?n.multiplyScalar(t):n.set(1,0,0,0),i.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(t){Xi.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),qa.prototype=Object.create(Hi.prototype),qa.prototype.constructor=qa,qa.prototype.isLineBasicMaterial=!0,qa.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ya.prototype=Object.assign(Object.create(gi.prototype),{constructor:Ya,isLine:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[0],o=1,a=n.count;o<a;o++)t.fromBufferAttribute(n,o-1),e.fromBufferAttribute(n,o),i[o]=i[o-1],i[o]+=t.distanceTo(e);r.addAttribute("lineDistance",new Ci(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;(i=r.lineDistances)[0]=0;for(o=1,a=s.length;o<a;o++)i[o]=i[o-1],i[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var t=new Ue,e=new ji,r=new Ye;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(c),!1!==n.ray.intersectsSphere(r)){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var h=new Fe,l=new Fe,u=new Fe,p=new Fe,d=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var g=f.array,v=0,y=g.length-1;v<y;v+=d){var x=g[v],b=g[v+1];if(h.fromArray(m,3*x),l.fromArray(m,3*b),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(v=0,y=m.length/3-1;v<y;v+=d){if(h.fromArray(m,3*v),l.fromArray(m,3*v+3),!(e.distanceSqToSegment(h,l,p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(s.isGeometry){var _=s.vertices,w=_.length;for(v=0;v<w-1;v+=d){var M;if(!(e.distanceSqToSegment(_[v],_[v+1],p,u)>a))p.applyMatrix4(this.matrixWorld),(M=n.ray.origin.distanceTo(p))<n.near||M>n.far||i.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ja.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Ja,isLineSegments:!0,computeLineDistances:function(){var t=new Fe,e=new Fe;return function(){var r=this.geometry;if(r.isBufferGeometry)if(null===r.index){for(var n=r.attributes.position,i=[],o=0,a=n.count;o<a;o+=2)t.fromBufferAttribute(n,o),e.fromBufferAttribute(n,o+1),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e);r.addAttribute("lineDistance",new Ci(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){var s=r.vertices;for(i=r.lineDistances,o=0,a=s.length;o<a;o+=2)t.copy(s[o]),e.copy(s[o+1]),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+t.distanceTo(e)}return this}}()}),Za.prototype=Object.assign(Object.create(Ya.prototype),{constructor:Za,isLineLoop:!0}),Qa.prototype=Object.create(Hi.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isPointsMaterial=!0,Qa.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Ka.prototype=Object.assign(Object.create(gi.prototype),{constructor:Ka,isPoints:!0,raycast:function(){var t=new Ue,e=new ji,r=new Ye;return function(n,i){var o=this,a=this.geometry,s=this.matrixWorld,c=n.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),r.copy(a.boundingSphere),r.applyMatrix4(s),r.radius+=c,!1!==n.ray.intersectsSphere(r)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),l=h*h,u=new Fe,p=new Fe;if(a.isBufferGeometry){var d=a.index,f=a.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];u.fromArray(f,3*y),_(u,y)}else{g=0;for(var x=f.length/3;g<x;g++)u.fromArray(f,3*g),_(u,g)}}else{var b=a.vertices;for(g=0,x=b.length;g<x;g++)_(b[g],g)}}function _(t,r){var a=e.distanceSqToPoint(t);if(a<l){e.closestPointToPoint(t,p),p.applyMatrix4(s);var c=n.ray.origin.distanceTo(p);if(c<n.near||c>n.far)return;i.push({distance:c,distanceToRay:Math.sqrt(a),point:p.clone(),index:r,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),$a.prototype=Object.assign(Object.create(Ve.prototype),{constructor:$a,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ts.prototype=Object.create(Ve.prototype),ts.prototype.constructor=ts,ts.prototype.isCompressedTexture=!0,es.prototype=Object.create(Ve.prototype),es.prototype.constructor=es,es.prototype.isCanvasTexture=!0,rs.prototype=Object.create(Ve.prototype),rs.prototype.constructor=rs,rs.prototype.isDepthTexture=!0,ns.prototype=Object.create(Di.prototype),ns.prototype.constructor=ns,is.prototype=Object.create(_i.prototype),is.prototype.constructor=is,os.prototype=Object.create(Di.prototype),os.prototype.constructor=os,as.prototype=Object.create(_i.prototype),as.prototype.constructor=as,ss.prototype=Object.create(Di.prototype),ss.prototype.constructor=ss,cs.prototype=Object.create(_i.prototype),cs.prototype.constructor=cs,hs.prototype=Object.create(ss.prototype),hs.prototype.constructor=hs,ls.prototype=Object.create(_i.prototype),ls.prototype.constructor=ls,us.prototype=Object.create(ss.prototype),us.prototype.constructor=us,ps.prototype=Object.create(_i.prototype),ps.prototype.constructor=ps,ds.prototype=Object.create(ss.prototype),ds.prototype.constructor=ds,fs.prototype=Object.create(_i.prototype),fs.prototype.constructor=fs,ms.prototype=Object.create(ss.prototype),ms.prototype.constructor=ms,gs.prototype=Object.create(_i.prototype),gs.prototype.constructor=gs,vs.prototype=Object.create(Di.prototype),vs.prototype.constructor=vs,ys.prototype=Object.create(_i.prototype),ys.prototype.constructor=ys,xs.prototype=Object.create(Di.prototype),xs.prototype.constructor=xs,bs.prototype=Object.create(_i.prototype),bs.prototype.constructor=bs,_s.prototype=Object.create(Di.prototype),_s.prototype.constructor=_s;var ws={triangulate:function(t,e,r){r=r||2;var n,i,o,a,s,c,h,l=e&&e.length,u=l?e[0]*r:t.length,p=Ms(t,0,u,r,!0),d=[];if(!p)return d;if(l&&(p=Cs(t,e,p,r)),t.length>80*r){n=o=t[0],i=a=t[1];for(var f=r;f<u;f+=r)(s=t[f])<n&&(n=s),(c=t[f+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);h=0!==(h=Math.max(o-n,a-i))?1/h:0}return Ts(p,d,r,n,i,h),d}};function Ms(t,e,r,n,i){var o,a;if(i===Zs(t,e,r,n)>0)for(o=e;o<r;o+=n)a=qs(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=qs(o,t[o],t[o+1],a);return a&&Hs(a,a.next)&&(Ys(a),a=a.next),a}function Es(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Hs(n,n.next)&&0!==Gs(n.prev,n,n.next))n=n.next;else{if(Ys(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function Ts(t,e,r,n,i,o,a){if(t){!a&&o&&Ns(t,n,i,o);for(var s,c,h=t;t.prev!==t.next;)if(s=t.prev,c=t.next,o?As(t,n,i,o):Ss(t))e.push(s.i/r),e.push(t.i/r),e.push(c.i/r),Ys(t),t=c.next,h=c.next;else if((t=c)===h){a?1===a?Ts(t=Ls(t,e,r),e,r,n,i,o,2):2===a&&Rs(t,e,r,n,i,o):Ts(Es(t),e,r,n,i,o,1);break}}}function Ss(t){var e=t.prev,r=t,n=t.next;if(Gs(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Fs(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Gs(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function As(t,e,r,n){var i=t.prev,o=t,a=t.next;if(Gs(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,h=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,u=Us(s,c,e,r,n),p=Us(h,l,e,r,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&Fs(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Gs(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=u;){if(d!==t.prev&&d!==t.next&&Fs(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Gs(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Ls(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Hs(i,o)&&Vs(i,n,n.next,o)&&js(i,o)&&js(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),Ys(n),Ys(n.next),n=t=o),n=n.next}while(n!==t);return n}function Rs(t,e,r,n,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&zs(a,s)){var c=Xs(a,s);return a=Es(a,a.next),c=Es(c,c.next),Ts(a,e,r,n,i,o),void Ts(c,e,r,n,i,o)}s=s.next}a=a.next}while(a!==t)}function Cs(t,e,r,n){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Ms(t,e[i]*n,i<o-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),s.push(Bs(a));for(s.sort(Ps),i=0;i<s.length;i++)Os(s[i],r),r=Es(r,r.next);return r}function Ps(t,e){return t.x-e.x}function Os(t,e){if(e=Is(t,e)){var r=Xs(e,t);Es(r,r.next)}}function Is(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r.prev;var c,h=r,l=r.x,u=r.y,p=1/0;for(n=r.next;n!==h;)i>=n.x&&n.x>=l&&i!==n.x&&Fs(o<u?i:a,o,l,u,o<u?a:i,o,n.x,n.y)&&((c=Math.abs(o-n.y)/(i-n.x))<p||c===p&&n.x>r.x)&&js(n,t)&&(r=n,p=c),n=n.next;return r}function Ns(t,e,r,n){var i=t;do{null===i.z&&(i.z=Us(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Ds(i)}function Ds(t){var e,r,n,i,o,a,s,c,h=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<h&&(s++,n=n.nextZ);e++);for(c=h;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,h*=2}while(a>1);return t}function Us(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Bs(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function Fs(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function zs(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ks(t,e)&&js(t,e)&&js(e,t)&&Ws(t,e)}function Gs(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Hs(t,e){return t.x===e.x&&t.y===e.y}function Vs(t,e,r,n){return!!(Hs(t,e)&&Hs(r,n)||Hs(t,n)&&Hs(r,e))||Gs(t,e,r)>0!=Gs(t,e,n)>0&&Gs(r,n,t)>0!=Gs(r,n,e)>0}function ks(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Vs(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function js(t,e){return Gs(t.prev,t,t.next)<0?Gs(t,e,t.next)>=0&&Gs(t,t.prev,e)>=0:Gs(t,e,t.prev)<0||Gs(t,t.next,e)<0}function Ws(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}function Xs(t,e){var r=new Js(t.i,t.x,t.y),n=new Js(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function qs(t,e,r,n){var i=new Js(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ys(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Js(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Zs(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}var Qs={area:function(t){for(var e=t.length,r=0,n=e-1,i=0;i<e;n=i++)r+=t[n].x*t[i].y-t[i].x*t[n].y;return.5*r},isClockWise:function(t){return Qs.area(t)<0},triangulateShape:function(t,e){var r=[],n=[],i=[];Ks(t),$s(r,t);var o=t.length;e.forEach(Ks);for(var a=0;a<e.length;a++)n.push(o),o+=e[a].length,$s(r,e[a]);var s=ws.triangulate(r,n);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Ks(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function $s(t,e){for(var r=0;r<e.length;r++)t.push(e[r].x),t.push(e[r].y)}function tc(t,e){_i.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ec(t,e)),this.mergeVertices()}function ec(t,e){Di.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var r=this,n=[],i=[],o=0,a=t.length;o<a;o++){s(t[o])}function s(t){var o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,c=void 0!==e.depth?e.depth:100,h=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:l-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:rc;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);var m,g,v,y,x,b,_,w,M=!1;d&&(m=d.getSpacedPoints(s),M=!0,h=!1,g=d.computeFrenetFrames(s,!1),v=new Fe,y=new Fe,x=new Fe),h||(p=0,l=0,u=0);var E=t.extractPoints(a),T=E.shape,S=E.holes;if(!Qs.isClockWise(T))for(T=T.reverse(),_=0,w=S.length;_<w;_++)b=S[_],Qs.isClockWise(b)&&(S[_]=b.reverse());var A=Qs.triangulateShape(T,S),L=T;for(_=0,w=S.length;_<w;_++)b=S[_],T=T.concat(b);function R(t,e,r){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(r).add(t)}var C,P,O,I,N,D,U=T.length,B=A.length;function F(t,e,r){var n,i,o,a=t.x-e.x,s=t.y-e.y,c=r.x-t.x,h=r.y-t.y,l=a*a+s*s,u=a*h-s*c;if(Math.abs(u)>Number.EPSILON){var p=Math.sqrt(l),d=Math.sqrt(c*c+h*h),f=e.x-s/p,m=e.y+a/p,g=((r.x-h/d-f)*h-(r.y+c/d-m)*c)/(a*h-s*c),v=(n=f+a*g-t.x)*n+(i=m+s*g-t.y)*i;if(v<=2)return new De(n,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(h)&&(y=!0),y?(n=-s,i=a,o=Math.sqrt(l)):(n=a,i=s,o=Math.sqrt(l/2))}return new De(n/o,i/o)}for(var z=[],G=0,H=L.length,V=H-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),z[G]=F(L[G],L[V],L[k]);var j,W,X=[],q=z.concat();for(_=0,w=S.length;_<w;_++){for(b=S[_],j=[],G=0,V=(H=b.length)-1,k=G+1;G<H;G++,V++,k++)V===H&&(V=0),k===H&&(k=0),j[G]=F(b[G],b[V],b[k]);X.push(j),q=q.concat(j)}for(C=0;C<p;C++){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=L.length;G<H;G++)J((N=R(L[G],z[G],P)).x,N.y,-I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)J((N=R(b[G],j[G],P)).x,N.y,-I)}for(P=u,G=0;G<U;G++)N=h?R(T[G],q[G],P):T[G],M?(y.copy(g.normals[0]).multiplyScalar(N.x),v.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(m[0]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,0);for(W=1;W<=s;W++)for(G=0;G<U;G++)N=h?R(T[G],q[G],P):T[G],M?(y.copy(g.normals[W]).multiplyScalar(N.x),v.copy(g.binormals[W]).multiplyScalar(N.y),x.copy(m[W]).add(y).add(v),J(x.x,x.y,x.z)):J(N.x,N.y,c/s*W);for(C=p-1;C>=0;C--){for(O=C/p,I=l*Math.cos(O*Math.PI/2),P=u*Math.sin(O*Math.PI/2),G=0,H=L.length;G<H;G++)J((N=R(L[G],z[G],P)).x,N.y,c+I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],G=0,H=b.length;G<H;G++)N=R(b[G],j[G],P),M?J(N.x,N.y+m[s-1].y,m[s-1].x+I):J(N.x,N.y,c+I)}function Y(t,e){var r,n;for(G=t.length;--G>=0;){r=G,(n=G-1)<0&&(n=t.length-1);var i=0,o=s+2*p;for(i=0;i<o;i++){var a=U*i,c=U*(i+1);Q(e+r+a,e+n+a,e+n+c,e+r+c)}}}function J(t,e,r){o.push(t),o.push(e),o.push(r)}function Z(t,e,i){K(t),K(e),K(i);var o=n.length/3,a=f.generateTopUV(r,n,o-3,o-2,o-1);$(a[0]),$(a[1]),$(a[2])}function Q(t,e,i,o){K(t),K(e),K(o),K(e),K(i),K(o);var a=n.length/3,s=f.generateSideWallUV(r,n,a-6,a-3,a-2,a-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function K(t){n.push(o[3*t+0]),n.push(o[3*t+1]),n.push(o[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=n.length/3;if(h){var e=0,i=U*e;for(G=0;G<B;G++)Z((D=A[G])[2]+i,D[1]+i,D[0]+i);for(i=U*(e=s+2*p),G=0;G<B;G++)Z((D=A[G])[0]+i,D[1]+i,D[2]+i)}else{for(G=0;G<B;G++)Z((D=A[G])[2],D[1],D[0]);for(G=0;G<B;G++)Z((D=A[G])[0]+U*s,D[1]+U*s,D[2]+U*s)}r.addGroup(t,n.length/3-t,0)}(),function(){var t=n.length/3,e=0;for(Y(L,e),e+=L.length,_=0,w=S.length;_<w;_++)Y(b=S[_],e),e+=b.length;r.addGroup(t,n.length/3-t,1)}()}this.addAttribute("position",new Ci(n,3)),this.addAttribute("uv",new Ci(i,2)),this.computeVertexNormals()}tc.prototype=Object.create(_i.prototype),tc.prototype.constructor=tc,tc.prototype.toJSON=function(){var t=_i.prototype.toJSON.call(this);return nc(this.parameters.shapes,this.parameters.options,t)},ec.prototype=Object.create(Di.prototype),ec.prototype.constructor=ec,ec.prototype.toJSON=function(){var t=Di.prototype.toJSON.call(this);return nc(this.parameters.shapes,this.parameters.options,t)};var rc={generateTopUV:function(t,e,r,n,i){var o=e[3*r],a=e[3*r+1],s=e[3*n],c=e[3*n+1],h=e[3*i],l=e[3*i+1];return[new De(o,a),new De(s,c),new De(h,l)]},generateSideWallUV:function(t,e,r,n,i,o){var a=e[3*r],s=e[3*r+1],c=e[3*r+2],h=e[3*n],l=e[3*n+1],u=e[3*n+2],p=e[3*i],d=e[3*i+1],f=e[3*i+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-l)<.01?[new De(a,1-c),new De(h,1-u),new De(p,1-f),new De(m,1-v)]:[new De(s,1-c),new De(l,1-u),new De(d,1-f),new De(g,1-v)]}};function nc(t,e,r){if(r.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var o=t[n];r.shapes.push(o.uuid)}else r.shapes.push(t.uuid);return void 0!==e.extrudePath&&(r.options.extrudePath=e.extrudePath.toJSON()),r}function ic(t,e){_i.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new oc(t,e)),this.mergeVertices()}function oc(t,e){var r=(e=e||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new _i;var n=r.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ec.call(this,n,e),this.type="TextBufferGeometry"}function ac(t,e,r,n,i,o,a){_i.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new sc(t,e,r,n,i,o,a)),this.mergeVertices()}function sc(t,e,r,n,i,o,a){Di.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var s,c,h=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),l=0,u=[],p=new Fe,d=new Fe,f=[],m=[],g=[],v=[];for(c=0;c<=r;c++){var y=[],x=c/r;for(s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(n+b*i)*Math.sin(o+x*a),p.y=t*Math.cos(o+x*a),p.z=t*Math.sin(n+b*i)*Math.sin(o+x*a),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(b,1-x),y.push(l++)}u.push(y)}for(c=0;c<r;c++)for(s=0;s<e;s++){var _=u[c][s+1],w=u[c][s],M=u[c+1][s],E=u[c+1][s+1];(0!==c||o>0)&&f.push(_,w,E),(c!==r-1||h<Math.PI)&&f.push(w,M,E)}this.setIndex(f),this.addAttribute("position",new Ci(m,3)),this.addAttribute("normal",new Ci(g,3)),this.addAttribute("uv",new Ci(v,2))}function cc(t,e,r,n,i,o){_i.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new hc(t,e,r,n,i,o)),this.mergeVertices()}function hc(t,e,r,n,i,o){Di.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},t=t||.5,e=e||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var a,s,c,h=[],l=[],u=[],p=[],d=t,f=(e-t)/(n=void 0!==n?Math.max(1,n):1),m=new Fe,g=new De;for(s=0;s<=n;s++){for(c=0;c<=r;c++)a=i+c/r*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<n;s++){var v=s*(r+1);for(c=0;c<r;c++){var y=a=c+v,x=a+r+1,b=a+r+2,_=a+1;h.push(y,x,_),h.push(x,b,_)}}this.setIndex(h),this.addAttribute("position",new Ci(l,3)),this.addAttribute("normal",new Ci(u,3)),this.addAttribute("uv",new Ci(p,2))}function lc(t,e,r,n){_i.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},this.fromBufferGeometry(new uc(t,e,r,n)),this.mergeVertices()}function uc(t,e,r,n){Di.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:r,phiLength:n},e=Math.floor(e)||12,r=r||0,n=n||2*Math.PI,n=Ne.clamp(n,0,2*Math.PI);var i,o,a,s=[],c=[],h=[],l=1/e,u=new Fe,p=new De;for(o=0;o<=e;o++){var d=r+o*l*n,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)u.x=t[a].x*f,u.y=t[a].y,u.z=t[a].x*m,c.push(u.x,u.y,u.z),p.x=o/e,p.y=a/(t.length-1),h.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=i=a+o*t.length,v=i+t.length,y=i+t.length+1,x=i+1;s.push(g,v,x),s.push(v,y,x)}if(this.setIndex(s),this.addAttribute("position",new Ci(c,3)),this.addAttribute("uv",new Ci(h,2)),this.computeVertexNormals(),n===2*Math.PI){var b=this.attributes.normal.array,_=new Fe,w=new Fe,M=new Fe;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)_.x=b[a+0],_.y=b[a+1],_.z=b[a+2],w.x=b[i+a+0],w.y=b[i+a+1],w.z=b[i+a+2],M.addVectors(_,w).normalize(),b[a+0]=b[i+a+0]=M.x,b[a+1]=b[i+a+1]=M.y,b[a+2]=b[i+a+2]=M.z}}function pc(t,e){_i.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new dc(t,e)),this.mergeVertices()}function dc(t,e){Di.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],n=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(t))h(t);else for(var c=0;c<t.length;c++)h(t[c]),this.addGroup(a,s,c),a+=s,s=0;function h(t){var a,c,h,l=n.length/3,u=t.extractPoints(e),p=u.shape,d=u.holes;if(!1===Qs.isClockWise(p))for(p=p.reverse(),a=0,c=d.length;a<c;a++)h=d[a],!0===Qs.isClockWise(h)&&(d[a]=h.reverse());var f=Qs.triangulateShape(p,d);for(a=0,c=d.length;a<c;a++)h=d[a],p=p.concat(h);for(a=0,c=p.length;a<c;a++){var m=p[a];n.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=f.length;a<c;a++){var g=f[a],v=g[0]+l,y=g[1]+l,x=g[2]+l;r.push(v,y,x),s+=3}}this.setIndex(r),this.addAttribute("position",new Ci(n,3)),this.addAttribute("normal",new Ci(i,3)),this.addAttribute("uv",new Ci(o,2))}function fc(t,e){if(e.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var i=t[r];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function mc(t,e){Di.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,n,i,o,a=[],s=Math.cos(Ne.DEG2RAD*e),c=[0,0],h={},l=["a","b","c"];t.isBufferGeometry?(o=new _i).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var u=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)r=m[l[g]],n=m[l[(g+1)%3]],c[0]=Math.min(r,n),c[1]=Math.max(r,n),void 0===h[i=c[0]+","+c[1]]?h[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:h[i].face2=d;for(i in h){var v=h[i];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=u[v.index1];a.push(y.x,y.y,y.z),y=u[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Ci(a,3))}function gc(t,e,r,n,i,o,a,s){_i.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new vc(t,e,r,n,i,o,a,s)),this.mergeVertices()}function vc(t,e,r,n,i,o,a,s){Di.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var h=[],l=[],u=[],p=[],d=0,f=[],m=r/2,g=0;function v(r){var i,o,f,v=new De,y=new Fe,x=0,b=!0===r?t:e,_=!0===r?1:-1;for(o=d,i=1;i<=n;i++)l.push(0,m*_,0),u.push(0,_,0),p.push(.5,.5),d++;for(f=d,i=0;i<=n;i++){var w=i/n*s+a,M=Math.cos(w),E=Math.sin(w);y.x=b*E,y.y=m*_,y.z=b*M,l.push(y.x,y.y,y.z),u.push(0,_,0),v.x=.5*M+.5,v.y=.5*E*_+.5,p.push(v.x,v.y),d++}for(i=0;i<n;i++){var T=o+i,S=f+i;!0===r?h.push(S,S+1,T):h.push(S+1,S,T),x+=3}c.addGroup(g,x,!0===r?1:2),g+=x}!function(){var o,v,y=new Fe,x=new Fe,b=0,_=(e-t)/r;for(v=0;v<=i;v++){var w=[],M=v/i,E=M*(e-t)+t;for(o=0;o<=n;o++){var T=o/n,S=T*s+a,A=Math.sin(S),L=Math.cos(S);x.x=E*A,x.y=-M*r+m,x.z=E*L,l.push(x.x,x.y,x.z),y.set(A,_,L).normalize(),u.push(y.x,y.y,y.z),p.push(T,1-M),w.push(d++)}f.push(w)}for(o=0;o<n;o++)for(v=0;v<i;v++){var R=f[v][o],C=f[v+1][o],P=f[v+1][o+1],O=f[v][o+1];h.push(R,C,O),h.push(C,P,O),b+=6}c.addGroup(g,b,0),g+=b}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(h),this.addAttribute("position",new Ci(l,3)),this.addAttribute("normal",new Ci(u,3)),this.addAttribute("uv",new Ci(p,2))}function yc(t,e,r,n,i,o,a){gc.call(this,0,t,e,r,n,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function xc(t,e,r,n,i,o,a){vc.call(this,0,t,e,r,n,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:a}}function bc(t,e,r,n){_i.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new _c(t,e,r,n)),this.mergeVertices()}function _c(t,e,r,n){Di.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:r,thetaLength:n},t=t||1,e=void 0!==e?Math.max(3,e):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o,a=[],s=[],c=[],h=[],l=new Fe,u=new De;for(s.push(0,0,0),c.push(0,0,1),h.push(.5,.5),o=0,i=3;o<=e;o++,i+=3){var p=r+o/e*n;l.x=t*Math.cos(p),l.y=t*Math.sin(p),s.push(l.x,l.y,l.z),c.push(0,0,1),u.x=(s[i]/t+1)/2,u.y=(s[i+1]/t+1)/2,h.push(u.x,u.y)}for(i=1;i<=e;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new Ci(s,3)),this.addAttribute("normal",new Ci(c,3)),this.addAttribute("uv",new Ci(h,2))}ic.prototype=Object.create(_i.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(ec.prototype),oc.prototype.constructor=oc,ac.prototype=Object.create(_i.prototype),ac.prototype.constructor=ac,sc.prototype=Object.create(Di.prototype),sc.prototype.constructor=sc,cc.prototype=Object.create(_i.prototype),cc.prototype.constructor=cc,hc.prototype=Object.create(Di.prototype),hc.prototype.constructor=hc,lc.prototype=Object.create(_i.prototype),lc.prototype.constructor=lc,uc.prototype=Object.create(Di.prototype),uc.prototype.constructor=uc,pc.prototype=Object.create(_i.prototype),pc.prototype.constructor=pc,pc.prototype.toJSON=function(){var t=_i.prototype.toJSON.call(this);return fc(this.parameters.shapes,t)},dc.prototype=Object.create(Di.prototype),dc.prototype.constructor=dc,dc.prototype.toJSON=function(){var t=Di.prototype.toJSON.call(this);return fc(this.parameters.shapes,t)},mc.prototype=Object.create(Di.prototype),mc.prototype.constructor=mc,gc.prototype=Object.create(_i.prototype),gc.prototype.constructor=gc,vc.prototype=Object.create(Di.prototype),vc.prototype.constructor=vc,yc.prototype=Object.create(gc.prototype),yc.prototype.constructor=yc,xc.prototype=Object.create(vc.prototype),xc.prototype.constructor=xc,bc.prototype=Object.create(_i.prototype),bc.prototype.constructor=bc,_c.prototype=Object.create(Di.prototype),_c.prototype.constructor=_c;var wc=Object.freeze({WireframeGeometry:ns,ParametricGeometry:is,ParametricBufferGeometry:os,TetrahedronGeometry:cs,TetrahedronBufferGeometry:hs,OctahedronGeometry:ls,OctahedronBufferGeometry:us,IcosahedronGeometry:ps,IcosahedronBufferGeometry:ds,DodecahedronGeometry:fs,DodecahedronBufferGeometry:ms,PolyhedronGeometry:as,PolyhedronBufferGeometry:ss,TubeGeometry:gs,TubeBufferGeometry:vs,TorusKnotGeometry:ys,TorusKnotBufferGeometry:xs,TorusGeometry:bs,TorusBufferGeometry:_s,TextGeometry:ic,TextBufferGeometry:oc,SphereGeometry:ac,SphereBufferGeometry:sc,RingGeometry:cc,RingBufferGeometry:hc,PlaneGeometry:Fi,PlaneBufferGeometry:zi,LatheGeometry:lc,LatheBufferGeometry:uc,ShapeGeometry:pc,ShapeBufferGeometry:dc,ExtrudeGeometry:tc,ExtrudeBufferGeometry:ec,EdgesGeometry:mc,ConeGeometry:yc,ConeBufferGeometry:xc,CylinderGeometry:gc,CylinderBufferGeometry:vc,CircleGeometry:bc,CircleBufferGeometry:_c,BoxGeometry:Ui,BoxBufferGeometry:Bi});function Mc(t){Hi.call(this),this.type="ShadowMaterial",this.color=new ci(0),this.transparent=!0,this.setValues(t)}function Ec(t){ki.call(this,t),this.type="RawShaderMaterial"}function Tc(t){Hi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ci(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Sc(t){Tc.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ac(t){Hi.call(this),this.type="MeshPhongMaterial",this.color=new ci(16777215),this.specular=new ci(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Lc(t){Ac.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function Rc(t){Hi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Oe,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Cc(t){Hi.call(this),this.type="MeshLambertMaterial",this.color=new ci(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Z,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Pc(t){qa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Mc.prototype=Object.create(Hi.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isShadowMaterial=!0,Mc.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this},Ec.prototype=Object.create(ki.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isRawShaderMaterial=!0,Tc.prototype=Object.create(Hi.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isMeshStandardMaterial=!0,Tc.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Sc.prototype=Object.create(Tc.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isMeshPhysicalMaterial=!0,Sc.prototype.copy=function(t){return Tc.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Ac.prototype=Object.create(Hi.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isMeshPhongMaterial=!0,Ac.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Lc.prototype=Object.create(Ac.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isMeshToonMaterial=!0,Lc.prototype.copy=function(t){return Ac.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Rc.prototype=Object.create(Hi.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isMeshNormalMaterial=!0,Rc.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Cc.prototype=Object.create(Hi.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isMeshLambertMaterial=!0,Cc.prototype.copy=function(t){return Hi.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Pc.prototype=Object.create(qa.prototype),Pc.prototype.constructor=Pc,Pc.prototype.isLineDashedMaterial=!0,Pc.prototype.copy=function(t){return qa.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Oc=Object.freeze({ShadowMaterial:Mc,SpriteMaterial:Ha,RawShaderMaterial:Ec,ShaderMaterial:ki,PointsMaterial:Qa,MeshPhysicalMaterial:Sc,MeshStandardMaterial:Tc,MeshPhongMaterial:Ac,MeshToonMaterial:Lc,MeshNormalMaterial:Rc,MeshLambertMaterial:Cc,MeshDepthMaterial:Ea,MeshDistanceMaterial:Ta,MeshBasicMaterial:Vi,LineDashedMaterial:Pc,LineBasicMaterial:qa,Material:Hi}),Ic={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Nc(t,e,r){var n=this,i=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=r,this.itemStart=function(t){a++,!1===i&&void 0!==n.onStart&&n.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==n.onProgress&&n.onProgress(t,o,a),o===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Dc=new Nc,Uc={};function Bc(t){this.manager=void 0!==t?t:Dc}function Fc(t){this.manager=void 0!==t?t:Dc,this._parser=null}function zc(t){this.manager=void 0!==t?t:Dc,this._parser=null}function Gc(t){this.manager=void 0!==t?t:Dc}function Hc(t){this.manager=void 0!==t?t:Dc}function Vc(t){this.manager=void 0!==t?t:Dc}function kc(){this.type="Curve",this.arcLengthDivisions=200}function jc(t,e,r,n,i,o,a,s){kc.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Wc(t,e,r,n,i,o){jc.call(this,t,e,r,r,n,i,o),this.type="ArcCurve"}function Xc(){var t=0,e=0,r=0,n=0;function i(i,o,a,s){t=i,e=a,r=-3*i+3*o-2*a-s,n=2*i-2*o+a+s}return{initCatmullRom:function(t,e,r,n,o){i(e,r,o*(r-t),o*(n-e))},initNonuniformCatmullRom:function(t,e,r,n,o,a,s){var c=(e-t)/o-(r-t)/(o+a)+(r-e)/a,h=(r-e)/a-(n-e)/(a+s)+(n-r)/s;i(e,r,c*=a,h*=a)},calc:function(i){var o=i*i;return t+e*i+r*o+n*(o*i)}}}Object.assign(Bc.prototype,{load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Ic.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;if(void 0===Uc[t]){var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],h=a[3];h=window.decodeURIComponent(h),c&&(h=window.atob(h));try{var l,u=(this.responseType||"").toLowerCase();switch(u){case"arraybuffer":case"blob":for(var p=new Uint8Array(h.length),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);l="blob"===u?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;l=f.parseFromString(h,s);break;case"json":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{Uc[t]=[],Uc[t].push({onLoad:e,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var g in m.open("GET",t,!0),m.addEventListener("load",function(e){var r=this.response;Ic.add(t,r);var n=Uc[t];if(delete Uc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=n.length;o<a;o++){(s=n[o]).onLoad&&s.onLoad(r)}i.manager.itemEnd(t)}else{for(o=0,a=n.length;o<a;o++){var s;(s=n[o]).onError&&s.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)}},!1),m.addEventListener("progress",function(e){for(var r=Uc[t],n=0,i=r.length;n<i;n++){var o=r[n];o.onProgress&&o.onProgress(e)}},!1),m.addEventListener("error",function(e){var r=Uc[t];delete Uc[t];for(var n=0,o=r.length;n<o;n++){var a=r[n];a.onError&&a.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m}Uc[t].push({onLoad:e,onProgress:r,onError:n})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Fc.prototype,{load:function(t,e,r,n){var i=this,o=[],a=new ts;a.image=o;var s=new Bc(this.manager);function c(c){s.load(t[c],function(t){var r=i._parser(t,!0);o[c]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(h+=1)&&(1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a))},r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)c(l);else s.load(t,function(t){var r=i._parser(t,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){o[s]={mipmaps:[]};for(var c=0;c<r.mipmapCount;c++)o[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+c]),o[s].format=r.format,o[s].width=r.width,o[s].height=r.height}else a.image.width=r.width,a.image.height=r.height,a.mipmaps=r.mipmaps;1===r.mipmapCount&&(a.minFilter=yt),a.format=r.format,a.needsUpdate=!0,e&&e(a)},r,n);return a},setPath:function(t){return this.path=t,this}}),Object.assign(zc.prototype,{load:function(t,e,r,n){var i=this,o=new Xe,a=new Bc(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var r=i._parser(t);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:dt,o.wrapT=void 0!==r.wrapT?r.wrapT:dt,o.magFilter=void 0!==r.magFilter?r.magFilter:yt,o.minFilter=void 0!==r.minFilter?r.minFilter:bt,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=yt),o.needsUpdate=!0,e&&e(o,r))},r,n),o}}),Object.assign(Gc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Ic.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Ic.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Hc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new io,o=new Gc(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(r){o.load(t[r],function(t){i.images[r]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))},void 0,n)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Vc.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=new Ve,o=new Gc(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(r){i.image=r;var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=n?Nt:Dt,i.needsUpdate=!0,void 0!==e&&e(i)},r,n),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(kc.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var r=this.getUtoTmapping(t);return this.getPoint(r,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],r=0;r<=t;r++)e.push(this.getPointAt(r/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;r<=t;r++)o+=(e=this.getPoint(r/t)).distanceTo(i),n.push(o),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var r,n=this.getLengths(),i=0,o=n.length;r=e||t*n[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=n[i=Math.floor(s+(c-s)/2)]-r)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(n[i=c]===r)return i/(o-1);var h=n[i];return(i+(r-h)/(n[i+1]-h))/(o-1)},getTangent:function(t){var e=t-1e-4,r=t+1e-4;e<0&&(e=0),r>1&&(r=1);var n=this.getPoint(e);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var r,n,i,o=new Fe,a=[],s=[],c=[],h=new Fe,l=new Ue;for(r=0;r<=t;r++)n=r/t,a[r]=this.getTangentAt(n),a[r].normalize();s[0]=new Fe,c[0]=new Fe;var u=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=u&&(u=p,o.set(1,0,0)),d<=u&&(u=d,o.set(0,1,0)),f<=u&&o.set(0,0,1),h.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],h),c[0].crossVectors(a[0],s[0]),r=1;r<=t;r++)s[r]=s[r-1].clone(),c[r]=c[r-1].clone(),h.crossVectors(a[r-1],a[r]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(Ne.clamp(a[r-1].dot(a[r]),-1,1)),s[r].applyMatrix4(l.makeRotationAxis(h,i))),c[r].crossVectors(a[r],s[r]);if(!0===e)for(i=Math.acos(Ne.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),r=1;r<=t;r++)s[r].applyMatrix4(l.makeRotationAxis(a[r],i*r)),c[r].crossVectors(a[r],s[r]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),jc.prototype=Object.create(kc.prototype),jc.prototype.constructor=jc,jc.prototype.isEllipseCurve=!0,jc.prototype.getPoint=function(t,e){for(var r=e||new De,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=o?0:n),!0!==this.aClockwise||o||(i===n?i=-n:i-=n);var a=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var h=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=s-this.aX,p=c-this.aY;s=u*h-p*l+this.aX,c=u*l+p*h+this.aY}return r.set(s,c)},jc.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},jc.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},jc.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Wc.prototype=Object.create(jc.prototype),Wc.prototype.constructor=Wc,Wc.prototype.isArcCurve=!0;var qc=new Fe,Yc=new Xc,Jc=new Xc,Zc=new Xc;function Qc(t,e,r,n){kc.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Kc(t,e,r,n,i){var o=.5*(n-e),a=.5*(i-r),s=t*t;return(2*r-2*n+o+a)*(t*s)+(-3*r+3*n-2*o-a)*s+o*t+r}function $c(t,e){var r=1-t;return r*r*e}function th(t,e){return 2*(1-t)*t*e}function eh(t,e){return t*t*e}function rh(t,e,r,n){return $c(t,e)+th(t,r)+eh(t,n)}function nh(t,e){var r=1-t;return r*r*r*e}function ih(t,e){var r=1-t;return 3*r*r*t*e}function oh(t,e){return 3*(1-t)*t*t*e}function ah(t,e){return t*t*t*e}function sh(t,e,r,n,i){return nh(t,e)+ih(t,r)+oh(t,n)+ah(t,i)}function ch(t,e,r,n){kc.call(this),this.type="CubicBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De,this.v3=n||new De}function hh(t,e,r,n){kc.call(this),this.type="CubicBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe,this.v3=n||new Fe}function lh(t,e){kc.call(this),this.type="LineCurve",this.v1=t||new De,this.v2=e||new De}function uh(t,e){kc.call(this),this.type="LineCurve3",this.v1=t||new Fe,this.v2=e||new Fe}function ph(t,e,r){kc.call(this),this.type="QuadraticBezierCurve",this.v0=t||new De,this.v1=e||new De,this.v2=r||new De}function dh(t,e,r){kc.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=r||new Fe}function fh(t){kc.call(this),this.type="SplineCurve",this.points=t||[]}Qc.prototype=Object.create(kc.prototype),Qc.prototype.constructor=Qc,Qc.prototype.isCatmullRomCurve3=!0,Qc.prototype.getPoint=function(t,e){var r,n,i,o,a=e||new Fe,s=this.points,c=s.length,h=(c-(this.closed?0:1))*t,l=Math.floor(h),u=h-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/c)+1)*c:0===u&&l===c-1&&(l=c-2,u=1),this.closed||l>0?r=s[(l-1)%c]:(qc.subVectors(s[0],s[1]).add(s[0]),r=qc),n=s[l%c],i=s[(l+1)%c],this.closed||l+2<c?o=s[(l+2)%c]:(qc.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=qc),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(r.distanceToSquared(n),p),f=Math.pow(n.distanceToSquared(i),p),m=Math.pow(i.distanceToSquared(o),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),Yc.initNonuniformCatmullRom(r.x,n.x,i.x,o.x,d,f,m),Jc.initNonuniformCatmullRom(r.y,n.y,i.y,o.y,d,f,m),Zc.initNonuniformCatmullRom(r.z,n.z,i.z,o.z,d,f,m)}else"catmullrom"===this.curveType&&(Yc.initCatmullRom(r.x,n.x,i.x,o.x,this.tension),Jc.initCatmullRom(r.y,n.y,i.y,o.y,this.tension),Zc.initCatmullRom(r.z,n.z,i.z,o.z,this.tension));return a.set(Yc.calc(u),Jc.calc(u),Zc.calc(u)),a},Qc.prototype.copy=function(t){kc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Qc.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Qc.prototype.fromJSON=function(t){kc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new Fe).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ch.prototype=Object.create(kc.prototype),ch.prototype.constructor=ch,ch.prototype.isCubicBezierCurve=!0,ch.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(sh(t,n.x,i.x,o.x,a.x),sh(t,n.y,i.y,o.y,a.y)),r},ch.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ch.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ch.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},hh.prototype=Object.create(kc.prototype),hh.prototype.constructor=hh,hh.prototype.isCubicBezierCurve3=!0,hh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2,a=this.v3;return r.set(sh(t,n.x,i.x,o.x,a.x),sh(t,n.y,i.y,o.y,a.y),sh(t,n.z,i.z,o.z,a.z)),r},hh.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},hh.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},hh.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},lh.prototype=Object.create(kc.prototype),lh.prototype.constructor=lh,lh.prototype.isLineCurve=!0,lh.prototype.getPoint=function(t,e){var r=e||new De;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},lh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},lh.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},lh.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lh.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lh.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uh.prototype=Object.create(kc.prototype),uh.prototype.constructor=uh,uh.prototype.isLineCurve3=!0,uh.prototype.getPoint=function(t,e){var r=e||new Fe;return 1===t?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(t).add(this.v1)),r},uh.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},uh.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uh.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uh.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ph.prototype=Object.create(kc.prototype),ph.prototype.constructor=ph,ph.prototype.isQuadraticBezierCurve=!0,ph.prototype.getPoint=function(t,e){var r=e||new De,n=this.v0,i=this.v1,o=this.v2;return r.set(rh(t,n.x,i.x,o.x),rh(t,n.y,i.y,o.y)),r},ph.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ph.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ph.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},dh.prototype=Object.create(kc.prototype),dh.prototype.constructor=dh,dh.prototype.isQuadraticBezierCurve3=!0,dh.prototype.getPoint=function(t,e){var r=e||new Fe,n=this.v0,i=this.v1,o=this.v2;return r.set(rh(t,n.x,i.x,o.x),rh(t,n.y,i.y,o.y),rh(t,n.z,i.z,o.z)),r},dh.prototype.copy=function(t){return kc.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},dh.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},dh.prototype.fromJSON=function(t){return kc.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},fh.prototype=Object.create(kc.prototype),fh.prototype.constructor=fh,fh.prototype.isSplineCurve=!0,fh.prototype.getPoint=function(t,e){var r=e||new De,n=this.points,i=(n.length-1)*t,o=Math.floor(i),a=i-o,s=n[0===o?o:o-1],c=n[o],h=n[o>n.length-2?n.length-1:o+1],l=n[o>n.length-3?n.length-1:o+2];return r.set(Kc(a,s.x,c.x,h.x,l.x),Kc(a,s.y,c.y,h.y,l.y)),r},fh.prototype.copy=function(t){kc.prototype.copy.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push(n.clone())}return this},fh.prototype.toJSON=function(){var t=kc.prototype.toJSON.call(this);t.points=[];for(var e=0,r=this.points.length;e<r;e++){var n=this.points[e];t.points.push(n.toArray())}return t},fh.prototype.fromJSON=function(t){kc.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,r=t.points.length;e<r;e++){var n=t.points[e];this.points.push((new De).fromArray(n))}return this};var mh=Object.freeze({ArcCurve:Wc,CatmullRomCurve3:Qc,CubicBezierCurve:ch,CubicBezierCurve3:hh,EllipseCurve:jc,LineCurve:lh,LineCurve3:uh,QuadraticBezierCurve:ph,QuadraticBezierCurve3:dh,SplineCurve:fh});function gh(){kc.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function vh(t){gh.call(this),this.type="Path",this.currentPoint=new De,t&&this.setFromPoints(t)}function yh(t){vh.call(this,t),this.uuid=Ne.generateUUID(),this.type="Shape",this.holes=[]}function xh(t,e){gi.call(this),this.type="Light",this.color=new ci(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function bh(t,e,r){xh.call(this,t,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(gi.DefaultUp),this.updateMatrix(),this.groundColor=new ci(e)}function _h(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new De(512,512),this.map=null,this.matrix=new Ue}function wh(){_h.call(this,new Pa(50,1,.5,500))}function Mh(t,e,r,n,i,o){xh.call(this,t,e),this.type="SpotLight",this.position.copy(gi.DefaultUp),this.updateMatrix(),this.target=new gi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new wh}function Eh(t,e,r,n){xh.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new _h(new Pa(90,1,.5,500))}function Th(){_h.call(this,new yi(-5,5,5,-5,.5,500))}function Sh(t,e){xh.call(this,t,e),this.type="DirectionalLight",this.position.copy(gi.DefaultUp),this.updateMatrix(),this.target=new gi,this.shadow=new Th}function Ah(t,e){xh.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Lh(t,e,r,n){xh.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}gh.prototype=Object.assign(Object.create(kc.prototype),{constructor:gh,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new lh(e,t))},getPoint:function(t){for(var e=t*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=e){var i=r[n]-e,o=this.curves[n],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,r=0,n=this.curves.length;r<n;r++)e+=this.curves[r].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],r=0;r<=t;r++)e.push(this.getPoint(r/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,r=[],n=0,i=this.curves;n<i.length;n++)for(var o=i[n],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(r.push(h),e=h)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(t){kc.prototype.copy.call(this,t),this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=kc.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,r=this.curves.length;e<r;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){kc.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,r=t.curves.length;e<r;e++){var n=t.curves[e];this.curves.push((new mh[n.type]).fromJSON(n))}return this}}),vh.prototype=Object.assign(Object.create(gh.prototype),{constructor:vh,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,r=t.length;e<r;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var r=new lh(this.currentPoint.clone(),new De(t,e));this.curves.push(r),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,r,n){var i=new ph(this.currentPoint.clone(),new De(t,e),new De(r,n));this.curves.push(i),this.currentPoint.set(r,n)},bezierCurveTo:function(t,e,r,n,i,o){var a=new ch(this.currentPoint.clone(),new De(t,e),new De(r,n),new De(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(t){var e=new fh([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,r,n,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,r,n,i,o)},absarc:function(t,e,r,n,i,o){this.absellipse(t,e,r,r,n,i,o)},ellipse:function(t,e,r,n,i,o,a,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,r,n,i,o,a,s)},absellipse:function(t,e,r,n,i,o,a,s){var c=new jc(t,e,r,n,i,o,a,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return gh.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=gh.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return gh.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),yh.prototype=Object.assign(Object.create(vh.prototype),{constructor:yh,getPointsHoles:function(t){for(var e=[],r=0,n=this.holes.length;r<n;r++)e[r]=this.holes[r].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){vh.prototype.copy.call(this,t),this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){var t=vh.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,r=this.holes.length;e<r;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){vh.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,r=t.holes.length;e<r;e++){var n=t.holes[e];this.holes.push((new vh).fromJSON(n))}return this}}),xh.prototype=Object.assign(Object.create(gi.prototype),{constructor:xh,isLight:!0,copy:function(t){return gi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=gi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),bh.prototype=Object.assign(Object.create(xh.prototype),{constructor:bh,isHemisphereLight:!0,copy:function(t){return xh.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(_h.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),wh.prototype=Object.assign(Object.create(_h.prototype),{constructor:wh,isSpotLightShadow:!0,update:function(t){var e=this.camera,r=2*Ne.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;r===e.fov&&n===e.aspect&&i===e.far||(e.fov=r,e.aspect=n,e.far=i,e.updateProjectionMatrix())}}),Mh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Mh,isSpotLight:!0,copy:function(t){return xh.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Eh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Eh,isPointLight:!0,copy:function(t){return xh.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Th.prototype=Object.assign(Object.create(_h.prototype),{constructor:Th}),Sh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Sh,isDirectionalLight:!0,copy:function(t){return xh.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ah.prototype=Object.assign(Object.create(xh.prototype),{constructor:Ah,isAmbientLight:!0}),Lh.prototype=Object.assign(Object.create(xh.prototype),{constructor:Lh,isRectAreaLight:!0,copy:function(t){return xh.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=xh.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var Rh={arraySlice:function(t,e,r){return Rh.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==r?r:t.length)):t.slice(e,r)},convertArray:function(t,e,r){return!t||!r&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,r=new Array(e),n=0;n!==e;++n)r[n]=n;return r.sort(function(e,r){return t[e]-t[r]}),r},sortedArray:function(t,e,r){for(var n=t.length,i=new t.constructor(n),o=0,a=0;a!==n;++o)for(var s=r[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,r,n){for(var i=1,o=t[0];void 0!==o&&void 0===o[n];)o=t[i++];if(void 0!==o){var a=o[n];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[n])&&(e.push(o.time),r.push.apply(r,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[n])&&(e.push(o.time),a.toArray(r,r.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[n])&&(e.push(o.time),r.push(a)),o=t[i++]}while(void 0!==o)}}};function Ch(t,e,r,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function Ph(t,e,r,n){Ch.call(this,t,e,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Oh(t,e,r,n){Ch.call(this,t,e,r,n)}function Ih(t,e,r,n){Ch.call(this,t,e,r,n)}function Nh(t,e,r,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Rh.convertArray(e,this.TimeBufferType),this.values=Rh.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Dh(t,e,r){Nh.call(this,t,e,r)}function Uh(t,e,r,n){Nh.call(this,t,e,r,n)}function Bh(t,e,r,n){Nh.call(this,t,e,r,n)}function Fh(t,e,r,n){Ch.call(this,t,e,r,n)}function zh(t,e,r,n){Nh.call(this,t,e,r,n)}function Gh(t,e,r,n){Nh.call(this,t,e,r,n)}function Hh(t,e,r,n){Nh.call(this,t,e,r,n)}function Vh(t,e,r){this.name=t,this.tracks=r,this.duration=void 0!==e?e:-1,this.uuid=Ne.generateUUID(),this.duration<0&&this.resetDuration()}function kh(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bh;case"vector":case"vector2":case"vector3":case"vector4":return Hh;case"color":return Uh;case"quaternion":return zh;case"bool":case"boolean":return Dh;case"string":return Gh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function jh(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=kh(t.type);if(void 0===t.times){var r=[],n=[];Rh.flattenJSON(t.keys,r,n,"value"),t.times=r,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Wh(t){this.manager=void 0!==t?t:Dc,this.textures={}}function Xh(t){this.manager=void 0!==t?t:Dc}Object.assign(Ch.prototype,{evaluate:function(t){var e=this.parameterPositions,r=this._cachedIndex,n=e[r],i=e[r-1];t:{e:{var o;r:{n:if(!(t<n)){for(var a=r+2;;){if(void 0===n){if(t<i)break n;return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,t,i)}if(r===a)break;if(i=n,t<(n=e[++r]))break e}o=e.length;break r}if(t>=i)break t;var s=e[1];t<s&&(r=2,i=s);for(a=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(r===a)break;if(n=i,t>=(i=e[--r-1]))break e}o=r,r=0}for(;r<o;){var c=r+o>>>1;t<e[c]?o=c:r=c+1}if(n=e[r],void 0===(i=e[r-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return r=e.length,this._cachedIndex=r,this.afterEnd_(r-1,i,t)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=t*n,o=0;o!==n;++o)e[o]=r[i+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ch.prototype,{beforeStart_:Ch.prototype.copySampleValue_,afterEnd_:Ch.prototype.copySampleValue_}),Ph.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Ph,DefaultSettings_:{endingStart:ge,endingEnd:ge},intervalChanged_:function(t,e,r){var n=this.parameterPositions,i=t-2,o=t+1,a=n[i],s=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case ve:i=t,a=2*e-r;break;case ye:a=e+n[i=n.length-2]-n[i+1];break;default:i=t,a=r}if(void 0===s)switch(this.getSettings_().endingEnd){case ve:o=t,s=2*r-e;break;case ye:o=1,s=r+n[1]-n[0];break;default:o=t-1,s=e}var c=.5*(r-e),h=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-r),this._offsetPrev=i*h,this._offsetNext=o*h},interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(r-e)/(n-e),f=d*d,m=f*d,g=-u*m+2*u*f-u*d,v=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==a;++b)i[b]=g*o[h+b]+v*o[c+b]+y*o[s+b]+x*o[l+b];return i}}),Oh.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Oh,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,h=(r-e)/(n-e),l=1-h,u=0;u!==a;++u)i[u]=o[c+u]*l+o[s+u]*h;return i}}),Ih.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Ih,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Nh,{toJSON:function(t){var e,r=t.constructor;if(void 0!==r.toJSON)e=r.toJSON(t);else{e={name:t.name,times:Rh.convertArray(t.times,Array),values:Rh.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e}}),Object.assign(Nh.prototype,{constructor:Nh,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:fe,InterpolantFactoryMethodDiscrete:function(t){return new Ih(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Oh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Ph(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case de:e=this.InterpolantFactoryMethodDiscrete;break;case fe:e=this.InterpolantFactoryMethodLinear;break;case me:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(r);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return de;case this.InterpolantFactoryMethodLinear:return fe;case this.InterpolantFactoryMethodSmooth:return me}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,r=0,n=e.length;r!==n;++r)e[r]*=t;return this},trim:function(t,e){for(var r=this.times,n=r.length,i=0,o=n-1;i!==n&&r[i]<t;)++i;for(;-1!==o&&r[o]>e;)--o;if(++o,0!==i||o!==n){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Rh.arraySlice(r,i,o),this.values=Rh.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var r=this.times,n=this.values,i=r.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=r[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==n&&Rh.isTypedArray(n)){a=0;for(var c=n.length;a!==c;++a){var h=n[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,r=this.getValueSize(),n=this.getInterpolation()===me,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,c=t[a];if(c!==t[a+1]&&(1!==a||c!==c[0]))if(n)s=!0;else for(var h=a*r,l=h-r,u=h+r,p=0;p!==r;++p){var d=e[h+p];if(d!==e[l+p]||d!==e[u+p]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];var f=a*r,m=i*r;for(p=0;p!==r;++p)e[m+p]=e[f+p]}++i}}if(o>0){t[i]=t[o];for(f=o*r,m=i*r,p=0;p!==r;++p)e[m+p]=e[f+p];++i}return i!==t.length&&(this.times=Rh.arraySlice(t,0,i),this.values=Rh.arraySlice(e,0,i*r)),this}}),Dh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Dh,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Uh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Uh,ValueTypeName:"color"}),Bh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Bh,ValueTypeName:"number"}),Fh.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Fh,interpolate_:function(t,e,r,n){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(r-e)/(n-e),h=s+a;s!==h;s+=4)Be.slerpFlat(i,0,o,s-a,o,s,c);return i}}),zh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:zh,ValueTypeName:"quaternion",DefaultInterpolation:fe,InterpolantFactoryMethodLinear:function(t){return new Fh(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Gh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Gh,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:de,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Hh.prototype=Object.assign(Object.create(Nh.prototype),{constructor:Hh,ValueTypeName:"vector"}),Object.assign(Vh,{parse:function(t){for(var e=[],r=t.tracks,n=1/(t.fps||1),i=0,o=r.length;i!==o;++i)e.push(jh(r[i]).scale(n));return new Vh(t.name,t.duration,e)},toJSON:function(t){for(var e=[],r=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,o=r.length;i!==o;++i)e.push(Nh.toJSON(r[i]));return n},CreateFromMorphTargetSequence:function(t,e,r,n){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var h=Rh.getKeyframeOrder(s);s=Rh.sortedArray(s,1,h),c=Rh.sortedArray(c,1,h),n||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Bh(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/r))}return new Vh(t,-1,o)},findByName:function(t,e){var r=t;if(!Array.isArray(t)){var n=t;r=n.geometry&&n.geometry.animations||n.animations}for(var i=0;i<r.length;i++)if(r[i].name===e)return r[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,r){for(var n={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var h=n[u=c[1]];h||(n[u]=h=[]),h.push(s)}}var l=[];for(var u in n)l.push(Vh.CreateFromMorphTargetSequence(u,n[u],e,r));return l},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var r=function(t,e,r,n,i){if(0!==r.length){var o=[],a=[];Rh.flattenJSON(r,o,a,n),0!==o.length&&i.push(new t(e,o,a))}},n=[],i=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){var f=[],m=[];for(p=0;p!==h[u].morphTargets.length;++p){var g=h[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}n.push(new Bh(".morphTargetInfluence["+d+"]",f,m))}o=l.length*(a||1)}else{var v=".bones["+e[c].name+"]";r(Hh,v+".position",h,"pos",n),r(zh,v+".quaternion",h,"rot",n),r(Hh,v+".scale",h,"scl",n)}}return 0===n.length?null:new Vh(i,o,n)}}),Object.assign(Vh.prototype,{resetDuration:function(){for(var t=0,e=0,r=this.tracks.length;e!==r;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(Wh.prototype,{load:function(t,e,r,n){var i=this;new Bc(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function r(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new Oc[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(n.uniforms=t.uniforms),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=r(t.map)),void 0!==t.alphaMap&&(n.alphaMap=r(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=r(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=r(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){var i=t.normalScale;!1===Array.isArray(i)&&(i=[i,i]),n.normalScale=(new De).fromArray(i)}return void 0!==t.displacementMap&&(n.displacementMap=r(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=r(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=r(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=r(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=r(t.specularMap)),void 0!==t.envMap&&(n.envMap=r(t.envMap)),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=r(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=r(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=r(t.gradientMap)),n}}),Object.assign(Xh.prototype,{load:function(t,e,r,n){var i=this;new Bc(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},r,n)},parse:function(t){var e=new Di,r=t.data.index;if(void 0!==r){var n=new qh[r.type](r.array);e.setIndex(new wi(n,1))}var i=t.data.attributes;for(var o in i){var a=i[o];n=new qh[a.type](a.array);e.addAttribute(o,new wi(n,a.itemSize,a.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,h=s.length;c!==h;++c){var l=s[c];e.addGroup(l.start,l.count,l.materialIndex)}var u=t.data.boundingSphere;if(void 0!==u){var p=new Fe;void 0!==u.center&&p.fromArray(u.center),e.boundingSphere=new Ye(p,u.radius)}return e}});var qh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Yh(){}Yh.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,r=0,n=e.length;r<n;r+=2){var i=e[r],o=e[r+1];if(i.test(t))return o}return null}},Object.assign(Yh.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,r){for(var n=[],i=0;i<t.length;++i)n[i]=this.createMaterial(t[i],e,r);return n},createMaterial:function(){var t={NoBlending:b,NormalBlending:_,AdditiveBlending:w,SubtractiveBlending:M,MultiplyBlending:E,CustomBlending:T},e=new ci,r=new Vc,n=new Wh;return function(i,o,a){var s={};function c(t,e,n,i,c){var h,l=o+t,u=Yh.Handlers.get(l);null!==u?h=u.load(l):(r.setCrossOrigin(a),h=r.load(l)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=pt),1!==e[1]&&(h.wrapT=pt)),void 0!==n&&h.offset.fromArray(n),void 0!==i&&("repeat"===i[0]&&(h.wrapS=pt),"mirror"===i[0]&&(h.wrapS=ft),"repeat"===i[1]&&(h.wrapT=pt),"mirror"===i[1]&&(h.wrapT=ft)),void 0!==c&&(h.anisotropy=c);var p=Ne.generateUUID();return s[p]=h,p}var h={uuid:Ne.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var u=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=u;break;case"blending":h.blending=t[u];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":h.color=e.fromArray(u).getHex();break;case"colorSpecular":h.specular=e.fromArray(u).getHex();break;case"colorEmissive":h.emissive=e.fromArray(u).getHex();break;case"specularCoef":h.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===u.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=c(u,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=c(u,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=c(u,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=c(u,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=c(u,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=c(u,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=u;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=c(u,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=c(u,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=c(u,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=c(u,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=d;break;case"doubleSided":h.side=f;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=u;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[l]=u;break;case"vertexColors":!0===u&&(h.vertexColors=x),"face"===u&&(h.vertexColors=y);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,u)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),n.setTextures(s),n.parse(h)}}()});var Jh={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",r=0,n=t.length;r<n;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Zh(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Dc,this.withCredentials=!1}function Qh(t){this.manager=void 0!==t?t:Dc,this.texturePath=""}Object.assign(Zh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Jh.extractUrlBase(t),a=new Bc(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(r){var n=JSON.parse(r),a=n.metadata;if(void 0!==a){var s=a.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.")}var c=i.parse(n,o);e(c.geometry,c.materials)},r,n)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(){return function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var r=new _i;return function(t,e){function r(t,e){return t&1<<e}var n,i,o,a,s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T,S,A,L=t.faces,R=t.vertices,C=t.normals,P=t.colors,O=t.scale,I=0;if(void 0!==t.uvs){for(n=0;n<t.uvs.length;n++)t.uvs[n].length&&I++;for(n=0;n<I;n++)e.faceVertexUvs[n]=[]}for(a=0,s=R.length;a<s;)(b=new Fe).x=R[a++]*O,b.y=R[a++]*O,b.z=R[a++]*O,e.vertices.push(b);for(a=0,s=L.length;a<s;)if(d=r(p=L[a++],0),f=r(p,1),m=r(p,3),g=r(p,4),v=r(p,5),y=r(p,6),x=r(p,7),d){if((w=new xi).a=L[a],w.b=L[a+1],w.c=L[a+3],(M=new xi).a=L[a+1],M.b=L[a+2],M.c=L[a+3],a+=4,f&&(u=L[a++],w.materialIndex=u,M.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],e.faceVertexUvs[n][o+1]=[],i=0;i<4;i++)A=new De(S[2*(l=L[a++])],S[2*l+1]),2!==i&&e.faceVertexUvs[n][o].push(A),0!==i&&e.faceVertexUvs[n][o+1].push(A);if(g&&(h=3*L[a++],w.normal.set(C[h++],C[h++],C[h]),M.normal.copy(w.normal)),v)for(n=0;n<4;n++)h=3*L[a++],T=new Fe(C[h++],C[h++],C[h]),2!==n&&w.vertexNormals.push(T),0!==n&&M.vertexNormals.push(T);if(y&&(E=P[c=L[a++]],w.color.setHex(E),M.color.setHex(E)),x)for(n=0;n<4;n++)E=P[c=L[a++]],2!==n&&w.vertexColors.push(new ci(E)),0!==n&&M.vertexColors.push(new ci(E));e.faces.push(w),e.faces.push(M)}else{if((_=new xi).a=L[a++],_.b=L[a++],_.c=L[a++],f&&(u=L[a++],_.materialIndex=u),o=e.faces.length,m)for(n=0;n<I;n++)for(S=t.uvs[n],e.faceVertexUvs[n][o]=[],i=0;i<3;i++)A=new De(S[2*(l=L[a++])],S[2*l+1]),e.faceVertexUvs[n][o].push(A);if(g&&(h=3*L[a++],_.normal.set(C[h++],C[h++],C[h])),v)for(n=0;n<3;n++)h=3*L[a++],T=new Fe(C[h++],C[h++],C[h]),_.vertexNormals.push(T);if(y&&(c=L[a++],_.color.setHex(P[c])),x)for(n=0;n<3;n++)c=L[a++],_.vertexColors.push(new ci(P[c]));e.faces.push(_)}}(t,r),function(t,e){var r=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,i=t.skinWeights.length;n<i;n+=r){var o=t.skinWeights[n],a=r>1?t.skinWeights[n+1]:0,s=r>2?t.skinWeights[n+2]:0,c=r>3?t.skinWeights[n+3]:0;e.skinWeights.push(new ke(o,a,s,c))}if(t.skinIndices)for(n=0,i=t.skinIndices.length;n<i;n+=r){var h=t.skinIndices[n],l=r>1?t.skinIndices[n+1]:0,u=r>2?t.skinIndices[n+2]:0,p=r>3?t.skinIndices[n+3]:0;e.skinIndices.push(new ke(h,l,u,p))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}(t,r),function(t,e){var r=t.scale;if(void 0!==t.morphTargets)for(var n=0,i=t.morphTargets.length;n<i;n++){e.morphTargets[n]={},e.morphTargets[n].name=t.morphTargets[n].name,e.morphTargets[n].vertices=[];for(var o=e.morphTargets[n].vertices,a=t.morphTargets[n].vertices,s=0,c=a.length;s<c;s+=3){var h=new Fe;h.x=a[s]*r,h.y=a[s+1]*r,h.z=a[s+2]*r,o.push(h)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var l=e.faces,u=t.morphColors[0].colors;for(n=0,i=l.length;n<i;n++)l[n].color.fromArray(u,3*n)}}(t,r),function(t,e){var r=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var i=0;i<n.length;i++){var o=Vh.parseAnimation(n[i],e.bones);o&&r.push(o)}if(e.morphTargets){var a=Vh.CreateClipsFromMorphTargetSequences(e.morphTargets,10);r=r.concat(a)}r.length>0&&(e.animations=r)}(t,r),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:r}:{geometry:r,materials:Yh.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}()}),Object.assign(Qh.prototype,{crossOrigin:"anonymous",load:function(t,e,r,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Bc(i.manager).load(t,function(r){var o=null;try{o=JSON.parse(r)}catch(e){return void 0!==n&&n(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")},r,n)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var r=this.parseShape(t.shapes),n=this.parseGeometries(t.geometries,r),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,i),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,n,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var r=0,n=t.length;r<n;r++){var i=(new yh).fromJSON(t[r]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var r={};if(void 0!==t)for(var n=new Zh,i=new Xh,o=0,a=t.length;o<a;o++){var s,c=t[o];switch(c.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new wc[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new wc[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new wc[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new wc[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new wc[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new wc[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new wc[c.type](c.radius,c.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new wc[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new wc[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new wc[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new wc[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new wc[c.type](c.vertices,c.indices,c.radius,c.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var h=[],l=0,u=c.shapes.length;l<u;l++){var p=e[c.shapes[l]];h.push(p)}s=new wc[c.type](h,c.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(h=[],l=0,u=c.shapes.length;l<u;l++){p=e[c.shapes[l]];h.push(p)}var d=c.options.extrudePath;void 0!==d&&(c.options.extrudePath=(new mh[d.type]).fromJSON(d)),s=new wc[c.type](h,c.options);break;case"BufferGeometry":s=i.parse(c);break;case"Geometry":s=n.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+c.type+'"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),r[c.uuid]=s}return r},parseMaterials:function(t,e){var r={};if(void 0!==t){var n=new Wh;n.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=t[i];if("MultiMaterial"===a.type){for(var s=[],c=0;c<a.materials.length;c++)s.push(n.parse(a.materials[c]));r[a.uuid]=s}else r[a.uuid]=n.parse(a)}}return r},parseAnimations:function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],i=Vh.parse(n);void 0!==n.uuid&&(i.uuid=n.uuid),e.push(i)}return e},parseImages:function(t,e){var r=this,n={};function i(t){return r.manager.itemStart(t),o.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemEnd(t),r.manager.itemError(t)})}if(void 0!==t&&t.length>0){var o=new Gc(new Nc(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var c=t[a],h=c.url;if(Array.isArray(h)){n[c.uuid]=[];for(var l=0,u=h.length;l<u;l++){var p=h[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:r.texturePath+p;n[c.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;n[c.uuid]=i(d)}}}return n},parseTextures:function(t,e){function r(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new io(e[s.image]):new Ve(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=r(s.mapping,$h)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=r(s.wrap[0],tl),a.wrapT=r(s.wrap[1],tl)),void 0!==s.format&&(a.format=s.format),void 0!==s.minFilter&&(a.minFilter=r(s.minFilter,el)),void 0!==s.magFilter&&(a.magFilter=r(s.magFilter,el)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),n[s.uuid]=a}return n},parseObject:function(t,e,r){var n;function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];void 0===r[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(r[o])}return e}return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}}switch(t.type){case"Scene":n=new Fa,void 0!==t.background&&Number.isInteger(t.background)&&(n.background=new ci(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?n.fog=new Ba(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(n.fog=new Ua(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":n=new Pa(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"OrthographicCamera":n=new yi(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"AmbientLight":n=new Ah(t.color,t.intensity);break;case"DirectionalLight":n=new Sh(t.color,t.intensity);break;case"PointLight":n=new Eh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":n=new Lh(t.color,t.intensity,t.width,t.height);break;case"SpotLight":n=new Mh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":n=new bh(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(t.geometry),s=o(t.material);n=a.bones&&a.bones.length>0?new Xa(a,s):new Xi(a,s);break;case"LOD":n=new ka;break;case"Line":n=new Ya(i(t.geometry),o(t.material),t.mode);break;case"LineLoop":n=new Za(i(t.geometry),o(t.material));break;case"LineSegments":n=new Ja(i(t.geometry),o(t.material));break;case"PointCloud":case"Points":n=new Ka(i(t.geometry),o(t.material));break;case"Sprite":n=new Va(o(t.material));break;case"Group":n=new Ca;break;default:n=new gi}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)n.add(this.parseObject(c[h],e,r));if("LOD"===t.type)for(var l=t.levels,u=0;u<l.length;u++){var p=l[u],d=n.getObjectByProperty("uuid",p.object);void 0!==d&&n.addLevel(d,p.distance)}return n}});var Kh,$h={UVMapping:it,CubeReflectionMapping:ot,CubeRefractionMapping:at,EquirectangularReflectionMapping:st,EquirectangularRefractionMapping:ct,SphericalReflectionMapping:ht,CubeUVReflectionMapping:lt,CubeUVRefractionMapping:ut},tl={RepeatWrapping:pt,ClampToEdgeWrapping:dt,MirroredRepeatWrapping:ft},el={NearestFilter:mt,NearestMipMapNearestFilter:gt,NearestMipMapLinearFilter:vt,LinearFilter:yt,LinearMipMapNearestFilter:xt,LinearMipMapLinearFilter:bt};function rl(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:Dc,this.options=void 0}function nl(){this.type="ShapePath",this.color=new ci,this.subPaths=[],this.currentPath=null}function il(t){this.type="Font",this.data=t}function ol(t,e,r){for(var n=Array.from?Array.from(t):String(t).split(""),i=e/r.resolution,o=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,a=[],s=0,c=0,h=0;h<n.length;h++){var l=n[h];if("\n"===l)s=0,c-=o;else{var u=al(l,i,s,c,r);s+=u.offsetX,a.push(u.path)}}return a}function al(t,e,r,n,i){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,c,h,l,u,p,d,f=new nl;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*e+r,s=m[g++]*e+n,f.moveTo(a,s);break;case"l":a=m[g++]*e+r,s=m[g++]*e+n,f.lineTo(a,s);break;case"q":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,f.quadraticCurveTo(l,u,c,h);break;case"b":c=m[g++]*e+r,h=m[g++]*e+n,l=m[g++]*e+r,u=m[g++]*e+n,p=m[g++]*e+r,d=m[g++]*e+n,f.bezierCurveTo(l,u,p,d,c,h)}}return{offsetX:o.ha*e,path:f}}}function sl(t){this.manager=void 0!==t?t:Dc}rl.prototype={constructor:rl,setOptions:function(t){return this.options=t,this},load:function(t,e,r,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,o=Ic.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(r){Ic.add(t,r),e&&e(r),i.manager.itemEnd(t)}).catch(function(e){n&&n(e),i.manager.itemEnd(t),i.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(nl.prototype,{moveTo:function(t,e){this.currentPath=new vh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,r,n){this.currentPath.quadraticCurveTo(t,e,r,n)},bezierCurveTo:function(t,e,r,n,i,o){this.currentPath.bezierCurveTo(t,e,r,n,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function r(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r],o=new yh;o.curves=i.curves,e.push(o)}return e}function n(t,e){for(var r=e.length,n=!1,i=r-1,o=0;o<r;i=o++){var a=e[i],s=e[o],c=s.x-a.x,h=s.y-a.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(a=e[o],c=-c,s=e[i],h=-h),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var l=h*(t.x-a.x)-c*(t.y-a.y);if(0===l)return!0;if(l<0)continue;n=!n}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return n}var i=Qs.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return r(o);var a,s,c,h=[];if(1===o.length)return s=o[0],(c=new yh).curves=s.curves,h.push(c),h;var l=!i(o[0].getPoints());l=t?!l:l;var u,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(u=(s=o[v]).getPoints()),(a=t?!a:a)?(!l&&f[g]&&g++,f[g]={s:new yh,p:u},f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:u[0]});if(!f[0])return r(o);if(f.length>1){for(var x=!1,b=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var M=m[_],E=0;E<M.length;E++){for(var T=M[E],S=!0,A=0;A<f.length;A++)n(T.p,f[A].p)&&(_!==A&&b.push({froms:_,tos:A,hole:E}),S?(S=!1,d[A].push(T)):x=!0);S&&d[_].push(T)}b.length>0&&(x||(m=d))}v=0;for(var L=f.length;v<L;v++){c=f[v].s,h.push(c);for(var R=0,C=(p=m[v]).length;R<C;R++)c.holes.push(p[R].h)}return h}}),Object.assign(il.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var r=[],n=ol(t,e,this.data),i=0,o=n.length;i<o;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}}),Object.assign(sl.prototype,{load:function(t,e,r,n){var i=this,o=new Bc(this.manager);o.setPath(this.path),o.load(t,function(t){var r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}var n=i.parse(r);e&&e(n)},r,n)},parse:function(t){return new il(t)},setPath:function(t){return this.path=t,this}});var cl={getContext:function(){return void 0===Kh&&(Kh=new(window.AudioContext||window.webkitAudioContext)),Kh},setContext:function(t){Kh=t}};function hl(t){this.manager=void 0!==t?t:Dc}function ll(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function ul(t,e,r){gi.call(this),this.type="CubeCamera";var n=new Pa(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new Fe(1,0,0)),this.add(n);var i=new Pa(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Fe(-1,0,0)),this.add(i);var o=new Pa(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Fe(0,1,0)),this.add(o);var a=new Pa(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Fe(0,-1,0)),this.add(a);var s=new Pa(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Fe(0,0,1)),this.add(s);var c=new Pa(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Fe(0,0,-1)),this.add(c);var h={format:Nt,magFilter:yt,minFilter:yt};this.renderTarget=new We(r,r,h),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,r.activeCubeFace=0,t.render(e,n,r),r.activeCubeFace=1,t.render(e,i,r),r.activeCubeFace=2,t.render(e,o,r),r.activeCubeFace=3,t.render(e,a,r),r.activeCubeFace=4,t.render(e,s,r),r.texture.generateMipmaps=h,r.activeCubeFace=5,t.render(e,c,r),t.setRenderTarget(null)},this.clear=function(t,e,r,n){for(var i=this.renderTarget,o=0;o<6;o++)i.activeCubeFace=o,t.setRenderTarget(i),t.clear(e,r,n);t.setRenderTarget(null)}}function pl(){gi.call(this),this.type="AudioListener",this.context=cl.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function dl(t){gi.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function fl(t){dl.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ml(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function gl(t,e,r){this.binding=t,this.valueSize=r;var n,i=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":i=Array,n=this._select;break;default:n=this._lerp}this.buffer=new i(4*r),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(hl.prototype,{load:function(t,e,r,n){var i=new Bc(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){var r=t.slice(0);cl.getContext().decodeAudioData(r,function(t){e(t)})},r,n)}}),Object.assign(ll.prototype,{update:function(){var t,e,r,n,i,o,a,s,c=new Ue,h=new Ue;return function(l){if(t!==this||e!==l.focus||r!==l.fov||n!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,r=l.fov,n=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var u,p,d=l.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(Ne.DEG2RAD*r*.5)/a;h.elements[12]=-s,c.elements[12]=s,u=-m*n+f,p=m*n+f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-m*n-f,p=m*n-f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),ul.prototype=Object.create(gi.prototype),ul.prototype.constructor=ul,pl.prototype=Object.assign(Object.create(gi.prototype),{constructor:pl,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){gi.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,r),n.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(n.x,this.context.currentTime),o.forwardY.setValueAtTime(n.y,this.context.currentTime),o.forwardZ.setValueAtTime(n.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z))}}()}),dl.prototype=Object.assign(Object.create(gi.prototype),{constructor:dl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),fl.prototype=Object.assign(Object.create(dl.prototype),{constructor:fl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,r){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(){var t=new Fe,e=new Be,r=new Fe,n=new Fe;return function(i){gi.prototype.updateMatrixWorld.call(this,i);var o=this.panner;this.matrixWorld.decompose(t,e,r),n.set(0,0,1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(n.x,n.y,n.z)}}()}),Object.assign(ml.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),r=0;r<e.length;r++)t+=e[r];return t/e.length}}),Object.assign(gl.prototype,{accumulate:function(t,e){var r=this.buffer,n=this.valueSize,i=t*n+n,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==n;++a)r[i+a]=r[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(r,i,0,s,n)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,r=this.buffer,n=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(r,n,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(r[s]!==r[s+e]){o.setValue(r,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,r=this.valueSize,n=3*r;t.getValue(e,n);for(var i=r,o=n;i!==o;++i)e[i]=e[n+i%r];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,r,n,i){if(n>=.5)for(var o=0;o!==i;++o)t[e+o]=t[r+o]},_slerp:function(t,e,r,n){Be.slerpFlat(t,e,t,e,t,r,n)},_lerp:function(t,e,r,n,i){for(var o=1-n,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[r+a]*n}}});var vl,yl,xl="\\[\\]\\.:\\/";function bl(t,e,r){var n=r||_l.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function _l(t,e,r){this.path=e,this.parsedPath=r||_l.parseTrackName(e),this.node=_l.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function wl(){this.uuid=Ne.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,r=arguments.length;e!==r;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Ml(t,e,r){this._mixer=t,this._clip=e,this._localRoot=r||null;for(var n=e.tracks,i=n.length,o=new Array(i),a={endingStart:ge,endingEnd:ge},s=0;s!==i;++s){var c=n[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function El(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Tl(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Sl(){Di.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Al(t,e,r){za.call(this,t,e),this.meshPerAttribute=r||1}function Ll(t,e,r){wi.call(this,t,e),this.meshPerAttribute=r||1}function Rl(t,e,r,n){this.ray=new ji(t,e),this.near=r||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Cl(t,e){return t.distance-e.distance}function Pl(t,e,r,n){if(!1!==t.visible&&(t.raycast(e,r),!0===n))for(var i=t.children,o=0,a=i.length;o<a;o++)Pl(i[o],e,r,!0)}function Ol(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Il(t,e,r){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==r?r:0,this}function Nl(t,e,r){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==r?r:0,this}function Dl(t,e){this.min=void 0!==t?t:new De(1/0,1/0),this.max=void 0!==e?e:new De(-1/0,-1/0)}function Ul(t,e){this.start=void 0!==t?t:new Fe,this.end=void 0!==e?e:new Fe}function Bl(t){gi.call(this),this.material=t,this.render=function(){}}function Fl(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new Di,h=new Ci(2*a*3,3);c.addAttribute("position",h),Ja.call(this,c,new qa({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function zl(t,e){gi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var r=new Di,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.addAttribute("position",new Ci(n,3));var c=new qa({fog:!1});this.cone=new Ja(r,c),this.add(this.cone),this.update()}function Gl(t){var e=[];t&&t.isBone&&e.push(t);for(var r=0;r<t.children.length;r++)e.push.apply(e,Gl(t.children[r]));return e}function Hl(t){for(var e=Gl(t),r=new Di,n=[],i=[],o=new ci(0,0,1),a=new ci(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}r.addAttribute("position",new Ci(n,3)),r.addAttribute("color",new Ci(i,3));var h=new qa({vertexColors:x,depthTest:!1,depthWrite:!1,transparent:!0});Ja.call(this,r,h),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Vl(t,e,r){this.light=t,this.light.updateMatrixWorld(),this.color=r;var n=new sc(e,4,2),i=new Vi({wireframe:!0,fog:!1});Xi.call(this,n,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function kl(t,e){gi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var r=new qa({fog:!1}),n=new Di;n.addAttribute("position",new wi(new Float32Array(15),3)),this.line=new Ya(n,r),this.add(this.line),this.update()}function jl(t,e,r){gi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var n=new us(e);n.rotateY(.5*Math.PI),this.material=new Vi({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=x);var i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new wi(o,3)),this.add(new Xi(n,this.material)),this.update()}function Wl(t,e,r,n){t=t||10,e=e||10,r=new ci(void 0!==r?r:4473924),n=new ci(void 0!==n?n:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],c=[],h=0,l=0,u=-a;h<=e;h++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);var p=h===i?r:n;p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3}var d=new Di;d.addAttribute("position",new Ci(s,3)),d.addAttribute("color",new Ci(c,3));var f=new qa({vertexColors:x});Ja.call(this,d,f)}function Xl(t,e,r,n,i,o){t=t||10,e=e||16,r=r||8,n=n||64,i=new ci(void 0!==i?i:4473924),o=new ci(void 0!==o?o:8947848);var a,s,c,h,l,u,p,d=[],f=[];for(h=0;h<=e;h++)c=h/e*(2*Math.PI),a=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(a,0,s),p=1&h?i:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(h=0;h<=r;h++)for(p=1&h?i:o,u=t-t/r*h,l=0;l<n;l++)c=l/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b),c=(l+1)/n*(2*Math.PI),a=Math.sin(c)*u,s=Math.cos(c)*u,d.push(a,0,s),f.push(p.r,p.g,p.b);var m=new Di;m.addAttribute("position",new Ci(d,3)),m.addAttribute("color",new Ci(f,3));var g=new qa({vertexColors:x});Ja.call(this,m,g)}function ql(t,e,r,n){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Di,h=new Ci(2*a*3,3);c.addAttribute("position",h),Ja.call(this,c,new qa({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function Yl(t,e,r){gi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===e&&(e=1);var n=new Di;n.addAttribute("position",new Ci([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new qa({fog:!1});this.lightPlane=new Ya(n,i),this.add(this.lightPlane),(n=new Di).addAttribute("position",new Ci([0,0,0,0,0,1],3)),this.targetLine=new Ya(n,i),this.add(this.targetLine),this.update()}function Jl(t){var e=new Di,r=new qa({color:16777215,vertexColors:y}),n=[],i=[],o={},a=new ci(16755200),s=new ci(16711680),c=new ci(43775),h=new ci(16777215),l=new ci(3355443);function u(t,e,r){p(t,r),p(e,r)}function p(t,e){n.push(0,0,0),i.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(n.length/3-1)}u("n1","n2",a),u("n2","n4",a),u("n4","n3",a),u("n3","n1",a),u("f1","f2",a),u("f2","f4",a),u("f4","f3",a),u("f3","f1",a),u("n1","f1",a),u("n2","f2",a),u("n3","f3",a),u("n4","f4",a),u("p","n1",s),u("p","n2",s),u("p","n3",s),u("p","n4",s),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",h),u("p","c",l),u("cn1","cn2",l),u("cn3","cn4",l),u("cf1","cf2",l),u("cf3","cf4",l),e.addAttribute("position",new Ci(n,3)),e.addAttribute("color",new Ci(i,3)),Ja.call(this,e,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Zl(t,e){this.object=t,void 0===e&&(e=16776960);var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),i=new Di;i.setIndex(new wi(r,1)),i.addAttribute("position",new wi(n,3)),Ja.call(this,i,new qa({color:e})),this.matrixAutoUpdate=!1,this.update()}function Ql(t,e){this.type="Box3Helper",this.box=t;var r=void 0!==e?e:16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Di;i.setIndex(new wi(n,1)),i.addAttribute("position",new Ci([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ja.call(this,i,new qa({color:r})),this.geometry.computeBoundingSphere()}function Kl(t,e,r){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var n=void 0!==r?r:16776960,i=new Di;i.addAttribute("position",new Ci([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Ya.call(this,i,new qa({color:n}));var o=new Di;o.addAttribute("position",new Ci([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Xi(o,new Vi({color:n,opacity:.2,transparent:!0,depthWrite:!1})))}function $l(t,e,r,n,i,o){gi.call(this),void 0===n&&(n=16776960),void 0===r&&(r=1),void 0===i&&(i=.2*r),void 0===o&&(o=.2*i),void 0===vl&&((vl=new Di).addAttribute("position",new Ci([0,0,0,0,1,0],3)),(yl=new vc(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ya(vl,new qa({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xi(yl,new Vi({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(r,i,o)}function tu(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],r=new Di;r.addAttribute("position",new Ci(e,3)),r.addAttribute("color",new Ci([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var n=new qa({vertexColors:x});Ja.call(this,r,n)}function eu(t,e,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new xi(t,e,r,i,o,a)}Object.assign(bl.prototype,{getValue:function(t,e){this.bind();var r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var r=this._bindings,n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,r=t.length;e!==r;++e)t[e].unbind()}}),Object.assign(_l,{Composite:bl,create:function(t,e,r){return t&&t.isAnimationObjectGroup?new _l.Composite(t,e,r):new _l(t,e,r)},sanitizeNodeName:function(){var t=new RegExp("["+xl+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+xl+"]",e="[^"+xl.replace("\\.","")+"]",r=/((?:WC+[\/:])*)/.source.replace("WC",t),n=/(WCOD+)?/.source.replace("WCOD",e),i=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),a=new RegExp("^"+r+n+i+o+"$"),s=["material","materials","bones"];return function(t){var e=a.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var r={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==s.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var r=t.skeleton.getBoneByName(e);if(void 0!==r)return r}if(t.children){var n=function(t){for(var r=0;r<t.length;r++){var i=t[r];if(i.name===e||i.uuid===e)return i;var o=n(i.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}}),Object.assign(_l.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)t[e++]=r[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++]},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,r=e.objectName,n=e.propertyName,i=e.propertyIndex;if(t||(t=_l.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=e.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var h=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var l=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+n+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(_l.prototype,{_getValue_unbound:_l.prototype.getValue,_setValue_unbound:_l.prototype.setValue}),Object.assign(wl.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=n[p];if(void 0===d){d=e++,n[p]=d,t.push(u);for(var f=0,m=s;f!==m;++f)a[f].push(new _l(u,i[f],o[f]))}else if(d<r){c=t[d];var g=--r,v=t[g];n[v.uuid]=d,t[d]=v,n[p]=g,t[g]=u;for(f=0,m=s;f!==m;++f){var y=a[f],x=y[g],b=y[d];y[d]=x,void 0===b&&(b=new _l(u,i[f],o[f])),y[g]=b}}else t[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=r},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,i=n.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,h=r[c];if(void 0!==h&&h>=e){var l=e++,u=t[l];r[u.uuid]=h,t[h]=u,r[c]=l,t[l]=s;for(var p=0,d=i;p!==d;++p){var f=n[p],m=f[l],g=f[h];f[h]=m,f[l]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a].uuid,h=n[c];if(void 0!==h)if(delete n[c],h<r){var l=--r,u=t[l],p=t[v=--e];n[u.uuid]=h,t[h]=u,n[p.uuid]=l,t[l]=p,t.pop();for(var d=0,f=o;d!==f;++d){var m=(y=i[d])[l],g=y[v];y[h]=m,y[l]=g,y.pop()}}else{var v;n[(p=t[v=--e]).uuid]=h,t[h]=p,t.pop();for(d=0,f=o;d!==f;++d){var y;(y=i[d])[h]=y[v],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var r=this._bindingsIndicesByPath,n=r[t],i=this._bindings;if(void 0!==n)return i[n];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);n=i.length,r[t]=n,o.push(t),a.push(e),i.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new _l(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,r=e[t];if(void 0!==r){var n=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=r,o[r]=s,o.pop(),i[r]=i[a],i.pop(),n[r]=n[a],n.pop()}}}),Object.assign(Ml.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,r){if(t.fadeOut(e),this.fadeIn(e),r){var n=this._clip.duration,i=t._clip.duration,o=i/n,a=n/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,r){return t.crossFadeFrom(this,e,r)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,r){var n=this._mixer,i=n.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+r,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,r,n){if(this.enabled){var i=this._startTime;if(null!==i){var o=(t-i)*r;if(o<0||0===r)return;this._startTime=null,e=r*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(a),h[l].accumulate(n,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var r=this._weightInterpolant;if(null!==r){var n=r.evaluate(t)[0];e*=n,t>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var r=this._timeScaleInterpolant;if(null!==r)e*=r.evaluate(t)[0],t>r.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,r=this._clip.duration,n=this.loop,i=this._loopCount,o=n===pe;if(0===t)return-1===i?e:o&&1==(1&i)?r-e:e;if(n===le){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=r)e=r;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=r||e<0){var a=Math.floor(e/r);e-=r*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?r:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,r-e}return this.time=e,e},_setEndings:function(t,e,r){var n=this._interpolantSettings;r?(n.endingStart=ve,n.endingEnd=ve):(n.endingStart=t?this.zeroSlopeAtStart?ve:ge:ye,n.endingEnd=e?this.zeroSlopeAtEnd?ve:ge:ye)},_scheduleFading:function(t,e,r){var n=this._mixer,i=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=r,this}}),El.prototype=Object.assign(Object.create(t.prototype),{constructor:El,_bindAction:function(t,e){var r=t._localRoot||this._root,n=t._clip.tracks,i=n.length,o=t._propertyBindings,a=t._interpolants,s=r.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==i;++l){var u=n[l],p=u.name,d=h[p];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(d=new gl(_l.create(r,p,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,r=t._clip.uuid,n=this._actionsByClip[r];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,r,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,r){var n=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=n.length,n.push(t),o.actionByRoot[r]=t},_removeInactiveAction:function(t){var e=this._actions,r=e[e.length-1],n=t._cacheIndex;r._cacheIndex=n,e[n]=r,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,r=0,n=e.length;r!==n;++r){var i=e[r];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,r=t._cacheIndex,n=this._nActiveActions++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackAction:function(t){var e=this._actions,r=t._cacheIndex,n=--this._nActiveActions,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_addInactiveBinding:function(t,e,r){var n=this._bindingsByRootAndName,i=n[e],o=this._bindings;void 0===i&&(i={},n[e]=i),i[r]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,r=t.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,a=o[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var h in a)break t;delete o[n]}},_lendBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=this._nActiveBindings++,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_takeBackBinding:function(t){var e=this._bindings,r=t._cacheIndex,n=--this._nActiveBindings,i=e[n];t._cacheIndex=n,e[n]=t,i._cacheIndex=r,e[r]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,r=t[e];return void 0===r&&((r=new Oh(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=r),r},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,r=t.__cacheIndex,n=--this._nActiveControlInterpolants,i=e[n];t.__cacheIndex=n,e[n]=t,i.__cacheIndex=r,e[r]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Vh.findByName(r,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[n];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var h=new Ml(this,i,e);return this._bindAction(h,s),this._addInactiveAction(h,o,n),h},existingAction:function(t,e){var r=e||this._root,n=r.uuid,i="string"==typeof t?Vh.findByName(r,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,r=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==n;++i)r[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,r=this._nActiveActions,n=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==r;++a){e[a]._update(n,t,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,r=t.uuid,n=this._actionsByClip,i=n[r];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[r]}},uncacheRoot:function(t){var e=t.uuid,r=this._actionsByClip;for(var n in r){var i=r[n].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var r=this.existingAction(t,e);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),Tl.prototype.clone=function(){return new Tl(void 0===this.value.clone?this.value:this.value.clone())},Sl.prototype=Object.assign(Object.create(Di.prototype),{constructor:Sl,isInstancedBufferGeometry:!0,copy:function(t){return Di.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Al.prototype=Object.assign(Object.create(za.prototype),{constructor:Al,isInstancedInterleavedBuffer:!0,copy:function(t){return za.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Ll.prototype=Object.assign(Object.create(wi.prototype),{constructor:Ll,isInstancedBufferAttribute:!0,copy:function(t){return wi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Rl.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,r){var n=r||[];return Pl(t,this,n,e),n.sort(Cl),n},intersectObjects:function(t,e,r){var n=r||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var i=0,o=t.length;i<o;i++)Pl(t[i],this,n,e);return n.sort(Cl),n}}),Object.assign(Ol.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Il.prototype,{set:function(t,e,r){return this.radius=t,this.phi=e,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Ne.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(Nl.prototype,{set:function(t,e,r){return this.radius=t,this.theta=e,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(Dl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new De;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new De),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new De),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new De),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new De;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Ul.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Fe),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Fe),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Fe),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Fe,e=new Fe;return function(r,n){t.subVectors(r,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t)/i;return n&&(o=Ne.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,r){var n=this.closestPointToPointParameter(t,e);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Fe),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Bl.prototype=Object.create(gi.prototype),Bl.prototype.constructor=Bl,Bl.prototype.isImmediateRenderObject=!0,Fl.prototype=Object.create(Ja.prototype),Fl.prototype.constructor=Fl,Fl.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,c=a.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[n[d]]],g=p.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}else if(a&&a.isBufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(h=0,d=0,f=v.count;d<f;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),o.setXYZ(h,t.x,t.y,t.z),h+=1,o.setXYZ(h,e.x,e.y,e.z),h+=1}o.needsUpdate=!0}}(),zl.prototype=Object.create(gi.prototype),zl.prototype.constructor=zl,zl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},zl.prototype.update=function(){var t=new Fe,e=new Fe;return function(){this.light.updateMatrixWorld();var r=this.light.distance?this.light.distance:1e3,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Hl.prototype=Object.create(Ja.prototype),Hl.prototype.constructor=Hl,Hl.prototype.updateMatrixWorld=function(){var t=new Fe,e=new Ue,r=new Ue;return function(n){var i=this.bones,o=this.geometry,a=o.getAttribute("position");r.getInverse(this.root.matrixWorld);for(var s=0,c=0;s<i.length;s++){var h=i[s];h.parent&&h.parent.isBone&&(e.multiplyMatrices(r,h.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c,t.x,t.y,t.z),e.multiplyMatrices(r,h.parent.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(c+1,t.x,t.y,t.z),c+=2)}o.getAttribute("position").needsUpdate=!0,gi.prototype.updateMatrixWorld.call(this,n)}}(),Vl.prototype=Object.create(Xi.prototype),Vl.prototype.constructor=Vl,Vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Vl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},kl.prototype=Object.create(gi.prototype),kl.prototype.constructor=kl,kl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},kl.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,r=this.line.geometry.attributes.position,n=r.array;n[0]=t,n[1]=-e,n[2]=0,n[3]=t,n[4]=e,n[5]=0,n[6]=-t,n[7]=e,n[8]=0,n[9]=-t,n[10]=-e,n[11]=0,n[12]=t,n[13]=-e,n[14]=0,r.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},jl.prototype=Object.create(gi.prototype),jl.prototype.constructor=jl,jl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},jl.prototype.update=function(){var t=new Fe,e=new ci,r=new ci;return function(){var n=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=n.geometry.getAttribute("color");e.copy(this.light.color),r.copy(this.light.groundColor);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:r;i.setXYZ(o,s.r,s.g,s.b)}i.needsUpdate=!0}n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Wl.prototype=Object.create(Ja.prototype),Wl.prototype.constructor=Wl,Xl.prototype=Object.create(Ja.prototype),Xl.prototype.constructor=Xl,ql.prototype=Object.create(Ja.prototype),ql.prototype.constructor=ql,ql.prototype.update=function(){var t=new Fe,e=new Fe,r=new ze;return function(){this.object.updateMatrixWorld(!0),r.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(a[u.a]).add(a[u.b]).add(a[u.c]).divideScalar(3).applyMatrix4(n),e.copy(p).applyMatrix3(r).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}i.needsUpdate=!0}}(),Yl.prototype=Object.create(gi.prototype),Yl.prototype.constructor=Yl,Yl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Yl.prototype.update=function(){var t=new Fe,e=new Fe,r=new Fe;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(e,t),this.lightPlane.lookAt(r),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r),this.targetLine.scale.z=r.length()}}(),Jl.prototype=Object.create(Ja.prototype),Jl.prototype.constructor=Jl,Jl.prototype.update=function(){var t,e,r=new Fe,n=new vi;function i(i,o,a,s){r.set(o,a,s).unproject(n);var c=e[i];if(void 0!==c)for(var h=t.getAttribute("position"),l=0,u=c.length;l<u;l++)h.setXYZ(c[l],r.x,r.y,r.z)}return function(){t=this.geometry,e=this.pointMap;n.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Zl.prototype=Object.create(Ja.prototype),Zl.prototype.constructor=Zl,Zl.prototype.update=function(){var t=new qe;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var r=t.min,n=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=r.x,o[4]=n.y,o[5]=n.z,o[6]=r.x,o[7]=r.y,o[8]=n.z,o[9]=n.x,o[10]=r.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=r.z,o[15]=r.x,o[16]=n.y,o[17]=r.z,o[18]=r.x,o[19]=r.y,o[20]=r.z,o[21]=n.x,o[22]=r.y,o[23]=r.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Zl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Ql.prototype=Object.create(Ja.prototype),Ql.prototype.constructor=Ql,Ql.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),gi.prototype.updateMatrixWorld.call(this,t))},Kl.prototype=Object.create(Ya.prototype),Kl.prototype.constructor=Kl,Kl.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?d:p,this.lookAt(this.plane.normal),gi.prototype.updateMatrixWorld.call(this,t)},$l.prototype=Object.create(gi.prototype),$l.prototype.constructor=$l,$l.prototype.setDirection=function(){var t,e=new Fe;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(r.z,0,-r.x).normalize(),t=Math.acos(r.y),this.quaternion.setFromAxisAngle(e,t))}}(),$l.prototype.setLength=function(t,e,r){void 0===e&&(e=.2*t),void 0===r&&(r=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=t,this.cone.updateMatrix()},$l.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},tu.prototype=Object.create(Ja.prototype),tu.prototype.constructor=tu;var ru=0,nu=1;function iu(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function ou(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function au(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ka(t,e)}function su(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Va(t)}function cu(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ka(t,e)}function hu(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Qa(t)}function lu(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Qa(t)}function uu(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Qa(t)}function pu(t,e,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Fe(t,e,r)}function du(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new wi(t,e).setDynamic(!0)}function fu(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Mi(t,e)}function mu(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ei(t,e)}function gu(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ti(t,e)}function vu(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Si(t,e)}function yu(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ai(t,e)}function xu(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Li(t,e)}function bu(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Ri(t,e)}function _u(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Ci(t,e)}function wu(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Pi(t,e)}function Mu(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Qc.call(this,t),this.type="catmullrom",this.closed=!0}function Eu(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Qc.call(this,t),this.type="catmullrom"}function Tu(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Qc.call(this,t),this.type="catmullrom"}function Su(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new tu(t)}function Au(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Zl(t,e)}function Lu(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ja(new mc(t.geometry),new qa({color:void 0!==e?e:16777215}))}function Ru(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ja(new ns(t.geometry),new qa({color:void 0!==e?e:16777215}))}function Cu(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Bc(t)}function Pu(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new zc(t)}kc.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(kc.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(gh.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new _i,r=0,n=t.length;r<n;r++){var i=t[r];e.vertices.push(new Fe(i.x,i.y,i.z||0))}return e}}),Object.assign(vh.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Mu.prototype=Object.create(Qc.prototype),Eu.prototype=Object.create(Qc.prototype),Tu.prototype=Object.create(Qc.prototype),Object.assign(Tu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Wl.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Hl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Yh.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Jh.extractUrlBase(t)}}),Object.assign(Dl.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(qe.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Ul.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Ne,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ne.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ne.ceilPowerOfTwo(t)}}),Object.assign(ze.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ue.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Fe),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,r,n,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,r,i,o)}}),Je.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Be.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(ji.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Wi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Wi,{barycoordFromPoint:function(t,e,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Wi.getBarycoord(t,e,r,n,i)},normal:function(t,e,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Wi.getNormal(t,e,r,n)}}),Object.assign(yh.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new tc(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new pc(this,t)}}),Object.assign(De.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Fe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ke.prototype,{fromAttribute:function(t,e,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_i.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(gi.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(gi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ka.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ja.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(kc.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Pa.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(xh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(wi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(Di.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Di.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(ec.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Tl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Hi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ci}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===m}}}),Object.defineProperties(Ac.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ki.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Da.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Da.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Sa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(je.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Ia.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),dl.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new hl).load(t,function(t){e.setBuffer(t)}),this},ml.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ul.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Ou={merge:function(t,e,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,r)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};function Iu(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Nu(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Ge.crossOrigin=void 0,Ge.loadTexture=function(t,e,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Vc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},Ge.loadTextureCube=function(t,e,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Hc;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,r,void 0,n);return e&&(o.mapping=e),o},Ge.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ge.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Du={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function Uu(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}exports.WebGLRenderTargetCube=We,exports.WebGLRenderTarget=je,exports.WebGLRenderer=Da,exports.ShaderLib=li,exports.UniformsLib=hi,exports.UniformsUtils=ai,exports.ShaderChunk=oi,exports.FogExp2=Ua,exports.Fog=Ba,exports.Scene=Fa,exports.Sprite=Va,exports.LOD=ka,exports.SkinnedMesh=Xa,exports.Skeleton=ja,exports.Bone=Wa,exports.Mesh=Xi,exports.LineSegments=Ja,exports.LineLoop=Za,exports.Line=Ya,exports.Points=Ka,exports.Group=Ca,exports.VideoTexture=$a,exports.DataTexture=Xe,exports.CompressedTexture=ts,exports.CubeTexture=io,exports.CanvasTexture=es,exports.DepthTexture=rs,exports.Texture=Ve,exports.CompressedTextureLoader=Fc,exports.DataTextureLoader=zc,exports.CubeTextureLoader=Hc,exports.TextureLoader=Vc,exports.ObjectLoader=Qh,exports.MaterialLoader=Wh,exports.BufferGeometryLoader=Xh,exports.DefaultLoadingManager=Dc,exports.LoadingManager=Nc,exports.JSONLoader=Zh,exports.ImageLoader=Gc,exports.ImageBitmapLoader=rl,exports.FontLoader=sl,exports.FileLoader=Bc,exports.Loader=Yh,exports.LoaderUtils=Jh,exports.Cache=Ic,exports.AudioLoader=hl,exports.SpotLightShadow=wh,exports.SpotLight=Mh,exports.PointLight=Eh,exports.RectAreaLight=Lh,exports.HemisphereLight=bh,exports.DirectionalLightShadow=Th,exports.DirectionalLight=Sh,exports.AmbientLight=Ah,exports.LightShadow=_h,exports.Light=xh,exports.StereoCamera=ll,exports.PerspectiveCamera=Pa,exports.OrthographicCamera=yi,exports.CubeCamera=ul,exports.ArrayCamera=Oa,exports.Camera=vi,exports.AudioListener=pl,exports.PositionalAudio=fl,exports.AudioContext=cl,exports.AudioAnalyser=ml,exports.Audio=dl,exports.VectorKeyframeTrack=Hh,exports.StringKeyframeTrack=Gh,exports.QuaternionKeyframeTrack=zh,exports.NumberKeyframeTrack=Bh,exports.ColorKeyframeTrack=Uh,exports.BooleanKeyframeTrack=Dh,exports.PropertyMixer=gl,exports.PropertyBinding=_l,exports.KeyframeTrack=Nh,exports.AnimationUtils=Rh,exports.AnimationObjectGroup=wl,exports.AnimationMixer=El,exports.AnimationClip=Vh,exports.Uniform=Tl,exports.InstancedBufferGeometry=Sl,exports.BufferGeometry=Di,exports.Geometry=_i,exports.InterleavedBufferAttribute=Ga,exports.InstancedInterleavedBuffer=Al,exports.InterleavedBuffer=za,exports.InstancedBufferAttribute=Ll,exports.Face3=xi,exports.Object3D=gi,exports.Raycaster=Rl,exports.Layers=fi,exports.EventDispatcher=t,exports.Clock=Ol,exports.QuaternionLinearInterpolant=Fh,exports.LinearInterpolant=Oh,exports.DiscreteInterpolant=Ih,exports.CubicInterpolant=Ph,exports.Interpolant=Ch,exports.Triangle=Wi,exports.Math=Ne,exports.Spherical=Il,exports.Cylindrical=Nl,exports.Plane=Je,exports.Frustum=Ze,exports.Sphere=Ye,exports.Ray=ji,exports.Matrix4=Ue,exports.Matrix3=ze,exports.Box3=qe,exports.Box2=Dl,exports.Line3=Ul,exports.Euler=di,exports.Vector4=ke,exports.Vector3=Fe,exports.Vector2=De,exports.Quaternion=Be,exports.Color=ci,exports.ImmediateRenderObject=Bl,exports.VertexNormalsHelper=Fl,exports.SpotLightHelper=zl,exports.SkeletonHelper=Hl,exports.PointLightHelper=Vl,exports.RectAreaLightHelper=kl,exports.HemisphereLightHelper=jl,exports.GridHelper=Wl,exports.PolarGridHelper=Xl,exports.FaceNormalsHelper=ql,exports.DirectionalLightHelper=Yl,exports.CameraHelper=Jl,exports.BoxHelper=Zl,exports.Box3Helper=Ql,exports.PlaneHelper=Kl,exports.ArrowHelper=$l,exports.AxesHelper=tu,exports.Shape=yh,exports.Path=vh,exports.ShapePath=nl,exports.Font=il,exports.CurvePath=gh,exports.Curve=kc,exports.ImageUtils=Ge,exports.ShapeUtils=Qs,exports.WebGLUtils=Ra,exports.WireframeGeometry=ns,exports.ParametricGeometry=is,exports.ParametricBufferGeometry=os,exports.TetrahedronGeometry=cs,exports.TetrahedronBufferGeometry=hs,exports.OctahedronGeometry=ls,exports.OctahedronBufferGeometry=us,exports.IcosahedronGeometry=ps,exports.IcosahedronBufferGeometry=ds,exports.DodecahedronGeometry=fs,exports.DodecahedronBufferGeometry=ms,exports.PolyhedronGeometry=as,exports.PolyhedronBufferGeometry=ss,exports.TubeGeometry=gs,exports.TubeBufferGeometry=vs,exports.TorusKnotGeometry=ys,exports.TorusKnotBufferGeometry=xs,exports.TorusGeometry=bs,exports.TorusBufferGeometry=_s,exports.TextGeometry=ic,exports.TextBufferGeometry=oc,exports.SphereGeometry=ac,exports.SphereBufferGeometry=sc,exports.RingGeometry=cc,exports.RingBufferGeometry=hc,exports.PlaneGeometry=Fi,exports.PlaneBufferGeometry=zi,exports.LatheGeometry=lc,exports.LatheBufferGeometry=uc,exports.ShapeGeometry=pc,exports.ShapeBufferGeometry=dc,exports.ExtrudeGeometry=tc,exports.ExtrudeBufferGeometry=ec,exports.EdgesGeometry=mc,exports.ConeGeometry=yc,exports.ConeBufferGeometry=xc,exports.CylinderGeometry=gc,exports.CylinderBufferGeometry=vc,exports.CircleGeometry=bc,exports.CircleBufferGeometry=_c,exports.BoxGeometry=Ui,exports.BoxBufferGeometry=Bi,exports.ShadowMaterial=Mc,exports.SpriteMaterial=Ha,exports.RawShaderMaterial=Ec,exports.ShaderMaterial=ki,exports.PointsMaterial=Qa,exports.MeshPhysicalMaterial=Sc,exports.MeshStandardMaterial=Tc,exports.MeshPhongMaterial=Ac,exports.MeshToonMaterial=Lc,exports.MeshNormalMaterial=Rc,exports.MeshLambertMaterial=Cc,exports.MeshDepthMaterial=Ea,exports.MeshDistanceMaterial=Ta,exports.MeshBasicMaterial=Vi,exports.LineDashedMaterial=Pc,exports.LineBasicMaterial=qa,exports.Material=Hi,exports.Float64BufferAttribute=Pi,exports.Float32BufferAttribute=Ci,exports.Uint32BufferAttribute=Ri,exports.Int32BufferAttribute=Li,exports.Uint16BufferAttribute=Ai,exports.Int16BufferAttribute=Si,exports.Uint8ClampedBufferAttribute=Ti,exports.Uint8BufferAttribute=Ei,exports.Int8BufferAttribute=Mi,exports.BufferAttribute=wi,exports.ArcCurve=Wc,exports.CatmullRomCurve3=Qc,exports.CubicBezierCurve=ch,exports.CubicBezierCurve3=hh,exports.EllipseCurve=jc,exports.LineCurve=lh,exports.LineCurve3=uh,exports.QuadraticBezierCurve=ph,exports.QuadraticBezierCurve3=dh,exports.SplineCurve=fh,exports.REVISION=e,exports.MOUSE=r,exports.CullFaceNone=n,exports.CullFaceBack=i,exports.CullFaceFront=o,exports.CullFaceFrontBack=a,exports.FrontFaceDirectionCW=s,exports.FrontFaceDirectionCCW=c,exports.BasicShadowMap=h,exports.PCFShadowMap=l,exports.PCFSoftShadowMap=u,exports.FrontSide=p,exports.BackSide=d,exports.DoubleSide=f,exports.FlatShading=m,exports.SmoothShading=g,exports.NoColors=v,exports.FaceColors=y,exports.VertexColors=x,exports.NoBlending=b,exports.NormalBlending=_,exports.AdditiveBlending=w,exports.SubtractiveBlending=M,exports.MultiplyBlending=E,exports.CustomBlending=T,exports.AddEquation=S,exports.SubtractEquation=A,exports.ReverseSubtractEquation=L,exports.MinEquation=R,exports.MaxEquation=C,exports.ZeroFactor=P,exports.OneFactor=O,exports.SrcColorFactor=I,exports.OneMinusSrcColorFactor=N,exports.SrcAlphaFactor=D,exports.OneMinusSrcAlphaFactor=U,exports.DstAlphaFactor=B,exports.OneMinusDstAlphaFactor=F,exports.DstColorFactor=z,exports.OneMinusDstColorFactor=G,exports.SrcAlphaSaturateFactor=H,exports.NeverDepth=V,exports.AlwaysDepth=k,exports.LessDepth=j,exports.LessEqualDepth=W,exports.EqualDepth=X,exports.GreaterEqualDepth=q,exports.GreaterDepth=Y,exports.NotEqualDepth=J,exports.MultiplyOperation=Z,exports.MixOperation=Q,exports.AddOperation=K,exports.NoToneMapping=$,exports.LinearToneMapping=tt,exports.ReinhardToneMapping=et,exports.Uncharted2ToneMapping=rt,exports.CineonToneMapping=nt,exports.UVMapping=it,exports.CubeReflectionMapping=ot,exports.CubeRefractionMapping=at,exports.EquirectangularReflectionMapping=st,exports.EquirectangularRefractionMapping=ct,exports.SphericalReflectionMapping=ht,exports.CubeUVReflectionMapping=lt,exports.CubeUVRefractionMapping=ut,exports.RepeatWrapping=pt,exports.ClampToEdgeWrapping=dt,exports.MirroredRepeatWrapping=ft,exports.NearestFilter=mt,exports.NearestMipMapNearestFilter=gt,exports.NearestMipMapLinearFilter=vt,exports.LinearFilter=yt,exports.LinearMipMapNearestFilter=xt,exports.LinearMipMapLinearFilter=bt,exports.UnsignedByteType=_t,exports.ByteType=wt,exports.ShortType=Mt,exports.UnsignedShortType=Et,exports.IntType=Tt,exports.UnsignedIntType=St,exports.FloatType=At,exports.HalfFloatType=Lt,exports.UnsignedShort4444Type=Rt,exports.UnsignedShort5551Type=Ct,exports.UnsignedShort565Type=Pt,exports.UnsignedInt248Type=Ot,exports.AlphaFormat=It,exports.RGBFormat=Nt,exports.RGBAFormat=Dt,exports.LuminanceFormat=Ut,exports.LuminanceAlphaFormat=Bt,exports.RGBEFormat=Ft,exports.DepthFormat=zt,exports.DepthStencilFormat=Gt,exports.RGB_S3TC_DXT1_Format=Ht,exports.RGBA_S3TC_DXT1_Format=Vt,exports.RGBA_S3TC_DXT3_Format=kt,exports.RGBA_S3TC_DXT5_Format=jt,exports.RGB_PVRTC_4BPPV1_Format=Wt,exports.RGB_PVRTC_2BPPV1_Format=Xt,exports.RGBA_PVRTC_4BPPV1_Format=qt,exports.RGBA_PVRTC_2BPPV1_Format=Yt,exports.RGB_ETC1_Format=Jt,exports.RGBA_ASTC_4x4_Format=Zt,exports.RGBA_ASTC_5x4_Format=Qt,exports.RGBA_ASTC_5x5_Format=Kt,exports.RGBA_ASTC_6x5_Format=$t,exports.RGBA_ASTC_6x6_Format=te,exports.RGBA_ASTC_8x5_Format=ee,exports.RGBA_ASTC_8x6_Format=re,exports.RGBA_ASTC_8x8_Format=ne,exports.RGBA_ASTC_10x5_Format=ie,exports.RGBA_ASTC_10x6_Format=oe,exports.RGBA_ASTC_10x8_Format=ae,exports.RGBA_ASTC_10x10_Format=se,exports.RGBA_ASTC_12x10_Format=ce,exports.RGBA_ASTC_12x12_Format=he,exports.LoopOnce=le,exports.LoopRepeat=ue,exports.LoopPingPong=pe,exports.InterpolateDiscrete=de,exports.InterpolateLinear=fe,exports.InterpolateSmooth=me,exports.ZeroCurvatureEnding=ge,exports.ZeroSlopeEnding=ve,exports.WrapAroundEnding=ye,exports.TrianglesDrawMode=xe,exports.TriangleStripDrawMode=be,exports.TriangleFanDrawMode=_e,exports.LinearEncoding=we,exports.sRGBEncoding=Me,exports.GammaEncoding=Ee,exports.RGBEEncoding=Te,exports.LogLuvEncoding=Se,exports.RGBM7Encoding=Ae,exports.RGBM16Encoding=Le,exports.RGBDEncoding=Re,exports.BasicDepthPacking=Ce,exports.RGBADepthPacking=Pe,exports.TangentSpaceNormalMap=Oe,exports.ObjectSpaceNormalMap=Ie,exports.CubeGeometry=Ui,exports.Face4=eu,exports.LineStrip=ru,exports.LinePieces=nu,exports.MeshFaceMaterial=iu,exports.MultiMaterial=ou,exports.PointCloud=au,exports.Particle=su,exports.ParticleSystem=cu,exports.PointCloudMaterial=hu,exports.ParticleBasicMaterial=lu,exports.ParticleSystemMaterial=uu,exports.Vertex=pu,exports.DynamicBufferAttribute=du,exports.Int8Attribute=fu,exports.Uint8Attribute=mu,exports.Uint8ClampedAttribute=gu,exports.Int16Attribute=vu,exports.Uint16Attribute=yu,exports.Int32Attribute=xu,exports.Uint32Attribute=bu,exports.Float32Attribute=_u,exports.Float64Attribute=wu,exports.ClosedSplineCurve3=Mu,exports.SplineCurve3=Eu,exports.Spline=Tu,exports.AxisHelper=Su,exports.BoundingBoxHelper=Au,exports.EdgesHelper=Lu,exports.WireframeHelper=Ru,exports.XHRLoader=Cu,exports.BinaryTextureLoader=Pu,exports.GeometryUtils=Ou,exports.Projector=Iu,exports.CanvasRenderer=Nu,exports.SceneUtils=Du,exports.LensFlare=Uu;
},{}],"+aaM":[function(require,module,exports) {

},{}],"HLGr":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"CjBA":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(r){return e.exec(r).slice(1)};function s(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=t(s(e.split("/"),function(r){return!!r}),!n).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),n="/"===o(r,-1);return(r=t(s(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&n&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(s(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),o=Math.min(n.length,s.length),i=o,u=0;u<o;u++)if(n[u]!==s[u]){i=u;break}var l=[];for(u=i;u<n.length;u++)l.push("..");return(l=l.concat(s.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=n(r),e=t[0],s=t[1];return e||s?(s&&(s=s.substr(0,s.length-1)),e+s):"."},exports.basename=function(r,t){var e=n(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return n(r)[3]};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"HLGr"}],"Ez7E":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){for(var n,o=h(r),a=o[0],u=o[1],i=new e(c(r,a,u)),f=0,A=u>0?a-4:a,d=0;d<A;d+=4)n=t[r.charCodeAt(d)]<<18|t[r.charCodeAt(d+1)]<<12|t[r.charCodeAt(d+2)]<<6|t[r.charCodeAt(d+3)],i[f++]=n>>16&255,i[f++]=n>>8&255,i[f++]=255&n;return 2===u&&(n=t[r.charCodeAt(d)]<<2|t[r.charCodeAt(d+1)]>>4,i[f++]=255&n),1===u&&(n=t[r.charCodeAt(d)]<<10|t[r.charCodeAt(d+1)]<<4|t[r.charCodeAt(d+2)]>>2,i[f++]=n>>8&255,i[f++]=255&n),i}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"plTI":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"3HqZ":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"eKIq":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"Ez7E","ieee754":"plTI","isarray":"3HqZ","buffer":"eKIq"}],"7/vb":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"eKIq"}],"GkF8":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r=arguments[3],e=require("process");function o(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var n=require("safe-buffer").Buffer,t=r.crypto||r.msCrypto;function u(o,u){if(o>65536)throw new Error("requested too many random bytes");var s=new r.Uint8Array(o);o>0&&t.getRandomValues(s);var a=n.from(s.buffer);return"function"==typeof u?e.nextTick(function(){u(null,a)}):a}t&&t.getRandomValues?module.exports=u:module.exports=o;
},{"safe-buffer":"7/vb","process":"HLGr"}],"9q8B":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"h/3/":[function(require,module,exports) {
function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function t(e){return"function"==typeof e}function s(e){return"number"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}module.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},e.prototype.emit=function(e){var s,r,o,h,v,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((s=arguments[1])instanceof Error)throw s;var u=new Error('Uncaught, unspecified "error" event. ('+s+")");throw u.context=s,u}if(i(r=this._events[e]))return!1;if(t(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),r.apply(this,h)}else if(n(r))for(h=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,v=0;v<o;v++)l[v].apply(this,h);return!0},e.prototype.addListener=function(s,r){var o;if(!t(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",s,t(r.listener)?r.listener:r),this._events[s]?n(this._events[s])?this._events[s].push(r):this._events[s]=[this._events[s],r]:this._events[s]=r,n(this._events[s])&&!this._events[s].warned&&(o=i(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[s].length>o&&(this._events[s].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[s].length),"function"==typeof console.trace&&console.trace()),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,s){if(!t(s))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,s.apply(this,arguments))}return i.listener=s,this.on(e,i),this},e.prototype.removeListener=function(e,s){var i,r,o,h;if(!t(s))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(i=this._events[e]).length,r=-1,i===s||t(i.listener)&&i.listener===s)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,s);else if(n(i)){for(h=o;h-- >0;)if(i[h]===s||i[h].listener&&i[h].listener===s){r=h;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,s)}return this},e.prototype.removeAllListeners=function(e){var s,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(s in this._events)"removeListener"!==s&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events={},this}if(t(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},e.prototype.listeners=function(e){return this._events&&this._events[e]?t(this._events[e])?[this._events[e]]:this._events[e].slice():[]},e.prototype.listenerCount=function(e){if(this._events){var s=this._events[e];if(t(s))return 1;if(s)return s.length}return 0},e.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],"ac5A":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"HLGr"}],"lmqM":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"h/3/"}],"+0TZ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"eKIq"}],"9Zzr":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"7/vb","util":"+aaM"}],"LzEt":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"ac5A"}],"cv7s":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(r){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"hraH":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:n.nextTick;g.WritableState=y;var f=require("core-util-is");f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,d=t.Uint8Array||function(){};function l(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof d}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function R(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(R(n),t)x(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||B(e,t),t.pendingcb--,r(),T(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,d=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=l(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"ac5A","core-util-is":"+0TZ","inherits":"9q8B","util-deprecate":"cv7s","./internal/streams/stream":"lmqM","safe-buffer":"7/vb","./internal/streams/destroy":"LzEt","./_stream_duplex":"G9A7","process":"HLGr"}],"G9A7":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"ac5A","core-util-is":"+0TZ","inherits":"9q8B","./_stream_readable":"n+oJ","./_stream_writable":"hraH"}],"9rVa":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"7/vb"}],"n+oJ":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=require("core-util-is");p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"ac5A","isarray":"3HqZ","events":"h/3/","./internal/streams/stream":"lmqM","safe-buffer":"7/vb","core-util-is":"+0TZ","inherits":"9q8B","util":"+aaM","./internal/streams/BufferList":"9Zzr","./internal/streams/destroy":"LzEt","./_stream_duplex":"G9A7","string_decoder/":"9rVa","process":"HLGr"}],"/xjk":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"G9A7","core-util-is":"+0TZ","inherits":"9q8B"}],"tFUO":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"/xjk","core-util-is":"+0TZ","inherits":"9q8B"}],"+ljT":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"n+oJ","./lib/_stream_writable.js":"hraH","./lib/_stream_duplex.js":"G9A7","./lib/_stream_transform.js":"/xjk","./lib/_stream_passthrough.js":"tFUO"}],"zUQZ":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"hraH"}],"6/5a":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"G9A7"}],"kN6G":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"+ljT"}],"SGpk":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"+ljT"}],"Rhfi":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"h/3/","inherits":"9q8B","readable-stream/readable.js":"+ljT","readable-stream/writable.js":"zUQZ","readable-stream/duplex.js":"6/5a","readable-stream/transform.js":"kN6G","readable-stream/passthrough.js":"SGpk"}],"7k3r":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=require("stream").Transform,i=require("inherits");function r(e,i){if(!t.isBuffer(e)&&"string"!=typeof e)throw new TypeError(i+" must be a string or a buffer")}function o(i){e.call(this),this._block=t.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i(o,e),o.prototype._transform=function(t,e,i){var r=null;try{this.update(t,e)}catch(t){r=t}i(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(e,i){if(r(e,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(e)||(e=t.from(e,i));for(var o=this._block,s=0;this._blockOffset+e.length-s>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)o[f++]=e[s++];this._update(),this._blockOffset=0}for(;s<e.length;)o[this._blockOffset++]=e[s++];for(var n=0,h=8*e.length;h>0;++n)this._length[n]+=h,(h=this._length[n]/4294967296|0)>0&&(this._length[n]-=4294967296*h);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=o;
},{"safe-buffer":"7/vb","stream":"Rhfi","inherits":"9q8B"}],"RkNY":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,i=require("inherits"),s=require("hash-base"),h=new Array(16);function e(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function r(t,i){return t<<i|t>>>32-i}function _(t,i,s,h,e,_,n){return r(t+(i&s|~i&h)+e+_|0,n)+i|0}function n(t,i,s,h,e,_,n){return r(t+(i&h|s&~h)+e+_|0,n)+i|0}function o(t,i,s,h,e,_,n){return r(t+(i^s^h)+e+_|0,n)+i|0}function c(t,i,s,h,e,_,n){return r(t+(s^(i|~h))+e+_|0,n)+i|0}i(e,s),e.prototype._update=function(){for(var t=h,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);var s=this._a,e=this._b,r=this._c,f=this._d;s=_(s,e,r,f,t[0],3614090360,7),f=_(f,s,e,r,t[1],3905402710,12),r=_(r,f,s,e,t[2],606105819,17),e=_(e,r,f,s,t[3],3250441966,22),s=_(s,e,r,f,t[4],4118548399,7),f=_(f,s,e,r,t[5],1200080426,12),r=_(r,f,s,e,t[6],2821735955,17),e=_(e,r,f,s,t[7],4249261313,22),s=_(s,e,r,f,t[8],1770035416,7),f=_(f,s,e,r,t[9],2336552879,12),r=_(r,f,s,e,t[10],4294925233,17),e=_(e,r,f,s,t[11],2304563134,22),s=_(s,e,r,f,t[12],1804603682,7),f=_(f,s,e,r,t[13],4254626195,12),r=_(r,f,s,e,t[14],2792965006,17),s=n(s,e=_(e,r,f,s,t[15],1236535329,22),r,f,t[1],4129170786,5),f=n(f,s,e,r,t[6],3225465664,9),r=n(r,f,s,e,t[11],643717713,14),e=n(e,r,f,s,t[0],3921069994,20),s=n(s,e,r,f,t[5],3593408605,5),f=n(f,s,e,r,t[10],38016083,9),r=n(r,f,s,e,t[15],3634488961,14),e=n(e,r,f,s,t[4],3889429448,20),s=n(s,e,r,f,t[9],568446438,5),f=n(f,s,e,r,t[14],3275163606,9),r=n(r,f,s,e,t[3],4107603335,14),e=n(e,r,f,s,t[8],1163531501,20),s=n(s,e,r,f,t[13],2850285829,5),f=n(f,s,e,r,t[2],4243563512,9),r=n(r,f,s,e,t[7],1735328473,14),s=o(s,e=n(e,r,f,s,t[12],2368359562,20),r,f,t[5],4294588738,4),f=o(f,s,e,r,t[8],2272392833,11),r=o(r,f,s,e,t[11],1839030562,16),e=o(e,r,f,s,t[14],4259657740,23),s=o(s,e,r,f,t[1],2763975236,4),f=o(f,s,e,r,t[4],1272893353,11),r=o(r,f,s,e,t[7],4139469664,16),e=o(e,r,f,s,t[10],3200236656,23),s=o(s,e,r,f,t[13],681279174,4),f=o(f,s,e,r,t[0],3936430074,11),r=o(r,f,s,e,t[3],3572445317,16),e=o(e,r,f,s,t[6],76029189,23),s=o(s,e,r,f,t[9],3654602809,4),f=o(f,s,e,r,t[12],3873151461,11),r=o(r,f,s,e,t[15],530742520,16),s=c(s,e=o(e,r,f,s,t[2],3299628645,23),r,f,t[0],4096336452,6),f=c(f,s,e,r,t[7],1126891415,10),r=c(r,f,s,e,t[14],2878612391,15),e=c(e,r,f,s,t[5],4237533241,21),s=c(s,e,r,f,t[12],1700485571,6),f=c(f,s,e,r,t[3],2399980690,10),r=c(r,f,s,e,t[10],4293915773,15),e=c(e,r,f,s,t[1],2240044497,21),s=c(s,e,r,f,t[8],1873313359,6),f=c(f,s,e,r,t[15],4264355552,10),r=c(r,f,s,e,t[6],2734768916,15),e=c(e,r,f,s,t[13],1309151649,21),s=c(s,e,r,f,t[4],4149444226,6),f=c(f,s,e,r,t[11],3174756917,10),r=c(r,f,s,e,t[2],718787259,15),e=c(e,r,f,s,t[9],3951481745,21),this._a=this._a+s|0,this._b=this._b+e|0,this._c=this._c+r|0,this._d=this._d+f|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=new t(16);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i},module.exports=e;
},{"inherits":"9q8B","hash-base":"7k3r","buffer":"eKIq"}],"NbrI":[function(require,module,exports) {

"use strict";var t=require("buffer").Buffer,i=require("inherits"),s=require("hash-base"),h=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],r=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],n=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0];function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function u(t,i){return t<<i|t>>>32-i}function l(t,i,s,h,e,_,r,n){return u(t+(i^s^h)+_+r|0,n)+e|0}function a(t,i,s,h,e,_,r,n){return u(t+(i&s|~i&h)+_+r|0,n)+e|0}function b(t,i,s,h,e,_,r,n){return u(t+((i|~s)^h)+_+r|0,n)+e|0}function d(t,i,s,h,e,_,r,n){return u(t+(i&h|s&~h)+_+r|0,n)+e|0}function k(t,i,s,h,e,_,r,n){return u(t+(i^(s|~h))+_+r|0,n)+e|0}i(f,s),f.prototype._update=function(){for(var t=h,i=0;i<16;++i)t[i]=this._block.readInt32LE(4*i);for(var s=0|this._a,f=0|this._b,w=0|this._c,p=0|this._d,E=0|this._e,I=0|this._a,L=0|this._b,v=0|this._c,O=0|this._d,g=0|this._e,q=0;q<80;q+=1){var y,U;q<16?(y=l(s,f,w,p,E,t[e[q]],c[0],r[q]),U=k(I,L,v,O,g,t[_[q]],o[0],n[q])):q<32?(y=a(s,f,w,p,E,t[e[q]],c[1],r[q]),U=d(I,L,v,O,g,t[_[q]],o[1],n[q])):q<48?(y=b(s,f,w,p,E,t[e[q]],c[2],r[q]),U=b(I,L,v,O,g,t[_[q]],o[2],n[q])):q<64?(y=d(s,f,w,p,E,t[e[q]],c[3],r[q]),U=a(I,L,v,O,g,t[_[q]],o[3],n[q])):(y=k(s,f,w,p,E,t[e[q]],c[4],r[q]),U=l(I,L,v,O,g,t[_[q]],o[4],n[q])),s=E,E=p,p=u(w,10),w=f,f=y,I=g,g=O,O=u(v,10),v=L,L=U}var m=this._b+w+O|0;this._b=this._c+p+g|0,this._c=this._d+E+I|0,this._d=this._e+s+L|0,this._e=this._a+f+v|0,this._a=m},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=t.alloc?t.alloc(20):new t(20);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i.writeInt32LE(this._e,16),i},module.exports=f;
},{"buffer":"eKIq","inherits":"9q8B","hash-base":"7k3r"}],"d5fV":[function(require,module,exports) {

var t=require("safe-buffer").Buffer;function i(i,e){this._block=t.alloc(i),this._finalSize=e,this._blockSize=i,this._len=0}i.prototype.update=function(i,e){"string"==typeof i&&(e=e||"utf8",i=t.from(i,e));for(var s=this._block,o=this._blockSize,l=i.length,h=this._len,r=0;r<l;){for(var _=h%o,n=Math.min(l-r,o-_),c=0;c<n;c++)s[_+c]=i[r+c];r+=n,(h+=n)%o==0&&this._update(s)}return this._len+=l,this},i.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var s=(4294967295&e)>>>0,o=(e-s)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var l=this._hash();return t?l.toString(t):l},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=i;
},{"safe-buffer":"7/vb"}],"CPYE":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);function e(){this.init(),this._w=h,i.call(this,64,56)}function n(t){return t<<5|t>>>27}function _(t){return t<<30|t>>>2}function a(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(e,i),e.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},e.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,e=0|this._c,o=0|this._d,u=0|this._e,f=0;f<16;++f)i[f]=t.readInt32BE(4*f);for(;f<80;++f)i[f]=i[f-3]^i[f-8]^i[f-14]^i[f-16];for(var c=0;c<80;++c){var d=~~(c/20),p=n(r)+a(d,h,e,o)+u+i[c]+s[d]|0;u=o,o=e,e=_(h),h=r,r=p}this._a=r+this._a|0,this._b=h+this._b|0,this._c=e+this._c|0,this._d=o+this._d|0,this._e=u+this._e|0},e.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=e;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"p+dT":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),r=require("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function h(){this.init(),this._w=e,i.call(this,64,56)}function n(t){return t<<1|t>>>31}function _(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function o(t,i,r,s){return 0===t?i&r|~i&s:2===t?i&r|i&s|r&s:i^r^s}t(h,i),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(t){for(var i=this._w,r=0|this._a,e=0|this._b,h=0|this._c,a=0|this._d,f=0|this._e,c=0;c<16;++c)i[c]=t.readInt32BE(4*c);for(;c<80;++c)i[c]=n(i[c-3]^i[c-8]^i[c-14]^i[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),w=_(r)+o(p,e,h,a)+f+i[d]+s[p]|0;f=a,a=h,h=u(e),e=r,r=w}this._a=r+this._a|0,this._b=e+this._b|0,this._c=h+this._c|0,this._d=a+this._d|0,this._e=f+this._e|0},h.prototype._hash=function(){var t=r.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=h;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"WoeF":[function(require,module,exports) {

var t=require("inherits"),i=require("./hash"),h=require("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function _(){this.init(),this._w=r,i.call(this,64,56)}function n(t,i,h){return h^t&(i^h)}function e(t,i,h){return t&i|h&(t|i)}function u(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function o(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function a(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}t(_,i),_.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},_.prototype._update=function(t){for(var i=this._w,h=0|this._a,r=0|this._b,_=0|this._c,c=0|this._d,w=0|this._e,B=0|this._f,E=0|this._g,I=0|this._h,d=0;d<16;++d)i[d]=t.readInt32BE(4*d);for(;d<64;++d)i[d]=a(i[d-2])+i[d-7]+o(i[d-15])+i[d-16]|0;for(var p=0;p<64;++p){var b=I+f(w)+n(w,B,E)+s[p]+i[p]|0,g=u(h)+e(h,r,_)|0;I=E,E=B,B=w,w=c+b|0,c=_,_=r,r=h,h=b+g|0}this._a=h+this._a|0,this._b=r+this._b|0,this._c=_+this._c|0,this._d=c+this._d|0,this._e=w+this._e|0,this._f=B+this._f|0,this._g=E+this._g|0,this._h=I+this._h|0},_.prototype._hash=function(){var t=h.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=_;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"pKck":[function(require,module,exports) {

var t=require("inherits"),i=require("./sha256"),e=require("./hash"),r=require("safe-buffer").Buffer,h=new Array(64);function s(){this.init(),this._w=h,e.call(this,64,56)}t(s,i),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var t=r.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=s;
},{"inherits":"9q8B","./sha256":"WoeF","./hash":"d5fV","safe-buffer":"7/vb"}],"mQrp":[function(require,module,exports) {

var h=require("inherits"),t=require("./hash"),i=require("safe-buffer").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_=new Array(160);function l(){this.init(),this._w=_,t.call(this,128,112)}function r(h,t,i){return i^h&(t^i)}function n(h,t,i){return h&t|i&(h|t)}function e(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function f(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function u(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function a(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function c(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function o(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function d(h,t){return h>>>0<t>>>0?1:0}h(l,t),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(h){for(var t=this._w,i=0|this._ah,_=0|this._bh,l=0|this._ch,b=0|this._dh,g=0|this._eh,p=0|this._fh,v=0|this._gh,w=0|this._hh,B=0|this._al,y=0|this._bl,E=0|this._cl,I=0|this._dl,q=0|this._el,m=0|this._fl,x=0|this._gl,A=0|this._hl,U=0;U<32;U+=2)t[U]=h.readInt32BE(4*U),t[U+1]=h.readInt32BE(4*U+4);for(;U<160;U+=2){var j=t[U-30],k=t[U-30+1],z=u(j,k),C=a(k,j),D=c(j=t[U-4],k=t[U-4+1]),F=o(k,j),G=t[U-14],H=t[U-14+1],J=t[U-32],K=t[U-32+1],L=C+H|0,M=z+G+d(L,C)|0;M=(M=M+D+d(L=L+F|0,F)|0)+J+d(L=L+K|0,K)|0,t[U]=M,t[U+1]=L}for(var N=0;N<160;N+=2){M=t[N],L=t[N+1];var O=n(i,_,l),P=n(B,y,E),Q=e(i,B),R=e(B,i),S=f(g,q),T=f(q,g),V=s[N],W=s[N+1],X=r(g,p,v),Y=r(q,m,x),Z=A+T|0,$=w+S+d(Z,A)|0;$=($=($=$+X+d(Z=Z+Y|0,Y)|0)+V+d(Z=Z+W|0,W)|0)+M+d(Z=Z+L|0,L)|0;var hh=R+P|0,th=Q+O+d(hh,R)|0;w=v,A=x,v=p,x=m,p=g,m=q,g=b+$+d(q=I+Z|0,I)|0,b=l,I=E,l=_,E=y,_=i,y=B,i=$+th+d(B=Z+hh|0,Z)|0}this._al=this._al+B|0,this._bl=this._bl+y|0,this._cl=this._cl+E|0,this._dl=this._dl+I|0,this._el=this._el+q|0,this._fl=this._fl+m|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+i+d(this._al,B)|0,this._bh=this._bh+_+d(this._bl,y)|0,this._ch=this._ch+l+d(this._cl,E)|0,this._dh=this._dh+b+d(this._dl,I)|0,this._eh=this._eh+g+d(this._el,q)|0,this._fh=this._fh+p+d(this._fl,m)|0,this._gh=this._gh+v+d(this._gl,x)|0,this._hh=this._hh+w+d(this._hl,A)|0},l.prototype._hash=function(){var h=i.allocUnsafe(64);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),h},module.exports=l;
},{"inherits":"9q8B","./hash":"d5fV","safe-buffer":"7/vb"}],"t3j3":[function(require,module,exports) {

var h=require("inherits"),t=require("./sha512"),i=require("./hash"),s=require("safe-buffer").Buffer,_=new Array(160);function e(){this.init(),this._w=_,i.call(this,128,112)}h(e,t),e.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},e.prototype._hash=function(){var h=s.allocUnsafe(48);function t(t,i,s){h.writeInt32BE(t,s),h.writeInt32BE(i,s+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),h},module.exports=e;
},{"inherits":"9q8B","./sha512":"mQrp","./hash":"d5fV","safe-buffer":"7/vb"}],"xNS+":[function(require,module,exports) {
var e=module.exports=function(r){r=r.toLowerCase();var s=e[r];if(!s)throw new Error(r+" is not supported (we accept pull requests)");return new s};e.sha=require("./sha"),e.sha1=require("./sha1"),e.sha224=require("./sha224"),e.sha256=require("./sha256"),e.sha384=require("./sha384"),e.sha512=require("./sha512");
},{"./sha":"CPYE","./sha1":"p+dT","./sha224":"pKck","./sha256":"WoeF","./sha384":"t3j3","./sha512":"mQrp"}],"+b7B":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,i=require("stream").Transform,r=require("string_decoder").StringDecoder,e=require("inherits");function n(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e(n,i),n.prototype.update=function(i,r,e){"string"==typeof i&&(i=t.from(i,r));var n=this._update(i);return this.hashMode?this:(e&&(n=this._toString(n,e)),n)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(t,i,r){var e;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){e=t}finally{r(e)}},n.prototype._flush=function(t){var i;try{this.push(this.__final())}catch(t){i=t}t(i)},n.prototype._finalOrDigest=function(i){var r=this.__final()||t.alloc(0);return i&&(r=this._toString(r,i,!0)),r},n.prototype._toString=function(t,i,e){if(this._decoder||(this._decoder=new r(i),this._encoding=i),this._encoding!==i)throw new Error("can't switch encodings");var n=this._decoder.write(t);return e&&(n+=this._decoder.end()),n},module.exports=n;
},{"safe-buffer":"7/vb","stream":"Rhfi","string_decoder":"9rVa","inherits":"9q8B"}],"Uj4C":[function(require,module,exports) {
"use strict";var e=require("inherits"),r=require("md5.js"),t=require("ripemd160"),i=require("sha.js"),s=require("cipher-base");function n(e){s.call(this,"digest"),this._hash=e}e(n,s),n.prototype._update=function(e){this._hash.update(e)},n.prototype._final=function(){return this._hash.digest()},module.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new t:new n(i(e))};
},{"inherits":"9q8B","md5.js":"RkNY","ripemd160":"NbrI","sha.js":"xNS+","cipher-base":"+b7B"}],"nAwb":[function(require,module,exports) {

"use strict";var t=require("inherits"),e=require("safe-buffer").Buffer,a=require("cipher-base"),i=e.alloc(128),s=64;function h(t,h){a.call(this,"digest"),"string"==typeof h&&(h=e.from(h)),this._alg=t,this._key=h,h.length>s?h=t(h):h.length<s&&(h=e.concat([h,i],s));for(var r=this._ipad=e.allocUnsafe(s),o=this._opad=e.allocUnsafe(s),n=0;n<s;n++)r[n]=54^h[n],o[n]=92^h[n];this._hash=[r]}t(h,a),h.prototype._update=function(t){this._hash.push(t)},h.prototype._final=function(){var t=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,t]))},module.exports=h;
},{"inherits":"9q8B","safe-buffer":"7/vb","cipher-base":"+b7B"}],"c1Dd":[function(require,module,exports) {
var e=require("md5.js");module.exports=function(r){return(new e).update(r).digest()};
},{"md5.js":"RkNY"}],"ki/q":[function(require,module,exports) {

"use strict";var e=require("inherits"),t=require("./legacy"),r=require("cipher-base"),a=require("safe-buffer").Buffer,i=require("create-hash/md5"),s=require("ripemd160"),h=require("sha.js"),n=a.alloc(128);function d(e,t){r.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new s:h(e)).update(t).digest():t.length<i&&(t=a.concat([t,n],i));for(var d=this._ipad=a.allocUnsafe(i),u=this._opad=a.allocUnsafe(i),o=0;o<i;o++)d[o]=54^t[o],u[o]=92^t[o];this._hash="rmd160"===e?new s:h(e),this._hash.update(d)}e(d,r),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:h(this._alg)).update(this._opad).update(e).digest()},module.exports=function(e,r){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",r):"md5"===e?new t(i,r):new d(e,r)};
},{"inherits":"9q8B","./legacy":"nAwb","cipher-base":"+b7B","safe-buffer":"7/vb","create-hash/md5":"c1Dd","ripemd160":"NbrI","sha.js":"xNS+"}],"sXju":[function(require,module,exports) {
module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};
},{}],"e+N1":[function(require,module,exports) {
module.exports=require("./browser/algorithms.json");
},{"./browser/algorithms.json":"sXju"}],"/eyl":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=Math.pow(2,30)-1;function o(e,o){if("string"!=typeof e&&!r.isBuffer(e))throw new TypeError(o+" must be a buffer or string")}module.exports=function(r,t,n,f){if(o(r,"Password"),o(t,"Salt"),"number"!=typeof n)throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if("number"!=typeof f)throw new TypeError("Key length not a number");if(f<0||f>e||f!=f)throw new TypeError("Bad key length")};
},{"buffer":"eKIq"}],"w/zF":[function(require,module,exports) {
var process = require("process");
var e,r=require("process");if(r.browser)e="utf-8";else{var s=parseInt(r.version.split(".")[0].slice(1),10);e=s>=6?"utf-8":"binary"}module.exports=e;
},{"process":"HLGr"}],"MPMQ":[function(require,module,exports) {

var e=require("create-hash/md5"),r=require("ripemd160"),a=require("sha.js"),i=require("./precondition"),s=require("./default-encoding"),t=require("safe-buffer").Buffer,h=t.alloc(128),o={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function n(e,r,a){var i=f(e),s="sha512"===e||"sha384"===e?128:64;r.length>s?r=i(r):r.length<s&&(r=t.concat([r,h],s));for(var n=t.allocUnsafe(s+o[e]),c=t.allocUnsafe(s+o[e]),l=0;l<s;l++)n[l]=54^r[l],c[l]=92^r[l];var u=t.allocUnsafe(s+a+4);n.copy(u,0,0,s),this.ipad1=u,this.ipad2=n,this.opad=c,this.alg=e,this.blocksize=s,this.hash=i,this.size=o[e]}function f(i){return"rmd160"===i||"ripemd160"===i?r:"md5"===i?e:function(e){return a(i).update(e).digest()}}function c(e,r,a,h,f){i(e,r,a,h),t.isBuffer(e)||(e=t.from(e,s)),t.isBuffer(r)||(r=t.from(r,s));var c=new n(f=f||"sha1",e,r.length),l=t.allocUnsafe(h),u=t.allocUnsafe(r.length+4);r.copy(u,0,0,r.length);for(var d=0,p=o[f],m=Math.ceil(h/p),g=1;g<=m;g++){u.writeUInt32BE(g,r.length);for(var v=c.run(u,c.ipad1),q=v,y=1;y<a;y++){q=c.run(q,c.ipad2);for(var U=0;U<p;U++)v[U]^=q[U]}v.copy(l,d),d+=p}return l}n.prototype.run=function(e,r){return e.copy(r,this.blocksize),this.hash(r).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=c;
},{"create-hash/md5":"c1Dd","ripemd160":"NbrI","sha.js":"xNS+","./precondition":"/eyl","./default-encoding":"w/zF","safe-buffer":"7/vb"}],"zoZe":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r,e=arguments[3],n=require("process"),t=require("./precondition"),o=require("./default-encoding"),i=require("./sync"),u=require("safe-buffer").Buffer,f=e.crypto&&e.crypto.subtle,s={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},c=[];function a(n){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==c[n])return c[n];var t=h(r=r||u.alloc(8),r,10,128,n).then(function(){return!0}).catch(function(){return!1});return c[n]=t,t}function h(r,e,n,t,o){return f.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]).then(function(r){return f.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:o}},r,t<<3)}).then(function(r){return u.from(r)})}function l(r,e){r.then(function(r){n.nextTick(function(){e(null,r)})},function(r){n.nextTick(function(){e(r)})})}module.exports=function(r,f,c,p,m,d){"function"==typeof m&&(d=m,m=void 0);var v=s[(m=m||"sha1").toLowerCase()];if(!v||"function"!=typeof e.Promise)return n.nextTick(function(){var e;try{e=i(r,f,c,p,m)}catch(r){return d(r)}d(null,e)});if(t(r,f,c,p),"function"!=typeof d)throw new Error("No callback provided to pbkdf2");u.isBuffer(r)||(r=u.from(r,o)),u.isBuffer(f)||(f=u.from(f,o)),l(a(v).then(function(e){return e?h(r,f,c,p,v):i(r,f,c,p,m)}),d)};
},{"./precondition":"/eyl","./default-encoding":"w/zF","./sync":"MPMQ","safe-buffer":"7/vb","process":"HLGr"}],"1oZ5":[function(require,module,exports) {
exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync");
},{"./lib/async":"zoZe","./lib/sync":"MPMQ"}],"7Kpu":[function(require,module,exports) {
"use strict";exports.readUInt32BE=function(r,o){return(r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o])>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,f){for(var n=0,e=0,u=6;u>=0;u-=2){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>>i+u&1}for(u=6;u>=0;u-=2){for(i=1;i<=25;i+=8)e<<=1,e|=o>>>i+u&1;for(i=1;i<=25;i+=8)e<<=1,e|=r>>>i+u&1}t[f+0]=n>>>0,t[f+1]=e>>>0},exports.rip=function(r,o,t,f){for(var n=0,e=0,u=0;u<4;u++)for(var i=24;i>=0;i-=8)n<<=1,n|=o>>>i+u&1,n<<=1,n|=r>>>i+u&1;for(u=4;u<8;u++)for(i=24;i>=0;i-=8)e<<=1,e|=o>>>i+u&1,e<<=1,e|=r>>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.pc1=function(r,o,t,f){for(var n=0,e=0,u=7;u>=5;u--){for(var i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(i=0;i<=24;i+=8)n<<=1,n|=r>>i+u&1}for(i=0;i<=24;i+=8)n<<=1,n|=o>>i+u&1;for(u=1;u<=3;u++){for(i=0;i<=24;i+=8)e<<=1,e|=o>>i+u&1;for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1}for(i=0;i<=24;i+=8)e<<=1,e|=r>>i+u&1;t[f+0]=n>>>0,t[f+1]=e>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(o,t,f,n){for(var e=0,u=0,i=r.length>>>1,p=0;p<i;p++)e<<=1,e|=o>>>r[p]&1;for(p=i;p<r.length;p++)u<<=1,u|=t>>>r[p]&1;f[n+0]=e>>>0,f[n+1]=u>>>0},exports.expand=function(r,o,t){var f=0,n=0;f=(1&r)<<5|r>>>27;for(var e=23;e>=15;e-=4)f<<=6,f|=r>>>e&63;for(e=11;e>=3;e-=4)n|=r>>>e&63,n<<=6;n|=(31&r)<<1|r>>>31,o[t+0]=f>>>0,o[t+1]=n>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,t){for(var f=0,n=0;n<4;n++){f<<=4,f|=o[64*n+(r>>>18-6*n&63)]}for(n=0;n<4;n++){f<<=4,f|=o[256+64*n+(t>>>18-6*n&63)]}return f>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,f=0;f<t.length;f++)o<<=1,o|=r>>>t[f]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var f=r.toString(2);f.length<o;)f="0"+f;for(var n=[],e=0;e<o;e+=t)n.push(f.slice(e,e+t));return n.join(" ")};
},{}],"iHaQ":[function(require,module,exports) {
function r(r,o){if(!r)throw new Error(o||"Assertion failed")}module.exports=r,r.equal=function(r,o,e){if(r!=o)throw new Error(e||"Assertion failed: "+r+" != "+o)};
},{}],"F9qQ":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert");function f(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}module.exports=f,f.prototype._init=function(){},f.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},f.prototype._buffer=function(t,f){for(var e=Math.min(this.buffer.length-this.bufferOff,t.length-f),r=0;r<e;r++)this.buffer[this.bufferOff+r]=t[f+r];return this.bufferOff+=e,e},f.prototype._flushBuffer=function(t,f){return this._update(this.buffer,0,t,f),this.bufferOff=0,this.blockSize},f.prototype._updateEncrypt=function(t){var f=0,e=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(f+=this._buffer(t,f),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(i,e)));for(var h=t.length-(t.length-f)%this.blockSize;f<h;f+=this.blockSize)this._update(t,f,i,e),e+=this.blockSize;for(;f<t.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=t[f];return i},f.prototype._updateDecrypt=function(t){for(var f=0,e=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)f+=this._buffer(t,f),e+=this._flushBuffer(i,e);return f+=this._buffer(t,f),i},f.prototype.final=function(t){var f,e;return t&&(f=this.update(t)),e="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),f?f.concat(e):e},f.prototype._pad=function(t,f){if(0===f)return!1;for(;f<t.length;)t[f++]=0;return!0},f.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},f.prototype._unpad=function(t){return t},f.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)};
},{"minimalistic-assert":"iHaQ"}],"w49A":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),e=require("inherits"),r=require("../des"),n=r.utils,p=r.Cipher;function i(){this.tmp=new Array(2),this.keys=null}function s(t){p.call(this,t);var e=new i;this._desState=e,this.deriveKeys(e,t.key)}e(s,p),module.exports=s,s.create=function(t){return new s(t)};var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(e,r){e.keys=new Array(32),t.equal(r.length,this.blockSize,"Invalid key length");var p=n.readUInt32BE(r,0),i=n.readUInt32BE(r,4);n.pc1(p,i,e.tmp,0),p=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=a[s>>>1];p=n.r28shl(p,o),i=n.r28shl(i,o),n.pc2(p,i,e.keys,s)}},s.prototype._update=function(t,e,r,p){var i=this._desState,s=n.readUInt32BE(t,e),a=n.readUInt32BE(t,e+4);n.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],n.writeUInt32BE(r,s,p),n.writeUInt32BE(r,a,p+4)},s.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},s.prototype._unpad=function(e){for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)t.equal(e[n],r);return e.slice(0,e.length-r)},s.prototype._encrypt=function(t,e,r,p,i){for(var s=e,a=r,o=0;o<t.keys.length;o+=2){var u=t.keys[o],y=t.keys[o+1];n.expand(a,t.tmp,0),u^=t.tmp[0],y^=t.tmp[1];var h=n.substitute(u,y),l=a;a=(s^n.permute(h))>>>0,s=l}n.rip(a,s,p,i)},s.prototype._decrypt=function(t,e,r,p,i){for(var s=r,a=e,o=t.keys.length-2;o>=0;o-=2){var u=t.keys[o],y=t.keys[o+1];n.expand(s,t.tmp,0),u^=t.tmp[0],y^=t.tmp[1];var h=n.substitute(u,y),l=s;s=(a^n.permute(h))>>>0,a=l}n.rip(s,a,p,i)};
},{"minimalistic-assert":"iHaQ","inherits":"9q8B","../des":"LXRX"}],"0mQv":[function(require,module,exports) {
"use strict";var t=require("minimalistic-assert"),i=require("inherits"),e={};function r(i){t.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=i[e]}function n(t){function r(i){t.call(this,i),this._cbcInit()}i(r,t);for(var n=Object.keys(e),s=0;s<n.length;s++){var c=n[s];r.prototype[c]=e[c]}return r.create=function(t){return new r(t)},r}exports.instantiate=n,e._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},e._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,c=n.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)c[o]^=t[i+o];s._update.call(this,c,0,e,r);for(o=0;o<this.blockSize;o++)c[o]=e[r+o]}else{s._update.call(this,t,i,e,r);for(o=0;o<this.blockSize;o++)e[r+o]^=c[o];for(o=0;o<this.blockSize;o++)c[o]=t[i+o]}};
},{"minimalistic-assert":"iHaQ","inherits":"9q8B"}],"bwIV":[function(require,module,exports) {
"use strict";var e=require("minimalistic-assert"),t=require("inherits"),r=require("../des"),p=r.Cipher,i=r.DES;function c(t,r){e.equal(r.length,24,"Invalid key length");var p=r.slice(0,8),c=r.slice(8,16),y=r.slice(16,24);this.ciphers="encrypt"===t?[i.create({type:"encrypt",key:p}),i.create({type:"decrypt",key:c}),i.create({type:"encrypt",key:y})]:[i.create({type:"decrypt",key:y}),i.create({type:"encrypt",key:c}),i.create({type:"decrypt",key:p})]}function y(e){p.call(this,e);var t=new c(this.type,this.options.key);this._edeState=t}t(y,p),module.exports=y,y.create=function(e){return new y(e)},y.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},y.prototype._pad=i.prototype._pad,y.prototype._unpad=i.prototype._unpad;
},{"minimalistic-assert":"iHaQ","inherits":"9q8B","../des":"LXRX"}],"LXRX":[function(require,module,exports) {
"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede");
},{"./des/utils":"7Kpu","./des/cipher":"F9qQ","./des/des":"w49A","./des/cbc":"0mQv","./des/ede":"bwIV"}],"cONZ":[function(require,module,exports) {

var e=require("cipher-base"),r=require("des.js"),t=require("inherits"),s=require("safe-buffer").Buffer,d={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function i(r){e.call(this);var t,i=r.mode.toLowerCase(),c=d[i];t=r.decrypt?"decrypt":"encrypt";var a=r.key;s.isBuffer(a)||(a=s.from(a)),"des-ede"!==i&&"des-ede-cbc"!==i||(a=s.concat([a,a.slice(0,8)]));var n=r.iv;s.isBuffer(n)||(n=s.from(n)),this._des=c.create({key:a,iv:n,type:t})}d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],module.exports=i,t(i,e),i.prototype._update=function(e){return s.from(this._des.update(e))},i.prototype._final=function(){return s.from(this._des.final())};
},{"cipher-base":"+b7B","des.js":"LXRX","inherits":"9q8B","safe-buffer":"7/vb"}],"LsLc":[function(require,module,exports) {
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],"m3IW":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;module.exports=function(r,n){for(var f=Math.min(r.length,n.length),t=new e(f),u=0;u<f;++u)t[u]=r[u]^n[u];return t};
},{"buffer":"eKIq"}],"150a":[function(require,module,exports) {
var r=require("buffer-xor");exports.encrypt=function(e,p){var c=r(p,e._prev);return e._prev=e._cipher.encryptBlock(c),e._prev},exports.decrypt=function(e,p){var c=e._prev;e._prev=p;var t=e._cipher.decryptBlock(p);return r(t,c)};
},{"buffer-xor":"m3IW"}],"S8R6":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,c=require("buffer-xor");function r(r,a,n){var t=a.length,h=c(a,r._cache);return r._cache=r._cache.slice(t),r._prev=e.concat([r._prev,n?a:h]),h}exports.encrypt=function(c,a,n){for(var t,h=e.allocUnsafe(0);a.length;){if(0===c._cache.length&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=e.allocUnsafe(0)),!(c._cache.length<=a.length)){h=e.concat([h,r(c,a,n)]);break}t=c._cache.length,h=e.concat([h,r(c,a.slice(0,t),n)]),a=a.slice(t)}return h};
},{"safe-buffer":"7/vb","buffer-xor":"m3IW"}],"1xqm":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(e,n,c){var f=e._cipher.encryptBlock(e._prev)[0]^n;return e._prev=r.concat([e._prev.slice(1),r.from([c?n:f])]),f}exports.encrypt=function(n,c,f){for(var t=c.length,o=r.allocUnsafe(t),a=-1;++a<t;)o[a]=e(n,c[a],f);return o};
},{"safe-buffer":"7/vb"}],"yWOL":[function(require,module,exports) {

var r=require("safe-buffer").Buffer;function e(r,e,f){for(var t,o,c=-1,a=0;++c<8;)t=e&1<<7-c?128:0,a+=(128&(o=r._cipher.encryptBlock(r._prev)[0]^t))>>c%8,r._prev=n(r._prev,f?t:o);return a}function n(e,n){var f=e.length,t=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([n])]);++t<f;)o[t]=e[t]<<1|e[t+1]>>7;return o}exports.encrypt=function(n,f,t){for(var o=f.length,c=r.allocUnsafe(o),a=-1;++a<o;)c[a]=e(n,f[a],t);return c};
},{"safe-buffer":"7/vb"}],"aZXJ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,c=require("buffer-xor");function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}exports.encrypt=function(n,t){for(;n._cache.length<t.length;)n._cache=e.concat([n._cache,r(n)]);var h=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),c(t,h)};
},{"buffer-xor":"m3IW","buffer":"eKIq"}],"EZQx":[function(require,module,exports) {
function t(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}}module.exports=t;
},{}],"qsTk":[function(require,module,exports) {

var e=require("buffer-xor"),c=require("safe-buffer").Buffer,r=require("../incr32");function a(e){var c=e._cipher.encryptBlockRaw(e._prev);return r(e._prev),c}var t=16;exports.encrypt=function(r,n){var h=Math.ceil(n.length/t),i=r._cache.length;r._cache=c.concat([r._cache,c.allocUnsafe(h*t)]);for(var _=0;_<h;_++){var f=a(r),l=i+_*t;r._cache.writeUInt32BE(f[0],l+0),r._cache.writeUInt32BE(f[1],l+4),r._cache.writeUInt32BE(f[2],l+8),r._cache.writeUInt32BE(f[3],l+12)}var u=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),e(n,u)};
},{"buffer-xor":"m3IW","safe-buffer":"7/vb","../incr32":"EZQx"}],"UQlp":[function(require,module,exports) {
module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};
},{}],"CFOH":[function(require,module,exports) {
var r={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},e=require("./list.json");for(var i in e)e[i].module=r[e[i].mode];module.exports=e;
},{"./ecb":"LsLc","./cbc":"150a","./cfb":"S8R6","./cfb8":"1xqm","./cfb1":"yWOL","./ofb":"aZXJ","./ctr":"qsTk","./list.json":"UQlp"}],"XFXp":[function(require,module,exports) {

var e=require("safe-buffer").Buffer;function t(t){e.isBuffer(t)||(t=e.from(t));for(var r=t.length/4|0,n=new Array(r),o=0;o<r;o++)n[o]=t.readUInt32BE(4*o);return n}function r(e){for(;0<e.length;e++)e[0]=0}function n(e,t,r,n,o){for(var i,B,S,u,c=r[0],_=r[1],f=r[2],a=r[3],s=e[0]^t[0],y=e[1]^t[1],I=e[2]^t[2],X=e[3]^t[3],h=4,l=1;l<o;l++)i=c[s>>>24]^_[y>>>16&255]^f[I>>>8&255]^a[255&X]^t[h++],B=c[y>>>24]^_[I>>>16&255]^f[X>>>8&255]^a[255&s]^t[h++],S=c[I>>>24]^_[X>>>16&255]^f[s>>>8&255]^a[255&y]^t[h++],u=c[X>>>24]^_[s>>>16&255]^f[y>>>8&255]^a[255&I]^t[h++],s=i,y=B,I=S,X=u;return i=(n[s>>>24]<<24|n[y>>>16&255]<<16|n[I>>>8&255]<<8|n[255&X])^t[h++],B=(n[y>>>24]<<24|n[I>>>16&255]<<16|n[X>>>8&255]<<8|n[255&s])^t[h++],S=(n[I>>>24]<<24|n[X>>>16&255]<<16|n[s>>>8&255]<<8|n[255&y])^t[h++],u=(n[X>>>24]<<24|n[s>>>16&255]<<16|n[y>>>8&255]<<8|n[255&I])^t[h++],[i>>>=0,B>>>=0,S>>>=0,u>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],o=[[],[],[],[]],i=[[],[],[],[]],B=0,S=0,u=0;u<256;++u){var c=S^S<<1^S<<2^S<<3^S<<4;c=c>>>8^255&c^99,r[B]=c,n[c]=B;var _=e[B],f=e[_],a=e[f],s=257*e[c]^16843008*c;o[0][B]=s<<24|s>>>8,o[1][B]=s<<16|s>>>16,o[2][B]=s<<8|s>>>24,o[3][B]=s,s=16843009*a^65537*f^257*_^16843008*B,i[0][c]=s<<24|s>>>8,i[1][c]=s<<16|s>>>16,i[2][c]=s<<8|s>>>24,i[3][c]=s,0===B?B=S=1:(B=_^e[e[e[a^_]]],S^=e[e[S]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:i}}();function B(e){this._key=t(e),this._reset()}B.blockSize=16,B.keySize=32,B.prototype.blockSize=B.blockSize,B.prototype.keySize=B.keySize,B.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),B=[],S=0;S<t;S++)B[S]=e[S];for(S=t;S<n;S++){var u=B[S-1];S%t==0?(u=u<<8|u>>>24,u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u],u^=o[S/t|0]<<24):t>6&&S%t==4&&(u=i.SBOX[u>>>24]<<24|i.SBOX[u>>>16&255]<<16|i.SBOX[u>>>8&255]<<8|i.SBOX[255&u]),B[S]=B[S-t]^u}for(var c=[],_=0;_<n;_++){var f=n-_,a=B[f-(_%4?0:4)];c[_]=_<4||f<=4?a:i.INV_SUB_MIX[0][i.SBOX[a>>>24]]^i.INV_SUB_MIX[1][i.SBOX[a>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[a>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[255&a]]}this._nRounds=r,this._keySchedule=B,this._invKeySchedule=c},B.prototype.encryptBlockRaw=function(e){return n(e=t(e),this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},B.prototype.encryptBlock=function(t){var r=this.encryptBlockRaw(t),n=e.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},B.prototype.decryptBlock=function(r){var o=(r=t(r))[1];r[1]=r[3],r[3]=o;var B=n(r,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),S=e.allocUnsafe(16);return S.writeUInt32BE(B[0],0),S.writeUInt32BE(B[3],4),S.writeUInt32BE(B[2],8),S.writeUInt32BE(B[1],12),S},B.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},module.exports.AES=B;
},{"safe-buffer":"7/vb"}],"bJg2":[function(require,module,exports) {

var t=require("safe-buffer").Buffer,e=t.alloc(16,0);function h(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function a(e){var h=t.allocUnsafe(16);return h.writeUInt32BE(e[0]>>>0,0),h.writeUInt32BE(e[1]>>>0,4),h.writeUInt32BE(e[2]>>>0,8),h.writeUInt32BE(e[3]>>>0,12),h}function i(e){this.h=e,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}i.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},i.prototype._multiply=function(){for(var t,e,i=h(this.h),c=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(c[0]^=i[0],c[1]^=i[1],c[2]^=i[2],c[3]^=i[3]),e=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=a(c)},i.prototype.update=function(e){var h;for(this.cache=t.concat([this.cache,e]);this.cache.length>=16;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},i.prototype.final=function(h,i){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(a([0,h,0,i])),this.state},module.exports=i;
},{"safe-buffer":"7/vb"}],"ehNT":[function(require,module,exports) {

var t=require("./aes"),e=require("safe-buffer").Buffer,r=require("cipher-base"),h=require("inherits"),a=require("./ghash"),i=require("buffer-xor"),n=require("./incr32");function s(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),a=0;a<h;++a)r+=t[a]^e[a];return r}function o(t,r,h){if(12===r.length)return t._finID=e.concat([r,e.from([0,0,0,1])]),e.concat([r,e.from([0,0,0,2])]);var i=new a(h),s=r.length,o=s%16;i.update(r),o&&(o=16-o,i.update(e.alloc(o,0))),i.update(e.alloc(8,0));var u=8*s,l=e.alloc(8);l.writeUIntBE(u,0,8),i.update(l),t._finID=i.state;var c=e.from(t._finID);return n(c),c}function u(h,i,n,s){r.call(this);var u=e.alloc(4,0);this._cipher=new t.AES(i);var l=this._cipher.encryptBlock(u);this._ghash=new a(l),n=o(this,n,l),this._prev=e.from(n),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}h(u,r),u.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;r<16&&(r=e.alloc(r,0),this._ghash.update(r))}this._called=!0;var h=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(h),this._len+=t.length,h},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&s(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},u.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},module.exports=u;
},{"./aes":"XFXp","safe-buffer":"7/vb","cipher-base":"+b7B","inherits":"9q8B","./ghash":"bJg2","buffer-xor":"m3IW","./incr32":"EZQx"}],"57y3":[function(require,module,exports) {

var e=require("./aes"),r=require("safe-buffer").Buffer,t=require("cipher-base"),i=require("inherits");function s(i,s,c,h){t.call(this),this._cipher=new e.AES(s),this._prev=r.from(c),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=h,this._mode=i}i(s,t),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},module.exports=s;
},{"./aes":"XFXp","safe-buffer":"7/vb","cipher-base":"+b7B","inherits":"9q8B"}],"M/sc":[function(require,module,exports) {

var e=require("safe-buffer").Buffer,r=require("md5.js");function t(t,a,f,l){if(e.isBuffer(t)||(t=e.from(t,"binary")),a&&(e.isBuffer(a)||(a=e.from(a,"binary")),8!==a.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=f/8,i=e.alloc(n),o=e.alloc(l||0),u=e.alloc(0);n>0||l>0;){var h=new r;h.update(u),h.update(t),a&&h.update(a),u=h.digest();var g=0;if(n>0){var s=i.length-n;g=Math.min(n,u.length),u.copy(i,s,0,g),n-=g}if(g<u.length&&l>0){var d=o.length-l,v=Math.min(l,u.length-g);u.copy(o,d,g,g+v),l-=v}}return u.fill(0),{key:i,iv:o}}module.exports=t;
},{"safe-buffer":"7/vb","md5.js":"RkNY"}],"KlWT":[function(require,module,exports) {

var e=require("./modes"),t=require("./authCipher"),r=require("safe-buffer").Buffer,i=require("./streamCipher"),n=require("cipher-base"),h=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,t,i){n.call(this),this._cache=new u,this._cipher=new h.AES(t),this._prev=r.from(i),this._mode=e,this._autopadding=!0}a(c,n),c.prototype._update=function(e){var t,i;this._cache.add(e);for(var n=[];t=this._cache.get();)i=this._mode.encrypt(this,t),n.push(i);return r.concat(n)};var s=r.alloc(16,16);function u(){this.cache=r.allocUnsafe(0)}function p(n,h,o){var a=e[n.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof h&&(h=r.from(h)),h.length!==a.key/8)throw new TypeError("invalid key length "+h.length);if("string"==typeof o&&(o=r.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);return"stream"===a.type?new i(a.module,h,o):"auth"===a.type?new t(a.module,h,o):new c(a.module,h,o)}function f(t,r){var i=e[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=o(r,!1,i.key,i.iv);return p(t,n.key,n.iv)}c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(s))throw this._cipher.scrub(),new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},u.prototype.add=function(e){this.cache=r.concat([this.cache,e])},u.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},u.prototype.flush=function(){for(var e=16-this.cache.length,t=r.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return r.concat([this.cache,t])},exports.createCipheriv=p,exports.createCipher=f;
},{"./modes":"CFOH","./authCipher":"ehNT","safe-buffer":"7/vb","./streamCipher":"57y3","cipher-base":"+b7B","./aes":"XFXp","evp_bytestokey":"M/sc","inherits":"9q8B"}],"uC2q":[function(require,module,exports) {

var e=require("./authCipher"),t=require("safe-buffer").Buffer,r=require("./modes"),i=require("./streamCipher"),h=require("cipher-base"),n=require("./aes"),o=require("evp_bytestokey"),a=require("inherits");function c(e,r,i){h.call(this),this._cache=new s,this._last=void 0,this._cipher=new n.AES(r),this._prev=t.from(i),this._mode=e,this._autopadding=!0}function s(){this.cache=t.allocUnsafe(0)}function u(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function p(h,n,o){var a=r[h.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof o&&(o=t.from(o)),"GCM"!==a.mode&&o.length!==a.iv)throw new TypeError("invalid iv length "+o.length);if("string"==typeof n&&(n=t.from(n)),n.length!==a.key/8)throw new TypeError("invalid key length "+n.length);return"stream"===a.type?new i(a.module,n,o,!0):"auth"===a.type?new e(a.module,n,o,!0):new c(a.module,n,o)}function f(e,t){var i=r[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var h=o(t,!1,i.key,i.iv);return p(e,h.key,h.iv)}a(c,h),c.prototype._update=function(e){var r,i;this._cache.add(e);for(var h=[];r=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,r),h.push(i);return t.concat(h)},c.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return u(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},c.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},s.prototype.add=function(e){this.cache=t.concat([this.cache,e])},s.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},s.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=f,exports.createDecipheriv=p;
},{"./authCipher":"ehNT","safe-buffer":"7/vb","./modes":"CFOH","./streamCipher":"57y3","cipher-base":"+b7B","./aes":"XFXp","evp_bytestokey":"M/sc","inherits":"9q8B"}],"QG7D":[function(require,module,exports) {
var e=require("./encrypter"),r=require("./decrypter"),i=require("./modes/list.json");function p(){return Object.keys(i)}exports.createCipher=exports.Cipher=e.createCipher,exports.createCipheriv=exports.Cipheriv=e.createCipheriv,exports.createDecipher=exports.Decipher=r.createDecipher,exports.createDecipheriv=exports.Decipheriv=r.createDecipheriv,exports.listCiphers=exports.getCiphers=p;
},{"./encrypter":"KlWT","./decrypter":"uC2q","./modes/list.json":"UQlp"}],"5yAA":[function(require,module,exports) {
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],"+IlK":[function(require,module,exports) {
var e=require("browserify-des"),r=require("browserify-aes/browser"),i=require("browserify-aes/modes"),t=require("browserify-des/modes"),o=require("evp_bytestokey");function s(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var v=o(r,!1,s,p);return n(e,v.key,v.iv)}function p(e,r){var s,p;if(e=e.toLowerCase(),i[e])s=i[e].key,p=i[e].iv;else{if(!t[e])throw new TypeError("invalid suite type");s=8*t[e].key,p=t[e].iv}var n=o(r,!1,s,p);return v(e,n.key,n.iv)}function n(o,s,p){if(o=o.toLowerCase(),i[o])return r.createCipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o});throw new TypeError("invalid suite type")}function v(o,s,p){if(o=o.toLowerCase(),i[o])return r.createDecipheriv(o,s,p);if(t[o])return new e({key:s,iv:p,mode:o,decrypt:!0});throw new TypeError("invalid suite type")}function y(){return Object.keys(t).concat(r.getCiphers())}exports.createCipher=exports.Cipher=s,exports.createCipheriv=exports.Cipheriv=n,exports.createDecipher=exports.Decipher=p,exports.createDecipheriv=exports.Decipheriv=v,exports.listCiphers=exports.getCiphers=y;
},{"browserify-des":"cONZ","browserify-aes/browser":"QG7D","browserify-aes/modes":"CFOH","browserify-des/modes":"5yAA","evp_bytestokey":"M/sc"}],"FQk1":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function h(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,i,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}var e;"object"==typeof t?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;try{e=require("buffer").Buffer}catch(t){}function o(t,i,r){for(var h=0,n=Math.min(t.length,r),e=i;e<n;e++){var o=t.charCodeAt(e)-48;h<<=4,h|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return h}function s(t,i,r,h){for(var n=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;n*=h,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,i){return t.cmp(i)>0?t:i},n.min=function(t,i){return t.cmp(i)<0?t:i},n.prototype._init=function(t,i,h){if("number"==typeof t)return this._initNumber(t,i,h);if("object"==typeof t)return this._initArray(t,i,h);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===i?this._parseHex(t,n):this._parseBase(t,i,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initNumber=function(t,i,h){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initArray=function(t,i,h){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var e,o,s=0;if("be"===h)for(n=t.length-1,e=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===h)for(n=0,e=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},n.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var h,n,e=0;for(r=t.length-6,h=0;r>=i;r-=6)n=o(t,r,r+6),this.words[h]|=n<<e&67108863,this.words[h+1]|=n>>>26-e&4194303,(e+=24)>=26&&(e-=26,h++);r+6!==i&&(n=o(t,i,r+6),this.words[h]|=n<<e&67108863,this.words[h+1]|=n>>>26-e&4194303),this.strip()},n.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var h=0,n=1;n<=67108863;n*=i)h++;h--,n=n/i|0;for(var e=t.length-r,o=e%h,u=Math.min(e,e-o)+r,a=0,l=r;l<u;l+=h)a=s(t,l,l+h,i),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=s(t,l,t.length,i),l=0;l<o;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],a=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(t,i,r){r.negative=i.negative^t.negative;var h=t.length+i.length|0;r.length=h,h=h-1|0;var n=0|t.words[0],e=0|i.words[0],o=n*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<h;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;l+=(o=(n=0|t.words[p])*(e=0|i.words[d])+m)/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}n.prototype.toString=function(t,i){var h;if(i=0|i||1,16===(t=t||10)||"hex"===t){h="";for(var n=0,e=0,o=0;o<this.length;o++){var s=this.words[o],m=(16777215&(s<<n|e)).toString(16);h=0!==(e=s>>>24-n&16777215)||o!==this.length-1?u[6-m.length]+m+h:m+h,(n+=2)>=26&&(n-=26,o--)}for(0!==e&&(h=e.toString(16)+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(t===(0|t)&&t>=2&&t<=36){var f=a[t],d=l[t];h="";var p=this.clone();for(p.negative=0;!p.isZero();){var M=p.modn(d).toString(t);h=(p=p.idivn(d)).isZero()?M+h:u[f-M.length]+M+h}for(this.isZero()&&(h="0"+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,i){return r(void 0!==e),this.toArrayLike(e,t,i)},n.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},n.prototype.toArrayLike=function(t,i,h){var n=this.byteLength(),e=h||Math.max(1,n);r(n<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-n;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},n.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var h=0;h<r.length;h++)this.words[h]=i.words[h]^r.words[h];if(this!==i)for(;h<i.length;h++)this.words[h]=i.words[h];return this.length=i.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),h=t%26;this._expand(i),h>0&&i--;for(var n=0;n<i;n++)this.words[n]=67108863&~this.words[n];return h>0&&(this.words[n]=~this.words[n]&67108863>>26-h),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var h=t/26|0,n=t%26;return this._expand(h+1),this.words[h]=i?this.words[h]|1<<n:this.words[h]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var i,r,h;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();this.length>t.length?(r=this,h=t):(r=t,h=this);for(var n=0,e=0;e<h.length;e++)i=(0|r.words[e])+(0|h.words[e])+n,this.words[e]=67108863&i,n=i>>>26;for(;0!==n&&e<r.length;e++)i=(0|r.words[e])+n,this.words[e]=67108863&i,n=i>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},n.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,h,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,h=t):(r=t,h=this);for(var e=0,o=0;o<h.length;o++)e=(i=(0|r.words[o])-(0|h.words[o])+e)>>26,this.words[o]=67108863&i;for(;0!==e&&o<r.length;o++)e=(i=(0|r.words[o])+e)>>26,this.words[o]=67108863&i;if(0===e&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var f=function(t,i,r){var h,n,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,x=0|o[5],S=8191&x,q=x>>>13,Z=0|o[6],R=8191&Z,B=Z>>>13,N=0|o[7],L=8191&N,I=N>>>13,z=0|o[8],T=8191&z,E=z>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,C=P>>>13,D=0|s[1],H=8191&D,J=D>>>13,U=0|s[2],G=8191&U,Q=U>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,ht=it>>>13,nt=0|s[6],et=8191&nt,ot=nt>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19;var vt=(a+(h=Math.imul(m,F))|0)+((8191&(n=(n=Math.imul(m,C))+Math.imul(f,F)|0))<<13)|0;a=((e=Math.imul(f,C))+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,h=Math.imul(p,F),n=(n=Math.imul(p,C))+Math.imul(M,F)|0,e=Math.imul(M,C);var gt=(a+(h=h+Math.imul(m,H)|0)|0)+((8191&(n=(n=n+Math.imul(m,J)|0)+Math.imul(f,H)|0))<<13)|0;a=((e=e+Math.imul(f,J)|0)+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,h=Math.imul(g,F),n=(n=Math.imul(g,C))+Math.imul(c,F)|0,e=Math.imul(c,C),h=h+Math.imul(p,H)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(M,H)|0,e=e+Math.imul(M,J)|0;var ct=(a+(h=h+Math.imul(m,G)|0)|0)+((8191&(n=(n=n+Math.imul(m,Q)|0)+Math.imul(f,G)|0))<<13)|0;a=((e=e+Math.imul(f,Q)|0)+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,h=Math.imul(y,F),n=(n=Math.imul(y,C))+Math.imul(b,F)|0,e=Math.imul(b,C),h=h+Math.imul(g,H)|0,n=(n=n+Math.imul(g,J)|0)+Math.imul(c,H)|0,e=e+Math.imul(c,J)|0,h=h+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Q)|0)+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0;var wt=(a+(h=h+Math.imul(m,W)|0)|0)+((8191&(n=(n=n+Math.imul(m,X)|0)+Math.imul(f,W)|0))<<13)|0;a=((e=e+Math.imul(f,X)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,h=Math.imul(k,F),n=(n=Math.imul(k,C))+Math.imul(A,F)|0,e=Math.imul(A,C),h=h+Math.imul(y,H)|0,n=(n=n+Math.imul(y,J)|0)+Math.imul(b,H)|0,e=e+Math.imul(b,J)|0,h=h+Math.imul(g,G)|0,n=(n=n+Math.imul(g,Q)|0)+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,h=h+Math.imul(p,W)|0,n=(n=n+Math.imul(p,X)|0)+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0;var yt=(a+(h=h+Math.imul(m,$)|0)|0)+((8191&(n=(n=n+Math.imul(m,tt)|0)+Math.imul(f,$)|0))<<13)|0;a=((e=e+Math.imul(f,tt)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,h=Math.imul(S,F),n=(n=Math.imul(S,C))+Math.imul(q,F)|0,e=Math.imul(q,C),h=h+Math.imul(k,H)|0,n=(n=n+Math.imul(k,J)|0)+Math.imul(A,H)|0,e=e+Math.imul(A,J)|0,h=h+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Q)|0)+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,h=h+Math.imul(g,W)|0,n=(n=n+Math.imul(g,X)|0)+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,h=h+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0;var bt=(a+(h=h+Math.imul(m,rt)|0)|0)+((8191&(n=(n=n+Math.imul(m,ht)|0)+Math.imul(f,rt)|0))<<13)|0;a=((e=e+Math.imul(f,ht)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,h=Math.imul(R,F),n=(n=Math.imul(R,C))+Math.imul(B,F)|0,e=Math.imul(B,C),h=h+Math.imul(S,H)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(q,H)|0,e=e+Math.imul(q,J)|0,h=h+Math.imul(k,G)|0,n=(n=n+Math.imul(k,Q)|0)+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,h=h+Math.imul(y,W)|0,n=(n=n+Math.imul(y,X)|0)+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,h=h+Math.imul(g,$)|0,n=(n=n+Math.imul(g,tt)|0)+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,h=h+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(M,rt)|0,e=e+Math.imul(M,ht)|0;var _t=(a+(h=h+Math.imul(m,et)|0)|0)+((8191&(n=(n=n+Math.imul(m,ot)|0)+Math.imul(f,et)|0))<<13)|0;a=((e=e+Math.imul(f,ot)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,h=Math.imul(L,F),n=(n=Math.imul(L,C))+Math.imul(I,F)|0,e=Math.imul(I,C),h=h+Math.imul(R,H)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(B,H)|0,e=e+Math.imul(B,J)|0,h=h+Math.imul(S,G)|0,n=(n=n+Math.imul(S,Q)|0)+Math.imul(q,G)|0,e=e+Math.imul(q,Q)|0,h=h+Math.imul(k,W)|0,n=(n=n+Math.imul(k,X)|0)+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(y,$)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,h=h+Math.imul(g,rt)|0,n=(n=n+Math.imul(g,ht)|0)+Math.imul(c,rt)|0,e=e+Math.imul(c,ht)|0,h=h+Math.imul(p,et)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0;var kt=(a+(h=h+Math.imul(m,ut)|0)|0)+((8191&(n=(n=n+Math.imul(m,at)|0)+Math.imul(f,ut)|0))<<13)|0;a=((e=e+Math.imul(f,at)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,h=Math.imul(T,F),n=(n=Math.imul(T,C))+Math.imul(E,F)|0,e=Math.imul(E,C),h=h+Math.imul(L,H)|0,n=(n=n+Math.imul(L,J)|0)+Math.imul(I,H)|0,e=e+Math.imul(I,J)|0,h=h+Math.imul(R,G)|0,n=(n=n+Math.imul(R,Q)|0)+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,h=h+Math.imul(S,W)|0,n=(n=n+Math.imul(S,X)|0)+Math.imul(q,W)|0,e=e+Math.imul(q,X)|0,h=h+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(b,rt)|0,e=e+Math.imul(b,ht)|0,h=h+Math.imul(g,et)|0,n=(n=n+Math.imul(g,ot)|0)+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,h=h+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,at)|0)+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0;var At=(a+(h=h+Math.imul(m,mt)|0)|0)+((8191&(n=(n=n+Math.imul(m,ft)|0)+Math.imul(f,mt)|0))<<13)|0;a=((e=e+Math.imul(f,ft)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,h=Math.imul(j,F),n=(n=Math.imul(j,C))+Math.imul(K,F)|0,e=Math.imul(K,C),h=h+Math.imul(T,H)|0,n=(n=n+Math.imul(T,J)|0)+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,h=h+Math.imul(L,G)|0,n=(n=n+Math.imul(L,Q)|0)+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,h=h+Math.imul(R,W)|0,n=(n=n+Math.imul(R,X)|0)+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,h=h+Math.imul(S,$)|0,n=(n=n+Math.imul(S,tt)|0)+Math.imul(q,$)|0,e=e+Math.imul(q,tt)|0,h=h+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(A,rt)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(y,et)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,h=h+Math.imul(g,ut)|0,n=(n=n+Math.imul(g,at)|0)+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,h=h+Math.imul(p,mt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0;var xt=(a+(h=h+Math.imul(m,pt)|0)|0)+((8191&(n=(n=n+Math.imul(m,Mt)|0)+Math.imul(f,pt)|0))<<13)|0;a=((e=e+Math.imul(f,Mt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,h=Math.imul(j,H),n=(n=Math.imul(j,J))+Math.imul(K,H)|0,e=Math.imul(K,J),h=h+Math.imul(T,G)|0,n=(n=n+Math.imul(T,Q)|0)+Math.imul(E,G)|0,e=e+Math.imul(E,Q)|0,h=h+Math.imul(L,W)|0,n=(n=n+Math.imul(L,X)|0)+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,h=h+Math.imul(R,$)|0,n=(n=n+Math.imul(R,tt)|0)+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,h=h+Math.imul(S,rt)|0,n=(n=n+Math.imul(S,ht)|0)+Math.imul(q,rt)|0,e=e+Math.imul(q,ht)|0,h=h+Math.imul(k,et)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,h=h+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,at)|0)+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,h=h+Math.imul(g,mt)|0,n=(n=n+Math.imul(g,ft)|0)+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0;var St=(a+(h=h+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,Mt)|0)+Math.imul(M,pt)|0))<<13)|0;a=((e=e+Math.imul(M,Mt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,h=Math.imul(j,G),n=(n=Math.imul(j,Q))+Math.imul(K,G)|0,e=Math.imul(K,Q),h=h+Math.imul(T,W)|0,n=(n=n+Math.imul(T,X)|0)+Math.imul(E,W)|0,e=e+Math.imul(E,X)|0,h=h+Math.imul(L,$)|0,n=(n=n+Math.imul(L,tt)|0)+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,h=h+Math.imul(R,rt)|0,n=(n=n+Math.imul(R,ht)|0)+Math.imul(B,rt)|0,e=e+Math.imul(B,ht)|0,h=h+Math.imul(S,et)|0,n=(n=n+Math.imul(S,ot)|0)+Math.imul(q,et)|0,e=e+Math.imul(q,ot)|0,h=h+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,at)|0)+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,h=h+Math.imul(y,mt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0;var qt=(a+(h=h+Math.imul(g,pt)|0)|0)+((8191&(n=(n=n+Math.imul(g,Mt)|0)+Math.imul(c,pt)|0))<<13)|0;a=((e=e+Math.imul(c,Mt)|0)+(n>>>13)|0)+(qt>>>26)|0,qt&=67108863,h=Math.imul(j,W),n=(n=Math.imul(j,X))+Math.imul(K,W)|0,e=Math.imul(K,X),h=h+Math.imul(T,$)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(E,$)|0,e=e+Math.imul(E,tt)|0,h=h+Math.imul(L,rt)|0,n=(n=n+Math.imul(L,ht)|0)+Math.imul(I,rt)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(R,et)|0,n=(n=n+Math.imul(R,ot)|0)+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,h=h+Math.imul(S,ut)|0,n=(n=n+Math.imul(S,at)|0)+Math.imul(q,ut)|0,e=e+Math.imul(q,at)|0,h=h+Math.imul(k,mt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0;var Zt=(a+(h=h+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,Mt)|0)+Math.imul(b,pt)|0))<<13)|0;a=((e=e+Math.imul(b,Mt)|0)+(n>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(j,$),n=(n=Math.imul(j,tt))+Math.imul(K,$)|0,e=Math.imul(K,tt),h=h+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,ht)|0)+Math.imul(E,rt)|0,e=e+Math.imul(E,ht)|0,h=h+Math.imul(L,et)|0,n=(n=n+Math.imul(L,ot)|0)+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(R,ut)|0,n=(n=n+Math.imul(R,at)|0)+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,h=h+Math.imul(S,mt)|0,n=(n=n+Math.imul(S,ft)|0)+Math.imul(q,mt)|0,e=e+Math.imul(q,ft)|0;var Rt=(a+(h=h+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,Mt)|0)+Math.imul(A,pt)|0))<<13)|0;a=((e=e+Math.imul(A,Mt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h=Math.imul(j,rt),n=(n=Math.imul(j,ht))+Math.imul(K,rt)|0,e=Math.imul(K,ht),h=h+Math.imul(T,et)|0,n=(n=n+Math.imul(T,ot)|0)+Math.imul(E,et)|0,e=e+Math.imul(E,ot)|0,h=h+Math.imul(L,ut)|0,n=(n=n+Math.imul(L,at)|0)+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,h=h+Math.imul(R,mt)|0,n=(n=n+Math.imul(R,ft)|0)+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0;var Bt=(a+(h=h+Math.imul(S,pt)|0)|0)+((8191&(n=(n=n+Math.imul(S,Mt)|0)+Math.imul(q,pt)|0))<<13)|0;a=((e=e+Math.imul(q,Mt)|0)+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h=Math.imul(j,et),n=(n=Math.imul(j,ot))+Math.imul(K,et)|0,e=Math.imul(K,ot),h=h+Math.imul(T,ut)|0,n=(n=n+Math.imul(T,at)|0)+Math.imul(E,ut)|0,e=e+Math.imul(E,at)|0,h=h+Math.imul(L,mt)|0,n=(n=n+Math.imul(L,ft)|0)+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0;var Nt=(a+(h=h+Math.imul(R,pt)|0)|0)+((8191&(n=(n=n+Math.imul(R,Mt)|0)+Math.imul(B,pt)|0))<<13)|0;a=((e=e+Math.imul(B,Mt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,h=Math.imul(j,ut),n=(n=Math.imul(j,at))+Math.imul(K,ut)|0,e=Math.imul(K,at),h=h+Math.imul(T,mt)|0,n=(n=n+Math.imul(T,ft)|0)+Math.imul(E,mt)|0,e=e+Math.imul(E,ft)|0;var Lt=(a+(h=h+Math.imul(L,pt)|0)|0)+((8191&(n=(n=n+Math.imul(L,Mt)|0)+Math.imul(I,pt)|0))<<13)|0;a=((e=e+Math.imul(I,Mt)|0)+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h=Math.imul(j,mt),n=(n=Math.imul(j,ft))+Math.imul(K,mt)|0,e=Math.imul(K,ft);var It=(a+(h=h+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,Mt)|0)+Math.imul(E,pt)|0))<<13)|0;a=((e=e+Math.imul(E,Mt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863;var zt=(a+(h=Math.imul(j,pt))|0)+((8191&(n=(n=Math.imul(j,Mt))+Math.imul(K,pt)|0))<<13)|0;return a=((e=Math.imul(K,Mt))+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=xt,u[10]=St,u[11]=qt,u[12]=Zt,u[13]=Rt,u[14]=Bt,u[15]=Nt,u[16]=Lt,u[17]=It,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};function d(t,i,r){return(new p).mulp(t,i,r)}function p(t,i){this.x=t,this.y=i}Math.imul||(f=m),n.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?f(this,t,i):r<63?m(this,t,i):r<1024?function(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var h=0,n=0,e=0;e<r.length-1;e++){var o=n;n=0;for(var s=67108863&h,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=(0|t.words[l])*(0|i.words[a]),f=67108863&m;s=67108863&(f=f+s|0),n+=(o=(o=o+(m/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[e]=s,h=o,o=n}return 0!==h?r.words[e]=h:r.length--,r.strip()}(this,t,i):d(this,t,i)},p.prototype.makeRBT=function(t){for(var i=new Array(t),r=n.prototype._countBits(t)-1,h=0;h<t;h++)i[h]=this.revBin(h,r,t);return i},p.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var h=0,n=0;n<i;n++)h|=(1&t)<<i-n-1,t>>=1;return h},p.prototype.permute=function(t,i,r,h,n,e){for(var o=0;o<e;o++)h[o]=i[t[o]],n[o]=r[t[o]]},p.prototype.transform=function(t,i,r,h,n,e){this.permute(e,t,i,r,h,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=h[l+d],v=r[l+d+o],g=h[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,h[l+d]=M+g,r[l+d+o]=p-v,h[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},p.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),h=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+h},p.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var h=0;h<r/2;h++){var n=t[h];t[h]=t[r-h-1],t[r-h-1]=n,n=i[h],i[h]=-i[r-h-1],i[r-h-1]=-n}},p.prototype.normalize13b=function(t,i){for(var r=0,h=0;h<i/2;h++){var n=8192*Math.round(t[2*h+1]/i)+Math.round(t[2*h]/i)+r;t[h]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,i,h,n){for(var e=0,o=0;o<i;o++)e+=0|t[o],h[2*o]=8191&e,e>>>=13,h[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<n;++o)h[o]=0;r(0===e),r(0==(-8192&e))},p.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},p.prototype.mulp=function(t,i,r){var h=2*this.guessLen13b(t.length,i.length),n=this.makeRBT(h),e=this.stub(h),o=new Array(h),s=new Array(h),u=new Array(h),a=new Array(h),l=new Array(h),m=new Array(h),f=r.words;f.length=h,this.convert13b(t.words,t.length,o,h),this.convert13b(i.words,i.length,a,h),this.transform(o,e,s,u,h,n),this.transform(a,e,l,m,h,n);for(var d=0;d<h;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,h),this.transform(s,u,f,e,h,n),this.conjugate(f,e,h),this.normalize13b(f,h),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},n.prototype.mul=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},n.prototype.mulf=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),d(this,t,i)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var i=0,h=0;h<this.length;h++){var n=(0|this.words[h])*t,e=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=e>>>26,this.words[h]=67108863&e}return 0!==i&&(this.words[h]=i,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var i=function(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var h=r/26|0,n=r%26;i[r]=(t.words[h]&1<<n)>>>n}return i}(t);if(0===i.length)return new n(1);for(var r=this,h=0;h<i.length&&0===i[h];h++,r=r.sqr());if(++h<i.length)for(var e=r.sqr();h<i.length;h++,e=e.sqr())0!==i[h]&&(r=r.mul(e));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,h=t%26,n=(t-h)/26,e=67108863>>>26-h<<26-h;if(0!==h){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<h;this.words[i]=u|o,o=s>>>26-h}o&&(this.words[i]=o,this.length++)}if(0!==n){for(i=this.length-1;i>=0;i--)this.words[i+n]=this.words[i];for(i=0;i<n;i++)this.words[i]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,i,h){var n;r("number"==typeof t&&t>=0),n=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=h;if(n-=o,n=Math.max(0,n),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,i,h){return r(0===this.negative),this.iushrn(t,i,h)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26,n=1<<i;return!(this.length<=h)&&!!(this.words[h]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=h)return this;if(0!==i&&h++,this.length=Math.min(h,this.length),0!==i){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,i,h){var n,e,o=t.length+h;this._expand(o);var s=0;for(n=0;n<t.length;n++){e=(0|this.words[n+h])+s;var u=(0|t.words[n])*i;s=((e-=67108863&u)>>26)-(u/67108864|0),this.words[n+h]=67108863&e}for(;n<this.length-h;n++)s=(e=(0|this.words[n+h])+s)>>26,this.words[n+h]=67108863&e;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(e=-(0|this.words[n])+s)>>26,this.words[n]=67108863&e;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,i){var r=(this.length,t.length),h=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),h.iushln(r),o=0|e.words[e.length-1]);var s,u=h.length-e.length;if("mod"!==i){(s=new n(null)).length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=h.clone()._ishlnsubmul(e,1,u);0===l.negative&&(h=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|h.words[e.length+m])+(0|h.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),h._ishlnsubmul(e,f,m);0!==h.negative;)f--,h.negative=0,h._ishlnsubmul(e,1,m),h.isZero()||(h.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),h.strip(),"div"!==i&&0!==r&&h.iushrn(r),{div:s||null,mod:h}},n.prototype.divmod=function(t,i,h){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,i);var e,o,s},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,h=t.ushrn(1),n=t.andln(1),e=r.cmp(h);return e<0||1===n&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var i=(1<<26)%t,h=0,n=this.length-1;n>=0;n--)h=(i*h+(0|this.words[n]))%t;return h},n.prototype.idivn=function(t){r(t<=67108863);for(var i=0,h=this.length-1;h>=0;h--){var n=(0|this.words[h])+67108864*i;this.words[h]=n/t|0,i=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=new n(0),u=new n(1),a=0;i.isEven()&&h.isEven();)i.iushrn(1),h.iushrn(1),++a;for(var l=h.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(h.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(h.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(s),o.isub(u)):(h.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:h.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e,o=new n(1),s=new n(0),u=h.clone();i.cmpn(1)>0&&h.cmpn(1)>0;){for(var a=0,l=1;0==(i.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(i.iushrn(a);a-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var m=0,f=1;0==(h.words[0]&f)&&m<26;++m,f<<=1);if(m>0)for(h.iushrn(m);m-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);i.cmp(h)>=0?(i.isub(h),o.isub(s)):(h.isub(i),s.isub(o))}return(e=0===i.cmpn(1)?o:s).cmpn(0)<0&&e.iadd(t),e},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var h=0;i.isEven()&&r.isEven();h++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=i.cmp(r);if(n<0){var e=i;i=r,r=e}else if(0===n||0===r.cmpn(1))break;i.isub(r)}return r.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return this._expand(h+1),this.words[h]|=n,this;for(var e=n,o=h;0!==e&&o<this.length;o++){var s=0|this.words[o];e=(s+=e)>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var i,h=t<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)i=1;else{h&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];i=n===t?0:n<t?-1:1}return 0!==this.negative?0|-i:i},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var h=0|this.words[r],n=0|t.words[r];if(h!==n){h<n?i=-1:h>n&&(i=1);break}}return i},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new b(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var M={k256:null,p224:null,p192:null,p25519:null};function v(t,i){this.name=t,this.p=new n(i,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function c(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function y(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(t){if("string"==typeof t){var i=n._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){b.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),i=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(i>this.n);var h=i<this.n?-1:r.ucmp(this.p);return 0===h?(r.words[0]=0,r.length=1):h>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,i){t.iushrn(this.n,0,i)},v.prototype.imulK=function(t){return t.imul(this.k)},h(g,v),g.prototype.split=function(t,i){for(var r=Math.min(t.length,9),h=0;h<r;h++)i.words[h]=t.words[h];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(i.words[i.length++]=4194303&n,h=10;h<t.length;h++){var e=0|t.words[h];t.words[h-10]=(4194303&e)<<4|n>>>22,n=e}n>>>=22,t.words[h-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var h=0|t.words[r];i+=977*h,t.words[r]=67108863&i,i=64*h+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},h(c,v),h(w,v),h(y,v),y.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var h=19*(0|t.words[r])+i,n=67108863&h;h>>>=26,t.words[r]=n,i=h}return 0!==i&&(t.words[t.length++]=i),t},n._prime=function(t){if(M[t])return M[t];var i;if("k256"===t)i=new g;else if("p224"===t)i=new c;else if("p192"===t)i=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new y}return M[t]=i,i},b.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},b.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},b.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},b.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},b.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},b.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},b.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},b.prototype.isqr=function(t){return this.imul(t,t.clone())},b.prototype.sqr=function(t){return this.mul(t,t)},b.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var h=this.m.add(new n(1)).iushrn(2);return this.pow(t,h)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new n(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new n(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},b.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},b.prototype.pow=function(t,i){if(i.isZero())return new n(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var h=2;h<r.length;h++)r[h]=this.mul(r[h-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),h=i.length-1;h>=0;h--){for(var a=i.words[h],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===h&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},b.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},b.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},n.mont=function(t){return new _(t)},h(_,b),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},_.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(h).iushrn(this.shift),e=n;return n.cmp(this.m)>=0?e=n.isub(this.m):n.cmpn(0)<0&&(e=n.iadd(this.m)),e._forceRed(this)},_.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new n(0)._forceRed(this);var r=t.mul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(h).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":"+aaM"}],"Kn4N":[function(require,module,exports) {
var t;function e(t){this.rand=t}if(module.exports=function(r){return t||(t=new e(null)),t.generate(r)},module.exports.Rand=e,e.prototype.generate=function(t){return this._rand(t)},e.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=require("crypto");if("function"!=typeof r.randomBytes)throw new Error("Not supported");e.prototype._rand=function(t){return r.randomBytes(t)}}catch(t){}
},{"crypto":"+aaM"}],"YOb+":[function(require,module,exports) {
var r=require("bn.js"),e=require("brorand");function n(r){this.rand=r||new e.Rand}module.exports=n,n.create=function(r){return new n(r)},n.prototype._randbelow=function(e){var n=e.bitLength(),t=Math.ceil(n/8);do{var o=new r(this.rand.generate(t))}while(o.cmp(e)>=0);return o},n.prototype._randrange=function(r,e){var n=e.sub(r);return r.add(this._randbelow(n))},n.prototype.test=function(e,n,t){var o=e.bitLength(),a=r.mont(e),d=new r(1).toRed(a);n||(n=Math.max(1,o/48|0));for(var i=e.subn(1),u=0;!i.testn(u);u++);for(var f=e.shrn(u),c=i.toRed(a);n>0;n--){var p=this._randrange(new r(2),i);t&&t(p);var s=p.toRed(a).redPow(f);if(0!==s.cmp(d)&&0!==s.cmp(c)){for(var m=1;m<u;m++){if(0===(s=s.redSqr()).cmp(d))return!1;if(0===s.cmp(c))break}if(m===u)return!1}}return!0},n.prototype.getDivisor=function(e,n){var t=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);n||(n=Math.max(1,t/48|0));for(var d=e.subn(1),i=0;!d.testn(i);i++);for(var u=e.shrn(i),f=d.toRed(o);n>0;n--){var c=this._randrange(new r(2),d),p=e.gcd(c);if(0!==p.cmpn(1))return p;var s=c.toRed(o).redPow(u);if(0!==s.cmp(a)&&0!==s.cmp(f)){for(var m=1;m<i;m++){if(0===(s=s.redSqr()).cmp(a))return s.fromRed().subn(1).gcd(e);if(0===s.cmp(f))break}if(m===i)return(s=s.redSqr()).fromRed().subn(1).gcd(e)}}return!1};
},{"bn.js":"FQk1","brorand":"Kn4N"}],"Aiq5":[function(require,module,exports) {
var e=require("randombytes");module.exports=M,M.simpleSieve=b,M.fermatTest=q;var n=require("bn.js"),r=new n(24),t=require("miller-rabin"),i=new t,o=new n(1),f=new n(2),a=new n(5),u=new n(16),w=new n(8),d=new n(10),m=new n(3),s=new n(7),c=new n(11),l=new n(4),v=new n(12),p=null;function h(){if(null!==p)return p;var e=[];e[0]=2;for(var n=1,r=3;r<1048576;r+=2){for(var t=Math.ceil(Math.sqrt(r)),i=0;i<n&&e[i]<=t&&r%e[i]!=0;i++);n!==i&&e[i]<=t||(e[n++]=r)}return p=e,e}function b(e){for(var n=h(),r=0;r<n.length;r++)if(0===e.modn(n[r]))return 0===e.cmpn(n[r]);return!0}function q(e){var r=n.mont(e);return 0===f.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function M(t,u){if(t<16)return new n(2===u||5===u?[140,123]:[140,39]);var w,s;for(u=new n(u);;){for(w=new n(e(Math.ceil(t/8)));w.bitLength()>t;)w.ishrn(1);if(w.isEven()&&w.iadd(o),w.testn(1)||w.iadd(f),u.cmp(f)){if(!u.cmp(a))for(;w.mod(d).cmp(m);)w.iadd(l)}else for(;w.mod(r).cmp(c);)w.iadd(l);if(b(s=w.shrn(1))&&b(w)&&q(s)&&q(w)&&i.test(s)&&i.test(w))return w}}
},{"randombytes":"GkF8","bn.js":"FQk1","miller-rabin":"YOb+"}],"k3Zj":[function(require,module,exports) {
module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}};
},{}],"+UId":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("bn.js"),r=require("miller-rabin"),i=new r,n=new t(24),o=new t(11),s=new t(10),u=new t(3),p=new t(7),h=require("./generatePrime"),f=require("randombytes");function _(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._pub=new t(r),this}function m(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this._priv=new t(r),this}module.exports=g;var c={};function a(e,t){var r=t.toString("hex"),f=[r,e.toString(16)].join("_");if(f in c)return c[f];var _,m=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!i.test(e))return m+=1,m+="02"===r||"05"===r?8:4,c[f]=m,m;switch(i.test(e.shrn(1))||(m+=2),r){case"02":e.mod(n).cmp(o)&&(m+=8);break;case"05":(_=e.mod(s)).cmp(u)&&_.cmp(p)&&(m+=8);break;default:m+=4}return c[f]=m,m}function g(e,r,i){this.setGenerator(r),this.__prime=new t(e),this._prime=t.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=_,this.setPrivateKey=m):this._primeCode=8}function v(t,r){var i=new e(t.toArray());return r?i.toString(r):i}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=a(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new t(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(r){var i=(r=(r=new t(r)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new e(i.toArray()),o=this.getPrime();if(n.length<o.length){var s=new e(o.length-n.length);s.fill(0),n=e.concat([s,n])}return n},g.prototype.getPublicKey=function(e){return v(this._pub,e)},g.prototype.getPrivateKey=function(e){return v(this._priv,e)},g.prototype.getPrime=function(e){return v(this.__prime,e)},g.prototype.getGenerator=function(e){return v(this._gen,e)},g.prototype.setGenerator=function(r,i){return i=i||"utf8",e.isBuffer(r)||(r=new e(r,i)),this.__gen=r,this._gen=new t(r),this};
},{"bn.js":"FQk1","miller-rabin":"YOb+","./generatePrime":"Aiq5","randombytes":"GkF8","buffer":"eKIq"}],"u5qG":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./lib/generatePrime"),i=require("./lib/primes.json"),n=require("./lib/dh");function f(r){var f=new e(i[r].prime,"hex"),a=new e(i[r].gen,"hex");return new n(f,a)}var a={binary:!0,hex:!0,base64:!0};function u(i,f,t,l){return e.isBuffer(f)||void 0===a[f]?u(i,"binary",f,t):(f=f||"binary",l=l||"binary",t=t||new e([2]),e.isBuffer(t)||(t=new e(t,l)),"number"==typeof i?new n(r(i,t),t,!0):(e.isBuffer(i)||(i=new e(i,f)),new n(i,t,!0)))}exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=f,exports.createDiffieHellman=exports.DiffieHellman=u;
},{"./lib/generatePrime":"Aiq5","./lib/primes.json":"k3Zj","./lib/dh":"+UId","buffer":"eKIq"}],"in/U":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js"),u=require("randombytes");function o(e){var u=m(e);return{blinder:u.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:u.invm(e.modulus)}}function n(u,n){var m=o(n),d=n.modulus.byteLength(),i=(r.mont(n.modulus),new r(u).mul(m.blinder).umod(n.modulus)),t=i.toRed(r.mont(n.prime1)),l=i.toRed(r.mont(n.prime2)),f=n.coefficient,p=n.prime1,s=n.prime2,b=t.redPow(n.exponent1),a=l.redPow(n.exponent2);b=b.fromRed(),a=a.fromRed();var w=b.isub(a).imul(f).umod(p);return w.imul(s),a.iadd(w),new e(a.imul(m.unblinder).umod(n.modulus).toArray(!1,d))}function m(e){for(var o=e.modulus.byteLength(),n=new r(u(o));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(u(o));return n}module.exports=n,n.getr=m;
},{"bn.js":"FQk1","randombytes":"GkF8","buffer":"eKIq"}],"Mk5q":[function(require,module,exports) {
module.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/parcel-bundler/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/parcel-bundler/browserify-sign","/parcel-bundler/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"/Users/silverdust/.nvm/versions/node/v10.7.0/lib/node_modules/parcel-bundler/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"};
},{}],"3hql":[function(require,module,exports) {
"use strict";var r=exports;function e(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)t[n]=0|r[n];return t}if("hex"===e){(r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r);for(n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(n=0;n<r.length;n++){var o=r.charCodeAt(n),u=o>>8,i=255&o;u?t.push(u,i):t.push(i)}return t}function t(r){return 1===r.length?"0"+r:r}function n(r){for(var e="",n=0;n<r.length;n++)e+=t(r[n].toString(16));return e}r.toArray=e,r.zero2=t,r.toHex=n,r.encode=function(r,e){return"hex"===e?n(r):r};
},{}],"OE/f":[function(require,module,exports) {
"use strict";var r=exports,n=require("bn.js"),e=require("minimalistic-assert"),t=require("minimalistic-crypto-utils");function i(r,n){for(var e=[],t=1<<n+1,i=r.clone();i.cmpn(1)>=0;){var s;if(i.isOdd()){var o=i.andln(t-1);s=o>(t>>1)-1?(t>>1)-o:o,i.isubn(s)}else s=0;e.push(s);for(var a=0!==i.cmpn(0)&&0===i.andln(t-1)?n+1:1,u=1;u<a;u++)e.push(0);i.iushrn(a)}return e}function s(r,n){var e=[[],[]];r=r.clone(),n=n.clone();for(var t=0,i=0;r.cmpn(-t)>0||n.cmpn(-i)>0;){var s,o,a,u=r.andln(3)+t&3,c=n.andln(3)+i&3;if(3===u&&(u=-1),3===c&&(c=-1),0==(1&u))s=0;else s=3!==(a=r.andln(7)+t&7)&&5!==a||2!==c?u:-u;if(e[0].push(s),0==(1&c))o=0;else o=3!==(a=n.andln(7)+i&7)&&5!==a||2!==u?c:-c;e[1].push(o),2*t===s+1&&(t=1-t),2*i===o+1&&(i=1-i),r.iushrn(1),n.iushrn(1)}return e}function o(r,n,e){var t="_"+n;r.prototype[n]=function(){return void 0!==this[t]?this[t]:this[t]=e.call(this)}}function a(n){return"string"==typeof n?r.toArray(n,"hex"):n}function u(r){return new n(r,"hex","le")}r.assert=e,r.toArray=t.toArray,r.zero2=t.zero2,r.toHex=t.toHex,r.encode=t.encode,r.getNAF=i,r.getJSF=s,r.cachedProperty=o,r.parseBytes=a,r.intFromLE=u;
},{"bn.js":"FQk1","minimalistic-assert":"iHaQ","minimalistic-crypto-utils":"3hql"}],"Vs2v":[function(require,module,exports) {
"use strict";var t=require("bn.js"),e=require("../../elliptic"),n=e.utils,r=n.getNAF,o=n.getJSF,i=n.assert;function s(e,n){this.type=e,this.p=new t(n.p,16),this.red=n.prime?t.red(n.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=n.n&&new t(n.n,16),this.g=n.g&&this.pointFromJSON(n.g,n.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(t,e){this.curve=t,this.type=e,this.precomputed=null}module.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(t,e){i(t.precomputed);var n=t._getDoubles(),o=r(e,1),s=(1<<n.step+1)-(n.step%2==0?2:1);s/=3;for(var p=[],d=0;d<o.length;d+=n.step){var u=0;for(e=d+n.step-1;e>=d;e--)u=(u<<1)+o[e];p.push(u)}for(var h=this.jpoint(null,null,null),l=this.jpoint(null,null,null),a=s;a>0;a--){for(d=0;d<p.length;d++){(u=p[d])===a?l=l.mixedAdd(n.points[d]):u===-a&&(l=l.mixedAdd(n.points[d].neg()))}h=h.add(l)}return h.toP()},s.prototype._wnafMul=function(t,e){var n=4,o=t._getNAFPoints(n);n=o.wnd;for(var s=o.points,p=r(e,n),d=this.jpoint(null,null,null),u=p.length-1;u>=0;u--){for(e=0;u>=0&&0===p[u];u--)e++;if(u>=0&&e++,d=d.dblp(e),u<0)break;var h=p[u];i(0!==h),d="affine"===t.type?h>0?d.mixedAdd(s[h-1>>1]):d.mixedAdd(s[-h-1>>1].neg()):h>0?d.add(s[h-1>>1]):d.add(s[-h-1>>1].neg())}return"affine"===t.type?d.toP():d},s.prototype._wnafMulAdd=function(t,e,n,i,s){for(var p=this._wnafT1,d=this._wnafT2,u=this._wnafT3,h=0,l=0;l<i;l++){var a=(P=e[l])._getNAFPoints(t);p[l]=a.wnd,d[l]=a.points}for(l=i-1;l>=1;l-=2){var f=l-1,c=l;if(1===p[f]&&1===p[c]){var m=[e[f],null,null,e[c]];0===e[f].y.cmp(e[c].y)?(m[1]=e[f].add(e[c]),m[2]=e[f].toJ().mixedAdd(e[c].neg())):0===e[f].y.cmp(e[c].y.redNeg())?(m[1]=e[f].toJ().mixedAdd(e[c]),m[2]=e[f].add(e[c].neg())):(m[1]=e[f].toJ().mixedAdd(e[c]),m[2]=e[f].toJ().mixedAdd(e[c].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=o(n[f],n[c]);h=Math.max(y[0].length,h),u[f]=new Array(h),u[c]=new Array(h);for(var v=0;v<h;v++){var w=0|y[0][v],b=0|y[1][v];u[f][v]=g[3*(w+1)+(b+1)],u[c][v]=0,d[f]=m}}else u[f]=r(n[f],p[f]),u[c]=r(n[c],p[c]),h=Math.max(u[f].length,h),h=Math.max(u[c].length,h)}var A=this.jpoint(null,null,null),_=this._wnafT4;for(l=h;l>=0;l--){for(var x=0;l>=0;){var N=!0;for(v=0;v<i;v++)_[v]=0|u[v][l],0!==_[v]&&(N=!1);if(!N)break;x++,l--}if(l>=0&&x++,A=A.dblp(x),l<0)break;for(v=0;v<i;v++){var P,T=_[v];0!==T&&(T>0?P=d[v][T-1>>1]:T<0&&(P=d[v][-T-1>>1].neg()),A="affine"===P.type?A.mixedAdd(P):A.add(P))}}for(l=0;l<i;l++)d[l]=null;return s?A:A.toP()},s.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?i(t[t.length-1]%2==0):7===t[0]&&i(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(t){return this.encode(t,!0)},p.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},p.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},p.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},p.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},p.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;o<e;o+=t){for(var i=0;i<t;i++)r=r.dbl();n.push(r)}return{step:t,points:n}},p.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),o=1;o<n;o++)e[o]=e[o-1].add(r);return{wnd:t,points:e}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"5pWM":[function(require,module,exports) {
"use strict";var r=require("../curve"),e=require("../../elliptic"),t=require("bn.js"),d=require("inherits"),i=r.base,n=e.utils.assert;function u(r){i.call(this,"short",r),this.a=new t(r.a,16).toRed(this.red),this.b=new t(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function s(r,e,d,n){i.BasePoint.call(this,r,"affine"),null===e&&null===d?(this.x=null,this.y=null,this.inf=!0):(this.x=new t(e,16),this.y=new t(d,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(r,e,d,n){i.BasePoint.call(this,r,"jacobian"),null===e&&null===d&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t(0)):(this.x=new t(e,16),this.y=new t(d,16),this.z=new t(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}d(u,i),module.exports=u,u.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,d;if(r.beta)e=new t(r.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(r.lambda)d=new t(r.lambda,16);else{var u=this._getEndoRoots(this.n);0===this.g.mul(u[0]).x.cmp(this.g.x.redMul(e))?d=u[0]:(d=u[1],n(0===this.g.mul(d).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:d,basis:r.basis?r.basis.map(function(r){return{a:new t(r.a,16),b:new t(r.b,16)}}):this._getEndoBasis(d)}}},u.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:t.mont(r),d=new t(2).toRed(e).redInvm(),i=d.redNeg(),n=new t(3).toRed(e).redNeg().redSqrt().redMul(d);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},u.prototype._getEndoBasis=function(r){for(var e,d,i,n,u,s,o,h,p,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=r,f=this.n.clone(),c=new t(1),S=new t(0),b=new t(0),v=new t(1),I=0;0!==a.cmpn(0);){var y=f.div(a);h=f.sub(y.mul(a)),p=b.sub(y.mul(c));var A=v.sub(y.mul(S));if(!i&&h.cmp(l)<0)e=o.neg(),d=c,i=h.neg(),n=p;else if(i&&2==++I)break;o=h,f=a,a=h,b=c,c=p,v=S,S=A}u=h.neg(),s=p;var m=i.sqr().add(n.sqr());return u.sqr().add(s.sqr()).cmp(m)>=0&&(u=e,s=d),i.negative&&(i=i.neg(),n=n.neg()),u.negative&&(u=u.neg(),s=s.neg()),[{a:i,b:n},{a:u,b:s}]},u.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b);return{k1:r.sub(u).sub(s),k2:o.add(h).neg()}},u.prototype.pointFromX=function(r,e){(r=new t(r,16)).red||(r=r.toRed(this.red));var d=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),i=d.redSqrt();if(0!==i.redSqr().redSub(d).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(r,i)},u.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),p=0;p<2*n;p++)d[p]=null,i[p]=null;return h},d(s,i.BasePoint),u.prototype.point=function(r,e,t){return new s(this,r,e,t)},u.prototype.pointFromJSON=function(r,e){return s.fromJSON(this,r,e)},s.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(r,e,t){"string"==typeof e&&(e=JSON.parse(e));var d=r.point(e[0],e[1],t);if(!e[2])return d;function i(e){return r.point(e[0],e[1],t)}var n=e[2];return d.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[d].concat(n.doubles.points.map(i))},naf:n.naf&&{wnd:n.naf.wnd,points:[d].concat(n.naf.points.map(i))}},d},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},s.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(r){return r=new t(r,16),this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},s.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},s.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},s.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},s.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},s.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},d(o,i.BasePoint),u.prototype.jpoint=function(r,e,t){return new o(this,r,e,t)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),p=h.redMul(s),l=d.redMul(h),a=o.redSqr().redIAdd(p).redISub(l).redISub(l),f=o.redMul(l.redISub(a)).redISub(n.redMul(p)),c=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,f,c)},o.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),p=t.redMul(o),l=s.redSqr().redIAdd(h).redISub(p).redISub(p),a=s.redMul(p.redISub(l)).redISub(i.redMul(h)),f=this.z.redMul(u);return this.curve.jpoint(l,a,f)},o.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,t=0;t<r;t++)e=e.dbl();return e}var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u);for(t=0;t<r;t++){var p=n.redSqr(),l=h.redSqr(),a=l.redSqr(),f=p.redAdd(p).redIAdd(p).redIAdd(d.redMul(o)),c=n.redMul(l),S=f.redSqr().redISub(c.redAdd(c)),b=c.redISub(S),v=f.redMul(b);v=v.redIAdd(v).redISub(a);var I=h.redMul(s);t+1<r&&(o=o.redMul(a)),n=S,s=I,h=v}return this.curve.jpoint(n,h.redMul(i),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.x.redSqr(),l=this.y.redSqr(),a=l.redSqr(),f=this.x.redAdd(l).redSqr().redISub(p).redISub(a);f=f.redIAdd(f);var c=p.redAdd(p).redIAdd(p),S=c.redSqr(),b=a.redIAdd(a);b=(b=b.redIAdd(b)).redIAdd(b),r=S.redISub(f).redISub(f),e=c.redMul(f.redISub(r)).redISub(b),t=(t=this.y.redMul(this.z)).redIAdd(t)}return this.curve.jpoint(r,e,t)},o.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=(h=h.redIAdd(h)).redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var p=this.z.redSqr(),l=this.y.redSqr(),a=this.x.redMul(l),f=this.x.redSub(p).redMul(this.x.redAdd(p));f=f.redAdd(f).redIAdd(f);var c=a.redIAdd(a),S=(c=c.redIAdd(c)).redAdd(c);r=f.redSqr().redISub(S),t=this.y.redAdd(this.z).redSqr().redISub(l).redISub(p);var b=l.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),e=f.redMul(c.redISub(r)).redISub(b)}return this.curve.jpoint(r,e,t)},o.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e),h=(o=o.redIAdd(o)).redMul(u),p=s.redSqr().redISub(h.redAdd(h)),l=h.redISub(p),a=u.redSqr();a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=s.redMul(l).redISub(a),c=t.redAdd(t).redMul(d);return this.curve.jpoint(p,f,c)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d),s=(u=(u=(u=u.redIAdd(u)).redAdd(u).redIAdd(u)).redISub(n)).redSqr(),o=d.redIAdd(d);o=(o=(o=o.redIAdd(o)).redIAdd(o)).redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),p=e.redMul(h);p=(p=p.redIAdd(p)).redIAdd(p);var l=this.x.redMul(s).redISub(p);l=(l=l.redIAdd(l)).redIAdd(l);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var f=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(l,a,f)},o.prototype.mul=function(r,e){return r=new t(r,e),this.curve._wnafMul(this,r)},o.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},o.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}return!1},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../curve":"W91T","../../elliptic":"rfaM","bn.js":"FQk1","inherits":"9q8B"}],"U0yt":[function(require,module,exports) {
"use strict";var t=require("../curve"),r=require("bn.js"),e=require("inherits"),i=t.base,o=require("../../elliptic"),n=o.utils;function d(t){i.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,o){i.BasePoint.call(this,t,"projective"),null===e&&null===o?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}e(d,i),module.exports=d,d.prototype.validate=function(t){var r=t.normalize().x,e=r.redSqr(),i=e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r);return 0===i.redSqrt().redSqr().cmp(i)},e(u,i.BasePoint),d.prototype.decodePoint=function(t,r){return this.point(n.toArray(t,r),1)},d.prototype.point=function(t,r){return new u(this,t,r)},d.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,r){return new u(t,r[0],r[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),r=this.x.redSub(this.z).redSqr(),e=t.redSub(r),i=t.redMul(r),o=e.redMul(r.redAdd(this.curve.a24.redMul(e)));return this.curve.point(i,o)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,r){var e=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=t.x.redAdd(t.z),n=t.x.redSub(t.z).redMul(e),d=o.redMul(i),u=r.z.redMul(n.redAdd(d).redSqr()),s=r.x.redMul(n.redISub(d).redSqr());return this.curve.point(u,s)},u.prototype.mul=function(t){for(var r=t.clone(),e=this,i=this.curve.point(null,null),o=[];0!==r.cmpn(0);r.iushrn(1))o.push(r.andln(1));for(var n=o.length-1;n>=0;n--)0===o[n]?(e=e.diffAdd(i,this),i=i.dbl()):(i=e.diffAdd(i,this),e=e.dbl());return i},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"../curve":"W91T","bn.js":"FQk1","inherits":"9q8B","../../elliptic":"rfaM"}],"VlOY":[function(require,module,exports) {
"use strict";var t=require("../curve"),e=require("../../elliptic"),r=require("bn.js"),i=require("inherits"),d=t.base,s=e.utils.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,d.call(this,"edwards",t),this.a=new r(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function h(t,e,i,s,u){d.BasePoint.call(this,t,"projective"),null===e&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(e,16),this.y=new r(i,16),this.z=s?new r(s,16):this.curve.one,this.t=u&&new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(u,d),module.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},u.prototype.pointFromX=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),u=d.redMul(s.redInvm()),h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");var n=h.fromRed().isOdd();return(e&&!n||!e&&n)&&(h=h.redNeg()),this.point(t,h)},u.prototype.pointFromY=function(t,e){(t=new r(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr(),d=i.redSub(this.one),s=i.redMul(this.d).redAdd(this.one),u=d.redMul(s.redInvm());if(0===u.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var h=u.redSqrt();if(0!==h.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");return h.isOdd()!==e&&(h=h.redNeg()),this.point(h,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),d=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(d)},i(h,d.BasePoint),u.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},u.prototype.point=function(t,e,r,i){return new h(this,t,e,r,i)},h.fromJSON=function(t,e){return new h(t,e[0],e[1],e[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},h.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),u=s.redSub(r),h=i.redSub(e),n=d.redMul(u),o=s.redMul(h),l=d.redMul(h),c=u.redMul(s);return this.curve.point(n,o,c,l)},h.prototype._projDbl=function(){var t,e,r,i=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var u=(o=this.curve._mulA(d)).redAdd(s);if(this.zOne)t=i.redSub(d).redSub(s).redMul(u.redSub(this.curve.two)),e=u.redMul(o.redSub(s)),r=u.redSqr().redSub(u).redSub(u);else{var h=this.z.redSqr(),n=u.redSub(h).redISub(h);t=i.redSub(d).redISub(s).redMul(n),e=u.redMul(o.redSub(s)),r=u.redMul(n)}}else{var o=d.redAdd(s);h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),n=o.redSub(h).redSub(h);t=this.curve._mulC(i.redISub(o)).redMul(n),e=this.curve._mulC(o).redMul(d.redISub(s)),r=o.redMul(n)}return this.curve.point(t,e,r)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),u=d.redSub(i),h=d.redAdd(i),n=r.redAdd(e),o=s.redMul(u),l=h.redMul(n),c=s.redMul(n),p=u.redMul(h);return this.curve.point(o,l,p,c)},h.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),u=this.y.redMul(t.y),h=this.curve.d.redMul(s).redMul(u),n=d.redSub(h),o=d.redAdd(h),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),c=i.redMul(n).redMul(l);return this.curve.twisted?(e=i.redMul(o).redMul(u.redSub(this.curve._mulA(s))),r=n.redMul(o)):(e=i.redMul(o).redMul(u.redSub(s)),r=this.curve._mulC(n).redMul(o)),this.curve.point(c,e,r)},h.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},h.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},h.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},h.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},h.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}return!1},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add;
},{"../curve":"W91T","../../elliptic":"rfaM","bn.js":"FQk1","inherits":"9q8B"}],"W91T":[function(require,module,exports) {
"use strict";var r=exports;r.base=require("./base"),r.short=require("./short"),r.mont=require("./mont"),r.edwards=require("./edwards");
},{"./base":"Vs2v","./short":"5pWM","./mont":"U0yt","./edwards":"VlOY"}],"i+pT":[function(require,module,exports) {
"use strict";var r=require("minimalistic-assert"),t=require("inherits");function n(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var n=[];if("string"==typeof r)if(t){if("hex"===t)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),e=0;e<r.length;e+=2)n.push(parseInt(r[e]+r[e+1],16))}else for(var e=0;e<r.length;e++){var o=r.charCodeAt(e),u=o>>8,i=255&o;u?n.push(u,i):n.push(i)}else for(e=0;e<r.length;e++)n[e]=0|r[e];return n}function e(r){for(var t="",n=0;n<r.length;n++)t+=i(r[n].toString(16));return t}function o(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function u(r,t){for(var n="",e=0;e<r.length;e++){var u=r[e];"little"===t&&(u=o(u)),n+=s(u.toString(16))}return n}function i(r){return 1===r.length?"0"+r:r}function s(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function f(t,n,e,o){var u=e-n;r(u%4==0);for(var i=new Array(u/4),s=0,f=n;s<i.length;s++,f+=4){var p;p="big"===o?t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],i[s]=p>>>0}return i}function p(r,t){for(var n=new Array(4*r.length),e=0,o=0;e<r.length;e++,o+=4){var u=r[e];"big"===t?(n[o]=u>>>24,n[o+1]=u>>>16&255,n[o+2]=u>>>8&255,n[o+3]=255&u):(n[o+3]=u>>>24,n[o+2]=u>>>16&255,n[o+1]=u>>>8&255,n[o]=255&u)}return n}function h(r,t){return r>>>t|r<<32-t}function l(r,t){return r<<t|r>>>32-t}function c(r,t){return r+t>>>0}function x(r,t,n){return r+t+n>>>0}function a(r,t,n,e){return r+t+n+e>>>0}function g(r,t,n,e,o){return r+t+n+e+o>>>0}function _(r,t,n,e){var o=r[t],u=e+r[t+1]>>>0,i=(u<e?1:0)+n+o;r[t]=i>>>0,r[t+1]=u}function v(r,t,n,e){return(t+e>>>0<t?1:0)+r+n>>>0}function m(r,t,n,e){return t+e>>>0}function y(r,t,n,e,o,u,i,s){var f=0,p=t;return f+=(p=p+e>>>0)<t?1:0,f+=(p=p+u>>>0)<u?1:0,r+n+o+i+(f+=(p=p+s>>>0)<s?1:0)>>>0}function A(r,t,n,e,o,u,i,s){return t+e+u+s>>>0}function z(r,t,n,e,o,u,i,s,f,p){var h=0,l=t;return h+=(l=l+e>>>0)<t?1:0,h+=(l=l+u>>>0)<u?1:0,h+=(l=l+s>>>0)<s?1:0,r+n+o+i+f+(h+=(l=l+p>>>0)<p?1:0)>>>0}function b(r,t,n,e,o,u,i,s,f,p){return t+e+u+s+p>>>0}function q(r,t,n){return(t<<32-n|r>>>n)>>>0}function w(r,t,n){return(r<<32-n|t>>>n)>>>0}function H(r,t,n){return r>>>n}function S(r,t,n){return(r<<32-n|t>>>n)>>>0}exports.inherits=t,exports.toArray=n,exports.toHex=e,exports.htonl=o,exports.toHex32=u,exports.zero2=i,exports.zero8=s,exports.join32=f,exports.split32=p,exports.rotr32=h,exports.rotl32=l,exports.sum32=c,exports.sum32_3=x,exports.sum32_4=a,exports.sum32_5=g,exports.sum64=_,exports.sum64_hi=v,exports.sum64_lo=m,exports.sum64_4_hi=y,exports.sum64_4_lo=A,exports.sum64_5_hi=z,exports.sum64_5_lo=b,exports.rotr64_hi=q,exports.rotr64_lo=w,exports.shr64_hi=H,exports.shr64_lo=S;
},{"minimalistic-assert":"iHaQ","inherits":"9q8B"}],"y5f6":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}exports.BlockHash=n,n.prototype.update=function(i,n){if(i=t.toArray(i,n),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var e=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-e,i.length),0===this.pending.length&&(this.pending=null),i=t.join32(i,0,i.length-e,this.endian);for(var h=0;h<i.length;h+=this._delta32)this._update(i,h,h+this._delta32)}return this},n.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},n.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,n=i-(t+this.padLength)%i,e=new Array(n+this.padLength);e[0]=128;for(var h=1;h<n;h++)e[h]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)e[h++]=0;e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=t>>>24&255,e[h++]=t>>>16&255,e[h++]=t>>>8&255,e[h++]=255&t}else for(e[h++]=255&t,e[h++]=t>>>8&255,e[h++]=t>>>16&255,e[h++]=t>>>24&255,e[h++]=0,e[h++]=0,e[h++]=0,e[h++]=0,s=8;s<this.padLength;s++)e[h++]=0;return e};
},{"./utils":"i+pT","minimalistic-assert":"iHaQ"}],"gdaJ":[function(require,module,exports) {
"use strict";var r=require("../utils"),t=r.rotr32;function n(r,t,n,s){return 0===r?e(t,n,s):1===r||3===r?o(t,n,s):2===r?u(t,n,s):void 0}function e(r,t,n){return r&t^~r&n}function u(r,t,n){return r&t^r&n^t&n}function o(r,t,n){return r^t^n}function s(r){return t(r,2)^t(r,13)^t(r,22)}function i(r){return t(r,6)^t(r,11)^t(r,25)}function c(r){return t(r,7)^t(r,18)^r>>>3}function f(r){return t(r,17)^t(r,19)^r>>>10}exports.ft_1=n,exports.ch32=e,exports.maj32=u,exports.p32=o,exports.s0_256=s,exports.s1_256=i,exports.g0_256=c,exports.g1_256=f;
},{"../utils":"i+pT"}],"7qTw":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("./common"),s=t.rotl32,e=t.sum32,r=t.sum32_5,o=i.ft_1,n=h.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}t.inherits(a,n),module.exports=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(t,h){for(var i=this.W,n=0;n<16;n++)i[n]=t[h+n];for(;n<i.length;n++)i[n]=s(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],c=this.h[1],l=this.h[2],f=this.h[3],m=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),g=r(s(a,5),o(p,c,l,f),m,i[n],u[p]);m=f,f=l,l=s(c,30),c=a,a=g}this.h[0]=e(this.h[0],a),this.h[1]=e(this.h[1],c),this.h[2]=e(this.h[2],l),this.h[3]=e(this.h[3],f),this.h[4]=e(this.h[4],m)},a.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","./common":"gdaJ"}],"9z72":[function(require,module,exports) {
"use strict";var h=require("../utils"),t=require("../common"),i=require("./common"),s=require("minimalistic-assert"),e=h.sum32,r=h.sum32_4,n=h.sum32_5,o=i.ch32,u=i.maj32,a=i.s0_256,c=i.s1_256,l=i.g0_256,m=i.g1_256,g=t.BlockHash,f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function p(){if(!(this instanceof p))return new p;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=f,this.W=new Array(64)}h.inherits(p,g),module.exports=p,p.blockSize=512,p.outSize=256,p.hmacStrength=192,p.padLength=64,p.prototype._update=function(h,t){for(var i=this.W,g=0;g<16;g++)i[g]=h[t+g];for(;g<i.length;g++)i[g]=r(m(i[g-2]),i[g-7],l(i[g-15]),i[g-16]);var f=this.h[0],p=this.h[1],_=this.h[2],k=this.h[3],d=this.h[4],q=this.h[5],v=this.h[6],b=this.h[7];for(s(this.k.length===i.length),g=0;g<i.length;g++){var x=n(b,c(d),o(d,q,v),this.k[g],i[g]),y=e(a(f),u(f,p,_));b=v,v=q,q=d,d=e(k,x),k=_,_=p,p=f,f=e(x,y)}this.h[0]=e(this.h[0],f),this.h[1]=e(this.h[1],p),this.h[2]=e(this.h[2],_),this.h[3]=e(this.h[3],k),this.h[4]=e(this.h[4],d),this.h[5]=e(this.h[5],q),this.h[6]=e(this.h[6],v),this.h[7]=e(this.h[7],b)},p.prototype._digest=function(t){return"hex"===t?h.toHex32(this.h,"big"):h.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","./common":"gdaJ","minimalistic-assert":"iHaQ"}],"Od20":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./256");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=512,e.outSize=224,e.hmacStrength=192,e.padLength=64,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")};
},{"../utils":"i+pT","./256":"9z72"}],"+34E":[function(require,module,exports) {
"use strict";var t=require("../utils"),h=require("../common"),i=require("minimalistic-assert"),r=t.rotr64_hi,n=t.rotr64_lo,s=t.shr64_hi,e=t.shr64_lo,u=t.sum64,o=t.sum64_hi,a=t.sum64_lo,c=t.sum64_4_hi,f=t.sum64_4_lo,l=t.sum64_5_hi,v=t.sum64_5_lo,_=h.BlockHash,p=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=p,this.W=new Array(160)}function g(t,h,i,r,n){var s=t&i^~t&n;return s<0&&(s+=4294967296),s}function k(t,h,i,r,n,s){var e=h&r^~h&s;return e<0&&(e+=4294967296),e}function d(t,h,i,r,n){var s=t&i^t&n^i&n;return s<0&&(s+=4294967296),s}function y(t,h,i,r,n,s){var e=h&r^h&s^r&s;return e<0&&(e+=4294967296),e}function b(t,h){var i=r(t,h,28)^r(h,t,2)^r(h,t,7);return i<0&&(i+=4294967296),i}function q(t,h){var i=n(t,h,28)^n(h,t,2)^n(h,t,7);return i<0&&(i+=4294967296),i}function x(t,h){var i=r(t,h,14)^r(t,h,18)^r(h,t,9);return i<0&&(i+=4294967296),i}function B(t,h){var i=n(t,h,14)^n(t,h,18)^n(h,t,9);return i<0&&(i+=4294967296),i}function S(t,h){var i=r(t,h,1)^r(t,h,8)^s(t,h,7);return i<0&&(i+=4294967296),i}function W(t,h){var i=n(t,h,1)^n(t,h,8)^e(t,h,7);return i<0&&(i+=4294967296),i}function w(t,h){var i=r(t,h,19)^r(h,t,29)^s(t,h,6);return i<0&&(i+=4294967296),i}function z(t,h){var i=n(t,h,19)^n(h,t,29)^e(t,h,6);return i<0&&(i+=4294967296),i}t.inherits(m,_),module.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,h){for(var i=this.W,r=0;r<32;r++)i[r]=t[h+r];for(;r<i.length;r+=2){var n=w(i[r-4],i[r-3]),s=z(i[r-4],i[r-3]),e=i[r-14],u=i[r-13],o=S(i[r-30],i[r-29]),a=W(i[r-30],i[r-29]),l=i[r-32],v=i[r-31];i[r]=c(n,s,e,u,o,a,l,v),i[r+1]=f(n,s,e,u,o,a,l,v)}},m.prototype._update=function(t,h){this._prepareBlock(t,h);var r=this.W,n=this.h[0],s=this.h[1],e=this.h[2],c=this.h[3],f=this.h[4],_=this.h[5],p=this.h[6],m=this.h[7],S=this.h[8],W=this.h[9],w=this.h[10],z=this.h[11],H=this.h[12],A=this.h[13],L=this.h[14],j=this.h[15];i(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var D=L,E=j,F=x(S,W),G=B(S,W),I=g(S,W,w,z,H,A),J=k(S,W,w,z,H,A),K=this.k[C],M=this.k[C+1],N=r[C],O=r[C+1],P=l(D,E,F,G,I,J,K,M,N,O),Q=v(D,E,F,G,I,J,K,M,N,O);D=b(n,s),E=q(n,s),F=d(n,s,e,c,f,_),G=y(n,s,e,c,f,_);var R=o(D,E,F,G),T=a(D,E,F,G);L=H,j=A,H=w,A=z,w=S,z=W,S=o(p,m,P,Q),W=a(m,m,P,Q),p=f,m=_,f=e,_=c,e=n,c=s,n=o(P,Q,R,T),s=a(P,Q,R,T)}u(this.h,0,n,s),u(this.h,2,e,c),u(this.h,4,f,_),u(this.h,6,p,m),u(this.h,8,S,W),u(this.h,10,w,z),u(this.h,12,H,A),u(this.h,14,L,j)},m.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"big"):t.split32(this.h,"big")};
},{"../utils":"i+pT","../common":"y5f6","minimalistic-assert":"iHaQ"}],"Ljiz":[function(require,module,exports) {
"use strict";var t=require("../utils"),i=require("./512");function e(){if(!(this instanceof e))return new e;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}t.inherits(e,i),module.exports=e,e.blockSize=1024,e.outSize=384,e.hmacStrength=192,e.padLength=128,e.prototype._digest=function(i){return"hex"===i?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")};
},{"../utils":"i+pT","./512":"+34E"}],"HSnF":[function(require,module,exports) {
"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512");
},{"./sha/1":"7qTw","./sha/224":"Od20","./sha/256":"9z72","./sha/384":"Ljiz","./sha/512":"+34E"}],"+ENA":[function(require,module,exports) {
"use strict";var t=require("./utils"),h=require("./common"),i=t.rotl32,s=t.sum32,e=t.sum32_3,r=t.sum32_4,n=h.BlockHash;function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(t,h,i,s){return t<=15?h^i^s:t<=31?h&i|~h&s:t<=47?(h|~i)^s:t<=63?h&s|i&~s:h^(i|~s)}function c(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function l(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}t.inherits(o,n),exports.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(t,h){for(var n=this.h[0],o=this.h[1],d=this.h[2],v=this.h[3],_=this.h[4],g=n,x=o,S=d,k=v,q=_,y=0;y<80;y++){var z=s(i(r(n,u(y,o,d,v),t[a[y]+h],c(y)),p[y]),_);n=_,_=v,v=i(d,10),d=o,o=z,z=s(i(r(g,u(79-y,x,S,k),t[f[y]+h],l(y)),m[y]),q),g=q,q=k,k=i(S,10),S=x,x=z}z=e(this.h[1],d,k),this.h[1]=e(this.h[2],v,q),this.h[2]=e(this.h[3],_,g),this.h[3]=e(this.h[4],n,x),this.h[4]=e(this.h[0],o,S),this.h[0]=z},o.prototype._digest=function(h){return"hex"===h?t.toHex32(this.h,"little"):t.split32(this.h,"little")};var a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"./utils":"i+pT","./common":"y5f6"}],"+ZYv":[function(require,module,exports) {
"use strict";var t=require("./utils"),i=require("minimalistic-assert");function e(i,s,n){if(!(this instanceof e))return new e(i,s,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(s,n))}module.exports=e,e.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},e.prototype.update=function(t,i){return this.inner.update(t,i),this},e.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"./utils":"i+pT","minimalistic-assert":"iHaQ"}],"C9ow":[function(require,module,exports) {
var h=exports;h.utils=require("./hash/utils"),h.common=require("./hash/common"),h.sha=require("./hash/sha"),h.ripemd=require("./hash/ripemd"),h.hmac=require("./hash/hmac"),h.sha1=h.sha.sha1,h.sha256=h.sha.sha256,h.sha224=h.sha.sha224,h.sha384=h.sha.sha384,h.sha512=h.sha.sha512,h.ripemd160=h.ripemd.ripemd160;
},{"./hash/utils":"i+pT","./hash/common":"y5f6","./hash/sha":"HSnF","./hash/ripemd":"+ENA","./hash/hmac":"+ZYv"}],"fAAa":[function(require,module,exports) {
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],"eM7+":[function(require,module,exports) {
"use strict";var f,e=exports,a=require("hash.js"),b=require("../elliptic"),c=b.utils.assert;function d(f){"short"===f.type?this.curve=new b.curve.short(f):"edwards"===f.type?this.curve=new b.curve.edwards(f):this.curve=new b.curve.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function r(f,a){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var b=new d(a);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:b}),b}})}e.PresetCurve=d,r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{f=require("./precomputed/secp256k1")}catch(e){f=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]});
},{"hash.js":"C9ow","../elliptic":"rfaM","./precomputed/secp256k1":"fAAa"}],"kgXl":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("minimalistic-crypto-utils"),i=require("minimalistic-assert");function s(t){if(!(this instanceof s))return new s(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=e.toArray(t.entropy,t.entropyEnc||"hex"),r=e.toArray(t.nonce,t.nonceEnc||"hex"),n=e.toArray(t.pers,t.persEnc||"hex");i(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,r,n)}module.exports=s,s.prototype._init=function(t,e,i){var s=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},s.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(t,s,h,r){"string"!=typeof s&&(r=h,h=s,s=null),t=e.toArray(t,s),h=e.toArray(h,r),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(h||[])),this._reseed=1},s.prototype.generate=function(t,i,s,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof i&&(h=s,s=i,i=null),s&&(s=e.toArray(s,h||"hex"),this._update(s));for(var r=[];r.length<t;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);var n=r.slice(0,t);return this._update(s),this._reseed++,e.encode(n,i)};
},{"hash.js":"C9ow","minimalistic-crypto-utils":"3hql","minimalistic-assert":"iHaQ"}],"Cs0L":[function(require,module,exports) {
"use strict";var t=require("bn.js"),i=require("../../elliptic"),e=i.utils,r=e.assert;function n(t,i){this.ec=t,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}module.exports=n,n.fromPublic=function(t,i,e){return i instanceof n?i:new n(t,{pub:i,pubEnc:e})},n.fromPrivate=function(t,i,e){return i instanceof n?i:new n(t,{priv:i,privEnc:e})},n.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(t,i){return"string"==typeof t&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub},n.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,e){this.priv=new t(i,e||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(t,i){if(t.x||t.y)return"mont"===this.ec.curve.type?r(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,i)},n.prototype.derive=function(t){return t.mul(this.priv).getX()},n.prototype.sign=function(t,i,e){return this.ec.sign(t,this,i,e)},n.prototype.verify=function(t,i){return this.ec.verify(t,i,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"mKf4":[function(require,module,exports) {
"use strict";var r=require("bn.js"),e=require("../../elliptic"),t=e.utils,a=t.assert;function n(e,t){if(e instanceof n)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function c(){this.place=0}function i(r,e){var t=r[e.place++];if(!(128&t))return t;for(var a=15&t,n=0,c=0,i=e.place;c<a;c++,i++)n<<=8,n|=r[i];return e.place=i,n}function o(r){for(var e=0,t=r.length-1;!r[e]&&!(128&r[e+1])&&e<t;)e++;return 0===e?r:r.slice(e)}function s(r,e){if(e<128)r.push(e);else{var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(128|t);--t;)r.push(e>>>(t<<3)&255);r.push(e)}}module.exports=n,n.prototype._importDER=function(e,a){e=t.toArray(e,a);var n=new c;if(48!==e[n.place++])return!1;if(i(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=i(e,n),s=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var l=i(e,n);if(e.length!==l+n.place)return!1;var u=e.slice(n.place,l+n.place);return 0===s[0]&&128&s[1]&&(s=s.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new r(s),this.s=new r(u),this.recoveryParam=null,!0},n.prototype.toDER=function(r){var e=this.r.toArray(),a=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&a[0]&&(a=[0].concat(a)),e=o(e),a=o(a);!(a[0]||128&a[1]);)a=a.slice(1);var n=[2];s(n,e.length),(n=n.concat(e)).push(2),s(n,a.length);var c=n.concat(a),i=[48];return s(i,c.length),i=i.concat(c),t.encode(i,r)};
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"tdbd":[function(require,module,exports) {
"use strict";var e=require("bn.js"),t=require("hmac-drbg"),r=require("../../elliptic"),n=r.utils,i=n.assert,s=require("./key"),o=require("./signature");function u(e){if(!(this instanceof u))return new u(e);"string"==typeof e&&(i(r.curves.hasOwnProperty(e),"Unknown curve "+e),e=r.curves[e]),e instanceof r.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}module.exports=u,u.prototype.keyPair=function(e){return new s(this,e)},u.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},u.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},u.prototype.genKeyPair=function(n){n||(n={});for(var i=new t({hash:this.hash,pers:n.pers,persEnc:n.persEnc||"utf8",entropy:n.entropy||r.rand(this.hash.hmacStrength),entropyEnc:n.entropy&&n.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),o=this.n.sub(new e(2));;){var u=new e(i.generate(s));if(!(u.cmp(o)>0))return u.iaddn(1),this.keyFromPrivate(u)}},u.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},u.prototype.sign=function(r,n,i,s){"object"==typeof i&&(s=i,i=null),s||(s={}),n=this.keyFromPrivate(n,i),r=this._truncateToN(new e(r,16));for(var u=this.n.byteLength(),h=n.getPrivate().toArray("be",u),c=r.toArray("be",u),a=new t({hash:this.hash,entropy:h,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),p=this.n.sub(new e(1)),m=0;;m++){var v=s.k?s.k(m):new e(a.generate(this.n.byteLength()));if(!((v=this._truncateToN(v,!0)).cmpn(1)<=0||v.cmp(p)>=0)){var y=this.g.mul(v);if(!y.isInfinity()){var f=y.getX(),g=f.umod(this.n);if(0!==g.cmpn(0)){var d=v.invm(this.n).mul(g.mul(n.getPrivate()).iadd(r));if(0!==(d=d.umod(this.n)).cmpn(0)){var l=(y.getY().isOdd()?1:0)|(0!==f.cmp(g)?2:0);return s.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),l^=1),new o({r:g,s:d,recoveryParam:l})}}}}}},u.prototype.verify=function(t,r,n,i){t=this._truncateToN(new e(t,16)),n=this.keyFromPublic(n,i);var s=(r=new o(r,"hex")).r,u=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(u.cmpn(1)<0||u.cmp(this.n)>=0)return!1;var h,c=u.invm(this.n),a=c.mul(t).umod(this.n),p=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(h=this.g.jmulAdd(a,n.getPublic(),p)).isInfinity()&&h.eqXToP(s):!(h=this.g.mulAdd(a,n.getPublic(),p)).isInfinity()&&0===h.getX().umod(this.n).cmp(s)},u.prototype.recoverPubKey=function(t,r,n,s){i((3&n)===n,"The recovery param is more than two bits"),r=new o(r,s);var u=this.n,h=new e(t),c=r.r,a=r.s,p=1&n,m=n>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&m)throw new Error("Unable to find sencond key candinate");c=m?this.curve.pointFromX(c.add(this.curve.n),p):this.curve.pointFromX(c,p);var v=r.r.invm(u),y=u.sub(h).mul(v).umod(u),f=a.mul(v).umod(u);return this.g.mulAdd(y,c,f)},u.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new o(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};
},{"bn.js":"FQk1","hmac-drbg":"kgXl","../../elliptic":"rfaM","./key":"Cs0L","./signature":"mKf4"}],"B5/b":[function(require,module,exports) {
"use strict";var t=require("../../elliptic"),e=t.utils,s=e.assert,i=e.parseBytes,n=e.cachedProperty;function r(t,e){this.eddsa=t,this._secret=i(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=i(e.pub)}r.fromPublic=function(t,e){return e instanceof r?e:new r(t,{pub:e})},r.fromSecret=function(t,e){return e instanceof r?e:new r(t,{secret:e})},r.prototype.secret=function(){return this._secret},n(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(r,"privBytes",function(){var t=this.eddsa,e=this.hash(),s=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[s]&=127,i[s]|=64,i}),n(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(t){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},r.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},r.prototype.getSecret=function(t){return s(this._secret,"KeyPair is public only"),e.encode(this.secret(),t)},r.prototype.getPublic=function(t){return e.encode(this.pubBytes(),t)},module.exports=r;
},{"../../elliptic":"rfaM"}],"s533":[function(require,module,exports) {
"use strict";var e=require("bn.js"),t=require("../../elliptic"),n=t.utils,o=n.assert,i=n.cachedProperty,d=n.parseBytes;function r(t,n){this.eddsa=t,"object"!=typeof n&&(n=d(n)),Array.isArray(n)&&(n={R:n.slice(0,t.encodingLength),S:n.slice(t.encodingLength)}),o(n.R&&n.S,"Signature without R or S"),t.isPoint(n.R)&&(this._R=n.R),n.S instanceof e&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}i(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},module.exports=r;
},{"bn.js":"FQk1","../../elliptic":"rfaM"}],"2z/3":[function(require,module,exports) {
"use strict";var t=require("hash.js"),e=require("../../elliptic"),n=e.utils,r=n.assert,i=n.parseBytes,o=require("./key"),s=require("./signature");function u(n){if(r("ed25519"===n,"only tested with ed25519 so far"),!(this instanceof u))return new u(n);n=e.curves[n].curve;this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=t.sha512}module.exports=u,u.prototype.sign=function(t,e){t=i(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),o=this.g.mul(r),s=this.encodePoint(o),u=this.hashInt(s,n.pubBytes(),t).mul(n.priv()),h=r.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:h,Rencoded:s})},u.prototype.verify=function(t,e,n){t=i(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),o=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(r.pub().mul(o)).eq(s)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return n.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return o.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return o.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof s?t:new s(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=n.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),o=n.intFromLE(r);return this.curve.pointFromY(o,i)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return n.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"hash.js":"C9ow","../../elliptic":"rfaM","./key":"B5/b","./signature":"s533"}],"rfaM":[function(require,module,exports) {
"use strict";var e=exports;e.version=require("../package.json").version,e.utils=require("./elliptic/utils"),e.rand=require("brorand"),e.curve=require("./elliptic/curve"),e.curves=require("./elliptic/curves"),e.ec=require("./elliptic/ec"),e.eddsa=require("./elliptic/eddsa");
},{"../package.json":"Mk5q","./elliptic/utils":"OE/f","brorand":"Kn4N","./elliptic/curve":"W91T","./elliptic/curves":"eM7+","./elliptic/ec":"tdbd","./elliptic/eddsa":"2z/3"}],"a7so":[function(require,module,exports) {
var r=[].indexOf;module.exports=function(e,n){if(r)return e.indexOf(n);for(var f=0;f<e.length;++f)if(e[f]===n)return f;return-1};
},{}],"hYzZ":[function(require,module,exports) {
var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var c=Object_keys(r),i=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t};
},{"indexof":"a7so"}],"QF3g":[function(require,module,exports) {
var e=require("../asn1"),t=require("inherits"),n=exports;function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var n;try{n=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){n=function(e){this._initNamed(e)}}return t(n,e),n.prototype._initNamed=function(t){e.call(this,t)},new n(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(e.decoders[t])),this.decoders[t]},r.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(e.encoders[t])),this.encoders[t]},r.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)};
},{"../asn1":"MIic","inherits":"9q8B","vm":"hYzZ"}],"IJ1h":[function(require,module,exports) {
var t=require("inherits");function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function e(t,r){this.path=t,this.rethrow(r)}exports.Reporter=r,r.prototype.isError=function(t){return t instanceof e},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var r=this._reporterState;r.obj=t.obj,r.path=r.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var r=this._reporterState;r.path=r.path.slice(0,t-1)},r.prototype.leaveKey=function(t,r,e){var o=this._reporterState;this.exitKey(t),null!==o.obj&&(o.obj[r]=e)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,r=t.obj;return t.obj={},r},r.prototype.leaveObject=function(t){var r=this._reporterState,e=r.obj;return r.obj=t,e},r.prototype.error=function(t){var r,o=this._reporterState,p=t instanceof e;if(r=p?t:new e(o.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw r;return p||o.errors.push(r),r},r.prototype.wrapResult=function(t){var r=this._reporterState;return r.options.partial?{result:this.isError(t)?null:t,errors:r.errors}:t},t(e,Error),e.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,e),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};
},{"inherits":"9q8B"}],"nkB4":[function(require,module,exports) {

var t=require("inherits"),e=require("../base").Reporter,r=require("buffer").Buffer;function s(t,s){e.call(this,s),r.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function i(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof i||(t=new i(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=r.byteLength(t);else{if(!r.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}t(s,e),exports.DecoderBuffer=s,s.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},s.prototype.restore=function(t){var r=new s(this.base);return r.offset=t.offset,r.length=this.offset,this.offset=t.offset,e.prototype.restore.call(this,t.reporter),r},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},s.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},s.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},exports.EncoderBuffer=i,i.prototype.join=function(t,e){return t||(t=new r(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):r.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)};
},{"inherits":"9q8B","../base":"BpOt","buffer":"eKIq"}],"eHuW":[function(require,module,exports) {
var e=require("../base").Reporter,t=require("../base").EncoderBuffer,r=require("../base").DecoderBuffer,i=require("minimalistic-assert"),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}module.exports=c;var a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};a.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},c.prototype._wrap=function(){var e=this._baseState;o.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},c.prototype._init=function(e){var t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(i(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},s.forEach(function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),n.forEach(function(e){c.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return i(null===t.tag),t.tag=e,this._useArgs(r),this}}),c.prototype.use=function(e){i(e);var t=this._baseState;return i(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return i(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return i(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},c.prototype.contains=function(e){var t=this._baseState;return i(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n,o=i.default,s=!0,c=null;if(null!==i.key&&(c=e.enterKey(i.key)),i.optional){var a=null;if(null!==i.explicit?a=i.explicit:null!==i.implicit?a=i.implicit:null!==i.tag&&(a=i.tag),null!==a||i.any){if(s=this._peekTag(e,a,i.any),e.isError(s))return s}else{var l=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(l)}}if(i.obj&&s&&(n=e.enterObject()),s){if(null!==i.explicit){var u=this._decodeTag(e,i.explicit);if(e.isError(u))return u;e=u}var d=e.offset;if(null===i.use&&null===i.choice){if(i.any)l=e.save();var h=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(h))return h;i.any?o=e.raw(l):e=h}if(t&&t.track&&null!==i.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),o=i.any?o:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(o))return o;if(i.any||null!==i.choice||null===i.children||i.children.forEach(function(r){r._decode(e,t)}),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var p=new r(o);o=this._getUse(i.contains,e._reporterState.obj)._decode(p,t)}}return i.obj&&s&&(o=e.leaveObject(n)),null===i.key||null===o&&!0!==s?null!==c&&e.exitKey(c):e.leaveKey(c,i.key,o),o},c.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=e.save(),c=r.choice[o];try{var a=c._decode(e,t);if(e.isError(a))return!1;i={type:o,value:a},n=!0}catch(t){return e.restore(s),!1}return!0},this),n?i:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new t(e,this.reporter)},c.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i.default||i.default!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},c.prototype._encodeValue=function(t,r,i){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,r||new e);var o=null;if(this.reporter=r,n.optional&&void 0===t){if(null===n.default)return;t=n.default}var s=null,c=!1;if(n.any)o=this._createEncoderBuffer(t);else if(n.choice)o=this._encodeChoice(t,r);else if(n.contains)s=this._getUse(n.contains,i)._encode(t,r),c=!0;else if(n.children)s=n.children.map(function(e){if("null_"===e._baseState.tag)return e._encode(null,r,t);if(null===e._baseState.key)return r.error("Child should have a key");var i=r.enterKey(e._baseState.key);if("object"!=typeof t)return r.error("Child expected, but input is not object");var n=e._encode(t[e._baseState.key],r,t);return r.leaveKey(i),n},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return r.error("Too many args for : "+n.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(e){var i=this._baseState;return this._getUse(i.args[0],t)._encode(e,r)},a))}else null!==n.use?o=this._getUse(n.use,i)._encode(t,r):(s=this._encodePrimitive(n.tag,t),c=!0);if(!n.any&&null===n.choice){var l=null!==n.implicit?n.implicit:n.tag,u=null===n.implicit?"universal":"context";null===l?null===n.use&&r.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(l,c,u,s))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)};
},{"../base":"BpOt","minimalistic-assert":"iHaQ"}],"BpOt":[function(require,module,exports) {
var e=exports;e.Reporter=require("./reporter").Reporter,e.DecoderBuffer=require("./buffer").DecoderBuffer,e.EncoderBuffer=require("./buffer").EncoderBuffer,e.Node=require("./node");
},{"./reporter":"IJ1h","./buffer":"nkB4","./node":"eHuW"}],"fdJF":[function(require,module,exports) {
var t=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=t._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=t._reverse(exports.tag);
},{"../constants":"isbO"}],"isbO":[function(require,module,exports) {
var r=exports;r._reverse=function(r){var e={};return Object.keys(r).forEach(function(n){(0|n)==n&&(n|=0);var t=r[n];e[t]=n}),e},r.der=require("./der");
},{"./der":"fdJF"}],"O9a/":[function(require,module,exports) {
var r=require("inherits"),t=require("../../asn1"),e=t.base,i=t.bignum,o=t.constants.der;function n(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new s,this.tree._init(r.body)}function s(r){e.Node.call(this,"der",r)}function a(r,t){var e=r.readUInt8(t);if(r.isError(e))return e;var i=o.tagClass[e>>6],n=0==(32&e);if(31==(31&e)){var s=e;for(e=0;128==(128&s);){if(s=r.readUInt8(t),r.isError(s))return s;e<<=7,e|=127&s}}else e&=31;return{cls:i,primitive:n,tag:e,tagStr:o.tag[e]}}function u(r,t,e){var i=r.readUInt8(e);if(r.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;var o=127&i;if(o>4)return r.error("length octect is too long");i=0;for(var n=0;n<o;n++){i<<=8;var s=r.readUInt8(e);if(r.isError(s))return s;i|=s}return i}module.exports=n,n.prototype.decode=function(r,t){return r instanceof e.DecoderBuffer||(r=new e.DecoderBuffer(r,t)),this.tree._decode(r,t)},r(s,e.Node),s.prototype._peekTag=function(r,t,e){if(r.isEmpty())return!1;var i=r.save(),o=a(r,'Failed to peek tag: "'+t+'"');return r.isError(o)?o:(r.restore(i),o.tag===t||o.tagStr===t||o.tagStr+"of"===t||e)},s.prototype._decodeTag=function(r,t,e){var i=a(r,'Failed to decode tag of "'+t+'"');if(r.isError(i))return i;var o=u(r,i.primitive,'Failed to get length of "'+t+'"');if(r.isError(o))return o;if(!e&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return r.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==o)return r.skip(o,'Failed to match body of: "'+t+'"');var n=r.save(),s=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(s)?s:(o=r.offset-n.offset,r.restore(n),r.skip(o,'Failed to match body of: "'+t+'"'))},s.prototype._skipUntilEnd=function(r,t){for(;;){var e=a(r,t);if(r.isError(e))return e;var i,o=u(r,e.primitive,t);if(r.isError(o))return o;if(i=e.primitive||null!==o?r.skip(o):this._skipUntilEnd(r,t),r.isError(i))return i;if("end"===e.tagStr)break}},s.prototype._decodeList=function(r,t,e,i){for(var o=[];!r.isEmpty();){var n=this._peekTag(r,"end");if(r.isError(n))return n;var s=e.decode(r,"der",i);if(r.isError(s)&&n)break;o.push(s)}return o},s.prototype._decodeStr=function(r,t){if("bitstr"===t){var e=r.readUInt8();return r.isError(e)?e:{unused:e,data:r.raw()}}if("bmpstr"===t){var i=r.raw();if(i.length%2==1)return r.error("Decoding of string type: bmpstr length mismatch");for(var o="",n=0;n<i.length/2;n++)o+=String.fromCharCode(i.readUInt16BE(2*n));return o}if("numstr"===t){var s=r.raw().toString("ascii");return this._isNumstr(s)?s:r.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return r.raw();if("objDesc"===t)return r.raw();if("printstr"===t){var a=r.raw().toString("ascii");return this._isPrintstr(a)?a:r.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?r.raw().toString():r.error("Decoding of string type: "+t+" unsupported")},s.prototype._decodeObjid=function(r,t,e){for(var i,o=[],n=0;!r.isEmpty();){var s=r.readUInt8();n<<=7,n|=127&s,0==(128&s)&&(o.push(n),n=0)}128&s&&o.push(n);var a=o[0]/40|0,u=o[0]%40;if(i=e?o:[a,u].concat(o.slice(1)),t){var d=t[i.join(" ")];void 0===d&&(d=t[i.join(".")]),void 0!==d&&(i=d)}return i},s.prototype._decodeTime=function(r,t){var e=r.raw().toString();if("gentime"===t)var i=0|e.slice(0,4),o=0|e.slice(4,6),n=0|e.slice(6,8),s=0|e.slice(8,10),a=0|e.slice(10,12),u=0|e.slice(12,14);else{if("utctime"!==t)return r.error("Decoding "+t+" time is not supported yet");i=0|e.slice(0,2),o=0|e.slice(2,4),n=0|e.slice(4,6),s=0|e.slice(6,8),a=0|e.slice(8,10),u=0|e.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,a,u,0)},s.prototype._decodeNull=function(r){return null},s.prototype._decodeBool=function(r){var t=r.readUInt8();return r.isError(t)?t:0!==t},s.prototype._decodeInt=function(r,t){var e=r.raw(),o=new i(e);return t&&(o=t[o.toString(10)]||o),o},s.prototype._use=function(r,t){return"function"==typeof r&&(r=r(t)),r._getDecoder("der").tree};
},{"inherits":"9q8B","../../asn1":"MIic"}],"MHHe":[function(require,module,exports) {

var e=require("inherits"),r=require("buffer").Buffer,i=require("./der");function t(e){i.call(this,e),this.enc="pem"}e(t,i),module.exports=t,t.prototype.decode=function(e,t){for(var o=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,l=-1,c=0;c<o.length;c++){var u=o[c].match(a);if(null!==u&&u[2]===n){if(-1!==f){if("END"!==u[1])break;l=c;break}if("BEGIN"!==u[1])break;f=c}}if(-1===f||-1===l)throw new Error("PEM section not found for: "+n);var p=o.slice(f+1,l).join("");p.replace(/[^a-z0-9\+\/=]+/gi,"");var s=new r(p,"base64");return i.prototype.decode.call(this,s,t)};
},{"inherits":"9q8B","buffer":"eKIq","./der":"O9a/"}],"O24T":[function(require,module,exports) {
var e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"O9a/","./pem":"MHHe"}],"vQsD":[function(require,module,exports) {

var e=require("inherits"),r=require("buffer").Buffer,t=require("../../asn1"),n=t.base,o=t.constants.der;function i(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new s,this.tree._init(e.body)}function s(e){n.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}function u(e,r,t,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(r||(i|=32),i|=o.tagClassByName[t||"universal"]<<6)}module.exports=i,i.prototype.encode=function(e,r){return this.tree._encode(e,r).join()},e(s,n.Node),s.prototype._encodeComposite=function(e,t,n,o){var i,s=u(e,t,n,this.reporter);if(o.length<128)return(i=new r(2))[0]=s,i[1]=o.length,this._createEncoderBuffer([i,o]);for(var f=1,a=o.length;a>=256;a>>=8)f++;(i=new r(2+f))[0]=s,i[1]=128|f;a=1+f;for(var c=o.length;c>0;a--,c>>=8)i[a]=255&c;return this._createEncoderBuffer([i,o])},s.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new r(2*e.length),o=0;o<e.length;o++)n.writeUInt16BE(e.charCodeAt(o),2*o);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},s.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var o=0;o<e.length;o++)e[o]|=0}else if(Array.isArray(e)){e=e.slice();for(o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var i=0;for(o=0;o<e.length;o++){var s=e[o];for(i++;s>=128;s>>=7)i++}var f=new r(i),u=f.length-1;for(o=e.length-1;o>=0;o--){s=e[o];for(f[u--]=127&s;(s>>=7)>0;)f[u--]=128|127&s}return this._createEncoderBuffer(f)},s.prototype._encodeTime=function(e,r){var t,n=new Date(e);return"gentime"===r?t=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===r?t=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(t,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new r(n)}if(r.isBuffer(e)){var o=e.length;0===e.length&&o++;var i=new r(o);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);o=1;for(var s=e;s>=256;s>>=8)o++;for(s=(i=new Array(o)).length-1;s>=0;s--)i[s]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new r(i))},s.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},s.prototype._use=function(e,r){return"function"==typeof e&&(e=e(r)),e._getEncoder("der").tree},s.prototype._skipDefault=function(e,r,t){var n,o=this._baseState;if(null===o.default)return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o.default,r,t).join()),i.length!==o.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==o.defaultBuffer[n])return!1;return!0};
},{"inherits":"9q8B","buffer":"eKIq","../../asn1":"MIic"}],"am7i":[function(require,module,exports) {
var e=require("inherits"),r=require("./der");function t(e){r.call(this,e),this.enc="pem"}e(t,r),module.exports=t,t.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),o=["-----BEGIN "+t.label+"-----"],i=0;i<n.length;i+=64)o.push(n.slice(i,i+64));return o.push("-----END "+t.label+"-----"),o.join("\n")};
},{"inherits":"9q8B","./der":"vQsD"}],"5PLH":[function(require,module,exports) {
var e=exports;e.der=require("./der"),e.pem=require("./pem");
},{"./der":"vQsD","./pem":"am7i"}],"MIic":[function(require,module,exports) {
var e=exports;e.bignum=require("bn.js"),e.define=require("./asn1/api").define,e.base=require("./asn1/base"),e.constants=require("./asn1/constants"),e.decoders=require("./asn1/decoders"),e.encoders=require("./asn1/encoders");
},{"bn.js":"FQk1","./asn1/api":"QF3g","./asn1/base":"BpOt","./asn1/constants":"isbO","./asn1/decoders":"O24T","./asn1/encoders":"5PLH"}],"sPFh":[function(require,module,exports) {
"use strict";var e=require("asn1.js"),i=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),s=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),n=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}),o=e.define("RelativeDistinguishedName",function(){this.setof(t)}),u=e.define("RDNSequence",function(){this.seqof(o)}),h=e.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),c=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),r=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(h),this.key("validity").use(c),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),y=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(r),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())});module.exports=y;
},{"asn1.js":"MIic"}],"GI9q":[function(require,module,exports) {
"use strict";var e=require("asn1.js");exports.certificate=require("./certificate");var i=e.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=i;var t=e.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=t;var s=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});exports.PublicKey=s;var n=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=e.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=o;var r=e.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=r;var y=e.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=y,exports.DSAparam=e.define("DSAparam",function(){this.int()});var h=e.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(a),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=h;var a=e.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=e.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});
},{"asn1.js":"MIic","./certificate":"sPFh"}],"yojs":[function(require,module,exports) {
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};
},{}],"lrQK":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,n=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,t=require("evp_bytestokey"),E=require("browserify-aes");module.exports=function(c,s){var i,u=c.toString(),p=u.match(r);if(p){var f="aes"+p[1],o=new e(p[2],"hex"),I=new e(p[3].replace(/[\r\n]/g,""),"base64"),h=t(s,o.slice(0,8),parseInt(p[1],10)).key,m=[],C=E.createDecipheriv(f,h,o);m.push(C.update(I)),m.push(C.final()),i=e.concat(m)}else{var l=u.match(n);i=new e(l[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(a)[1],data:i}};
},{"evp_bytestokey":"M/sc","browserify-aes":"QG7D","buffer":"eKIq"}],"7nSK":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./asn1"),a=require("./aesid.json"),t=require("./fixProc"),i=require("browserify-aes"),c=require("pbkdf2");function d(a){var i;"object"!=typeof a||e.isBuffer(a)||(i=a.passphrase,a=a.key),"string"==typeof a&&(a=new e(a));var c,d,o=t(a,i),u=o.tag,n=o.data;switch(u){case"CERTIFICATE":d=r.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=r.PublicKey.decode(n,"der")),c=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=r.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+c)}throw new Error("unknown key type "+u);case"ENCRYPTED PRIVATE KEY":n=s(n=r.EncryptedPrivateKey.decode(n,"der"),i);case"PRIVATE KEY":switch(c=(d=r.PrivateKey.decode(n,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:r.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=r.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+c)}throw new Error("unknown key type "+u);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return{curve:(n=r.ECPrivateKey.decode(n,"der")).parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+u)}}function s(r,t){var d=r.algorithm.decrypt.kde.kdeparams.salt,s=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[r.algorithm.decrypt.cipher.algo.join(".")],u=r.algorithm.decrypt.cipher.iv,n=r.subjectPrivateKey,y=parseInt(o.split("-")[1],10)/8,p=c.pbkdf2Sync(t,d,s,y),K=i.createDecipheriv(o,p,u),l=[];return l.push(K.update(n)),l.push(K.final()),e.concat(l)}module.exports=d,d.signature=r.signature;
},{"./asn1":"GI9q","./aesid.json":"yojs","./fixProc":"lrQK","browserify-aes":"QG7D","pbkdf2":"1oZ5","buffer":"eKIq"}],"Ya0X":[function(require,module,exports) {
module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};
},{}],"5Piz":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("create-hmac"),t=require("browserify-rsa"),n=require("elliptic").ec,a=require("bn.js"),u=require("parse-asn1"),o=require("./curves.json");function i(r,n,a,o,i){var c=u(n);if(c.curve){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");return d(r,c)}if("dsa"===c.type){if("dsa"!==o)throw new Error("wrong private key type");return p(r,c,a)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong private key type");r=e.concat([i,r]);for(var s=c.modulus.byteLength(),g=[0,1];r.length+g.length+1<s;)g.push(255);g.push(0);for(var v=-1;++v<r.length;)g.push(r[v]);return t(g,c)}function d(r,t){var a=o[t.curve.join(".")];if(!a)throw new Error("unknown curve "+t.curve.join("."));var u=new n(a).keyFromPrivate(t.privateKey).sign(r);return new e(u.toDER())}function p(e,r,t){for(var n,u=r.params.priv_key,o=r.params.p,i=r.params.q,d=r.params.g,p=new a(0),v=g(e,i).mod(i),l=!1,w=s(u,i,e,t);!1===l;)p=h(d,n=f(i,w,t),o,i),0===(l=n.invm(i).imul(v.add(u.mul(p))).mod(i)).cmpn(0)&&(l=!1,p=new a(0));return c(p,l)}function c(r,t){r=r.toArray(),t=t.toArray(),128&r[0]&&(r=[0].concat(r)),128&t[0]&&(t=[0].concat(t));var n=[48,r.length+t.length+4,2,r.length];return n=n.concat(r,[2,t.length],t),new e(n)}function s(t,n,a,u){if((t=new e(t.toArray())).length<n.byteLength()){var o=new e(n.byteLength()-t.length);o.fill(0),t=e.concat([o,t])}var i=a.length,d=v(a,n),p=new e(i);p.fill(1);var c=new e(i);return c.fill(0),c=r(u,c).update(p).update(new e([0])).update(t).update(d).digest(),p=r(u,c).update(p).digest(),{k:c=r(u,c).update(p).update(new e([1])).update(t).update(d).digest(),v:p=r(u,c).update(p).digest()}}function g(e,r){var t=new a(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function v(r,t){r=(r=g(r,t)).mod(t);var n=new e(r.toArray());if(n.length<t.byteLength()){var a=new e(t.byteLength()-n.length);a.fill(0),n=e.concat([a,n])}return n}function f(t,n,a){var u,o;do{for(u=new e(0);8*u.length<t.bitLength();)n.v=r(a,n.k).update(n.v).digest(),u=e.concat([u,n.v]);o=g(u,t),n.k=r(a,n.k).update(n.v).update(new e([0])).digest(),n.v=r(a,n.k).update(n.v).digest()}while(-1!==o.cmp(t));return o}function h(e,r,t,n){return e.toRed(a.mont(t)).redPow(r).fromRed().mod(n)}module.exports=i,module.exports.getKey=s,module.exports.makeKey=f;
},{"create-hmac":"ki/q","browserify-rsa":"in/U","elliptic":"rfaM","bn.js":"FQk1","parse-asn1":"7nSK","./curves.json":"Ya0X","buffer":"eKIq"}],"Hx5b":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("bn.js"),n=require("elliptic").ec,t=require("parse-asn1"),o=require("./curves.json");function a(n,o,a,d,c){var w=t(a);if("ec"===w.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return u(n,o,w)}if("dsa"===w.type){if("dsa"!==d)throw new Error("wrong public key type");return i(n,o,w)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");o=r.concat([c,o]);for(var s=w.modulus.byteLength(),f=[1],l=0;o.length+f.length+2<s;)f.push(255),l++;f.push(0);for(var m=-1;++m<o.length;)f.push(o[m]);f=new r(f);var p=e.mont(w.modulus);n=(n=new e(n).toRed(p)).redPow(new e(w.publicExponent)),n=new r(n.fromRed().toArray());var h=l<8?1:0;for(s=Math.min(n.length,f.length),n.length!==f.length&&(h=1),m=-1;++m<s;)h|=n[m]^f[m];return 0===h}function u(r,e,t){var a=o[t.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+t.data.algorithm.curve.join("."));var u=new n(a),i=t.data.subjectPrivateKey.data;return u.verify(e,r,i)}function i(r,n,o){var a=o.data.p,u=o.data.q,i=o.data.g,c=o.data.pub_key,w=t.signature.decode(r,"der"),s=w.s,f=w.r;d(s,u),d(f,u);var l=e.mont(a),m=s.invm(u);return 0===i.toRed(l).redPow(new e(n).mul(m).mod(u)).fromRed().mul(c.toRed(l).redPow(f.mul(m).mod(u)).fromRed()).mod(a).mod(u).cmp(f)}function d(r,e){if(r.cmpn(0)<=0)throw new Error("invalid sig");if(r.cmp(e)>=e)throw new Error("invalid sig")}module.exports=a;
},{"bn.js":"FQk1","elliptic":"rfaM","parse-asn1":"7nSK","./curves.json":"Ya0X","buffer":"eKIq"}],"JPzM":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("create-hash"),i=require("stream"),r=require("inherits"),s=require("./sign"),n=require("./verify"),h=require("./algorithms.json");function a(t){i.Writable.call(this);var r=h[t];if(!r)throw new Error("Unknown message digest");this._hashType=r.hash,this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function o(t){i.Writable.call(this);var r=h[t];if(!r)throw new Error("Unknown message digest");this._hash=e(r.hash),this._tag=r.id,this._signType=r.sign}function u(t){return new a(t)}function p(t){return new o(t)}Object.keys(h).forEach(function(e){h[e].id=new t(h[e].id,"hex"),h[e.toLowerCase()]=h[e]}),r(a,i.Writable),a.prototype._write=function(t,e,i){this._hash.update(t),i()},a.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},a.prototype.sign=function(t,e){this.end();var i=this._hash.digest(),r=s(i,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},r(o,i.Writable),o.prototype._write=function(t,e,i){this._hash.update(t),i()},o.prototype.update=function(e,i){return"string"==typeof e&&(e=new t(e,i)),this._hash.update(e),this},o.prototype.verify=function(e,i,r){"string"==typeof i&&(i=new t(i,r)),this.end();var s=this._hash.digest();return n(i,s,e,this._signType,this._tag)},module.exports={Sign:u,Verify:p,createSign:u,createVerify:p};
},{"create-hash":"Uj4C","stream":"Rhfi","inherits":"9q8B","./sign":"5Piz","./verify":"Hx5b","./algorithms.json":"sXju","buffer":"eKIq"}],"tnQ+":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("elliptic"),r=require("bn.js");module.exports=function(e){return new n(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function s(t,r,i){Array.isArray(t)||(t=t.toArray());var n=new e(t);if(i&&n.length<i){var s=new e(i-n.length);s.fill(0),n=e.concat([s,n])}return r?n.toString(r):n}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(t,r,i){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},n.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(t,r){return r=r||"utf8",e.isBuffer(t)||(t=new e(t,r)),this.keys._importPublic(t),this},n.prototype.setPrivateKey=function(t,i){i=i||"utf8",e.isBuffer(t)||(t=new e(t,i));var n=new r(t);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this};
},{"elliptic":"rfaM","bn.js":"FQk1","buffer":"eKIq"}],"+kQA":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("create-hash");function t(r){var t=new e(4);return t.writeUInt32BE(r,0),t}module.exports=function(n,u){for(var a,f=new e(""),i=0;f.length<u;)a=t(i++),f=e.concat([f,r("sha1").update(n).update(a).digest()]);return f.slice(0,u)};
},{"create-hash":"Uj4C","buffer":"eKIq"}],"mhOQ":[function(require,module,exports) {
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],"+U47":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js");function o(o,u){return new e(o.toRed(r.mont(u.modulus)).redPow(new r(u.publicExponent)).fromRed().toArray())}module.exports=o;
},{"bn.js":"FQk1","buffer":"eKIq"}],"4yNI":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("parse-asn1"),n=require("randombytes"),o=require("create-hash"),t=require("./mgf"),u=require("./xor"),i=require("bn.js"),a=require("./withPublic"),w=require("browserify-rsa"),f={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};function s(r,a){var w=r.modulus.byteLength(),f=a.length,s=o("sha1").update(new e("")).digest(),l=s.length,g=2*l;if(f>w-g-2)throw new Error("message too long");var d=new e(w-f-g-2);d.fill(0);var h=w-l-1,c=n(l),m=u(e.concat([s,d,new e([1]),a],h),t(c,h)),q=u(c,t(m,l));return new i(e.concat([new e([0]),q,m],w))}function l(r,n,o){var t,u=n.length,a=r.modulus.byteLength();if(u>a-11)throw new Error("message too long");return o?(t=new e(a-u-3)).fill(255):t=g(a-u-3),new i(e.concat([new e([0,o?1:2]),t,new e([0]),n],a))}function g(r,o){for(var t,u=new e(r),i=0,a=n(2*r),w=0;i<r;)w===a.length&&(a=n(2*r),w=0),(t=a[w++])&&(u[i++]=t);return u}module.exports=function(e,n,o){var t;t=e.padding?e.padding:o?1:4;var u,f=r(e);if(4===t)u=s(f,n);else if(1===t)u=l(f,n,o);else{if(3!==t)throw new Error("unknown padding");if((u=new i(n)).cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return o?w(u,f):a(u,f)};
},{"parse-asn1":"7nSK","randombytes":"GkF8","create-hash":"Uj4C","./mgf":"+kQA","./xor":"mhOQ","bn.js":"FQk1","./withPublic":"+U47","browserify-rsa":"in/U","buffer":"eKIq"}],"hrGu":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("parse-asn1"),n=require("./mgf"),t=require("./xor"),i=require("bn.js"),o=require("browserify-rsa"),u=require("create-hash"),l=require("./withPublic");function h(e,i){e.modulus;var o=e.modulus.byteLength(),l=(i.length,u("sha1").update(new r("")).digest()),h=l.length;if(0!==i[0])throw new Error("decryption error");var a=i.slice(1,h+1),c=i.slice(h+1),s=t(a,n(c,h)),w=t(c,n(s,o-h-1));if(f(l,w.slice(0,h)))throw new Error("decryption error");for(var g=h;0===w[g];)g++;if(1!==w[g++])throw new Error("decryption error");return w.slice(g)}function a(r,e,n){for(var t=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var u=e.slice(2,i-1);e.slice(i-1,i);if(("0002"!==t.toString("hex")&&!n||"0001"!==t.toString("hex")&&n)&&o++,u.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function f(e,n){e=new r(e),n=new r(n);var t=0,i=e.length;e.length!==n.length&&(t++,i=Math.min(e.length,n.length));for(var o=-1;++o<i;)t+=e[o]^n[o];return t}module.exports=function(n,t,u){var f;f=n.padding?n.padding:u?1:4;var c,s=e(n),w=s.modulus.byteLength();if(t.length>w||new i(t).cmp(s.modulus)>=0)throw new Error("decryption error");c=u?l(new i(t),s):o(t,s);var g=new r(w-c.length);if(g.fill(0),c=r.concat([g,c],w),4===f)return h(s,c);if(1===f)return a(s,c,u);if(3===f)return c;throw new Error("unknown padding")};
},{"parse-asn1":"7nSK","./mgf":"+kQA","./xor":"mhOQ","bn.js":"FQk1","browserify-rsa":"in/U","create-hash":"Uj4C","./withPublic":"+U47","buffer":"eKIq"}],"uoFa":[function(require,module,exports) {
exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./publicEncrypt":"4yNI","./privateDecrypt":"hrGu"}],"BWvl":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var r=arguments[3],e=require("process");function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=require("safe-buffer"),o=require("randombytes"),f=t.Buffer,u=t.kMaxLength,i=r.crypto||r.msCrypto,a=Math.pow(2,32)-1;function s(r,e){if("number"!=typeof r||r!=r)throw new TypeError("offset must be a number");if(r>a||r<0)throw new TypeError("offset must be a uint32");if(r>u||r>e)throw new RangeError("offset out of range")}function m(r,e,n){if("number"!=typeof r||r!=r)throw new TypeError("size must be a number");if(r>a||r<0)throw new TypeError("size must be a uint32");if(r+e>n||r>u)throw new RangeError("buffer too small")}function l(e,n,t,o){if(!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)o=n,n=0,t=e.length;else if("function"==typeof t)o=t,t=e.length-n;else if("function"!=typeof o)throw new TypeError('"cb" argument must be a function');return s(n,e.length),m(t,n,e.length),p(e,n,t,o)}function p(r,n,t,f){if(e.browser){var u=r.buffer,a=new Uint8Array(u,n,t);return i.getRandomValues(a),f?void e.nextTick(function(){f(null,r)}):r}if(!f)return o(t).copy(r,n),r;o(t,function(e,t){if(e)return f(e);t.copy(r,n),f(null,r)})}function w(e,n,t){if(void 0===n&&(n=0),!(f.isBuffer(e)||e instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return s(n,e.length),void 0===t&&(t=e.length-n),m(t,n,e.length),p(e,n,t)}i&&i.getRandomValues||!e.browser?(exports.randomFill=l,exports.randomFillSync=w):(exports.randomFill=n,exports.randomFillSync=n);
},{"safe-buffer":"7/vb","randombytes":"GkF8","process":"HLGr"}],"3Cgj":[function(require,module,exports) {
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var e=require("browserify-sign/algos"),r=Object.keys(e),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);exports.getHashes=function(){return t};var i=require("pbkdf2");exports.pbkdf2=i.pbkdf2,exports.pbkdf2Sync=i.pbkdf2Sync;var p=require("browserify-cipher");exports.Cipher=p.Cipher,exports.createCipher=p.createCipher,exports.Cipheriv=p.Cipheriv,exports.createCipheriv=p.createCipheriv,exports.Decipher=p.Decipher,exports.createDecipher=p.createDecipher,exports.Decipheriv=p.Decipheriv,exports.createDecipheriv=p.createDecipheriv,exports.getCiphers=p.getCiphers,exports.listCiphers=p.listCiphers;var s=require("diffie-hellman");exports.DiffieHellmanGroup=s.DiffieHellmanGroup,exports.createDiffieHellmanGroup=s.createDiffieHellmanGroup,exports.getDiffieHellman=s.getDiffieHellman,exports.createDiffieHellman=s.createDiffieHellman,exports.DiffieHellman=s.DiffieHellman;var a=require("browserify-sign");exports.createSign=a.createSign,exports.Sign=a.Sign,exports.createVerify=a.createVerify,exports.Verify=a.Verify,exports.createECDH=require("create-ecdh");var o=require("public-encrypt");exports.publicEncrypt=o.publicEncrypt,exports.privateEncrypt=o.privateEncrypt,exports.publicDecrypt=o.publicDecrypt,exports.privateDecrypt=o.privateDecrypt;var c=require("randomfill");exports.randomFill=c.randomFill,exports.randomFillSync=c.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6};
},{"randombytes":"GkF8","create-hash":"Uj4C","create-hmac":"ki/q","browserify-sign/algos":"e+N1","pbkdf2":"1oZ5","browserify-cipher":"+IlK","diffie-hellman":"u5qG","browserify-sign":"JPzM","create-ecdh":"tnQ+","public-encrypt":"uoFa","randomfill":"BWvl"}],"3S0m":[function(require,module,exports) {
var process = require("process");
var __dirname = "/Users/silverdust/Projects/Research/IML/custom-markers/node_modules/jsartoolkit5/build";
var Buffer = require("buffer").Buffer;
var global = arguments[3];
var process=require("process"),__dirname="/Users/silverdust/Projects/Research/IML/custom-markers/node_modules/jsartoolkit5/build",Buffer=require("buffer").Buffer,global=arguments[3],Module;Module||(Module=(void 0!==Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,i){e=nodePath.normalize(e);var r=nodeFS.readFileSync(e);return r||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),r=nodeFS.readFileSync(e)),r&&!i&&(r=r.toString()),r},Module.readBinary=function(e){var i=Module.read(e,!0);return i.buffer||(i=new Uint8Array(i)),assert(i.buffer),i},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ExitStatus))throw e}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){if("function"==typeof readbuffer)return new Uint8Array(readbuffer(e));var i=read(e,"binary");return assert("object"==typeof i),i},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments);else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var i=new XMLHttpRequest;return i.open("GET",e,!1),i.send(null),i.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),void 0===Module.setWindowTitle&&(Module.setWindowTitle=function(e){document.title=e})}function globalEval(e){eval.call(null,e)}for(var key in!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[],moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var i=parseInt(e.substr(1));return assert(i%8==0),i/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,i){return"double"===i||"i64"===i?7&e&&(assert(4==(7&e)),e+=4):assert(0==(3&e)),e},getAlignSize:function(e,i,r){return r||"i64"!=e&&"double"!=e?e?Math.min(i||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(i,8):8},dynCall:function(e,i,r){return r&&r.length?(assert(r.length==e.length-1),r.splice||(r=Array.prototype.slice.call(r)),r.splice(0,0,i),assert("dynCall_"+e in Module,"bad function pointer type - no table for sig '"+e+"'"),Module["dynCall_"+e].apply(null,r)):(assert(1==e.length),assert("dynCall_"+e in Module,"bad function pointer type - no table for sig '"+e+"'"),Module["dynCall_"+e].call(null,i))},functionPointers:[],addFunction:function(e){for(var i=0;i<Runtime.functionPointers.length;i++)if(!Runtime.functionPointers[i])return Runtime.functionPointers[i]=e,2*(1+i);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,i){assert(i),Runtime.funcWrappers[i]||(Runtime.funcWrappers[i]={});var r=Runtime.funcWrappers[i];return r[e]||(r[e]=function(){return Runtime.dynCall(i,e,arguments)}),r[e]},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var i=STACKTOP;return assert((0|(STACKTOP=(STACKTOP=STACKTOP+e|0)+15&-16))<(0|STACK_MAX)|0),i},staticAlloc:function(e){var i=STATICTOP;return STATICTOP=(STATICTOP=STATICTOP+(assert(!staticSealed),e)|0)+15&-16,i},dynamicAlloc:function(e){var i=DYNAMICTOP;if((DYNAMICTOP=(DYNAMICTOP=DYNAMICTOP+(assert(DYNAMICTOP>0),e)|0)+15&-16)>=TOTAL_MEMORY&&!enlargeMemory())return DYNAMICTOP=i,0;return i},alignMemory:function(e,i){return e=Math.ceil(e/(i||16))*(i||16)},makeBigInt:function(e,i,r){return r?+(e>>>0)+4294967296*+(i>>>0):+(e>>>0)+4294967296*+(0|i)},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(e,i){e||abort("Assertion failed: "+i)}var globalScope=this,cwrap,ccall;function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,i,r,f){switch("*"===(r=r||"i8").charAt(r.length-1)&&(r="i32"),r){case"i1":case"i8":HEAP8[e>>0]=i;break;case"i16":HEAP16[e>>1]=i;break;case"i32":HEAP32[e>>2]=i;break;case"i64":tempI64=[i>>>0,(tempDouble=i,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=i;break;case"double":HEAPF64[e>>3]=i;break;default:abort("invalid type for setValue: "+r)}}function getValue(e,i,r){switch("*"===(i=i||"i8").charAt(i.length-1)&&(i="i32"),i){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+i)}return null}!function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(e){var i=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,i),i},stringToC:function(e){var i=0;return null!=e&&0!==e&&writeStringToMemory(e,i=Runtime.stackAlloc(1+(e.length<<2))),i}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,i,r,f,a){var l=getCFunc(e),n=[],s=0;if(assert("array"!==i,'Return type should not be "array".'),f)for(var t=0;t<f.length;t++){var o=toC[r[t]];o?(0===s&&(s=Runtime.stackSave()),n[t]=o(f[t])):n[t]=f[t]}var u=l.apply(null,n);if(a&&a.async||"object"!=typeof EmterpreterAsync||assert(!EmterpreterAsync.state,"cannot start async op with normal JS calling ccall"),a&&a.async&&assert(!i,"async ccalls cannot return values"),"string"===i&&(u=Pointer_stringify(u)),0!==s){if(a&&a.async)return void EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(s)});Runtime.stackRestore(s)}return u};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(e){var i=e.toString().match(sourceRegex).slice(1);return{arguments:i[0],body:i[1],returnValue:i[2]}}var JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,i){return"$"+i}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return funcstr+="if (typeof EmterpreterAsync === 'object') { assert(!EmterpreterAsync.state, 'cannot start async op with normal JS calling cwrap') }",numericArgs||(funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.ccall=ccall,Module.cwrap=cwrap,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;function allocate(e,i,r,f){var a,l;"number"==typeof e?(a=!0,l=e):(a=!1,l=e.length);var n,s="string"==typeof i?i:null;if(n=r==ALLOC_NONE?f:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===r?ALLOC_STATIC:r](Math.max(l,s?1:i.length)),a){var t;f=n;for(assert(0==(3&n)),t=n+(-4&l);f<t;f+=4)HEAP32[f>>2]=0;for(t=n+l;f<t;)HEAP8[f++>>0]=0;return n}if("i8"===s)return e.subarray||e.slice?HEAPU8.set(e,n):HEAPU8.set(new Uint8Array(e),n),n;for(var o,u,c,b=0;b<l;){var k=e[b];"function"==typeof k&&(k=Runtime.getFunctionIndex(k)),0!==(o=s||i[b])?(assert(o,"Must know what type to store in allocate!"),"i64"==o&&(o="i32"),setValue(n+b,k,o),c!==o&&(u=Runtime.getNativeTypeSize(o),c=o),b+=u):b++}return n}function getMemory(e){return staticSealed?void 0!==_sbrk&&!_sbrk.called||!runtimeInitialized?Runtime.dynamicAlloc(e):_malloc(e):Runtime.staticAlloc(e)}function Pointer_stringify(e,i){if(0===i||!e)return"";for(var r,f=0,a=0;assert(e+a<TOTAL_MEMORY),f|=r=HEAPU8[e+a>>0],(0!=r||i)&&(a++,!i||a!=i););i||(i=a);var l="";if(f<128){for(var n;i>0;)n=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(i,1024))),l=l?l+n:n,e+=1024,i-=1024;return l}return Module.UTF8ToString(e)}function AsciiToString(e){for(var i="";;){var r=HEAP8[e++>>0];if(!r)return i;i+=String.fromCharCode(r)}}function stringToAscii(e,i){return writeAsciiToMemory(e,i,!1)}function UTF8ArrayToString(e,i){for(var r,f,a,l,n,s="";;){if(!(r=e[i++]))return s;if(128&r)if(f=63&e[i++],192!=(224&r))if(a=63&e[i++],224==(240&r)?r=(15&r)<<12|f<<6|a:(l=63&e[i++],240==(248&r)?r=(7&r)<<18|f<<12|a<<6|l:(n=63&e[i++],r=248==(252&r)?(3&r)<<24|f<<18|a<<12|l<<6|n:(1&r)<<30|f<<24|a<<18|l<<12|n<<6|63&e[i++])),r<65536)s+=String.fromCharCode(r);else{var t=r-65536;s+=String.fromCharCode(55296|t>>10,56320|1023&t)}else s+=String.fromCharCode((31&r)<<6|f);else s+=String.fromCharCode(r)}}function UTF8ToString(e){return UTF8ArrayToString(HEAPU8,e)}function stringToUTF8Array(e,i,r,f){if(!(f>0))return 0;for(var a=r,l=r+f-1,n=0;n<e.length;++n){var s=e.charCodeAt(n);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++n)),s<=127){if(r>=l)break;i[r++]=s}else if(s<=2047){if(r+1>=l)break;i[r++]=192|s>>6,i[r++]=128|63&s}else if(s<=65535){if(r+2>=l)break;i[r++]=224|s>>12,i[r++]=128|s>>6&63,i[r++]=128|63&s}else if(s<=2097151){if(r+3>=l)break;i[r++]=240|s>>18,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}else if(s<=67108863){if(r+4>=l)break;i[r++]=248|s>>24,i[r++]=128|s>>18&63,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}else{if(r+5>=l)break;i[r++]=252|s>>30,i[r++]=128|s>>24&63,i[r++]=128|s>>18&63,i[r++]=128|s>>12&63,i[r++]=128|s>>6&63,i[r++]=128|63&s}}return i[r]=0,r-a}function stringToUTF8(e,i,r){return assert("number"==typeof r,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),stringToUTF8Array(e,HEAPU8,i,r)}function lengthBytesUTF8(e){for(var i=0,r=0;r<e.length;++r){var f=e.charCodeAt(r);f>=55296&&f<=57343&&(f=65536+((1023&f)<<10)|1023&e.charCodeAt(++r)),f<=127?++i:i+=f<=2047?2:f<=65535?3:f<=2097151?4:f<=67108863?5:6}return i}function UTF16ToString(e){for(var i=0,r="";;){var f=HEAP16[e+2*i>>1];if(0==f)return r;++i,r+=String.fromCharCode(f)}}function stringToUTF16(e,i,r){if(assert("number"==typeof r,"stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===r&&(r=2147483647),r<2)return 0;for(var f=i,a=(r-=2)<2*e.length?r/2:e.length,l=0;l<a;++l){var n=e.charCodeAt(l);HEAP16[i>>1]=n,i+=2}return HEAP16[i>>1]=0,i-f}function lengthBytesUTF16(e){return 2*e.length}function UTF32ToString(e){for(var i=0,r="";;){var f=HEAP32[e+4*i>>2];if(0==f)return r;if(++i,f>=65536){var a=f-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(f)}}function stringToUTF32(e,i,r){if(assert("number"==typeof r,"stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),void 0===r&&(r=2147483647),r<4)return 0;for(var f=i,a=f+r-4,l=0;l<e.length;++l){var n=e.charCodeAt(l);if(n>=55296&&n<=57343)n=65536+((1023&n)<<10)|1023&e.charCodeAt(++l);if(HEAP32[i>>2]=n,(i+=4)+4>a)break}return HEAP32[i>>2]=0,i-f}function lengthBytesUTF32(e){for(var i=0,r=0;r<e.length;++r){var f=e.charCodeAt(r);f>=55296&&f<=57343&&++r,i+=4}return i}function demangle(e){var i=!!Module.___cxa_demangle;if(i)try{var r=_malloc(e.length);writeStringToMemory(e.substr(1),r);var f=_malloc(4),a=Module.___cxa_demangle(r,0,0,f);if(0===getValue(f,"i32")&&a)return Pointer_stringify(a)}catch(e){}finally{r&&_free(r),f&&_free(f),a&&_free(a)}var l=3,n={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},s=[],t=!0;var o=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}o=function i(r,f,a){f=f||1/0;var o,u="",c=[];if("N"===e[l]){if(o=function(){"K"===e[++l]&&l++;for(var i=[];"E"!==e[l];)if("S"!==e[l])if("C"!==e[l]){var r=parseInt(e.substr(l)),f=r.toString().length;if(!r||!f){l--;break}var a=e.substr(l+f,r);i.push(a),s.push(a),l+=f+r}else i.push(i[i.length-1]),l+=2;else{l++;var n=e.indexOf("_",l),t=e.substring(l,n)||0;i.push(s[t]||"?"),l=n+1}return l++,i}().join("::"),0==--f)return r?[o]:o}else if(("K"===e[l]||t&&"L"===e[l])&&l++,d=parseInt(e.substr(l))){var b=d.toString().length;o=e.substr(l+b,d),l+=b+d}if(t=!1,"I"===e[l]){l++;var k=i(!0);u+=i(!0,1,!0)[0]+" "+o+"<"+k.join(", ")+">"}else u=o;e:for(;l<e.length&&f-- >0;){var h=e[l++];if(h in n)c.push(n[h]);else switch(h){case"P":c.push(i(!0,1,!0)[0]+"*");break;case"R":c.push(i(!0,1,!0)[0]+"&");break;case"L":l++;var d=e.indexOf("E",l)-l;c.push(e.substr(l,d)),l+=d+2;break;case"A":if(d=parseInt(e.substr(l)),l+=d.toString().length,"_"!==e[l])throw"?";l++,c.push(i(!0,1,!0)[0]+" ["+d+"]");break;case"E":break e;default:u+="?"+h;break e}}return a||1!==c.length||"void"!==c[0]||(c=[]),r?(u&&c.push(u+"?"),c):u+"("+c.join(", ")+")"}()}catch(e){o+="?"}return o.indexOf("?")>=0&&!i&&Runtime.warnOnce("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),o}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var i=demangle(e);return e===i?e:e+" ["+i+"]"})}function jsStackTrace(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(i){e=i}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.getMemory=getMemory,Module.Pointer_stringify=Pointer_stringify,Module.AsciiToString=AsciiToString,Module.stringToAscii=stringToAscii,Module.UTF8ArrayToString=UTF8ArrayToString,Module.UTF8ToString=UTF8ToString,Module.stringToUTF8Array=stringToUTF8Array,Module.stringToUTF8=stringToUTF8,Module.lengthBytesUTF8=lengthBytesUTF8,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.lengthBytesUTF16=lengthBytesUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32,Module.lengthBytesUTF32=lengthBytesUTF32,Module.stackTrace=stackTrace;var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function alignMemoryPage(e){return e%4096>0&&(e+=4096-e%4096),e}var STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,byteLength;function enlargeMemory(){assert(DYNAMICTOP>=TOTAL_MEMORY),assert(TOTAL_MEMORY>4);var e=TOTAL_MEMORY,i=Math.pow(2,31);if(DYNAMICTOP>=i)return!1;for(;TOTAL_MEMORY<=DYNAMICTOP;)if(TOTAL_MEMORY<i/2)TOTAL_MEMORY=alignMemoryPage(2*TOTAL_MEMORY);else{var r=TOTAL_MEMORY;if((TOTAL_MEMORY=alignMemoryPage((3*TOTAL_MEMORY+i)/4))<=r)return!1}if((TOTAL_MEMORY=Math.max(TOTAL_MEMORY,16777216))>=i)return!1;Module.printErr("Warning: Enlarging memory arrays, this is not fast! "+[e,TOTAL_MEMORY]);var f=Date.now();try{if(ArrayBuffer.transfer)buffer=ArrayBuffer.transfer(buffer,TOTAL_MEMORY);else{var a=HEAP8;buffer=new ArrayBuffer(TOTAL_MEMORY)}}catch(e){return!1}return!!_emscripten_replace_memory(buffer)&&(Module.buffer=buffer,Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer),ArrayBuffer.transfer||HEAP8.set(a),Module.printErr("enlarged memory arrays from "+e+" to "+TOTAL_MEMORY+", took "+(Date.now()-f)+" ms (has ArrayBuffer.transfer? "+!!ArrayBuffer.transfer+")"),!0)}try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),byteLength(new ArrayBuffer(4))}catch(e){byteLength=function(e){return e.byteLength}}for(var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||268435456,totalMemory=65536,buffer;totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK;)totalMemory<16777216?totalMemory*=2:totalMemory+=16777216;function callRuntimeCallbacks(e){for(;e.length>0;){var i=e.shift();if("function"!=typeof i){var r=i.func;"number"==typeof r?void 0===i.arg?Runtime.dynCall("v",r):Runtime.dynCall("vi",r,[i.arg]):r(void 0===i.arg?null:i.arg)}else i()}}totalMemory=Math.max(totalMemory,16777216),totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be compliant with the asm.js spec (and given that TOTAL_STACK="+TOTAL_STACK+")"),TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support"),buffer=new ArrayBuffer(TOTAL_MEMORY),HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1,runtimeExited=!1;function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__),runtimeExited=!0}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,i,r){var f=r>0?r:lengthBytesUTF8(e)+1,a=new Array(f),l=stringToUTF8Array(e,a,0,a.length);return i&&(a.length=l),a}function intArrayToString(e){for(var i=[],r=0;r<e.length;r++){var f=e[r];f>255&&(assert(!1,"Character code "+f+" ("+String.fromCharCode(f)+")  at offset "+r+" not in 0x00-0xFF."),f&=255),i.push(String.fromCharCode(f))}return i.join("")}function writeStringToMemory(e,i,r){for(var f=intArrayFromString(e,r),a=0;a<f.length;){var l=f[a];HEAP8[i+a>>0]=l,a+=1}}function writeArrayToMemory(e,i){for(var r=0;r<e.length;r++)HEAP8[i++>>0]=e[r]}function writeAsciiToMemory(e,i,r){for(var f=0;f<e.length;++f)assert(e.charCodeAt(f)==e.charCodeAt(f)&255),HEAP8[i++>>0]=e.charCodeAt(f);r||(HEAP8[i>>0]=0)}function unSign(e,i,r){return e>=0?e:i<=32?2*Math.abs(1<<i-1)+e:Math.pow(2,i)+e}function reSign(e,i,r){if(e<=0)return e;var f=i<=32?Math.abs(1<<i-1):Math.pow(2,i-1);return e>=f&&(i<=32||e>f)&&(e=-2*f+e),e}Module.addOnPreRun=addOnPreRun,Module.addOnInit=addOnInit,Module.addOnPreMain=addOnPreMain,Module.addOnExit=addOnExit,Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,i){var r=65535&e,f=65535&i;return r*f+((e>>>16)*f+r*(i>>>16)<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){e>>>=0;for(var i=0;i<32;i++)if(e&1<<31-i)return i;return 32}),Math.clz32=Math.clz32;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,Math_clz32=Math.clz32,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null,runDependencyTracking={};function getUniqueRunDependency(e){for(var i=e;;){if(!runDependencyTracking[e])return e;e=i+Math.random()}return e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(!runDependencyTracking[e]),runDependencyTracking[e]=1,null===runDependencyWatcher&&"undefined"!=typeof setInterval&&(runDependencyWatcher=setInterval(function(){if(ABORT)return clearInterval(runDependencyWatcher),void(runDependencyWatcher=null);var e=!1;for(var i in runDependencyTracking)e||(e=!0,Module.printErr("still waiting on run dependencies:")),Module.printErr("dependency: "+i);e&&Module.printErr("(end of list)")},1e4))):Module.printErr("warning: run dependency added without ID")}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),e?(assert(runDependencyTracking[e]),delete runDependencyTracking[e]):Module.printErr("warning: run dependency removed without ID"),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var i=dependenciesFulfilled;dependenciesFulfilled=null,i()}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,ASM_CONSTS=[function(e,i,r,f){artoolkit.multiEachMarkerInfo||(artoolkit.multiEachMarkerInfo={});var a=artoolkit.multiEachMarkerInfo;a.visible=e,a.pattId=i,a.pattType=r,a.width=f},function(e,i,r,f,a,l,n,s,t,o,u,c,b,k,h,d,w,_,v,E,m,p,S,g,y,F,A,T,O,M,R,N,P){var D=arguments,C=12;artoolkit.markerInfo||(artoolkit.markerInfo={pos:[0,0],line:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertex:[[0,0],[0,0],[0,0],[0,0]]});var I=artoolkit.markerInfo;I.area=e,I.id=i,I.idPatt=r,I.idMatrix=f,I.dir=a,I.dirPatt=l,I.dirMatrix=n,I.cf=s,I.cfPatt=t,I.cfMatrix=o,I.pos[0]=u,I.pos[1]=c,I.line[0][0]=D[C++],I.line[0][1]=D[C++],I.line[0][2]=D[C++],I.line[1][0]=D[C++],I.line[1][1]=D[C++],I.line[1][2]=D[C++],I.line[2][0]=D[C++],I.line[2][1]=D[C++],I.line[2][2]=D[C++],I.line[3][0]=D[C++],I.line[3][1]=D[C++],I.line[3][2]=D[C++],I.vertex[0][0]=D[C++],I.vertex[0][1]=D[C++],I.vertex[1][0]=D[C++],I.vertex[1][1]=D[C++],I.vertex[2][0]=D[C++],I.vertex[2][1]=D[C++],I.vertex[3][0]=D[C++],I.vertex[3][1]=D[C++],I.errorCorrected=D[C++]},function(e,i,r,f,a){artoolkit.frameMalloc||(artoolkit.frameMalloc={});var l=artoolkit.frameMalloc;l.framepointer=i,l.framesize=r,l.camera=f,l.transform=a}];function _emscripten_asm_const_33(e,i,r,f,a,l,n,s,t,o,u,c,b,k,h,d,w,_,v,E,m,p,S,g,y,F,A,T,O,M,R,N,P,D){return ASM_CONSTS[e](i,r,f,a,l,n,s,t,o,u,c,b,k,h,d,w,_,v,E,m,p,S,g,y,F,A,T,O,M,R,N,P,D)}function _emscripten_asm_const_4(e,i,r,f,a){return ASM_CONSTS[e](i,r,f,a)}function _emscripten_asm_const_5(e,i,r,f,a,l){return ASM_CONSTS[e](i,r,f,a,l)}STATIC_BASE=8,STATICTOP=STATIC_BASE+18320,__ATINIT__.push({func:function(){__GLOBAL__sub_I_ARToolKitJS_cpp()}},{func:function(){__GLOBAL__sub_I_bind_cpp()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,52,9,0,0,52,42,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,115,42,0,0,52,9,0,0,12,47,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,52,9,0,0,205,46,0,0,0,0,0,0,1,0,0,0,128,1,0,0,0,0,0,0,228,8,0,0,186,46,0,0,228,8,0,0,155,46,0,0,228,8,0,0,194,45,0,0,228,8,0,0,163,45,0,0,228,8,0,0,132,45,0,0,228,8,0,0,101,45,0,0,228,8,0,0,70,45,0,0,228,8,0,0,225,45,0,0,228,8,0,0,0,46,0,0,228,8,0,0,31,46,0,0,228,8,0,0,62,46,0,0,228,8,0,0,93,46,0,0,228,8,0,0,124,46,0,0,12,9,0,0,75,47,0,0,48,2,0,0,0,0,0,0,228,8,0,0,88,47,0,0,228,8,0,0,101,47,0,0,12,9,0,0,114,47,0,0,56,2,0,0,0,0,0,0,12,9,0,0,147,47,0,0,64,2,0,0,0,0,0,0,12,9,0,0,181,47,0,0,64,2,0,0,0,0,0,0,200,8,0,0,221,47,0,0,200,8,0,0,223,47,0,0,200,8,0,0,225,47,0,0,200,8,0,0,227,47,0,0,200,8,0,0,229,47,0,0,200,8,0,0,231,47,0,0,200,8,0,0,233,47,0,0,200,8,0,0,235,47,0,0,200,8,0,0,237,47,0,0,200,8,0,0,244,53,0,0,200,8,0,0,239,47,0,0,200,8,0,0,241,47,0,0,200,8,0,0,243,47,0,0,12,9,0,0,245,47,0,0,80,2,0,0,0,0,0,0,12,9,0,0,26,48,0,0,80,2,0,0,0,0,0,0,255,15,0,0,6,16,0,0,18,16,0,0,28,16,0,0,255,255,255,255,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,11,0,0,0,5,0,0,0,10,0,0,0,7,0,0,0,14,0,0,0,15,0,0,0,13,0,0,0,9,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,3,0,0,0,6,0,0,0,12,0,0,0,24,0,0,0,48,0,0,0,96,0,0,0,67,0,0,0,5,0,0,0,10,0,0,0,20,0,0,0,40,0,0,0,80,0,0,0,35,0,0,0,70,0,0,0,15,0,0,0,30,0,0,0,60,0,0,0,120,0,0,0,115,0,0,0,101,0,0,0,73,0,0,0,17,0,0,0,34,0,0,0,68,0,0,0,11,0,0,0,22,0,0,0,44,0,0,0,88,0,0,0,51,0,0,0,102,0,0,0,79,0,0,0,29,0,0,0,58,0,0,0,116,0,0,0,107,0,0,0,85,0,0,0,41,0,0,0,82,0,0,0,39,0,0,0,78,0,0,0,31,0,0,0,62,0,0,0,124,0,0,0,123,0,0,0,117,0,0,0,105,0,0,0,81,0,0,0,33,0,0,0,66,0,0,0,7,0,0,0,14,0,0,0,28,0,0,0,56,0,0,0,112,0,0,0,99,0,0,0,69,0,0,0,9,0,0,0,18,0,0,0,36,0,0,0,72,0,0,0,19,0,0,0,38,0,0,0,76,0,0,0,27,0,0,0,54,0,0,0,108,0,0,0,91,0,0,0,53,0,0,0,106,0,0,0,87,0,0,0,45,0,0,0,90,0,0,0,55,0,0,0,110,0,0,0,95,0,0,0,61,0,0,0,122,0,0,0,119,0,0,0,109,0,0,0,89,0,0,0,49,0,0,0,98,0,0,0,71,0,0,0,13,0,0,0,26,0,0,0,52,0,0,0,104,0,0,0,83,0,0,0,37,0,0,0,74,0,0,0,23,0,0,0,46,0,0,0,92,0,0,0,59,0,0,0,118,0,0,0,111,0,0,0,93,0,0,0,57,0,0,0,114,0,0,0,103,0,0,0,77,0,0,0,25,0,0,0,50,0,0,0,100,0,0,0,75,0,0,0,21,0,0,0,42,0,0,0,84,0,0,0,43,0,0,0,86,0,0,0,47,0,0,0,94,0,0,0,63,0,0,0,126,0,0,0,127,0,0,0,125,0,0,0,121,0,0,0,113,0,0,0,97,0,0,0,65,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,4,0,0,0,2,0,0,0,8,0,0,0,5,0,0,0,10,0,0,0,3,0,0,0,14,0,0,0,9,0,0,0,7,0,0,0,6,0,0,0,13,0,0,0,11,0,0,0,12,0,0,0,255,255,255,255,0,0,0,0,1,0,0,0,7,0,0,0,2,0,0,0,14,0,0,0,8,0,0,0,56,0,0,0,3,0,0,0,63,0,0,0,15,0,0,0,31,0,0,0,9,0,0,0,90,0,0,0,57,0,0,0,21,0,0,0,4,0,0,0,28,0,0,0,64,0,0,0,67,0,0,0,16,0,0,0,112,0,0,0,32,0,0,0,97,0,0,0,10,0,0,0,108,0,0,0,91,0,0,0,70,0,0,0,58,0,0,0,38,0,0,0,22,0,0,0,47,0,0,0,5,0,0,0,54,0,0,0,29,0,0,0,19,0,0,0,65,0,0,0,95,0,0,0,68,0,0,0,45,0,0,0,17,0,0,0,43,0,0,0,113,0,0,0,115,0,0,0,33,0,0,0,77,0,0,0,98,0,0,0,117,0,0,0,11,0,0,0,87,0,0,0,109,0,0,0,35,0,0,0,92,0,0,0,74,0,0,0,71,0,0,0,79,0,0,0,59,0,0,0,104,0,0,0,39,0,0,0,100,0,0,0,23,0,0,0,82,0,0,0,48,0,0,0,119,0,0,0,6,0,0,0,126,0,0,0,55,0,0,0,13,0,0,0,30,0,0,0,62,0,0,0,20,0,0,0,89,0,0,0,66,0,0,0,27,0,0,0,96,0,0,0,111,0,0,0,69,0,0,0,107,0,0,0,46,0,0,0,37,0,0,0,18,0,0,0,53,0,0,0,44,0,0,0,94,0,0,0,114,0,0,0,42,0,0,0,116,0,0,0,76,0,0,0,34,0,0,0,86,0,0,0,78,0,0,0,73,0,0,0,99,0,0,0,103,0,0,0,118,0,0,0,81,0,0,0,12,0,0,0,125,0,0,0,88,0,0,0,61,0,0,0,110,0,0,0,26,0,0,0,36,0,0,0,106,0,0,0,93,0,0,0,52,0,0,0,75,0,0,0,41,0,0,0,72,0,0,0,85,0,0,0,80,0,0,0,102,0,0,0,60,0,0,0,124,0,0,0,105,0,0,0,25,0,0,0,40,0,0,0,51,0,0,0,101,0,0,0,84,0,0,0,24,0,0,0,123,0,0,0,83,0,0,0,50,0,0,0,49,0,0,0,122,0,0,0,120,0,0,0,121,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,136,0,0,0,5,0,0,0,144,0,0,0,6,0,0,0,152,0,0,0,9,0,0,0,176,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,253,255,255,255,254,255,255,255,0,0,0,0,112,2,0,0,168,2,0,0,200,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,208,2,0,0,168,2,0,0,112,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,104,1,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,168,2,0,0,0,0,0,0,32,2,0,0,1,0,0,0,2,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,96,2,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,1,0,0,0,0,0,0,0,80,2,0,0,3,0,0,0,7,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,216,2,0,0,3,0,0,0,8,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,232,2,0,0,3,0,0,0,9,0,0,0,5,0,0,0,6,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,240,10,0,0,96,11,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,0,0,0,113,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,5,0,0,0,105,65,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,3,0,0,0,5,0,0,0,7,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,211,0,0,0,1,0,0,0,11,0,0,0,13,0,0,0,17,0,0,0,19,0,0,0,23,0,0,0,29,0,0,0,31,0,0,0,37,0,0,0,41,0,0,0,43,0,0,0,47,0,0,0,53,0,0,0,59,0,0,0,61,0,0,0,67,0,0,0,71,0,0,0,73,0,0,0,79,0,0,0,83,0,0,0,89,0,0,0,97,0,0,0,101,0,0,0,103,0,0,0,107,0,0,0,109,0,0,0,113,0,0,0,121,0,0,0,127,0,0,0,131,0,0,0,137,0,0,0,139,0,0,0,143,0,0,0,149,0,0,0,151,0,0,0,157,0,0,0,163,0,0,0,167,0,0,0,169,0,0,0,173,0,0,0,179,0,0,0,181,0,0,0,187,0,0,0,191,0,0,0,193,0,0,0,197,0,0,0,199,0,0,0,209,0,0,0,69,114,114,111,114,58,32,108,97,98,101,108,105,110,103,32,119,111,114,107,32,111,118,101,114,102,108,111,119,46,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,40,37,100,41,32,114,101,113,117,101,115,116,101,100,46,10,0,85,110,107,110,111,119,110,32,111,114,32,117,110,115,117,112,112,111,114,116,101,100,32,108,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,114,101,113,117,101,115,116,101,100,46,32,83,101,116,32,116,111,32,109,97,110,117,97,108,46,10,0,76,97,98,101,108,105,110,103,32,116,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,46,10,0,77,65,78,85,65,76,0,65,85,84,79,95,77,69,68,73,65,78,0,65,85,84,79,95,79,84,83,85,0,65,85,84,79,95,65,68,65,80,84,73,86,69,65,85,84,79,95,66,82,65,67,75,69,84,73,78,71,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,109,97,114,107,101,114,32,99,111,117,110,116,115,32,45,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,32,91,37,51,100,58,32,37,51,100,93,43,46,10,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,98,114,97,99,107,101,116,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,109,101,100,105,97,110,0,79,116,115,117,0,65,117,116,111,32,116,104,114,101,115,104,111,108,100,32,40,37,115,41,32,97,100,106,117,115,116,101,100,32,116,104,114,101,115,104,111,108,100,32,116,111,32,37,100,46,10,0,63,63,63,32,49,10,0,63,63,63,32,50,10,0,63,63,63,32,51,10,0,69,114,114,111,114,58,32,85,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,32,112,97,115,115,101,100,32,116,111,32,97,114,73,109,97,103,101,80,114,111,99,72,105,115,116,40,41,46,10,0,0,0,0,1,0,1,1,1,0,2,4,255,255,5,3,1,0,2,255,6,7,255,3,1,2,2,3,2,3,2,3,3,0,255,4,6,7,5,255,1,4,5,4,4,5,5,4,5,7,6,6,6,7,7,7,6,255,2,4,6,7,5,3,255,0,1,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,0,1,1,0,1,1,1,1,1,0,0,1,1,1,0,1,1,1,1,1,1,0,0,255,255,3,255,5,6,255,255,9,10,255,12,255,255,15,255,17,18,255,20,255,255,23,24,255,255,27,255,29,30,255,255,1,2,255,4,255,255,7,8,255,255,11,255,13,14,255,16,255,255,19,255,21,22,255,255,25,26,255,28,255,255,31,69,114,114,111,114,58,32,117,110,115,117,112,112,111,114,116,101,100,32,112,105,120,101,108,32,102,111,114,109,97,116,46,10,0,69,114,114,111,114,58,32,78,85,76,76,32,112,97,116,116,72,97,110,100,108,101,46,10,0,69,114,114,111,114,58,32,99,97,110,39,116,32,108,111,97,100,32,112,97,116,116,101,114,110,32,102,114,111,109,32,78,85,76,76,32,98,117,102,102,101,114,46,10,0,69,114,114,111,114,58,32,111,117,116,32,111,102,32,109,101,109,111,114,121,46,10,0,32,9,10,13,0,80,97,116,116,101,114,110,32,68,97,116,97,32,114,101,97,100,32,101,114,114,111,114,33,33,10,0,69,114,114,111,114,32,111,112,101,110,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,114,101,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,39,37,115,39,46,10,0,114,98,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,115,32,102,105,108,101,32,34,37,115,34,32,102,111,114,32,114,101,97,100,105,110,103,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,102,105,108,101,32,108,101,110,103,116,104,46,0,69,114,114,111,114,58,32,115,117,112,112,108,105,101,100,32,102,105,108,101,32,100,111,101,115,32,110,111,116,32,97,112,112,101,97,114,32,116,111,32,98,101,32,97,110,32,65,82,84,111,111,108,75,105,116,32,99,97,109,101,114,97,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,46,10,0,69,114,114,111,114,32,40,37,100,41,58,32,117,110,97,98,108,101,32,116,111,32,114,101,97,100,32,102,114,111,109,32,102,105,108,101,46,0,69,114,114,111,114,58,32,105,99,112,71,101,116,74,95,85,95,88,99,0,69,114,114,111,114,58,32,109,97,108,108,111,99,10,0,69,114,114,111,114,32,49,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,50,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,51,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,52,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,53,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,54,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,69,114,114,111,114,32,55,58,32,105,99,112,71,101,116,73,110,105,116,88,119,50,88,99,10,0,114,0,69,114,114,111,114,58,32,117,110,97,98,108,101,32,116,111,32,111,112,101,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,46,10,0,37,115,37,115,10,0,37,100,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,110,117,109,98,101,114,32,111,102,32,109,97,114,107,101,114,32,99,111,110,102,105,103,115,32,116,111,32,114,101,97,100,46,10,0,79,117,116,32,111,102,32,109,101,109,111,114,121,33,33,10,0,37,108,108,117,37,99,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,112,97,116,116,101,114,110,32,39,37,115,39,32,115,112,101,99,105,102,105,101,100,32,105,110,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,117,114,97,116,105,111,110,32,119,104,105,108,101,32,105,110,32,98,97,114,99,111,100,101,45,111,110,108,121,32,109,111,100,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,100,101,116,101,114,109,105,110,101,32,100,105,114,101,99,116,111,114,121,32,110,97,109,101,46,10,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,58,32,85,110,97,98,108,101,32,116,111,32,108,111,97,100,32,112,97,116,116,101,114,110,32,39,37,115,39,46,10,0,37,108,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,70,105,114,115,116,32,108,105,110,101,32,109,117,115,116,32,98,101,32,112,97,116,116,101,114,110,32,119,105,100,116,104,46,10,0,37,108,102,32,37,108,102,32,37,108,102,32,37,108,102,0,37,102,32,37,102,0,69,114,114,111,114,32,112,114,111,99,101,115,115,105,110,103,32,109,117,108,116,105,109,97,114,107,101,114,32,99,111,110,102,105,103,32,102,105,108,101,32,39,37,115,39,44,32,109,97,114,107,101,114,32,100,101,102,105,110,105,116,105,111,110,32,37,51,100,58,32,76,105,110,101,115,32,50,32,45,32,52,32,109,117,115,116,32,98,101,32,109,97,114,107,101,114,32,116,114,97,110,115,102,111,114,109,46,10,0,97,114,103,108,67,97,109,101,114,97,70,114,117,115,116,117,109,40,41,58,32,97,114,80,97,114,97,109,68,101,99,111,109,112,77,97,116,40,41,32,105,110,100,105,99,97,116,101,100,32,112,97,114,97,109,101,116,101,114,32,101,114,114,111,114,46,10,0,108,111,97,100,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,114,97,109,101,116,101,114,32,102,105,108,101,32,37,115,32,102,111,114,32,99,97,109,101,114,97,46,10,0,42,42,42,32,67,97,109,101,114,97,32,80,97,114,97,109,101,116,101,114,32,114,101,115,105,122,101,100,32,102,114,111,109,32,37,100,44,32,37,100,46,32,42,42,42,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,114,97,109,76,84,67,114,101,97,116,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,58,32,97,114,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,115,101,116,67,97,109,101,114,97,40,41,58,32,69,114,114,111,114,32,99,114,101,97,116,105,110,103,32,51,68,32,104,97,110,100,108,101,0,108,111,97,100,77,97,114,107,101,114,40,41,58,32,69,114,114,111,114,32,108,111,97,100,105,110,103,32,112,97,116,116,101,114,110,32,102,105,108,101,32,37,115,46,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,97,114,107,101,114,46,10,0,99,111,110,102,105,103,32,100,97,116,97,32,108,111,97,100,32,101,114,114,111,114,32,33,33,10,0,65,82,84,111,111,108,75,105,116,74,83,40,41,58,32,85,110,97,98,108,101,32,116,111,32,115,101,116,32,117,112,32,65,82,32,109,117,108,116,105,109,97,114,107,101,114,46,10,0,80,97,116,116,101,114,110,32,100,101,116,101,99,116,105,111,110,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,80,97,116,116,101,114,110,32,114,97,116,105,111,32,115,105,122,101,32,115,101,116,32,116,111,32,37,102,46,10,0,76,97,98,101,108,105,110,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,115,101,116,32,116,111,32,37,100,10,0,84,104,114,101,115,104,111,108,100,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,10,0,111,110,46,0,111,102,102,46,0,68,101,98,117,103,32,109,111,100,101,32,115,101,116,32,116,111,32,37,115,10,0,73,109,97,103,101,32,112,114,111,99,46,32,109,111,100,101,32,115,101,116,32,116,111,32,37,100,46,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,73,110,102,111,34,93,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,118,105,115,105,98,108,101,39,93,32,61,32,36,48,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,73,100,39,93,32,61,32,36,49,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,112,97,116,116,84,121,112,101,39,93,32,61,32,36,50,59,32,109,117,108,116,105,69,97,99,104,77,97,114,107,101,114,91,39,119,105,100,116,104,39,93,32,61,32,36,51,59,32,125,0,123,32,118,97,114,32,36,97,32,61,32,97,114,103,117,109,101,110,116,115,59,32,118,97,114,32,105,32,61,32,49,50,59,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,32,61,32,40,123,32,112,111,115,58,32,91,48,44,48,93,44,32,108,105,110,101,58,32,91,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,44,32,91,48,44,48,44,48,93,93,44,32,118,101,114,116,101,120,58,32,91,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,44,32,91,48,44,48,93,93,32,125,41,59,32,125,32,118,97,114,32,109,97,114,107,101,114,73,110,102,111,32,61,32,97,114,116,111,111,108,107,105,116,91,34,109,97,114,107,101,114,73,110,102,111,34,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,97,114,101,97,34,93,32,61,32,36,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,34,93,32,61,32,36,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,80,97,116,116,34,93,32,61,32,36,50,59,32,109,97,114,107,101,114,73,110,102,111,91,34,105,100,77,97,116,114,105,120,34,93,32,61,32,36,51,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,34,93,32,61,32,36,52,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,80,97,116,116,34,93,32,61,32,36,53,59,32,109,97,114,107,101,114,73,110,102,111,91,34,100,105,114,77,97,116,114,105,120,34,93,32,61,32,36,54,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,34,93,32,61,32,36,55,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,80,97,116,116,34,93,32,61,32,36,56,59,32,109,97,114,107,101,114,73,110,102,111,91,34,99,102,77,97,116,114,105,120,34,93,32,61,32,36,57,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,48,93,32,61,32,36,49,48,59,32,109,97,114,107,101,114,73,110,102,111,91,34,112,111,115,34,93,91,49,93,32,61,32,36,49,49,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,48,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,49,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,50,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,108,105,110,101,34,93,91,51,93,91,50,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,48,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,49,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,50,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,48,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,118,101,114,116,101,120,34,93,91,51,93,91,49,93,32,61,32,36,97,91,105,43,43,93,59,32,109,97,114,107,101,114,73,110,102,111,91,34,101,114,114,111,114,67,111,114,114,101,99,116,101,100,34,93,32,61,32,36,97,91,105,43,43,93,59,32,125,0,115,101,116,117,112,40,41,58,32,69,114,114,111,114,58,32,97,114,80,97,116,116,67,114,101,97,116,101,72,97,110,100,108,101,46,10,0,65,108,108,111,99,97,116,101,100,32,118,105,100,101,111,70,114,97,109,101,83,105,122,101,32,37,100,10,0,123,32,105,102,32,40,33,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,41,32,123,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,32,61,32,40,123,125,41,59,32,125,32,118,97,114,32,102,114,97,109,101,77,97,108,108,111,99,32,61,32,97,114,116,111,111,108,107,105,116,91,34,102,114,97,109,101,77,97,108,108,111,99,34,93,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,112,111,105,110,116,101,114,34,93,32,61,32,36,49,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,102,114,97,109,101,115,105,122,101,34,93,32,61,32,36,50,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,99,97,109,101,114,97,34,93,32,61,32,36,51,59,32,102,114,97,109,101,77,97,108,108,111,99,91,34,116,114,97,110,115,102,111,114,109,34,93,32,61,32,36,52,59,32,125,0,115,101,116,117,112,0,116,101,97,114,100,111,119,110,0,95,97,100,100,77,97,114,107,101,114,0,95,97,100,100,77,117,108,116,105,77,97,114,107,101,114,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,77,97,114,107,101,114,67,111,117,110,116,0,95,108,111,97,100,67,97,109,101,114,97,0,115,101,116,77,97,114,107,101,114,73,110,102,111,68,105,114,0,115,101,116,77,97,114,107,101,114,73,110,102,111,86,101,114,116,101,120,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,83,113,117,97,114,101,67,111,110,116,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,0,103,101,116,84,114,97,110,115,77,97,116,77,117,108,116,105,83,113,117,97,114,101,82,111,98,117,115,116,0,100,101,116,101,99,116,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,78,117,109,0,103,101,116,77,117,108,116,105,69,97,99,104,77,97,114,107,101,114,0,103,101,116,77,97,114,107,101,114,0,115,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,68,101,98,117,103,77,111,100,101,0,103,101,116,80,114,111,99,101,115,115,105,110,103,73,109,97,103,101,0,115,101,116,76,111,103,76,101,118,101,108,0,103,101,116,76,111,103,76,101,118,101,108,0,115,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,78,101,97,114,80,108,97,110,101,0,115,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,103,101,116,80,114,111,106,101,99,116,105,111,110,70,97,114,80,108,97,110,101,0,115,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,103,101,116,84,104,114,101,115,104,111,108,100,77,111,100,101,0,115,101,116,84,104,114,101,115,104,111,108,100,0,103,101,116,84,104,114,101,115,104,111,108,100,0,115,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,103,101,116,80,97,116,116,101,114,110,68,101,116,101,99,116,105,111,110,77,111,100,101,0,115,101,116,80,97,116,116,82,97,116,105,111,0,103,101,116,80,97,116,116,82,97,116,105,111,0,115,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,103,101,116,77,97,116,114,105,120,67,111,100,101,84,121,112,101,0,115,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,103,101,116,76,97,98,101,108,105,110,103,77,111,100,101,0,115,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,103,101,116,73,109,97,103,101,80,114,111,99,77,111,100,101,0,69,82,82,79,82,95,65,82,67,79,78,84,82,79,76,76,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,85,76,84,73,77,65,82,75,69,82,95,78,79,84,95,70,79,85,78,68,0,69,82,82,79,82,95,77,65,82,75,69,82,95,73,78,68,69,88,95,79,85,84,95,79,70,95,66,79,85,78,68,83,0,65,82,95,68,69,66,85,71,95,68,73,83,65,66,76,69,0,65,82,95,68,69,66,85,71,95,69,78,65,66,76,69,0,65,82,95,68,69,70,65,85,76,84,95,68,69,66,85,71,95,77,79,68,69,0,65,82,95,76,65,66,69,76,73,78,71,95,87,72,73,84,69,95,82,69,71,73,79,78,0,65,82,95,76,65,66,69,76,73,78,71,95,66,76,65,67,75,95,82,69,71,73,79,78,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,77,79,68,69,0,65,82,95,68,69,70,65,85,76,84,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,82,65,77,69,95,73,77,65,71,69,0,65,82,95,73,77,65,71,69,95,80,82,79,67,95,70,73,69,76,68,95,73,77,65,71,69,0,65,82,95,68,69,70,65,85,76,84,95,73,77,65,71,69,95,80,82,79,67,95,77,79,68,69,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,68,69,84,69,67,84,73,79,78,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,67,79,76,79,82,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,84,69,77,80,76,65,84,69,95,77,65,84,67,72,73,78,71,95,77,79,78,79,95,65,78,68,95,77,65,84,82,73,88,0,65,82,95,68,69,70,65,85,76,84,95,80,65,84,84,69,82,78,95,68,69,84,69,67,84,73,79,78,95,77,79,68,69,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,78,79,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,0,65,82,95,85,83,69,95,84,82,65,67,75,73,78,71,95,72,73,83,84,79,82,89,95,86,50,0,65,82,95,68,69,70,65,85,76,84,95,77,65,82,75,69,82,95,69,88,84,82,65,67,84,73,79,78,95,77,79,68,69,0,65,82,95,77,65,88,95,76,79,79,80,95,67,79,85,78,84,0,65,82,95,76,79,79,80,95,66,82,69,65,75,95,84,72,82,69,83,72,0,65,82,95,76,79,71,95,76,69,86,69,76,95,68,69,66,85,71,0,65,82,95,76,79,71,95,76,69,86,69,76,95,73,78,70,79,0,65,82,95,76,79,71,95,76,69,86,69,76,95,87,65,82,78,0,65,82,95,76,79,71,95,76,69,86,69,76,95,69,82,82,79,82,0,65,82,95,76,79,71,95,76,69,86,69,76,95,82,69,76,95,73,78,70,79,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,72,65,77,77,73,78,71,54,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,51,120,51,95,80,65,82,73,84,89,54,53,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,57,95,51,0,65,82,95,77,65,84,82,73,88,95,67,79,68,69,95,52,120,52,95,66,67,72,95,49,51,95,53,95,53,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,77,65,78,85,65,76,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,77,69,68,73,65,78,0,65,82,95,76,65,66],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE),allocate([69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,79,84,83,85,0,65,82,95,76,65,66,69,76,73,78,71,95,84,72,82,69,83,72,95,77,79,68,69,95,65,85,84,79,95,65,68,65,80,84,73,86,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,78,79,78,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,65,84,84,69,82,78,95,69,88,84,82,65,67,84,73,79,78,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,71,69,78,69,82,73,67,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,84,82,65,83,84,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,78,79,84,95,70,79,85,78,68,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,66,65,82,67,79,68,69,95,69,68,67,95,70,65,73,76,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,77,65,84,67,72,95,67,79,78,70,73,68,69,78,67,69,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,80,79,83,69,95,69,82,82,79,82,95,77,85,76,84,73,0,65,82,95,77,65,82,75,69,82,95,73,78,70,79,95,67,85,84,79,70,70,95,80,72,65,83,69,95,72,69,85,82,73,83,84,73,67,95,84,82,79,85,66,76,69,83,79,77,69,95,77,65,84,82,73,88,95,67,79,68,69,83,0,118,105,105,102,0,118,105,105,105,0,100,105,105,0,118,105,105,100,0,105,105,0,118,105,105,0,105,105,105,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,99,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,99,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,99,69,69,69,69,0,78,83,116,51,95,95,49,50,49,95,95,98,97,115,105,99,95,115,116,114,105,110,103,95,99,111,109,109,111,110,73,76,98,49,69,69,69,0,105,105,105,105,0,105,105,105,105,105,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,115,116,100,58,58,119,115,116,114,105,110,103,0,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,99,104,97,114,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,115,104,111,114,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,105,110,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,110,115,105,103,110,101,100,32,108,111,110,103,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,56,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,49,54,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,117,105,110,116,51,50,95,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,102,108,111,97,116,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,100,111,117,98,108,101,62,0,101,109,115,99,114,105,112,116,101,110,58,58,109,101,109,111,114,121,95,118,105,101,119,60,108,111,110,103,32,100,111,117,98,108,101,62,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,101,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,100,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,102,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,109,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,108,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,106,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,105,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,116,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,115,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,104,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,97,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,49,49,109,101,109,111,114,121,95,118,105,101,119,73,99,69,69,0,78,49,48,101,109,115,99,114,105,112,116,101,110,51,118,97,108,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,119,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,119,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,119,69,69,69,69,0,78,83,116,51,95,95,49,49,50,98,97,115,105,99,95,115,116,114,105,110,103,73,104,78,83,95,49,49,99,104,97,114,95,116,114,97,105,116,115,73,104,69,69,78,83,95,57,97,108,108,111,99,97,116,111,114,73,104,69,69,69,69,0,83,116,57,98,97,100,95,97,108,108,111,99,0,83,116,57,101,120,99,101,112,116,105,111,110,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0,118,0,98,0,99,0,104,0,97,0,115,0,116,0,105,0,106,0,109,0,102,0,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,33,34,118,101,99,116,111,114,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,47,119,101,98,119,111,114,107,47,101,109,115,100,107,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,118,101,99,116,111,114,0,95,95,116,104,114,111,119,95,108,101,110,103,116,104,95,101,114,114,111,114,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,108,101,110,103,116,104,95,101,114,114,111,114,34,0,47,85,115,101,114,115,47,106,101,114,111,109,101,47,119,101,98,119,111,114,107,47,101,109,115,100,107,47,101,109,115,99,114,105,112,116,101,110,47,49,46,51,53,46,48,47,115,121,115,116,101,109,47,105,110,99,108,117,100,101,47,108,105,98,99,120,120,47,115,116,114,105,110,103,0,32,40,0,41,0,95,98,108,111,99,107,95,105,110,118,111,107,101,0,105,110,118,111,99,97,116,105,111,110,32,102,117,110,99,116,105,111,110,32,102,111,114,32,98,108,111,99,107,32,105,110,32,0,32,99,111,110,115,116,0,32,118,111,108,97,116,105,108,101,0,32,114,101,115,116,114,105,99,116,0,32,91,0,32,91,93,0,93,0,32,99,111,109,112,108,101,120,0,40,0,44,32,0,32,38,0,32,38,38,0,32,0,32,105,109,97,103,105,110,97,114,121,0,58,58,42,0,38,38,0,111,98,106,99,95,111,98,106,101,99,116,60,0,42,0,105,100,0,38,0,111,98,106,99,112,114,111,116,111,0,60,0,62,0,32,118,101,99,116,111,114,91,0,112,105,120,101,108,32,118,101,99,116,111,114,91,0,100,101,99,108,116,121,112,101,40,0,115,116,100,58,58,97,108,108,111,99,97,116,111,114,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,115,116,114,105,110,103,0,115,116,100,58,58,105,115,116,114,101,97,109,0,115,116,100,58,58,111,115,116,114,101,97,109,0,115,116,100,58,58,105,111,115,116,114,101,97,109,0,115,116,100,0,58,58,0,58,58,115,116,114,105,110,103,32,108,105,116,101,114,97,108,0,115,116,100,58,58,0,126,0,39,117,110,110,97,109,101,100,0,39,108,97,109,98,100,97,39,40,0,111,112,101,114,97,116,111,114,38,38,0,111,112,101,114,97,116,111,114,38,0,111,112,101,114,97,116,111,114,38,61,0,111,112,101,114,97,116,111,114,61,0,111,112,101,114,97,116,111,114,40,41,0,111,112,101,114,97,116,111,114,44,0,111,112,101,114,97,116,111,114,126,0,111,112,101,114,97,116,111,114,32,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,91,93,0,111,112,101,114,97,116,111,114,42,0,111,112,101,114,97,116,111,114,32,100,101,108,101,116,101,0,111,112,101,114,97,116,111,114,47,0,111,112,101,114,97,116,111,114,47,61,0,111,112,101,114,97,116,111,114,94,0,111,112,101,114,97,116,111,114,94,61,0,111,112,101,114,97,116,111,114,61,61,0,111,112,101,114,97,116,111,114,62,61,0,111,112,101,114,97,116,111,114,62,0,111,112,101,114,97,116,111,114,91,93,0,111,112,101,114,97,116,111,114,60,61,0,111,112,101,114,97,116,111,114,34,34,32,0,111,112,101,114,97,116,111,114,60,60,0,111,112,101,114,97,116,111,114,60,60,61,0,111,112,101,114,97,116,111,114,60,0,111,112,101,114,97,116,111,114,45,0,111,112,101,114,97,116,111,114,45,61,0,111,112,101,114,97,116,111,114,42,61,0,111,112,101,114,97,116,111,114,45,45,0,111,112,101,114,97,116,111,114,32,110,101,119,91,93,0,111,112,101,114,97,116,111,114,33,61,0,111,112,101,114,97,116,111,114,33,0,111,112,101,114,97,116,111,114,32,110,101,119,0,111,112,101,114,97,116,111,114,124,124,0,111,112,101,114,97,116,111,114,124,0,111,112,101,114,97,116,111,114,124,61,0,111,112,101,114,97,116,111,114,45,62,42,0,111,112,101,114,97,116,111,114,43,0,111,112,101,114,97,116,111,114,43,61,0,111,112,101,114,97,116,111,114,43,43,0,111,112,101,114,97,116,111,114,45,62,0,111,112,101,114,97,116,111,114,63,0,111,112,101,114,97,116,111,114,37,0,111,112,101,114,97,116,111,114,37,61,0,111,112,101,114,97,116,111,114,62,62,0,111,112,101,114,97,116,111,114,62,62,61,0,115,116,100,58,58,98,97,115,105,99,95,115,116,114,105,110,103,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,44,32,115,116,100,58,58,97,108,108,111,99,97,116,111,114,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,115,116,114,105,110,103,0,115,116,100,58,58,98,97,115,105,99,95,105,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,111,115,116,114,101,97,109,0,115,116,100,58,58,98,97,115,105,99,95,105,111,115,116,114,101,97,109,60,99,104,97,114,44,32,115,116,100,58,58,99,104,97,114,95,116,114,97,105,116,115,60,99,104,97,114,62,32,62,0,98,97,115,105,99,95,105,111,115,116,114,101,97,109,0,95,71,76,79,66,65,76,95,95,78,0,40,97,110,111,110,121,109,111,117,115,32,110,97,109,101,115,112,97,99,101,41,0,32,62,0,119,99,104,97,114,95,116,0,102,97,108,115,101,0,116,114,117,101,0,99,104,97,114,0,115,105,103,110,101,100,32,99,104,97,114,0,117,110,115,105,103,110,101,100,32,99,104,97,114,0,115,104,111,114,116,0,117,110,115,105,103,110,101,100,32,115,104,111,114,116,0,0,117,0,108,0,117,108,0,108,108,0,117,108,108,0,95,95,105,110,116,49,50,56,0,117,110,115,105,103,110,101,100,32,95,95,105,110,116,49,50,56,0,37,97,102,0,37,97,0,37,76,97,76,0,38,61,0,61,0,97,108,105,103,110,111,102,32,40,0,99,111,110,115,116,95,99,97,115,116,60,0,62,40,0,44,0,41,40,0,100,101,108,101,116,101,91,93,32,0,100,121,110,97,109,105,99,95,99,97,115,116,60,0,100,101,108,101,116,101,32,0,46,42,0,47,0,47,61,0,94,0,94,61,0,61,61,0,62,61,0,41,91,0,60,61,0,60,60,0,60,60,61,0,45,0,45,61,0,42,61,0,45,45,0,41,45,45,0,91,93,32,0,41,32,0,33,61,0,33,0,110,111,101,120,99,101,112,116,32,40,0,124,124,0,124,0,124,61,0,45,62,42,0,43,0,43,61,0,43,43,0,41,43,43,0,45,62,0,41,32,63,32,40,0,41,32,58,32,40,0,114,101,105,110,116,101,114,112,114,101,116,95,99,97,115,116,60,0,37,0,37,61,0,62,62,0,62,62,61,0,115,116,97,116,105,99,95,99,97,115,116,60,0,115,105,122,101,111,102,32,40,0,115,105,122,101,111,102,46,46,46,40,0,116,121,112,101,105,100,40,0,116,104,114,111,119,0,116,104,114,111,119,32,0,102,112,0,33,34,98,97,115,105,99,95,115,116,114,105,110,103,32,111,117,116,95,111,102,95,114,97,110,103,101,34,0,95,95,116,104,114,111,119,95,111,117,116,95,111,102,95,114,97,110,103,101,0,118,111,105,100,0,98,111,111,108,0,105,110,116,0,117,110,115,105,103,110,101,100,32,105,110,116,0,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,0,108,111,110,103,32,108,111,110,103,0,117,110,115,105,103,110,101,100,32,108,111,110,103,32,108,111,110,103,0,102,108,111,97,116,0,100,111,117,98,108,101,0,108,111,110,103,32,100,111,117,98,108,101,0,95,95,102,108,111,97,116,49,50,56,0,46,46,46,0,100,101,99,105,109,97,108,54,52,0,100,101,99,105,109,97,108,49,50,56,0,100,101,99,105,109,97,108,51,50,0,100,101,99,105,109,97,108,49,54,0,99,104,97,114,51,50,95,116,0,99,104,97,114,49,54,95,116,0,97,117,116,111,0,115,116,100,58,58,110,117,108,108,112,116,114,95,116,0,118,116,97,98,108,101,32,102,111,114,32,0,86,84,84,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,102,111,114,32,0,116,121,112,101,105,110,102,111,32,110,97,109,101,32,102,111,114,32,0,99,111,118,97,114,105,97,110,116,32,114,101,116,117,114,110,32,116,104,117,110,107,32,116,111,32,0,99,111,110,115,116,114,117,99,116,105,111,110,32,118,116,97,98,108,101,32,102,111,114,32,0,45,105,110,45,0,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,110,111,110,45,118,105,114,116,117,97,108,32,116,104,117,110,107,32,116,111,32,0,103,117,97,114,100,32,118,97,114,105,97,98,108,101,32,102,111,114,32,0,114,101,102,101,114,101,110,99,101,32,116,101,109,112,111,114,97,114,121,32,102,111,114,32,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,105,110,102,105,110,105,116,121,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,114,119,97],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+10240),allocate([17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,110,97,110,0,78,65,78,0,46,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE+17769);var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _atexit(e,i){__ATEXIT__.unshift({func:e,arg:i})}function ___cxa_atexit(){return _atexit.apply(null,arguments)}function ___assert_fail(e,i,r,f){throw ABORT=!0,"Assertion failed: "+Pointer_stringify(e)+", at: "+[i?Pointer_stringify(i):"unknown filename",r,f?Pointer_stringify(f):"unknown function"]+" at "+stackTrace()}function embind_init_charCodes(){for(var e=new Array(256),i=0;i<256;++i)e[i]=String.fromCharCode(i);embind_charCodes=e}assert(tempDoublePtr%8==0),Module._i64Subtract=_i64Subtract;var embind_charCodes=void 0;function readLatin1String(e){for(var i="",r=e;HEAPU8[r];)i+=embind_charCodes[HEAPU8[r++]];return i}var awaitingDependencies={},registeredTypes={},typeDependencies={},char_0=48,char_9=57;function makeLegalFunctionName(e){if(void 0===e)return"_unknown";var i=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return i>=char_0&&i<=char_9?"_"+e:e}function createNamedFunction(e,i){return e=makeLegalFunctionName(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(i)}function extendError(e,i){var r=createNamedFunction(i,function(e){this.name=i,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var BindingError=void 0;function throwBindingError(e){throw new BindingError(e)}var InternalError=void 0;function throwInternalError(e){throw new InternalError(e)}function whenDependentTypesAreResolved(e,i,r){function f(i){var f=r(i);f.length!==e.length&&throwInternalError("Mismatched type converter count");for(var a=0;a<e.length;++a)registerType(e[a],f[a])}e.forEach(function(e){typeDependencies[e]=i});var a=new Array(i.length),l=[],n=0;i.forEach(function(e,i){registeredTypes.hasOwnProperty(e)?a[i]=registeredTypes[e]:(l.push(e),awaitingDependencies.hasOwnProperty(e)||(awaitingDependencies[e]=[]),awaitingDependencies[e].push(function(){a[i]=registeredTypes[e],++n===l.length&&f(a)}))}),0===l.length&&f(a)}function registerType(e,i,r){if(r=r||{},!("argPackAdvance"in i))throw new TypeError("registerType registeredInstance requires argPackAdvance");var f=i.name;if(e||throwBindingError('type "'+f+'" must have a positive integer typeid pointer'),registeredTypes.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;throwBindingError("Cannot register type '"+f+"' twice")}if(registeredTypes[e]=i,delete typeDependencies[e],awaitingDependencies.hasOwnProperty(e)){var a=awaitingDependencies[e];delete awaitingDependencies[e],a.forEach(function(e){e()})}}function __embind_register_void(e,i){registerType(e,{isVoid:!0,name:i=readLatin1String(i),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,i){}})}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||EXCEPTIONS.infos[e])return e;for(var i in EXCEPTIONS.infos){if(EXCEPTIONS.infos[i].adjusted===e)return i}return e},addRef:function(e){e&&EXCEPTIONS.infos[e].refcount++},decRef:function(e){if(e){var i=EXCEPTIONS.infos[e];assert(i.refcount>0),i.refcount--,0===i.refcount&&(i.destructor&&Runtime.dynCall("vi",i.destructor,[e]),delete EXCEPTIONS.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(EXCEPTIONS.infos[e].refcount=0)}};function ___resumeException(e){throw EXCEPTIONS.last||(EXCEPTIONS.last=e),EXCEPTIONS.clearRef(EXCEPTIONS.deAdjust(e)),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var e=EXCEPTIONS.last;if(!e)return 0|(asm.setTempRet0(0),0);var i=EXCEPTIONS.infos[e],r=i.type;if(!r)return 0|(asm.setTempRet0(0),e);var f=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(r);___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=e,e=___cxa_find_matching_catch.buffer;for(var a=0;a<f.length;a++)if(f[a]&&Module.___cxa_can_catch(f[a],r,e))return e=HEAP32[e>>2],i.adjusted=e,0|(asm.setTempRet0(f[a]),e);return e=HEAP32[e>>2],0|(asm.setTempRet0(r),e)}function ___cxa_throw(e,i,r){throw EXCEPTIONS.infos[e]={ptr:e,adjusted:e,type:i,destructor:r,refcount:0},EXCEPTIONS.last=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}Module._memset=_memset;var _BDtoILow=!0;function getShiftFromSize(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function __embind_register_bool(e,i,r,f,a){var l=getShiftFromSize(r);registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){return!!e},toWireType:function(e,i){return i?f:a},argPackAdvance:8,readValueFromPointer:function(e){var f;if(1===r)f=HEAP8;else if(2===r)f=HEAP16;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+i);f=HEAP32}return this.fromWireType(f[e>>l])},destructorFunction:null})}function _abort(){Module.abort()}function _free(){}function _malloc(e){return Runtime.dynamicAlloc(e+8)+8&4294967288}function simpleReadValueFromPointer(e){return this.fromWireType(HEAPU32[e>>2])}function __embind_register_std_string(e,i){registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){for(var i=HEAPU32[e>>2],r=new Array(i),f=0;f<i;++f)r[f]=String.fromCharCode(HEAPU8[e+4+f]);return _free(e),r.join("")},toWireType:function(e,i){function r(e,i){return e[i]}var f;i instanceof ArrayBuffer&&(i=new Uint8Array(i)),i instanceof Uint8Array?f=r:i instanceof Int8Array?f=r:"string"==typeof i?f=function(e,i){return e.charCodeAt(i)}:throwBindingError("Cannot pass non-string to std::string");var a=i.length,l=_malloc(4+a);HEAPU32[l>>2]=a;for(var n=0;n<a;++n){var s=f(i,n);s>255&&(_free(l),throwBindingError("String has UTF-16 code units that do not fit in 8 bits")),HEAPU8[l+4+n]=s}return null!==e&&e.push(_free,l),l},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function __embind_register_std_wstring(e,i,r){var f,a;r=readLatin1String(r),2===i?(f=function(){return HEAPU16},a=1):4===i&&(f=function(){return HEAPU32},a=2),registerType(e,{name:r,fromWireType:function(e){for(var i=f(),r=HEAPU32[e>>2],l=new Array(r),n=e+4>>a,s=0;s<r;++s)l[s]=String.fromCharCode(i[n+s]);return _free(e),l.join("")},toWireType:function(e,r){var l=f(),n=r.length,s=_malloc(4+n*i);HEAPU32[s>>2]=n;for(var t=s+4>>a,o=0;o<n;++o)l[t+o]=r.charCodeAt(o);return null!==e&&e.push(_free,s),s},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:function(e){_free(e)}})}function ___lock(){}function ___unlock(){}Module._bitshift64Shl=_bitshift64Shl,Module._free=_free,Module._malloc=_malloc;var _emscripten_asm_const_int=!0;Module._i64Add=_i64Add;var _fabs=Math_abs,_sqrt=Math_sqrt;function _embind_repr(e){if(null===e)return"null";var i=typeof e;return"object"===i||"array"===i||"function"===i?e.toString():""+e}function integerReadValueFromPointer(e,i,r){switch(i){case 0:return r?function(e){return HEAP8[e]}:function(e){return HEAPU8[e]};case 1:return r?function(e){return HEAP16[e>>1]}:function(e){return HEAPU16[e>>1]};case 2:return r?function(e){return HEAP32[e>>2]}:function(e){return HEAPU32[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function __embind_register_integer(e,i,r,f,a){i=readLatin1String(i),-1===a&&(a=4294967295);var l=getShiftFromSize(r),n=function(e){return e};if(0===f){var s=32-8*r;n=function(e){return e<<s>>>s}}registerType(e,{name:i,fromWireType:n,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+_embind_repr(r)+'" to '+this.name);if(r<f||r>a)throw new TypeError('Passing a number "'+_embind_repr(r)+'" from JS side to C/C++ side to an argument of type "'+i+'", which is outside the valid range ['+f+", "+a+"]!");return 0|r},argPackAdvance:8,readValueFromPointer:integerReadValueFromPointer(i,l,0!==f),destructorFunction:null})}var emval_free_list=[],emval_handle_array=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function __emval_decref(e){e>4&&0==--emval_handle_array[e].refcount&&(emval_handle_array[e]=void 0,emval_free_list.push(e))}function count_emval_handles(){for(var e=0,i=5;i<emval_handle_array.length;++i)void 0!==emval_handle_array[i]&&++e;return e}function get_first_emval(){for(var e=5;e<emval_handle_array.length;++e)if(void 0!==emval_handle_array[e])return emval_handle_array[e];return null}function init_emval(){Module.count_emval_handles=count_emval_handles,Module.get_first_emval=get_first_emval}function __emval_register(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var i=emval_free_list.length?emval_free_list.pop():emval_handle_array.length;return emval_handle_array[i]={refcount:1,value:e},i}}function __embind_register_emval(e,i){registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){var i=emval_handle_array[e].value;return __emval_decref(e),i},toWireType:function(e,i){return __emval_register(i)},argPackAdvance:8,readValueFromPointer:simpleReadValueFromPointer,destructorFunction:null})}function ___cxa_allocate_exception(e){return _malloc(e)}var _sin=Math_sin;function ___setErrNo(e){return Module.___errno_location?HEAP32[Module.___errno_location()>>2]=e:Module.printErr("failed to set errno from JS"),e}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}Module._bitshift64Lshr=_bitshift64Lshr;var _llvm_ctlz_i32=!0;function floatReadValueFromPointer(e,i){switch(i){case 2:return function(e){return this.fromWireType(HEAPF32[e>>2])};case 3:return function(e){return this.fromWireType(HEAPF64[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function __embind_register_float(e,i,r){var f=getShiftFromSize(r);registerType(e,{name:i=readLatin1String(i),fromWireType:function(e){return e},toWireType:function(e,i){if("number"!=typeof i&&"boolean"!=typeof i)throw new TypeError('Cannot convert "'+_embind_repr(i)+'" to '+this.name);return i},argPackAdvance:8,readValueFromPointer:floatReadValueFromPointer(i,f),destructorFunction:null})}var _BDtoIHigh=!0;function _pthread_cleanup_push(e,i){__ATEXIT__.push(function(){Runtime.dynCall("vi",e,[i])}),_pthread_cleanup_push.level=__ATEXIT__.length}function new_(e,i){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=createNamedFunction(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var f=new r,a=e.apply(f,i);return a instanceof Object?a:f}function runDestructors(e){for(;e.length;){var i=e.pop();e.pop()(i)}}function craftInvokerFunction(e,i,r,f,a){var l=i.length;l<2&&throwBindingError("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var n=null!==i[1]&&null!==r,s="",t="",o=0;o<l-2;++o)s+=(0!==o?", ":"")+"arg"+o,t+=(0!==o?", ":"")+"arg"+o+"Wired";var u="return function "+makeLegalFunctionName(e)+"("+s+") {\nif (arguments.length !== "+(l-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(l-2)+" args!');\n}\n",c=!1;for(o=1;o<i.length;++o)if(null!==i[o]&&void 0===i[o].destructorFunction){c=!0;break}c&&(u+="var destructors = [];\n");var b=c?"destructors":"null",k=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[throwBindingError,f,a,runDestructors,i[0],i[1]];n&&(u+="var thisWired = classParam.toWireType("+b+", this);\n");for(o=0;o<l-2;++o)u+="var arg"+o+"Wired = argType"+o+".toWireType("+b+", arg"+o+"); // "+i[o+2].name+"\n",k.push("argType"+o),h.push(i[o+2]);n&&(t="thisWired"+(t.length>0?", ":"")+t);var d="void"!==i[0].name;if(u+=(d?"var rv = ":"")+"invoker(fn"+(t.length>0?", ":"")+t+");\n",c)u+="runDestructors(destructors);\n";else for(o=n?1:2;o<i.length;++o){var w=1===o?"thisWired":"arg"+(o-2)+"Wired";null!==i[o].destructorFunction&&(u+=w+"_dtor("+w+"); // "+i[o].name+"\n",k.push(w+"_dtor"),h.push(i[o].destructorFunction))}return d&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),u+="}\n",k.push(u),new_(Function,k).apply(null,h)}function ensureOverloadTable(e,i,r){if(void 0===e[i].overloadTable){var f=e[i];e[i]=function(){return e[i].overloadTable.hasOwnProperty(arguments.length)||throwBindingError("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[i].overloadTable+")!"),e[i].overloadTable[arguments.length].apply(this,arguments)},e[i].overloadTable=[],e[i].overloadTable[f.argCount]=f}}function exposePublicSymbol(e,i,r){Module.hasOwnProperty(e)?((void 0===r||void 0!==Module[e].overloadTable&&void 0!==Module[e].overloadTable[r])&&throwBindingError("Cannot register public name '"+e+"' twice"),ensureOverloadTable(Module,e,e),Module.hasOwnProperty(r)&&throwBindingError("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),Module[e].overloadTable[r]=i):(Module[e]=i,void 0!==r&&(Module[e].numArguments=r))}function heap32VectorToArray(e,i){for(var r=[],f=0;f<e;f++)r.push(HEAP32[(i>>2)+f]);return r}function replacePublicSymbol(e,i,r){Module.hasOwnProperty(e)||throwInternalError("Replacing nonexistant public symbol"),void 0!==Module[e].overloadTable&&void 0!==r?Module[e].overloadTable[r]=i:Module[e]=i}function requireFunction(e,i){var r;if(e=readLatin1String(e),void 0!==Module["FUNCTION_TABLE_"+e])r=Module["FUNCTION_TABLE_"+e][i];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[i];else{var f=asm["dynCall_"+e];void 0===f&&void 0===(f=asm["dynCall_"+e.replace(/f/g,"d")])&&throwBindingError("No dynCall invoker for signature: "+e),r=function(r){for(var f=[],a=1;a<e.length;++a)f.push("a"+a);var l="return function dynCall_"+e+"_"+i+"("+f.join(", ")+") {\n";return l+="    return dynCall(rawFunction"+(f.length?", ":"")+f.join(", ")+");\n",l+="};\n",new Function("dynCall","rawFunction",l)(r,i)}(f)}return"function"!=typeof r&&throwBindingError("unknown function pointer with signature "+e+": "+i),r}var UnboundTypeError=void 0;function getTypeName(e){var i=___getTypeName(e),r=readLatin1String(i);return _free(i),r}function throwUnboundTypeError(e,i){var r=[],f={};throw i.forEach(function e(i){f[i]||registeredTypes[i]||(typeDependencies[i]?typeDependencies[i].forEach(e):(r.push(i),f[i]=!0))}),new UnboundTypeError(e+": "+r.map(getTypeName).join([", "]))}function __embind_register_function(e,i,r,f,a,l){var n=heap32VectorToArray(i,r);e=readLatin1String(e),a=requireFunction(f,a),exposePublicSymbol(e,function(){throwUnboundTypeError("Cannot call "+e+" due to unbound types",n)},i-1),whenDependentTypesAreResolved([],n,function(r){var f=[r[0],null].concat(r.slice(1));return replacePublicSymbol(e,craftInvokerFunction(e,f,null,a,l),i-1),[]})}function __embind_register_constant(e,i,r){e=readLatin1String(e),whenDependentTypesAreResolved([],[i],function(i){return i=i[0],Module[e]=i.fromWireType(r),[]})}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,"cannot pop if something else added meanwhile!"),__ATEXIT__.pop(),_pthread_cleanup_push.level=__ATEXIT__.length}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},PATH={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,i){for(var r=0,f=e.length-1;f>=0;f--){var a=e[f];"."===a?e.splice(f,1):".."===a?(e.splice(f,1),r++):r&&(e.splice(f,1),r--)}if(i)for(;r--;r)e.unshift("..");return e},normalize:function(e){var i="/"===e.charAt(0),r="/"===e.substr(-1);return(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/"))||i||(e="."),e&&r&&(e+="/"),(i?"/":"")+e},dirname:function(e){var i=PATH.splitPath(e),r=i[0],f=i[1];return r||f?(f&&(f=f.substr(0,f.length-1)),r+f):"."},basename:function(e){if("/"===e)return"/";var i=e.lastIndexOf("/");return-1===i?e:e.substr(i+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,i){return PATH.normalize(e+"/"+i)},resolve:function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var f=r>=0?arguments[r]:FS.cwd();if("string"!=typeof f)throw new TypeError("Arguments to path.resolve must be strings");if(!f)return"";e=f+"/"+e,i="/"===f.charAt(0)}return(i?"/":"")+(e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!i).join("/"))||"."},relative:function(e,i){function r(e){for(var i=0;i<e.length&&""===e[i];i++);for(var r=e.length-1;r>=0&&""===e[r];r--);return i>r?[]:e.slice(i,r-i+1)}e=PATH.resolve(e).substr(1),i=PATH.resolve(i).substr(1);for(var f=r(e.split("/")),a=r(i.split("/")),l=Math.min(f.length,a.length),n=l,s=0;s<l;s++)if(f[s]!==a[s]){n=s;break}var t=[];for(s=n;s<f.length;s++)t.push("..");return(t=t.concat(a.slice(n))).join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,i){TTY.ttys[e]={input:[],output:[],ops:i},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var i=TTY.ttys[e.node.rdev];if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=i,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,i,r,f,a){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var l=0,n=0;n<f;n++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===s&&0===l)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==s)break;l++,i[r+n]=s}return l&&(e.node.timestamp=Date.now()),l},write:function(e,i,r,f,a){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var l=0;l<f;l++)try{e.tty.ops.put_char(e.tty,i[r+l])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return f&&(e.node.timestamp=Date.now()),l}},default_tty_ops:{get_char:function(e){if(!e.input.length){var i=null;if(ENVIRONMENT_IS_NODE){var r,f=new Buffer(256),a=process.stdin.fd,l=!1;try{a=fs.openSync("/dev/stdin","r"),l=!0}catch(e){}r=fs.readSync(a,f,0,256,null),l&&fs.closeSync(a),i=r>0?f.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(i=window.prompt("Input: "))&&(i+="\n"):"function"==typeof readline&&null!==(i=readline())&&(i+="\n");if(!i)return null;e.input=intArrayFromString(i,!0)}return e.input.shift()},put_char:function(e,i){null===i||10===i?(Module.print(UTF8ArrayToString(e.output,0)),e.output=[]):0!=i&&e.output.push(i)},flush:function(e){e.output&&e.output.length>0&&(Module.print(UTF8ArrayToString(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,i){null===i||10===i?(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[]):0!=i&&e.output.push(i)},flush:function(e){e.output&&e.output.length>0&&(Module.printErr(UTF8ArrayToString(e.output,0)),e.output=[])}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,i,r,f){if(FS.isBlkdev(r)||FS.isFIFO(r))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var a=FS.createNode(e,i,r,f);return FS.isDir(a.mode)?(a.node_ops=MEMFS.ops_table.dir.node,a.stream_ops=MEMFS.ops_table.dir.stream,a.contents={}):FS.isFile(a.mode)?(a.node_ops=MEMFS.ops_table.file.node,a.stream_ops=MEMFS.ops_table.file.stream,a.usedBytes=0,a.contents=null):FS.isLink(a.mode)?(a.node_ops=MEMFS.ops_table.link.node,a.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(a.mode)&&(a.node_ops=MEMFS.ops_table.chrdev.node,a.stream_ops=MEMFS.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[i]=a),a},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var i=[],r=0;r<e.usedBytes;++r)i.push(e.contents[r]);return i}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,i){if(e.contents&&e.contents.subarray&&i>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.buffer.byteLength:0;if(r>=i)return;i=Math.max(i,r*(r<1048576?2:1.125)|0),0!=r&&(i=Math.max(i,256));var f=e.contents;return e.contents=new Uint8Array(i),void(e.usedBytes>0&&e.contents.set(f.subarray(0,e.usedBytes),0))}for(!e.contents&&i>0&&(e.contents=[]);e.contents.length<i;)e.contents.push(0)},resizeFileStorage:function(e,i){if(e.usedBytes!=i){if(0==i)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(i)),r&&e.contents.set(r.subarray(0,Math.min(i,e.usedBytes))),void(e.usedBytes=i)}if(e.contents||(e.contents=[]),e.contents.length>i)e.contents.length=i;else for(;e.contents.length<i;)e.contents.push(0);e.usedBytes=i}},node_ops:{getattr:function(e){var i={};return i.dev=FS.isChrdev(e.mode)?e.id:1,i.ino=e.id,i.mode=e.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=e.rdev,FS.isDir(e.mode)?i.size=4096:FS.isFile(e.mode)?i.size=e.usedBytes:FS.isLink(e.mode)?i.size=e.link.length:i.size=0,i.atime=new Date(e.timestamp),i.mtime=new Date(e.timestamp),i.ctime=new Date(e.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr:function(e,i){void 0!==i.mode&&(e.mode=i.mode),void 0!==i.timestamp&&(e.timestamp=i.timestamp),void 0!==i.size&&MEMFS.resizeFileStorage(e,i.size)},lookup:function(e,i){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,i,r,f){return MEMFS.createNode(e,i,r,f)},rename:function(e,i,r){if(FS.isDir(e.mode)){var f;try{f=FS.lookupNode(i,r)}catch(e){}if(f)for(var a in f.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,i.contents[r]=e,e.parent=i},unlink:function(e,i){delete e.contents[i]},rmdir:function(e,i){var r=FS.lookupNode(e,i);for(var f in r.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[i]},readdir:function(e){var i=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&i.push(r);return i},symlink:function(e,i,r){var f=MEMFS.createNode(e,i,41471,0);return f.link=r,f},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,i,r,f,a){var l=e.node.contents;if(a>=e.node.usedBytes)return 0;var n=Math.min(e.node.usedBytes-a,f);if(assert(n>=0),n>8&&l.subarray)i.set(l.subarray(a,a+n),r);else for(var s=0;s<n;s++)i[r+s]=l[a+s];return n},write:function(e,i,r,f,a,l){if(!f)return 0;var n=e.node;if(n.timestamp=Date.now(),i.subarray&&(!n.contents||n.contents.subarray)){if(l)return assert(0===a,"canOwn must imply no weird position inside the file"),n.contents=i.subarray(r,r+f),n.usedBytes=f,f;if(0===n.usedBytes&&0===a)return n.contents=new Uint8Array(i.subarray(r,r+f)),n.usedBytes=f,f;if(a+f<=n.usedBytes)return n.contents.set(i.subarray(r,r+f),a),f}if(MEMFS.expandFileStorage(n,a+f),n.contents.subarray&&i.subarray)n.contents.set(i.subarray(r,r+f),a);else for(var s=0;s<f;s++)n.contents[a+s]=i[r+s];return n.usedBytes=Math.max(n.usedBytes,a+f),f},llseek:function(e,i,r){var f=i;if(1===r?f+=e.position:2===r&&FS.isFile(e.node.mode)&&(f+=e.node.usedBytes),f<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return f},allocate:function(e,i,r){MEMFS.expandFileStorage(e.node,i+r),e.node.usedBytes=Math.max(e.node.usedBytes,i+r)},mmap:function(e,i,r,f,a,l,n){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var s,t,o=e.node.contents;if(2&n||o.buffer!==i&&o.buffer!==i.buffer){if((a>0||a+f<e.node.usedBytes)&&(o=o.subarray?o.subarray(a,a+f):Array.prototype.slice.call(o,a,a+f)),t=!0,!(s=_malloc(f)))throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);i.set(o,s)}else t=!1,s=o.byteOffset;return{ptr:s,allocated:t}},msync:function(e,i,r,f,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(2&a)return 0;MEMFS.stream_ops.write(e,i,0,f,r,!1);return 0}}},IDBFS={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,i,r){IDBFS.getLocalSet(e,function(f,a){if(f)return r(f);IDBFS.getRemoteSet(e,function(e,f){if(e)return r(e);var l=i?f:a,n=i?a:f;IDBFS.reconcile(l,n,r)})})},getDB:function(e,i){var r,f=IDBFS.dbs[e];if(f)return i(null,f);try{r=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(e){return i(e)}r.onupgradeneeded=function(e){var i,r=e.target.result,f=e.target.transaction;(i=r.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?f.objectStore(IDBFS.DB_STORE_NAME):r.createObjectStore(IDBFS.DB_STORE_NAME)).indexNames.contains("timestamp")||i.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){f=r.result,IDBFS.dbs[e]=f,i(null,f)},r.onerror=function(e){i(this.error),e.preventDefault()}},getLocalSet:function(e,i){var r={};function f(e){return"."!==e&&".."!==e}function a(e){return function(i){return PATH.join2(e,i)}}for(var l=FS.readdir(e.mountpoint).filter(f).map(a(e.mountpoint));l.length;){var n,s=l.pop();try{n=FS.stat(s)}catch(e){return i(e)}FS.isDir(n.mode)&&l.push.apply(l,FS.readdir(s).filter(f).map(a(s))),r[s]={timestamp:n.mtime}}return i(null,{type:"local",entries:r})},getRemoteSet:function(e,i){var r={};IDBFS.getDB(e.mountpoint,function(e,f){if(e)return i(e);var a=f.transaction([IDBFS.DB_STORE_NAME],"readonly");a.onerror=function(e){i(this.error),e.preventDefault()},a.objectStore(IDBFS.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var a=e.target.result;if(!a)return i(null,{type:"remote",db:f,entries:r});r[a.primaryKey]={timestamp:a.key},a.continue()}})},loadLocalEntry:function(e,i){var r,f;try{f=FS.lookupPath(e).node,r=FS.stat(e)}catch(e){return i(e)}return FS.isDir(r.mode)?i(null,{timestamp:r.mtime,mode:r.mode}):FS.isFile(r.mode)?(f.contents=MEMFS.getFileDataAsTypedArray(f),i(null,{timestamp:r.mtime,mode:r.mode,contents:f.contents})):i(new Error("node type not supported"))},storeLocalEntry:function(e,i,r){try{if(FS.isDir(i.mode))FS.mkdir(e,i.mode);else{if(!FS.isFile(i.mode))return r(new Error("node type not supported"));FS.writeFile(e,i.contents,{encoding:"binary",canOwn:!0})}FS.chmod(e,i.mode),FS.utime(e,i.timestamp,i.timestamp)}catch(e){return r(e)}r(null)},removeLocalEntry:function(e,i){try{FS.lookupPath(e);var r=FS.stat(e);FS.isDir(r.mode)?FS.rmdir(e):FS.isFile(r.mode)&&FS.unlink(e)}catch(e){return i(e)}i(null)},loadRemoteEntry:function(e,i,r){var f=e.get(i);f.onsuccess=function(e){r(null,e.target.result)},f.onerror=function(e){r(this.error),e.preventDefault()}},storeRemoteEntry:function(e,i,r,f){var a=e.put(r,i);a.onsuccess=function(){f(null)},a.onerror=function(e){f(this.error),e.preventDefault()}},removeRemoteEntry:function(e,i,r){var f=e.delete(i);f.onsuccess=function(){r(null)},f.onerror=function(e){r(this.error),e.preventDefault()}},reconcile:function(e,i,r){var f=0,a=[];Object.keys(e.entries).forEach(function(r){var l=e.entries[r],n=i.entries[r];(!n||l.timestamp>n.timestamp)&&(a.push(r),f++)});var l=[];if(Object.keys(i.entries).forEach(function(r){i.entries[r];e.entries[r]||(l.push(r),f++)}),!f)return r(null);var n=0,s=("remote"===e.type?e.db:i.db).transaction([IDBFS.DB_STORE_NAME],"readwrite"),t=s.objectStore(IDBFS.DB_STORE_NAME);function o(e){return e?o.errored?void 0:(o.errored=!0,r(e)):++n>=f?r(null):void 0}s.onerror=function(e){o(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===i.type?IDBFS.loadRemoteEntry(t,e,function(i,r){if(i)return o(i);IDBFS.storeLocalEntry(e,r,o)}):IDBFS.loadLocalEntry(e,function(i,r){if(i)return o(i);IDBFS.storeRemoteEntry(t,e,r,o)})}),l.sort().reverse().forEach(function(e){"local"===i.type?IDBFS.removeLocalEntry(e,o):IDBFS.removeRemoteEntry(t,e,o)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,i,r,f){if(!FS.isDir(r)&&!FS.isFile(r)&&!FS.isLink(r))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var a=FS.createNode(e,i,r);return a.node_ops=NODEFS.node_ops,a.stream_ops=NODEFS.stream_ops,a},getMode:function(e){var i;try{i=fs.lstatSync(e),NODEFS.isWindows&&(i.mode=i.mode|(146&i.mode)>>1)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return i.mode},realPath:function(e){for(var i=[];e.parent!==e;)i.push(e.name),e=e.parent;return i.push(e.mount.opts.root),i.reverse(),PATH.join.apply(null,i)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){if((e&=-32769)in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[e];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(e){var i,r=NODEFS.realPath(e);try{i=fs.lstatSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return NODEFS.isWindows&&!i.blksize&&(i.blksize=4096),NODEFS.isWindows&&!i.blocks&&(i.blocks=(i.size+i.blksize-1)/i.blksize|0),{dev:i.dev,ino:i.ino,mode:i.mode,nlink:i.nlink,uid:i.uid,gid:i.gid,rdev:i.rdev,size:i.size,atime:i.atime,mtime:i.mtime,ctime:i.ctime,blksize:i.blksize,blocks:i.blocks}},setattr:function(e,i){var r=NODEFS.realPath(e);try{if(void 0!==i.mode&&(fs.chmodSync(r,i.mode),e.mode=i.mode),void 0!==i.timestamp){var f=new Date(i.timestamp);fs.utimesSync(r,f,f)}void 0!==i.size&&fs.truncateSync(r,i.size)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},lookup:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i),f=NODEFS.getMode(r);return NODEFS.createNode(e,i,f)},mknod:function(e,i,r,f){var a=NODEFS.createNode(e,i,r,f),l=NODEFS.realPath(a);try{FS.isDir(a.mode)?fs.mkdirSync(l,a.mode):fs.writeFileSync(l,"",{mode:a.mode})}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return a},rename:function(e,i,r){var f=NODEFS.realPath(e),a=PATH.join2(NODEFS.realPath(i),r);try{fs.renameSync(f,a)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},unlink:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i);try{fs.unlinkSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},rmdir:function(e,i){var r=PATH.join2(NODEFS.realPath(e),i);try{fs.rmdirSync(r)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readdir:function(e){var i=NODEFS.realPath(e);try{return fs.readdirSync(i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},symlink:function(e,i,r){var f=PATH.join2(NODEFS.realPath(e),i);try{fs.symlinkSync(r,f)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},readlink:function(e){var i=NODEFS.realPath(e);try{return i=fs.readlinkSync(i),i=NODEJS_PATH.relative(NODEJS_PATH.resolve(e.mount.opts.root),i)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}},stream_ops:{open:function(e){var i=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(i,NODEFS.flagsToPermissionString(e.flags)))}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}},read:function(e,i,r,f,a){if(0===f)return 0;var l,n=new Buffer(f);try{l=fs.readSync(e.nfd,n,0,f,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(l>0)for(var s=0;s<l;s++)i[r+s]=n[s];return l},write:function(e,i,r,f,a){var l,n=new Buffer(i.subarray(r,r+f));try{l=fs.writeSync(e.nfd,n,0,f,a)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return l},llseek:function(e,i,r){var f=i;if(1===r)f+=e.position;else if(2===r&&FS.isFile(e.node.mode))try{f+=fs.fstatSync(e.nfd).size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(f<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return f}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var i=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),r={};function f(e){for(var f=e.split("/"),a=i,l=0;l<f.length-1;l++){var n=f.slice(0,l+1).join("/");r[n]||(r[n]=WORKERFS.createNode(a,n,WORKERFS.DIR_MODE,0)),a=r[n]}return a}function a(e){var i=e.split("/");return i[i.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(e){WORKERFS.createNode(f(e.name),a(e.name),WORKERFS.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){WORKERFS.createNode(f(e.name),a(e.name),WORKERFS.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(i){var r=i.filename.substr(1);WORKERFS.createNode(f(r),a(r),WORKERFS.FILE_MODE,0,e.blob.slice(i.start,i.end))})}),i},createNode:function(e,i,r,f,a,l){var n=FS.createNode(e,i,r);return n.mode=r,n.node_ops=WORKERFS.node_ops,n.stream_ops=WORKERFS.stream_ops,n.timestamp=(l||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),r===WORKERFS.FILE_MODE?(n.size=a.size,n.contents=a):(n.size=4096,n.contents={}),e&&(e.contents[i]=n),n},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,i){void 0!==i.mode&&(e.mode=i.mode),void 0!==i.timestamp&&(e.timestamp=i.timestamp)},lookup:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(e,i,r,f){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(e,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(e,i){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},symlink:function(e,i,r){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(e,i,r,f,a){if(a>=e.node.size)return 0;var l=e.node.contents.slice(a,a+f),n=WORKERFS.reader.readAsArrayBuffer(l);return i.set(new Uint8Array(n),r),l.size},write:function(e,i,r,f,a){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(e,i,r){var f=i;if(1===r?f+=e.position:2===r&&FS.isFile(e.node.mode)&&(f+=e.node.size),f<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return f}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,i){if(i=i||{},!(e=PATH.resolve(FS.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var f in r)void 0===i[f]&&(i[f]=r[f]);if(i.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var a=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),l=FS.root,n="/",s=0;s<a.length;s++){var t=s===a.length-1;if(t&&i.parent)break;if(l=FS.lookupNode(l,a[s]),n=PATH.join2(n,a[s]),FS.isMountpoint(l)&&(!t||t&&i.follow_mount)&&(l=l.mounted.root),!t||i.follow)for(var o=0;FS.isLink(l.mode);){var u=FS.readlink(n);if(n=PATH.resolve(PATH.dirname(n),u),l=FS.lookupPath(n,{recurse_count:i.recurse_count}).node,o++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:n,node:l}},getPath:function(e){for(var i;;){if(FS.isRoot(e)){var r=e.mount.mountpoint;return i?"/"!==r[r.length-1]?r+"/"+i:r+i:r}i=i?e.name+"/"+i:e.name,e=e.parent}},hashName:function(e,i){for(var r=0,f=0;f<i.length;f++)r=(r<<5)-r+i.charCodeAt(f)|0;return(e+r>>>0)%FS.nameTable.length},hashAddNode:function(e){var i=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[i],FS.nameTable[i]=e},hashRemoveNode:function(e){var i=FS.hashName(e.parent.id,e.name);if(FS.nameTable[i]===e)FS.nameTable[i]=e.name_next;else for(var r=FS.nameTable[i];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,i){var r=FS.mayLookup(e);if(r)throw new FS.ErrnoError(r,e);for(var f=FS.hashName(e.id,i),a=FS.nameTable[f];a;a=a.name_next){var l=a.name;if(a.parent.id===e.id&&l===i)return a}return FS.lookup(e,i)},createNode:function(e,i,r,f){if(!FS.FSNode){FS.FSNode=function(e,i,r,f){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=i,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=f},FS.FSNode.prototype={};Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,i,r,f);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var i=FS.flagModes[e];if(void 0===i)throw new Error("Unknown file open mode: "+e);return i},flagsToPermissionString:function(e){var i=["r","w","rw"][3&e];return 512&e&&(i+="w"),i},nodePermissions:function(e,i){return FS.ignorePermissions?0:(-1===i.indexOf("r")||292&e.mode)&&(-1===i.indexOf("w")||146&e.mode)&&(-1===i.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){var i=FS.nodePermissions(e,"x");return i||(e.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(e,i){try{FS.lookupNode(e,i);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,i,r){var f;try{f=FS.lookupNode(e,i)}catch(e){return e.errno}var a=FS.nodePermissions(e,"wx");if(a)return a;if(r){if(!FS.isDir(f.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(f)||FS.getPath(f)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(f.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,i){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!=(2097155&i)||512&i)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(i)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,i){e=e||0,i=i||FS.MAX_OPEN_FDS;for(var r=e;r<=i;r++)if(!FS.streams[r])return r;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,i,r){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var f=new FS.FSStream;for(var a in e)f[a]=e[a];e=f;var l=FS.nextfd(i,r);return e.fd=l,FS.streams[l]=e,e},closeStream:function(e){FS.streams[e]=null},chrdev_stream_ops:{open:function(e){var i=FS.getDevice(e.node.rdev);e.stream_ops=i.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,i){return e<<8|i},registerDevice:function(e,i){FS.devices[e]={stream_ops:i}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var i=[],r=[e];r.length;){var f=r.pop();i.push(f),r.push.apply(r,f.mounts)}return i},syncfs:function(e,i){"function"==typeof e&&(i=e,e=!1);var r=FS.getMounts(FS.root.mount),f=0;function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++f>=r.length&&i(null)}r.forEach(function(i){if(!i.type.syncfs)return a(null);i.type.syncfs(i,e,a)})},mount:function(e,i,r){var f,a="/"===r,l=!r;if(a&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!a&&!l){var n=FS.lookupPath(r,{follow_mount:!1});if(r=n.path,f=n.node,FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(f.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var s={type:e,opts:i,mountpoint:r,mounts:[]},t=e.mount(s);return t.mount=s,s.root=t,a?FS.root=t:f&&(f.mounted=s,f.mount&&f.mount.mounts.push(s)),t},unmount:function(e){var i=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(i.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r=i.node,f=r.mounted,a=FS.getMounts(f);Object.keys(FS.nameTable).forEach(function(e){for(var i=FS.nameTable[e];i;){var r=i.name_next;-1!==a.indexOf(i.mount)&&FS.destroyNode(i),i=r}}),r.mounted=null;var l=r.mount.mounts.indexOf(f);assert(-1!==l),r.mount.mounts.splice(l,1)},lookup:function(e,i){return e.node_ops.lookup(e,i)},mknod:function(e,i,r){var f=FS.lookupPath(e,{parent:!0}).node,a=PATH.basename(e);if(!a||"."===a||".."===a)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var l=FS.mayCreate(f,a);if(l)throw new FS.ErrnoError(l);if(!f.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return f.node_ops.mknod(f,a,i,r)},create:function(e,i){return i=void 0!==i?i:438,i&=4095,i|=32768,FS.mknod(e,i,0)},mkdir:function(e,i){return i=void 0!==i?i:511,i&=1023,i|=16384,FS.mknod(e,i,0)},mkdev:function(e,i,r){return void 0===r&&(r=i,i=438),i|=8192,FS.mknod(e,i,r)},symlink:function(e,i){if(!PATH.resolve(e))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var r=FS.lookupPath(i,{parent:!0}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var f=PATH.basename(i),a=FS.mayCreate(r,f);if(a)throw new FS.ErrnoError(a);if(!r.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.symlink(r,f,e)},rename:function(e,i){var r,f,a=PATH.dirname(e),l=PATH.dirname(i),n=PATH.basename(e),s=PATH.basename(i);try{r=FS.lookupPath(e,{parent:!0}).node,f=FS.lookupPath(i,{parent:!0}).node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!r||!f)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(r.mount!==f.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var t,o=FS.lookupNode(r,n),u=PATH.relative(e,l);if("."!==u.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if("."!==(u=PATH.relative(i,a)).charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);try{t=FS.lookupNode(f,s)}catch(e){}if(o!==t){var c=FS.isDir(o.mode),b=FS.mayDelete(r,n,c);if(b)throw new FS.ErrnoError(b);if(b=t?FS.mayDelete(f,s,c):FS.mayCreate(f,s))throw new FS.ErrnoError(b);if(!r.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(o)||t&&FS.isMountpoint(t))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(f!==r&&(b=FS.nodePermissions(r,"w")))throw new FS.ErrnoError(b);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,i)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+i+"') threw an exception: "+r.message)}FS.hashRemoveNode(o);try{r.node_ops.rename(o,f,s)}catch(e){throw e}finally{FS.hashAddNode(o)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,i)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+i+"') threw an exception: "+r.message)}}},rmdir:function(e){var i=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),f=FS.lookupNode(i,r),a=FS.mayDelete(i,r,!0);if(a)throw new FS.ErrnoError(a);if(!i.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}i.node_ops.rmdir(i,r),FS.destroyNode(f);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var i=FS.lookupPath(e,{follow:!0}).node;if(!i.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return i.node_ops.readdir(i)},unlink:function(e){var i=FS.lookupPath(e,{parent:!0}).node,r=PATH.basename(e),f=FS.lookupNode(i,r),a=FS.mayDelete(i,r,!1);if(a)throw a===ERRNO_CODES.EISDIR&&(a=ERRNO_CODES.EPERM),new FS.ErrnoError(a);if(!i.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}i.node_ops.unlink(i,r),FS.destroyNode(f);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var i=FS.lookupPath(e).node;if(!i)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!i.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(i.parent),i.node_ops.readlink(i))},stat:function(e,i){var r=FS.lookupPath(e,{follow:!i}).node;if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!r.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,i,r){var f;"string"==typeof e?f=FS.lookupPath(e,{follow:!r}).node:f=e;if(!f.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);f.node_ops.setattr(f,{mode:4095&i|-4096&f.mode,timestamp:Date.now()})},lchmod:function(e,i){FS.chmod(e,i,!0)},fchmod:function(e,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(r.node,i)},chown:function(e,i,r,f){var a;"string"==typeof e?a=FS.lookupPath(e,{follow:!f}).node:a=e;if(!a.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,i,r){FS.chown(e,i,r,!0)},fchown:function(e,i,r){var f=FS.getStream(e);if(!f)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(f.node,i,r)},truncate:function(e,i){if(i<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var r;"string"==typeof e?r=FS.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(r.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var f=FS.nodePermissions(r,"w");if(f)throw new FS.ErrnoError(f);r.node_ops.setattr(r,{size:i,timestamp:Date.now()})},ftruncate:function(e,i){var r=FS.getStream(e);if(!r)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0==(2097155&r.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(r.node,i)},utime:function(e,i,r){var f=FS.lookupPath(e,{follow:!0}).node;f.node_ops.setattr(f,{timestamp:Math.max(i,r)})},open:function(e,i,r,f,a){if(""===e)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var l;if(r=void 0===r?438:r,r=64&(i="string"==typeof i?FS.modeStringToFlags(i):i)?4095&r|32768:0,"object"==typeof e)l=e;else{e=PATH.normalize(e);try{l=FS.lookupPath(e,{follow:!(131072&i)}).node}catch(e){}}var n=!1;if(64&i)if(l){if(128&i)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else l=FS.mknod(e,r,0),n=!0;if(!l)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(l.mode)&&(i&=-513),65536&i&&!FS.isDir(l.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!n){var s=FS.mayOpen(l,i);if(s)throw new FS.ErrnoError(s)}512&i&&FS.truncate(l,0),i&=-641;var t=FS.createStream({node:l,path:FS.getPath(l),flags:i,seekable:!0,position:0,stream_ops:l.stream_ops,ungotten:[],error:!1},f,a);t.stream_ops.open&&t.stream_ops.open(t),!Module.logReadFiles||1&i||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var o=0;1!=(2097155&i)&&(o|=FS.tracking.openFlags.READ),0!=(2097155&i)&&(o|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,o)}}catch(i){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+i.message)}return t},close:function(e){e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{FS.closeStream(e.fd)}},llseek:function(e,i,r){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.position=e.stream_ops.llseek(e,i,r),e.ungotten=[],e.position},read:function(e,i,r,f,a){if(f<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var l=!0;if(void 0===a)a=e.position,l=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var n=e.stream_ops.read(e,i,r,f,a);return l||(e.position+=n),n},write:function(e,i,r,f,a,l){if(f<0||a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var n=!0;if(void 0===a)a=e.position,n=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var s=e.stream_ops.write(e,i,r,f,a,l);n||(e.position+=s);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,i,r){if(i<0||r<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,i,r)},mmap:function(e,i,r,f,a,l,n){if(1==(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,i,r,f,a,l,n)},msync:function(e,i,r,f,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,i,r,f,a):0},munmap:function(e){return 0},ioctl:function(e,i,r){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,i,r)},readFile:function(e,i){if((i=i||{}).flags=i.flags||"r",i.encoding=i.encoding||"binary","utf8"!==i.encoding&&"binary"!==i.encoding)throw new Error('Invalid encoding type "'+i.encoding+'"');var r,f=FS.open(e,i.flags),a=FS.stat(e).size,l=new Uint8Array(a);return FS.read(f,l,0,a,0),"utf8"===i.encoding?r=UTF8ArrayToString(l,0):"binary"===i.encoding&&(r=l),FS.close(f),r},writeFile:function(e,i,r){if((r=r||{}).flags=r.flags||"w",r.encoding=r.encoding||"utf8","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var f=FS.open(e,r.flags,r.mode);if("utf8"===r.encoding){var a=new Uint8Array(lengthBytesUTF8(i)+1),l=stringToUTF8Array(i,a,0,a.length);FS.write(f,a,0,l,0,r.canOwn)}else"binary"===r.encoding&&FS.write(f,i,0,i.length,0,r.canOwn);FS.close(f)},cwd:function(){return FS.currentPath},chdir:function(e){var i=FS.lookupPath(e,{follow:!0});if(!FS.isDir(i.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var r=FS.nodePermissions(i.node,"x");if(r)throw new FS.ErrnoError(r);FS.currentPath=i.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(e,i,r,f,a){return f}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),"undefined"!=typeof crypto){var i=new Uint8Array(1);e=function(){return crypto.getRandomValues(i),i[0]}}else e=ENVIRONMENT_IS_NODE?function(){return require("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};FS.createDevice("/dev","random",e),FS.createDevice("/dev","urandom",e),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var e=FS.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,i){var r=+i,f=FS.getStream(r);if(!f)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return f.path}}};return a.parent=a,a}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var i=FS.open("/dev/stdout","w");assert(1===i.fd,"invalid handle for stdout ("+i.fd+")");var r=FS.open("/dev/stderr","w");assert(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,i){this.node=i,this.setErrno=function(e){for(var i in this.errno=e,ERRNO_CODES)if(ERRNO_CODES[i]===e){this.code=i;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e],this.stack&&(this.stack=demangleAll(this.stack))},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS:MEMFS,IDBFS:IDBFS,NODEFS:NODEFS,WORKERFS:WORKERFS}},init:function(e,i,r){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=i||Module.stdout,Module.stderr=r||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var i=0;i<FS.streams.length;i++){var r=FS.streams[i];r&&FS.close(r)}},getMode:function(e,i){var r=0;return e&&(r|=365),i&&(r|=146),r},joinPath:function(e,i){var r=PATH.join.apply(null,e);return i&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,i){return PATH.resolve(i,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,i){var r=FS.analyzePath(e,i);return r.exists?r.object:(___setErrNo(r.error),null)},analyzePath:function(e,i){try{e=(f=FS.lookupPath(e,{follow:!i})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var f=FS.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=f.path,r.parentObject=f.node,r.name=PATH.basename(e),f=FS.lookupPath(e,{follow:!i}),r.exists=!0,r.path=f.path,r.object=f.node,r.name=f.node.name,r.isRoot="/"===f.path}catch(e){r.error=e.errno}return r},createFolder:function(e,i,r,f){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),i),l=FS.getMode(r,f);return FS.mkdir(a,l)},createPath:function(e,i,r,f){e="string"==typeof e?e:FS.getPath(e);for(var a=i.split("/").reverse();a.length;){var l=a.pop();if(l){var n=PATH.join2(e,l);try{FS.mkdir(n)}catch(e){}e=n}}return n},createFile:function(e,i,r,f,a){var l=PATH.join2("string"==typeof e?e:FS.getPath(e),i),n=FS.getMode(f,a);return FS.create(l,n)},createDataFile:function(e,i,r,f,a,l){var n=i?PATH.join2("string"==typeof e?e:FS.getPath(e),i):e,s=FS.getMode(f,a),t=FS.create(n,s);if(r){if("string"==typeof r){for(var o=new Array(r.length),u=0,c=r.length;u<c;++u)o[u]=r.charCodeAt(u);r=o}FS.chmod(t,146|s);var b=FS.open(t,"w");FS.write(b,r,0,r.length,0,l),FS.close(b),FS.chmod(t,s)}return t},createDevice:function(e,i,r,f){var a=PATH.join2("string"==typeof e?e:FS.getPath(e),i),l=FS.getMode(!!r,!!f);FS.createDevice.major||(FS.createDevice.major=64);var n=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(n,{open:function(e){e.seekable=!1},close:function(e){f&&f.buffer&&f.buffer.length&&f(10)},read:function(e,i,f,a,l){for(var n=0,s=0;s<a;s++){var t;try{t=r()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===t&&0===n)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null==t)break;n++,i[f+s]=t}return n&&(e.node.timestamp=Date.now()),n},write:function(e,i,r,a,l){for(var n=0;n<a;n++)try{f(i[r+n])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return a&&(e.node.timestamp=Date.now()),n}}),FS.mkdev(a,l,n)},createLink:function(e,i,r,f,a){var l=PATH.join2("string"==typeof e?e:FS.getPath(e),i);return FS.symlink(r,l)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var i=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){i=!1}return i||___setErrNo(ERRNO_CODES.EIO),i},createLazyFile:function(e,i,r,f,a){function l(){this.lengthKnown=!1,this.chunks=[]}if(l.prototype.get=function(e){if(!(e>this.length-1||e<0)){var i=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[i]}},l.prototype.setDataGetter=function(e){this.getter=e},l.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var i,f=Number(e.getResponseHeader("Content-length")),a=(i=e.getResponseHeader("Accept-Ranges"))&&"bytes"===i,l=1048576;a||(l=f);var n=this;n.setDataGetter(function(e){var i=e*l,a=(e+1)*l-1;if(a=Math.min(a,f-1),void 0===n.chunks[e]&&(n.chunks[e]=function(e,i){if(e>i)throw new Error("invalid range ("+e+", "+i+") or no bytes requested!");if(i>f-1)throw new Error("only "+f+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",r,!1),f!==l&&a.setRequestHeader("Range","bytes="+e+"-"+i),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+r+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):intArrayFromString(a.responseText||"",!0)}(i,a)),void 0===n.chunks[e])throw new Error("doXHR failed!");return n.chunks[e]}),this._length=f,this._chunkSize=l,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var n=new l;Object.defineProperty(n,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(n,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var s={isDevice:!1,contents:n}}else s={isDevice:!1,url:r};var t=FS.createFile(e,i,s,f,a);s.contents?t.contents=s.contents:s.url&&(t.contents=null,t.url=s.url),Object.defineProperty(t,"usedBytes",{get:function(){return this.contents.length}});var o={};return Object.keys(t.stream_ops).forEach(function(e){var i=t.stream_ops[e];o[e]=function(){if(!FS.forceLoadFile(t))throw new FS.ErrnoError(ERRNO_CODES.EIO);return i.apply(null,arguments)}}),o.read=function(e,i,r,f,a){if(!FS.forceLoadFile(t))throw new FS.ErrnoError(ERRNO_CODES.EIO);var l=e.node.contents;if(a>=l.length)return 0;var n=Math.min(l.length-a,f);if(assert(n>=0),l.slice)for(var s=0;s<n;s++)i[r+s]=l[a+s];else for(s=0;s<n;s++)i[r+s]=l.get(a+s);return n},t.stream_ops=o,t},createPreloadedFile:function(e,i,r,f,a,l,n,s,t,o){Browser.init();var u=i?PATH.resolve(PATH.join2(e,i)):e,c=getUniqueRunDependency("cp "+u);function b(r){function b(r){o&&o(),s||FS.createDataFile(e,i,r,f,a,t),l&&l(),removeRunDependency(c)}var k=!1;Module.preloadPlugins.forEach(function(e){k||e.canHandle(u)&&(e.handle(r,u,b,function(){n&&n(),removeRunDependency(c)}),k=!0)}),k||b(r)}addRunDependency(c),"string"==typeof r?Browser.asyncLoad(r,function(e){b(e)},n):b(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,i,r){i=i||function(){},r=r||function(){};var f=FS.indexedDB();try{var a=f.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}a.onupgradeneeded=function(){console.log("creating db"),a.result.createObjectStore(FS.DB_STORE_NAME)},a.onsuccess=function(){var f=a.result.transaction([FS.DB_STORE_NAME],"readwrite"),l=f.objectStore(FS.DB_STORE_NAME),n=0,s=0,t=e.length;function o(){0==s?i():r()}e.forEach(function(e){var i=l.put(FS.analyzePath(e).object.contents,e);i.onsuccess=function(){++n+s==t&&o()},i.onerror=function(){n+ ++s==t&&o()}}),f.onerror=r},a.onerror=r},loadFilesFromDB:function(e,i,r){i=i||function(){},r=r||function(){};var f=FS.indexedDB();try{var a=f.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return r(e)}a.onupgradeneeded=r,a.onsuccess=function(){var f=a.result;try{var l=f.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var n=l.objectStore(FS.DB_STORE_NAME),s=0,t=0,o=e.length;function u(){0==t?i():r()}e.forEach(function(e){var i=n.get(e);i.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),i.result,!0,!0,!0),++s+t==o&&u()},i.onerror=function(){s+ ++t==o&&u()}}),l.onerror=r},a.onerror=r}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,i){if("/"!==i[0]){var r;if(-100===e)r=FS.cwd();else{var f=FS.getStream(e);if(!f)throw new FS.ErrnoError(ERRNO_CODES.EBADF);r=f.path}i=PATH.join2(r,i)}return i},doStat:function(e,i,r){try{var f=e(i)}catch(e){if(e&&e.node&&PATH.normalize(i)!==PATH.normalize(FS.getPath(e.node)))return-ERRNO_CODES.ENOTDIR;throw e}return HEAP32[r>>2]=f.dev,HEAP32[r+4>>2]=0,HEAP32[r+8>>2]=f.ino,HEAP32[r+12>>2]=f.mode,HEAP32[r+16>>2]=f.nlink,HEAP32[r+20>>2]=f.uid,HEAP32[r+24>>2]=f.gid,HEAP32[r+28>>2]=f.rdev,HEAP32[r+32>>2]=0,HEAP32[r+36>>2]=f.size,HEAP32[r+40>>2]=4096,HEAP32[r+44>>2]=f.blocks,HEAP32[r+48>>2]=f.atime.getTime()/1e3|0,HEAP32[r+52>>2]=0,HEAP32[r+56>>2]=f.mtime.getTime()/1e3|0,HEAP32[r+60>>2]=0,HEAP32[r+64>>2]=f.ctime.getTime()/1e3|0,HEAP32[r+68>>2]=0,HEAP32[r+72>>2]=f.ino,0},doMsync:function(e,i,r,f){var a=new Uint8Array(HEAPU8.subarray(e,e+r));FS.msync(i,a,0,r,f)},doMkdir:function(e,i){return"/"===(e=PATH.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),FS.mkdir(e,i,0),0},doMknod:function(e,i,r){switch(61440&i){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(e,i,r),0},doReadlink:function(e,i,r){if(r<=0)return-ERRNO_CODES.EINVAL;var f=FS.readlink(e);return writeStringToMemory(f=f.slice(0,Math.max(0,r)),i,!0),f.length},doAccess:function(e,i){if(-8&i)return-ERRNO_CODES.EINVAL;var r;r=FS.lookupPath(e,{follow:!0}).node;var f="";return 4&i&&(f+="r"),2&i&&(f+="w"),1&i&&(f+="x"),f&&FS.nodePermissions(r,f)?-ERRNO_CODES.EACCES:0},doDup:function(e,i,r){var f=FS.getStream(r);return f&&FS.close(f),FS.open(e,i,0,r,r).fd},doReadv:function(e,i,r,f){for(var a=0,l=0;l<r;l++){var n=HEAP32[i+8*l>>2],s=HEAP32[i+(8*l+4)>>2],t=FS.read(e,HEAP8,n,s,f);if(t<0)return-1;if(a+=t,t<s)break}return a},doWritev:function(e,i,r,f){for(var a=0,l=0;l<r;l++){var n=HEAP32[i+8*l>>2],s=HEAP32[i+(8*l+4)>>2],t=FS.write(e,HEAP8,n,s,f);if(t<0)return-1;a+=t}return a},varargs:0,get:function(e){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(){return Pointer_stringify(SYSCALLS.get())},getStreamFromFD:function(){var e=FS.getStream(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(SYSCALLS.get());if(!e)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return e},getSocketAddress:function(e){var i=SYSCALLS.get(),r=SYSCALLS.get();if(e&&0===i)return null;var f=__read_sockaddr(i,r);if(f.errno)throw new FS.ErrnoError(f.errno);return f.addr=DNS.lookup_addr(f.addr)||f.addr,f},get64:function(){var e=SYSCALLS.get(),i=SYSCALLS.get();return assert(e>=0?0===i:-1===i),e},getZero:function(){assert(0===SYSCALLS.get())}};function ___syscall5(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStr(),f=SYSCALLS.get(),a=SYSCALLS.get();return FS.open(r,f,a).fd}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function _emscripten_memcpy_big(e,i,r){return HEAPU8.set(HEAPU8.subarray(i,i+r),e),e}function ___syscall6(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD();return FS.close(r),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}Module._memcpy=_memcpy;var _cos=Math_cos;function _sbrk(e){var i=_sbrk;i.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),i.called=!0,assert(Runtime.dynamicAlloc),i.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var r=DYNAMICTOP;if(0!=e&&!i.alloc(e))return-1>>>0;return r}Module._memmove=_memmove;var _BItoD=!0;function ___syscall54(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),f=SYSCALLS.get();switch(f){case 21505:case 21506:return r.tty?0:-ERRNO_CODES.ENOTTY;case 21519:if(!r.tty)return-ERRNO_CODES.ENOTTY;var a=SYSCALLS.get();return HEAP32[a>>2]=0,0;case 21520:return r.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:a=SYSCALLS.get();return FS.ioctl(r,f,a);default:abort("bad ioctl syscall "+f)}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var _ceilf=Math_ceil;function __embind_register_memory_view(e,i,r){var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][i];function a(e){var i=HEAPU32,r=i[e>>=2],a=i[e+1];return new f(i.buffer,a,r)}registerType(e,{name:r=readLatin1String(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})}function _time(e){var i=Date.now()/1e3|0;return e&&(HEAP32[e>>2]=i),i}function _pthread_self(){return 0}function ___syscall140(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),f=SYSCALLS.get(),a=SYSCALLS.get(),l=SYSCALLS.get(),n=SYSCALLS.get(),s=a;return assert(0===f),FS.llseek(r,s,n),HEAP32[l>>2]=r.position,r.getdents&&0===s&&0===n&&(r.getdents=null),0}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall146(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),f=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doWritev(r,f,a)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall221(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD();switch(SYSCALLS.get()){case 0:return(f=SYSCALLS.get())<0?-ERRNO_CODES.EINVAL:FS.open(r.path,r.flags,0,f).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var f=SYSCALLS.get();return r.flags|=f,0;case 12:case 12:f=SYSCALLS.get();return HEAP16[f+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}function ___syscall145(e,i){SYSCALLS.varargs=i;try{var r=SYSCALLS.getStreamFromFD(),f=SYSCALLS.get(),a=SYSCALLS.get();return SYSCALLS.doReadv(r,f,a)}catch(e){return void 0!==FS&&e instanceof FS.ErrnoError||abort(e),-e.errno}}var ___dso_handle=allocate(1,"i32*",ALLOC_STATIC);if(embind_init_charCodes(),BindingError=Module.BindingError=extendError(Error,"BindingError"),InternalError=Module.InternalError=extendError(Error,"InternalError"),init_emval(),UnboundTypeError=Module.UnboundTypeError=extendError(Error,"UnboundTypeError"),FS.staticInit(),__ATINIT__.unshift(function(){Module.noFSInit||FS.init.initialized||FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){TTY.init()}),__ATEXIT__.push(function(){TTY.shutdown()}),ENVIRONMENT_IS_NODE){var fs=require("fs"),NODEJS_PATH=require("path");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(DYNAMIC_BASE<TOTAL_MEMORY,"TOTAL_MEMORY not big enough for stack");var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC);function nullFunc_iiii(e){Module.printErr("Invalid function pointer called with signature 'iiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiiii(e){Module.printErr("Invalid function pointer called with signature 'viiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_dii(e){Module.printErr("Invalid function pointer called with signature 'dii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vid(e){Module.printErr("Invalid function pointer called with signature 'vid'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_di(e){Module.printErr("Invalid function pointer called with signature 'di'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_i(e){Module.printErr("Invalid function pointer called with signature 'i'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vi(e){Module.printErr("Invalid function pointer called with signature 'vi'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_vii(e){Module.printErr("Invalid function pointer called with signature 'vii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_ii(e){Module.printErr("Invalid function pointer called with signature 'ii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viii(e){Module.printErr("Invalid function pointer called with signature 'viii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_v(e){Module.printErr("Invalid function pointer called with signature 'v'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viid(e){Module.printErr("Invalid function pointer called with signature 'viid'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_iiiii(e){Module.printErr("Invalid function pointer called with signature 'iiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiiiii(e){Module.printErr("Invalid function pointer called with signature 'viiiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_iii(e){Module.printErr("Invalid function pointer called with signature 'iii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function nullFunc_viiii(e){Module.printErr("Invalid function pointer called with signature 'viiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),Module.printErr("Build with ASSERTIONS=2 for more info."),abort(e)}function invoke_iiii(e,i,r,f){try{return Module.dynCall_iiii(e,i,r,f)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiii(e,i,r,f,a,l){try{Module.dynCall_viiiii(e,i,r,f,a,l)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_dii(e,i,r){try{return Module.dynCall_dii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vid(e,i,r){try{Module.dynCall_vid(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_di(e,i){try{return Module.dynCall_di(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_i(e){try{return Module.dynCall_i(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vi(e,i){try{Module.dynCall_vi(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_vii(e,i,r){try{Module.dynCall_vii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_ii(e,i){try{return Module.dynCall_ii(e,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viii(e,i,r,f){try{Module.dynCall_viii(e,i,r,f)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viid(e,i,r,f){try{Module.dynCall_viid(e,i,r,f)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iiiii(e,i,r,f,a){try{return Module.dynCall_iiiii(e,i,r,f,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiiiii(e,i,r,f,a,l,n){try{Module.dynCall_viiiiii(e,i,r,f,a,l,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_iii(e,i,r){try{return Module.dynCall_iii(e,i,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}function invoke_viiii(e,i,r,f,a){try{Module.dynCall_viiii(e,i,r,f,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;asm.setThrew(1,0)}}Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:byteLength},Module.asmLibraryArg={abort:abort,assert:assert,nullFunc_iiii:nullFunc_iiii,nullFunc_viiiii:nullFunc_viiiii,nullFunc_dii:nullFunc_dii,nullFunc_vid:nullFunc_vid,nullFunc_di:nullFunc_di,nullFunc_i:nullFunc_i,nullFunc_vi:nullFunc_vi,nullFunc_vii:nullFunc_vii,nullFunc_ii:nullFunc_ii,nullFunc_viii:nullFunc_viii,nullFunc_v:nullFunc_v,nullFunc_viid:nullFunc_viid,nullFunc_iiiii:nullFunc_iiiii,nullFunc_viiiiii:nullFunc_viiiiii,nullFunc_iii:nullFunc_iii,nullFunc_viiii:nullFunc_viiii,invoke_iiii:invoke_iiii,invoke_viiiii:invoke_viiiii,invoke_dii:invoke_dii,invoke_vid:invoke_vid,invoke_di:invoke_di,invoke_i:invoke_i,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_ii:invoke_ii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_viiii:invoke_viiii,_fabs:_fabs,___syscall221:___syscall221,_sin:_sin,floatReadValueFromPointer:floatReadValueFromPointer,simpleReadValueFromPointer:simpleReadValueFromPointer,___syscall54:___syscall54,__embind_register_memory_view:__embind_register_memory_view,throwInternalError:throwInternalError,get_first_emval:get_first_emval,_abort:_abort,_pthread_cleanup_push:_pthread_cleanup_push,extendError:extendError,__embind_register_integer:__embind_register_integer,___assert_fail:___assert_fail,init_emval:init_emval,___cxa_allocate_exception:___cxa_allocate_exception,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_ceilf:_ceilf,getShiftFromSize:getShiftFromSize,__embind_register_function:__embind_register_function,__embind_register_emval:__embind_register_emval,_emscripten_asm_const_33:_emscripten_asm_const_33,__embind_register_constant:__embind_register_constant,___setErrNo:___setErrNo,__emval_register:__emval_register,_sbrk:_sbrk,readLatin1String:readLatin1String,__embind_register_void:__embind_register_void,_emscripten_memcpy_big:_emscripten_memcpy_big,__embind_register_bool:__embind_register_bool,___resumeException:___resumeException,___cxa_find_matching_catch:___cxa_find_matching_catch,_sysconf:_sysconf,_embind_repr:_embind_repr,__embind_register_std_wstring:__embind_register_std_wstring,createNamedFunction:createNamedFunction,embind_init_charCodes:embind_init_charCodes,_cos:_cos,getTypeName:getTypeName,throwUnboundTypeError:throwUnboundTypeError,_pthread_self:_pthread_self,craftInvokerFunction:craftInvokerFunction,__emval_decref:__emval_decref,_sqrt:_sqrt,__embind_register_float:__embind_register_float,makeLegalFunctionName:makeLegalFunctionName,integerReadValueFromPointer:integerReadValueFromPointer,___unlock:___unlock,heap32VectorToArray:heap32VectorToArray,_pthread_cleanup_pop:_pthread_cleanup_pop,whenDependentTypesAreResolved:whenDependentTypesAreResolved,_exit:_exit,___syscall5:___syscall5,_emscripten_asm_const_4:_emscripten_asm_const_4,___cxa_atexit:___cxa_atexit,registerType:registerType,___cxa_throw:___cxa_throw,__exit:__exit,___lock:___lock,___syscall6:___syscall6,throwBindingError:throwBindingError,ensureOverloadTable:ensureOverloadTable,count_emval_handles:count_emval_handles,_time:_time,requireFunction:requireFunction,runDestructors:runDestructors,new_:new_,_atexit:_atexit,___syscall140:___syscall140,exposePublicSymbol:exposePublicSymbol,_emscripten_asm_const_5:_emscripten_asm_const_5,__embind_register_std_string:__embind_register_std_string,replacePublicSymbol:replacePublicSymbol,___syscall145:___syscall145,___syscall146:___syscall146,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,___dso_handle:___dso_handle};var asm=function(e,i,r){"use asm";var f=e.Int8Array;var a=e.Int16Array;var l=e.Int32Array;var n=e.Uint8Array;var s=e.Uint16Array;var t=e.Uint32Array;var o=e.Float32Array;var u=e.Float64Array;var c=new f(r);var b=new a(r);var k=new l(r);var h=new n(r);var d=new s(r);var w=new t(r);var _=new o(r);var v=new u(r);var E=e.byteLength;var m=i.STACKTOP|0;var p=i.STACK_MAX|0;var S=i.tempDoublePtr|0;var g=i.ABORT|0;var y=i.cttz_i8|0;var F=i.___dso_handle|0;var A=0;var T=0;var O=0;var M=0;var R=e.NaN,N=e.Infinity;var P=0,D=0,C=0,I=0,L=0.0,x=0,B=0,H=0,U=0.0;var Y=0;var z=0;var V=0;var W=0;var j=0;var K=0;var X=0;var G=0;var q=0;var J=0;var Z=e.Math.floor;var Q=e.Math.abs;var $=e.Math.sqrt;var ee=e.Math.pow;var ie=e.Math.cos;var re=e.Math.sin;var fe=e.Math.tan;var ae=e.Math.acos;var le=e.Math.asin;var ne=e.Math.atan;var se=e.Math.atan2;var te=e.Math.exp;var oe=e.Math.log;var ue=e.Math.ceil;var ce=e.Math.imul;var be=e.Math.min;var ke=e.Math.clz32;var he=i.abort;var de=i.assert;var we=i.nullFunc_iiii;var _e=i.nullFunc_viiiii;var ve=i.nullFunc_dii;var Ee=i.nullFunc_vid;var me=i.nullFunc_di;var pe=i.nullFunc_i;var Se=i.nullFunc_vi;var ge=i.nullFunc_vii;var ye=i.nullFunc_ii;var Fe=i.nullFunc_viii;var Ae=i.nullFunc_v;var Te=i.nullFunc_viid;var Oe=i.nullFunc_iiiii;var Me=i.nullFunc_viiiiii;var Re=i.nullFunc_iii;var Ne=i.nullFunc_viiii;var Pe=i.invoke_iiii;var De=i.invoke_viiiii;var Ce=i.invoke_dii;var Ie=i.invoke_vid;var Le=i.invoke_di;var xe=i.invoke_i;var Be=i.invoke_vi;var He=i.invoke_vii;var Ue=i.invoke_ii;var Ye=i.invoke_viii;var ze=i.invoke_v;var Ve=i.invoke_viid;var We=i.invoke_iiiii;var je=i.invoke_viiiiii;var Ke=i.invoke_iii;var Xe=i.invoke_viiii;var Ge=i._fabs;var qe=i.___syscall221;var Je=i._sin;var Ze=i.floatReadValueFromPointer;var Qe=i.simpleReadValueFromPointer;var $e=i.___syscall54;var ei=i.__embind_register_memory_view;var ii=i.throwInternalError;var ri=i.get_first_emval;var fi=i._abort;var ai=i._pthread_cleanup_push;var li=i.extendError;var ni=i.__embind_register_integer;var si=i.___assert_fail;var ti=i.init_emval;var oi=i.___cxa_allocate_exception;var ui=i.__ZSt18uncaught_exceptionv;var ci=i._ceilf;var bi=i.getShiftFromSize;var ki=i.__embind_register_function;var hi=i.__embind_register_emval;var di=i._emscripten_asm_const_33;var wi=i.__embind_register_constant;var _i=i.___setErrNo;var vi=i.__emval_register;var Ei=i._sbrk;var mi=i.readLatin1String;var pi=i.__embind_register_void;var Si=i._emscripten_memcpy_big;var gi=i.__embind_register_bool;var yi=i.___resumeException;var Fi=i.___cxa_find_matching_catch;var Ai=i._sysconf;var Ti=i._embind_repr;var Oi=i.__embind_register_std_wstring;var Mi=i.createNamedFunction;var Ri=i.embind_init_charCodes;var Ni=i._cos;var Pi=i.getTypeName;var Di=i.throwUnboundTypeError;var Ci=i._pthread_self;var Ii=i.craftInvokerFunction;var Li=i.__emval_decref;var xi=i._sqrt;var Bi=i.__embind_register_float;var Hi=i.makeLegalFunctionName;var Ui=i.integerReadValueFromPointer;var Yi=i.___unlock;var zi=i.heap32VectorToArray;var Vi=i._pthread_cleanup_pop;var Wi=i.whenDependentTypesAreResolved;var ji=i._exit;var Ki=i.___syscall5;var Xi=i._emscripten_asm_const_4;var Gi=i.___cxa_atexit;var qi=i.registerType;var Ji=i.___cxa_throw;var Zi=i.__exit;var Qi=i.___lock;var $i=i.___syscall6;var er=i.throwBindingError;var ir=i.ensureOverloadTable;var rr=i.count_emval_handles;var fr=i._time;var ar=i.requireFunction;var lr=i.runDestructors;var nr=i.new_;var sr=i._atexit;var tr=i.___syscall140;var or=i.exposePublicSymbol;var ur=i._emscripten_asm_const_5;var cr=i.__embind_register_std_string;var br=i.replacePublicSymbol;var kr=i.___syscall145;var hr=i.___syscall146;var dr=0.0;function wr(e){if(E(e)&0xffffff||E(e)<=0xffffff||E(e)>0x80000000)return false;c=new f(e);b=new a(e);k=new l(e);h=new n(e);d=new s(e);w=new t(e);_=new o(e);v=new u(e);r=e;return true}function _r(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,Er=0,mr=0,gr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ua=0,ca=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,Vl=0,Wl=0,jl=0,Xl=0,Gl=0,Jl=0,Zl=0,Ql=0,$l=0,en=0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0,hn=0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0,Dn=0,Cn=0,In=0,Ln=0,xn=0,Hn=0,Un=0,Yn=0,Vn=0,Wn=0,jn=0,Kn=0,Xn=0,Gn=0,qn=0,Jn=0,Zn=0,Qn=0,$n=0,es=0,is=0,rs=0,fs=0,as=0,ls=0,ns=0,ss=0,ts=0,os=0,us=0,cs=0,bs=0,hs=0,ds=0,ws=0,vs=0,Es=0,ps=0,gs=0,Fs=0,As=0,Ts=0,Os=0,Ms=0,Rs=0,Ns=0,Ds=0,Cs=0,Is=0,Ls=0,xs=0,Bs=0,Hs=0,Us=0,Ys=0,zs=0,Vs=0,Ws=0,js=0,Ks=0,Xs=0,Gs=0,qs=0,Js=0,Zs=0,Qs=0,$s=0,it=0,at=0,st=0,tt=0,ot=0,ut=0,bt=0,kt=0,ht=0,dt=0,_t=0,vt=0,mt=0,St=0,gt=0,yt=0,Ft=0,At=0,Tt=0,Ot=0,Mt=0,Rt=0,Pt=0,Dt=0,Ct=0,It=0,xt=0,Bt=0,Ht=0,Ut=0,Yt=0,zt=0,Vt=0,Wt=0,jt=0,Kt=0,Xt=0,Gt=0,qt=0,Jt=0,Qt=0,$t=0,eo=0,io=0,ro=0,fo=0,ao=0,lo=0,no=0,so=0,to=0,uo=0,co=0,bo=0,ko=0,ho=0,wo=0,_o=0,vo=0,Eo=0,mo=0,po=0,So=0,go=0,yo=0,Fo=0,Ao=0,To=0,Oo=0,Ro=0,No=0,Po=0,Do=0,Co=0,Io=0,Lo=0,xo=0,Bo=0,Ho=0,Uo=0,Yo=0,zo=0,jo=0,Ko=0,Xo=0,Go=0,qo=0,Jo=0,Zo=0,Qo=0,$o=0,eu=0,iu=0,ru=0,fu=0,au=0,lu=0,nu=0,su=0,tu=0,ou=0,uu=0,cu=0,bu=0,ku=0,hu=0,du=0,wu=0,_u=0,vu=0,Eu=0,mu=0,pu=0,Su=0,gu=0,yu=0,Fu=0,Au=0,Tu=0,Ou=0,Mu=0,Ru=0,Pu=0,Du=0,Cu=0,Iu=0,Lu=0,xu=0,Bu=0,Hu=0,Uu=0,Yu=0,zu=0,Vu=0,Wu=0,ju=0,Ku=0,Xu=0,Gu=0,qu=0,Ju=0,Zu=0,Qu=0,$u=0,ec=0,ic=0,rc=0,fc=0,ac=0,lc=0,nc=0,sc=0,tc=0,oc=0,uc=0,cc=0,bc=0,kc=0,hc=0,dc=0,wc=0,_c=0,vc=0,mc=0,pc=0,Sc=0,yc=0,Fc=0,Ac=0,Tc=0,Oc=0,Mc=0,Rc=0,Nc=0,Pc=0,Dc=0,Cc=0,Ic=0,Lc=0,xc=0,Bc=0,Hc=0,Uc=0,Yc=0,zc=0,Vc=0,Wc=0,jc=0,Kc=0,Xc=0,Gc=0,qc=0,Jc=0,Zc=0,Qc=0,$c=0,eb=0,ib=0,rb=0,fb=0,ab=0,lb=0,nb=0,sb=0,tb=0,ob=0,ub=0,cb=0,bb=0,kb=0,hb=0,db=0,wb=0,_b=0,vb=0,Eb=0,mb=0,pb=0,Sb=0,gb=0,yb=0,Fb=0,Ab=0,Tb=0,Ob=0,Mb=0,Rb=0,Nb=0,Pb=0,Db=0,Cb=0,Ib=0,Lb=0,xb=0,Bb=0,Hb=0,Ub=0,Yb=0,zb=0,Vb=0,Wb=0,jb=0,Kb=0,Xb=0,Gb=0,qb=0,Jb=0,Zb=0,Qb=0,$b=0,ek=0,ik=0,rk=0,fk=0,ak=0,lk=0,nk=0,sk=0,tk=0,ok=0,uk=0,ck=0,bk=0,kk=0,hk=0,dk=0,wk=0,_k=0,vk=0,Ek=0,mk=0,pk=0,Sk=0,gk=0,yk=0,Fk=0,Ak=0,Tk=0,Ok=0,Mk=0,Rk=0,Nk=0,Pk=0,Dk=0,Ck=0,Ik=0,Lk=0,xk=0,Bk=0,Hk=0,Uk=0,Yk=0,zk=0,Vk=0,Wk=0,jk=0,Kk=0,Xk=0,Gk=0,qk=0,Jk=0,Zk=0,Qk=0,$k=0,eh=0,ih=0,rh=0,fh=0,ah=0,lh=0,nh=0,sh=0,th=0,oh=0,uh=0,ch=0,bh=0,kh=0,hh=0,dh=0,wh=0,_h=0,vh=0,Eh=0,mh=0,ph=0,Sh=0,gh=0,yh=0,Fh=0,Ah=0,Th=0,Oh=0,Mh=0,Rh=0,Nh=0,Ph=0,Dh=0,Ch=0,Ih=0,Lh=0,xh=0,Bh=0,Hh=0,Uh=0,Yh=0,zh=0,Vh=0,Wh=0,jh=0,Kh=0,Xh=0,Gh=0,qh=0,Jh=0,Zh=0,Qh=0,$h=0,ed=0,id=0,rd=0,fd=0,ad=0,ld=0,nd=0,sd=0,td=0,od=0,ud=0,cd=0,bd=0,kd=0,hd=0,dd=0,wd=0,_d=0,vd=0,Ed=0,md=0,pd=0,Sd=0,gd=0,yd=0,Fd=0,Ad=0,Td=0,Od=0,Md=0,Rd=0,Nd=0,Pd=0,Dd=0,Cd=0,Id=0,Ld=0,xd=0,Bd=0,Hd=0,Ud=0,Yd=0,zd=0,Vd=0,Wd=0,jd=0,Kd=0,Xd=0,Gd=0,qd=0,Jd=0,Zd=0,Qd=0,$d=0,ew=0,iw=0,rw=0,fw=0,aw=0,lw=0,nw=0,sw=0,tw=0,ow=0,uw=0,cw=0,bw=0,kw=0,hw=0,dw=0,ww=0,_w=0,vw=0,Ew=0,mw=0,pw=0,Sw=0,gw=0,yw=0,Fw=0,Aw=0,Tw=0,Ow=0,Mw=0,Rw=0,Nw=0,Pw=0,Dw=0,Cw=0,Iw=0,Lw=0,xw=0,Bw=0,Hw=0,Uw=0,Yw=0,zw=0,Vw=0,Ww=0,jw=0,Kw=0,Xw=0,Gw=0,qw=0,Jw=0,Zw=0,Qw=0,$w=0,e_=0,i_=0,r_=0,f_=0,a_=0,l_=0,n_=0,s_=0,t_=0,o_=0,u_=0,c_=0,b_=0,k_=0,h_=0,d_=0,w_=0,__=0,v_=0,E_=0,m_=0,p_=0,S_=0,g_=0,y_=0,F_=0,A_=0,T_=0,O_=0,M_=0,R_=0,N_=0,P_=0,D_=0,C_=0;C_=m;m=m+784|0;if((m|0)>=(p|0))he();f_=C_+752|0;ne=C_+728|0;se=C_+716|0;Es=C_+704|0;lb=C_+680|0;Kb=C_+656|0;Ik=C_+632|0;Eh=C_+620|0;h_=C_+608|0;ed=C_+596|0;Hd=C_+584|0;pw=C_+572|0;l_=C_+568|0;te=C_+552|0;We=C_+544|0;Pi=C_+528|0;hr=C_+520|0;nf=C_+504|0;xf=C_+496|0;ga=C_+480|0;cl=C_+472|0;Gl=C_+456|0;Ln=C_+452|0;ps=C_+440|0;mt=C_+428|0;to=C_+416|0;Jo=C_+404|0;a_=C_+392|0;Du=C_+376|0;oc=C_+368|0;P_=C_+356|0;jc=C_+344|0;Jc=C_+320|0;$c=C_+308|0;rb=C_+296|0;nb=C_+284|0;m_=C_+272|0;ub=C_+248|0;bb=C_+236|0;wb=C_+224|0;vb=C_+212|0;gb=C_+200|0;Mb=C_+176|0;Db=C_+164|0;xb=C_+152|0;Vb=C_+136|0;Xb=C_+128|0;Zb=C_+112|0;fk=C_+108|0;N_=C_+96|0;sk=C_+80|0;uk=C_+72|0;wk=C_+56|0;Ek=C_+48|0;Sk=C_+32|0;Ak=C_+24|0;Pk=C_+8|0;Lk=C_;e:do{if((e|0)==(i|0))f=e;else{switch(c[e>>0]|0){case 75:case 86:case 114:{k[l_>>2]=0;qk=ks(e,i,l_)|0;if((qk|0)==(e|0)){f=e;break e}rh=c[qk>>0]|0;th=r+4|0;Nh=((k[th>>2]|0)-(k[r>>2]|0)|0)/24|0;Hh=_r(qk,i,r)|0;id=((k[th>>2]|0)-(k[r>>2]|0)|0)/24|0;if((Hh|0)==(qk|0)){f=e;break e}nd=rh<<24>>24==70;ud=r+20|0;kd=k[ud>>2]|0;if(nd){Ed=kd+-16|0;Od=kd;do{gd=Od+-16|0;k[ud>>2]=gd;nt(gd);Od=k[ud>>2]|0}while((Od|0)!=(Ed|0));cw=Ed}else cw=kd;Ld=r+16|0;qd=k[r+12>>2]|0;rw=k[r+24>>2]|0;if(cw>>>0<rw>>>0){k[cw>>2]=0;k[cw+4>>2]=0;k[cw+8>>2]=0;k[cw+12>>2]=qd;k[ud>>2]=(k[ud>>2]|0)+16}else{Bw=k[Ld>>2]|0;jw=cw-Bw|0;Xw=jw>>4;Zw=Xw+1|0;if((jw|0)<-16)gc(Ld);be=rw-Bw|0;if(be>>4>>>0<1073741823){ye=be>>3;A=ye>>>0<Zw>>>0?Zw:ye}else A=2147483647;wt(f_,A,Xw,r+28|0);Ce=f_+8|0;He=k[Ce>>2]|0;k[He>>2]=0;k[He+4>>2]=0;k[He+8>>2]=0;k[He+12>>2]=qd;k[Ce>>2]=He+16;zl(Ld,f_);Ps(f_)}ri=k[l_>>2]|0;ti=(ri&1|0)==0;vi=(ri&2|0)==0;Fi=(ri&4|0)==0;Di=f_+8|0;if(Nh>>>0<id>>>0)s_=Nh;else{f=Hh;break e}while(1){if(nd){Yi=k[r>>2]|0;ji=Yi+(s_*24|0)+12|0;Gi=c[ji>>0]|0;rr=(Gi&1)==0;if(rr){K=(Gi&255)>>>1;Xr=ji+1|0}else{K=k[Yi+(s_*24|0)+16>>2]|0;Xr=k[Yi+(s_*24|0)+20>>2]|0}Hr=K+-2|0;if((c[Xr+Hr>>0]|0)==38)d_=K+-3|0;else{if(rr){Af=(Gi&255)>>>1;Cf=ji+1|0}else{Af=k[Yi+(s_*24|0)+16>>2]|0;Cf=k[Yi+(s_*24|0)+20>>2]|0}d_=(c[Cf+(Af+-1)>>0]|0)==38?Hr:K}if(ti)w_=d_;else{Mo(ji,d_,12643)|0;w_=d_+6|0}if(vi)__=w_;else{Mo((k[r>>2]|0)+(s_*24|0)+12|0,w_,12650)|0;__=w_+9|0}if(!Fi)Mo((k[r>>2]|0)+(s_*24|0)+12|0,__,12660)|0}else{if(!ti)Vo((k[r>>2]|0)+(s_*24|0)|0,12643)|0;if(!vi)Vo((k[r>>2]|0)+(s_*24|0)|0,12650)|0;if(!Fi)Vo((k[r>>2]|0)+(s_*24|0)|0,12660)|0}Ia=k[ud>>2]|0;Ya=Ia+-16|0;Va=k[r>>2]|0;Xa=Va+(s_*24|0)|0;rl=Ia+-12|0;nl=k[rl>>2]|0;if((nl|0)==(k[Ia+-8>>2]|0)){Ql=nl-(k[Ya>>2]|0)|0;ln=(Ql|0)/24|0;un=ln+1|0;if((Ql|0)<-24){Q=Ya;break}if(ln>>>0<1073741823){En=ln<<1;T=En>>>0<un>>>0?un:En}else T=2147483647;pt(f_,T,ln,Ia+-4|0);Rn=k[Di>>2]|0;Lt(Rn,Xa);Lt(Rn+12|0,Va+(s_*24|0)+12|0);k[Di>>2]=Rn+24;Bn(Ya,f_);lt(f_)}else{Lt(nl,Xa);Lt(nl+12|0,Va+(s_*24|0)+12|0);k[rl>>2]=(k[rl>>2]|0)+24}s_=s_+1|0;if(s_>>>0>=id>>>0){f=Hh;break e}}gc(Q);break}default:{}}Jn=pr(e,i,r)|0;if((Jn|0)==(e|0)){ls=c[e>>0]|0;i:do{switch(ls<<24>>24|0){case 65:{do{if(ls<<24>>24==65){gs=e+1|0;if((gs|0)==(i|0))a=e;else{Ds=c[gs>>0]|0;if(Ds<<24>>24==95){Us=e+2|0;Vs=_r(Us,i,r)|0;if((Vs|0)==(Us|0)){a=e;break}at=r+4|0;ut=k[at>>2]|0;if((k[r>>2]|0)==(ut|0)){a=e;break}St=ut+-12|0;Ot=c[St>>0]|0;xt=(Ot&1)==0;fo=xt?(Ot&255)>>>1:k[ut+-8>>2]|0;ct(f_,xt?St+1|0:k[ut+-4>>2]|0,fo>>>0<2?fo:2);Do=c[f_>>0]|0;Uo=(Do&1)==0;lu=Uo?(Do&255)>>>1:k[f_+4>>2]|0;gu=lu>>>0>2;Cu=Et(Uo?f_+1|0:k[f_+8>>2]|0,12670,gu?2:lu)|0;Nu(f_);if(!(((Cu|0)==0?lu>>>0<2?-1:gu&1:Cu)|0))ft((k[at>>2]|0)+-12|0);Mo((k[at>>2]|0)+-12|0,0,12673)|0;a=Vs;break}if((Ds+-49&255)<9){uc=ys(gs,i)|0;if((uc|0)==(i|0)){a=e;break}if((c[uc>>0]|0)!=95){a=e;break}yc=uc+1|0;Rc=_r(yc,i,r)|0;if((Rc|0)==(yc|0)){a=e;break}Vc=r+4|0;Wc=k[Vc>>2]|0;if((k[r>>2]|0)==(Wc|0)){a=e;break}Kc=Wc+-12|0;Xc=c[Kc>>0]|0;Gc=(Xc&1)==0;qc=Gc?(Xc&255)>>>1:k[Wc+-8>>2]|0;ct(ne,Gc?Kc+1|0:k[Wc+-4>>2]|0,qc>>>0<2?qc:2);Zc=c[ne>>0]|0;Qc=(Zc&1)==0;eb=Qc?(Zc&255)>>>1:k[ne+4>>2]|0;ib=eb>>>0>2;fb=Et(Qc?ne+1|0:k[ne+8>>2]|0,12670,ib?2:eb)|0;Nu(ne);if(!(((fb|0)==0?eb>>>0<2?-1:ib&1:fb)|0))ft((k[Vc>>2]|0)+-12|0);ab=(k[Vc>>2]|0)+-12|0;sb=uc-gs|0;if(sb>>>0>4294967279)Ec(lb);if(sb>>>0<11){c[lb>>0]=sb<<1;r_=lb+1|0}else{tb=sb+16&-16;ob=Sr(tb)|0;k[lb+8>>2]=ob;k[lb>>2]=tb|1;k[lb+4>>2]=sb;r_=ob}if((gs|0)!=(uc|0)){E=gs;i_=r_;while(1){c[i_>>0]=c[E>>0]|0;E=E+1|0;if((E|0)==(uc|0))break;else i_=i_+1|0}}c[r_+sb>>0]=0;cb=Mo(lb,0,12670)|0;k[Es>>2]=k[cb>>2];k[Es+4>>2]=k[cb+4>>2];k[Es+8>>2]=k[cb+8>>2];k[cb>>2]=0;k[cb+4>>2]=0;k[cb+8>>2]=0;kb=Vo(Es,12677)|0;k[se>>2]=k[kb>>2];k[se+4>>2]=k[kb+4>>2];k[se+8>>2]=k[kb+8>>2];k[kb>>2]=0;k[kb+4>>2]=0;k[kb+8>>2]=0;hb=c[se>>0]|0;db=(hb&1)==0;Kl(ab,0,db?se+1|0:k[se+8>>2]|0,db?(hb&255)>>>1:k[se+4>>2]|0)|0;Nu(se);Nu(Es);Nu(lb);a=Rc;break}_b=vr(gs,i,r)|0;if((_b|0)==(gs|0)|(_b|0)==(i|0))a=e;else if((c[_b>>0]|0)==95){Eb=_b+1|0;mb=_r(Eb,i,r)|0;if((mb|0)==(Eb|0))a=e;else{pb=r+4|0;Sb=k[pb>>2]|0;if(((Sb-(k[r>>2]|0)|0)/24|0)>>>0<2)a=e;else{Nt(Kb,Sb+-24|0);yb=k[pb>>2]|0;Fb=yb+-24|0;Tb=yb;do{Ab=Tb+-24|0;k[pb>>2]=Ab;Wo(Ab);Tb=k[pb>>2]|0}while((Tb|0)!=(Fb|0));Nt(Ik,yb+-48|0);Ob=k[pb>>2]|0;Rb=Ob+-24|0;do{if(!(c[Rb>>0]&1)){c[Rb+1>>0]=0;c[Rb>>0]=0}else{Nb=Ob+-16|0;c[k[Nb>>2]>>0]=0;Pb=Ob+-20|0;k[Pb>>2]=0;ie=c[Rb>>0]|0;if(!(ie&1)){Ib=ie;Hb=10}else{Cb=k[Rb>>2]|0;Ib=Cb&255;Hb=(Cb&-2)+-1|0}if(!(Ib&1)){Lb=(Ib&255)>>>1;if((Ib&255)<22){Lc=1;Bb=10;Gb=Lb}else{Lc=1;Bb=(Lb+16&240)+-1|0;Gb=Lb}}else{Lc=0;Bb=10;Gb=0}if((Bb|0)!=(Hb|0)){if((Bb|0)==10){zb=Rb+1|0;Wb=k[Nb>>2]|0;if(Lc){rt(zb|0,Wb|0,((Ib&255)>>>1)+1|0)|0;oa(Wb)}else{c[zb>>0]=c[Wb>>0]|0;oa(Wb)}c[Rb>>0]=Gb<<1;break}Ub=Bb+1|0;Yb=Sr(Ub)|0;if(!(Bb>>>0<=Hb>>>0&(Yb|0)==0)){if(Lc)rt(Yb|0,Rb+1|0,((Ib&255)>>>1)+1|0)|0;else{jb=k[Nb>>2]|0;c[Yb>>0]=c[jb>>0]|0;oa(jb)}k[Rb>>2]=Ub|1;k[Pb>>2]=Gb;k[Nb>>2]=Yb}}}}while(0);k[Rb>>2]=k[Kb>>2];k[Rb+4>>2]=k[Kb+4>>2];k[Rb+8>>2]=k[Kb+8>>2];k[Kb>>2]=0;k[Kb+4>>2]=0;k[Kb+8>>2]=0;qb=Kb+12|0;Jb=c[qb>>0]|0;Qb=(Jb&1)==0;$b=Kb+16|0;ek=Qb?(Jb&255)>>>1:k[$b>>2]|0;ik=Kb+20|0;rk=qb+1|0;ct(Eh,Qb?rk:k[ik>>2]|0,ek>>>0<2?ek:2);ak=c[Eh>>0]|0;lk=(ak&1)==0;nk=lk?(ak&255)>>>1:k[Eh+4>>2]|0;tk=nk>>>0>2;ok=Et(lk?Eh+1|0:k[Eh+8>>2]|0,12670,tk?2:nk)|0;Nu(Eh);if(!(((ok|0)==0?nk>>>0<2?-1:tk&1:ok)|0))ft(qb);ck=k[pb>>2]|0;bk=ck+-12|0;et(pw,Ik);kk=Mo(pw,0,12670)|0;k[Hd>>2]=k[kk>>2];k[Hd+4>>2]=k[kk+4>>2];k[Hd+8>>2]=k[kk+8>>2];k[kk>>2]=0;k[kk+4>>2]=0;k[kk+8>>2]=0;hk=Vo(Hd,12677)|0;k[ed>>2]=k[hk>>2];k[ed+4>>2]=k[hk+4>>2];k[ed+8>>2]=k[hk+8>>2];k[hk>>2]=0;k[hk+4>>2]=0;k[hk+8>>2]=0;dk=c[qb>>0]|0;_k=(dk&1)==0;vk=zn(ed,_k?rk:k[ik>>2]|0,_k?(dk&255)>>>1:k[$b>>2]|0)|0;k[h_>>2]=k[vk>>2];k[h_+4>>2]=k[vk+4>>2];k[h_+8>>2]=k[vk+8>>2];k[vk>>2]=0;k[vk+4>>2]=0;k[vk+8>>2]=0;do{if(!(c[bk>>0]&1)){c[bk+1>>0]=0;c[bk>>0]=0}else{mk=ck+-4|0;c[k[mk>>2]>>0]=0;pk=ck+-8|0;k[pk>>2]=0;fe=c[bk>>0]|0;if(!(fe&1)){yk=fe;Ok=10}else{gk=k[bk>>2]|0;yk=gk&255;Ok=(gk&-2)+-1|0}do{if(!(yk&1)){Fk=(yk&255)>>>1;if((yk&255)<22){xc=1;Tk=10;xk=Fk;break}xc=1;Tk=(Fk+16&240)+-1|0;xk=Fk}else{xc=0;Tk=10;xk=0}}while(0);if((Tk|0)!=(Ok|0)){if((Tk|0)==10){Nk=bk+1|0;Dk=k[mk>>2]|0;if(xc){rt(Nk|0,Dk|0,((yk&255)>>>1)+1|0)|0;oa(Dk)}else{c[Nk>>0]=c[Dk>>0]|0;oa(Dk)}c[bk>>0]=xk<<1;break}Mk=Tk+1|0;Rk=Sr(Mk)|0;if(Tk>>>0<=Ok>>>0&(Rk|0)==0)break;if(xc)rt(Rk|0,bk+1|0,((yk&255)>>>1)+1|0)|0;else{Ck=k[mk>>2]|0;c[Rk>>0]=c[Ck>>0]|0;oa(Ck)}k[bk>>2]=Mk|1;k[pk>>2]=xk;k[mk>>2]=Rk}}}while(0);k[bk>>2]=k[h_>>2];k[bk+4>>2]=k[h_+4>>2];k[bk+8>>2]=k[h_+8>>2];k[h_>>2]=0;k[h_+4>>2]=0;k[h_+8>>2]=0;Nu(h_);Nu(ed);Nu(Hd);Nu(pw);Wo(Ik);Wo(Kb);a=mb}}}else a=e}}else a=e}while(0);if((a|0)==(e|0)){f=e;break e}Bk=k[r+4>>2]|0;if((k[r>>2]|0)==(Bk|0)){f=e;break e}Hk=r+16|0;k[We>>2]=k[r+12>>2];Ss(te,Bk+-24|0,We);Uk=r+20|0;Yk=k[Uk>>2]|0;zk=k[r+24>>2]|0;if(Yk>>>0<zk>>>0){k[Yk+12>>2]=k[te+12>>2];k[Yk>>2]=k[te>>2];Vk=te+4|0;k[Yk+4>>2]=k[Vk>>2];Wk=te+8|0;k[Yk+8>>2]=k[Wk>>2];k[Wk>>2]=0;k[Vk>>2]=0;k[te>>2]=0;k[Uk>>2]=(k[Uk>>2]|0)+16}else{jk=k[Hk>>2]|0;Kk=Yk-jk|0;Xk=Kk>>4;Gk=Xk+1|0;if((Kk|0)<-16)gc(Hk);Jk=zk-jk|0;if(Jk>>4>>>0<1073741823){Zk=Jk>>3;M=Zk>>>0<Gk>>>0?Gk:Zk}else M=2147483647;wt(f_,M,Xk,r+28|0);Qk=f_+8|0;$k=k[Qk>>2]|0;k[$k+12>>2]=k[te+12>>2];k[$k>>2]=k[te>>2];eh=te+4|0;k[$k+4>>2]=k[eh>>2];ih=te+8|0;k[$k+8>>2]=k[ih>>2];k[ih>>2]=0;k[eh>>2]=0;k[te>>2]=0;k[Qk>>2]=$k+16;zl(Hk,f_);Ps(f_)}nt(te);f=a;break e;break}case 67:{fh=e+1|0;ah=_r(fh,i,r)|0;if((ah|0)==(fh|0)){f=e;break e}lh=r+4|0;nh=k[lh>>2]|0;if((k[r>>2]|0)==(nh|0)){f=e;break e}Vo(nh+-24|0,12679)|0;sh=r+16|0;oh=(k[lh>>2]|0)+-24|0;k[hr>>2]=k[r+12>>2];Ss(Pi,oh,hr);uh=r+20|0;ch=k[uh>>2]|0;bh=k[r+24>>2]|0;if(ch>>>0<bh>>>0){k[ch+12>>2]=k[Pi+12>>2];k[ch>>2]=k[Pi>>2];kh=Pi+4|0;k[ch+4>>2]=k[kh>>2];hh=Pi+8|0;k[ch+8>>2]=k[hh>>2];k[hh>>2]=0;k[kh>>2]=0;k[Pi>>2]=0;k[uh>>2]=(k[uh>>2]|0)+16}else{dh=k[sh>>2]|0;wh=ch-dh|0;_h=wh>>4;vh=_h+1|0;if((wh|0)<-16)gc(sh);mh=bh-dh|0;if(mh>>4>>>0<1073741823){ph=mh>>3;R=ph>>>0<vh>>>0?vh:ph}else R=2147483647;wt(f_,R,_h,r+28|0);Sh=f_+8|0;gh=k[Sh>>2]|0;k[gh+12>>2]=k[Pi+12>>2];k[gh>>2]=k[Pi>>2];yh=Pi+4|0;k[gh+4>>2]=k[yh>>2];Fh=Pi+8|0;k[gh+8>>2]=k[Fh>>2];k[Fh>>2]=0;k[yh>>2]=0;k[Pi>>2]=0;k[Sh>>2]=gh+16;zl(sh,f_);Ps(f_)}nt(Pi);f=ah;break e;break}case 70:{do{if(ls<<24>>24==70){Ah=e+1|0;if((Ah|0)!=(i|0)){if((c[Ah>>0]|0)==89){Th=e+2|0;if((Th|0)==(i|0))break;else y_=Th}else y_=Ah;Oh=_r(y_,i,r)|0;if((Oh|0)!=(y_|0)){ct(f_,12688,1);Mh=r+4|0;Rh=f_+4|0;Ph=ne+8|0;Dh=ne+1|0;Ch=ne+4|0;r:do{if((Oh|0)==(i|0))D_=144;else{S_=0;T_=Oh;f:while(1){O_=T_;a:while(1){switch(c[O_>>0]|0){case 69:{g_=S_;M_=O_;break f;break}case 118:{F_=O_+1|0;break}case 82:{Yh=O_+1|0;if((Yh|0)==(i|0))D_=154;else if((c[Yh>>0]|0)==69){p_=1;A_=Yh;break a}else D_=154;break}case 79:{zh=O_+1|0;if((zh|0)==(i|0))D_=154;else if((c[zh>>0]|0)==69){p_=2;A_=zh;break a}else D_=154;break}default:D_=154}if((D_|0)==154){D_=0;Vh=((k[Mh>>2]|0)-(k[r>>2]|0)|0)/24|0;Wh=_r(O_,i,r)|0;jh=((k[Mh>>2]|0)-(k[r>>2]|0)|0)/24|0;if((Wh|0)==(O_|0)|(Wh|0)==(i|0))break r;if(Vh>>>0<jh>>>0){n_=Vh;do{Kh=c[f_>>0]|0;if(((Kh&1)==0?(Kh&255)>>>1:k[Rh>>2]|0)>>>0>1)Vo(f_,12690)|0;et(ne,(k[r>>2]|0)+(n_*24|0)|0);Xh=c[ne>>0]|0;Gh=(Xh&1)==0;zn(f_,Gh?Dh:k[Ph>>2]|0,Gh?(Xh&255)>>>1:k[Ch>>2]|0)|0;Nu(ne);n_=n_+1|0}while(n_>>>0<jh>>>0)}if(Vh>>>0<jh>>>0){u_=Vh;do{qh=k[Mh>>2]|0;Jh=qh+-24|0;Qh=qh;do{Zh=Qh+-24|0;k[Mh>>2]=Zh;Wo(Zh);Qh=k[Mh>>2]|0}while((Qh|0)!=(Jh|0));u_=u_+1|0}while(u_>>>0<jh>>>0);F_=Wh}else F_=Wh}if((F_|0)==(i|0)){D_=144;break r}else O_=F_}if((A_|0)==(i|0)){D_=144;break r}else{S_=p_;T_=A_}}Uh=M_+1|0;Vo(f_,12593)|0;switch(g_|0){case 1:{Vo(f_,12693)|0;break}case 2:{Vo(f_,12696)|0;break}default:{}}$h=k[Mh>>2]|0;if((k[r>>2]|0)!=($h|0)){Vo($h+-24|0,12700)|0;rd=c[f_>>0]|0;fd=(rd&1)==0;Kl((k[Mh>>2]|0)+-12|0,0,fd?f_+1|0:k[f_+8>>2]|0,fd?(rd&255)>>>1:k[Rh>>2]|0)|0;Nu(f_);if((Uh|0)==(e|0)){f=e;break e}ad=k[Mh>>2]|0;if((k[r>>2]|0)==(ad|0)){f=e;break e}ld=r+16|0;k[xf>>2]=k[r+12>>2];Ss(nf,ad+-24|0,xf);sd=r+20|0;td=k[sd>>2]|0;od=k[r+24>>2]|0;if(td>>>0<od>>>0){k[td+12>>2]=k[nf+12>>2];k[td>>2]=k[nf>>2];cd=nf+4|0;k[td+4>>2]=k[cd>>2];bd=nf+8|0;k[td+8>>2]=k[bd>>2];k[bd>>2]=0;k[cd>>2]=0;k[nf>>2]=0;k[sd>>2]=(k[sd>>2]|0)+16}else{hd=k[ld>>2]|0;dd=td-hd|0;wd=dd>>4;_d=wd+1|0;if((dd|0)<-16)gc(ld);vd=od-hd|0;if(vd>>4>>>0<1073741823){md=vd>>3;N=md>>>0<_d>>>0?_d:md}else N=2147483647;wt(f_,N,wd,r+28|0);pd=f_+8|0;Sd=k[pd>>2]|0;k[Sd+12>>2]=k[nf+12>>2];k[Sd>>2]=k[nf>>2];yd=nf+4|0;k[Sd+4>>2]=k[yd>>2];Fd=nf+8|0;k[Sd+8>>2]=k[Fd>>2];k[Fd>>2]=0;k[yd>>2]=0;k[nf>>2]=0;k[pd>>2]=Sd+16;zl(ld,f_);Ps(f_)}nt(nf);f=Uh;break e}}}while(0);if((D_|0)==144){Ih=k[Mh>>2]|0;Lh=Ih+-24|0;Bh=Ih;do{xh=Bh+-24|0;k[Mh>>2]=xh;Wo(xh);Bh=k[Mh>>2]|0}while((Bh|0)!=(Lh|0))}Nu(f_)}}}}while(0);f=e;break e;break}case 71:{Ad=e+1|0;Td=_r(Ad,i,r)|0;if((Td|0)==(Ad|0)){f=e;break e}Md=r+4|0;Rd=k[Md>>2]|0;if((k[r>>2]|0)==(Rd|0)){f=e;break e}Vo(Rd+-24|0,12702)|0;Nd=r+16|0;Pd=(k[Md>>2]|0)+-24|0;k[cl>>2]=k[r+12>>2];Ss(ga,Pd,cl);Dd=r+20|0;Cd=k[Dd>>2]|0;Id=k[r+24>>2]|0;if(Cd>>>0<Id>>>0){k[Cd+12>>2]=k[ga+12>>2];k[Cd>>2]=k[ga>>2];xd=ga+4|0;k[Cd+4>>2]=k[xd>>2];Bd=ga+8|0;k[Cd+8>>2]=k[Bd>>2];k[Bd>>2]=0;k[xd>>2]=0;k[ga>>2]=0;k[Dd>>2]=(k[Dd>>2]|0)+16}else{Ud=k[Nd>>2]|0;Yd=Cd-Ud|0;zd=Yd>>4;Vd=zd+1|0;if((Yd|0)<-16)gc(Nd);Wd=Id-Ud|0;if(Wd>>4>>>0<1073741823){jd=Wd>>3;P=jd>>>0<Vd>>>0?Vd:jd}else P=2147483647;wt(f_,P,zd,r+28|0);Kd=f_+8|0;Xd=k[Kd>>2]|0;k[Xd+12>>2]=k[ga+12>>2];k[Xd>>2]=k[ga>>2];Gd=ga+4|0;k[Xd+4>>2]=k[Gd>>2];Jd=ga+8|0;k[Xd+8>>2]=k[Jd>>2];k[Jd>>2]=0;k[Gd>>2]=0;k[ga>>2]=0;k[Kd>>2]=Xd+16;zl(Nd,f_);Ps(f_)}nt(ga);f=Td;break e;break}case 77:{if(ls<<24>>24==77){Zd=e+1|0;Qd=_r(Zd,i,r)|0;if((Qd|0)==(Zd|0))H=e;else{$d=_r(Qd,i,r)|0;if(($d|0)==(Qd|0))H=e;else{ew=r+4|0;iw=k[ew>>2]|0;if(((iw-(k[r>>2]|0)|0)/24|0)>>>0<2)H=e;else{Nt(f_,iw+-24|0);fw=k[ew>>2]|0;aw=fw+-24|0;nw=fw;do{lw=nw+-24|0;k[ew>>2]=lw;Wo(lw);nw=k[ew>>2]|0}while((nw|0)!=(aw|0));Nt(ne,fw+-48|0);sw=f_+12|0;tw=k[ew>>2]|0;ow=tw+-24|0;if((c[((c[sw>>0]&1)==0?sw+1|0:k[f_+20>>2]|0)>>0]|0)==40){uw=Vo(f_,12688)|0;k[lb>>2]=k[uw>>2];k[lb+4>>2]=k[uw+4>>2];k[lb+8>>2]=k[uw+8>>2];k[uw>>2]=0;k[uw+4>>2]=0;k[uw+8>>2]=0;et(Kb,ne);bw=c[Kb>>0]|0;kw=(bw&1)==0;hw=zn(lb,kw?Kb+1|0:k[Kb+8>>2]|0,kw?(bw&255)>>>1:k[Kb+4>>2]|0)|0;k[Es>>2]=k[hw>>2];k[Es+4>>2]=k[hw+4>>2];k[Es+8>>2]=k[hw+8>>2];k[hw>>2]=0;k[hw+4>>2]=0;k[hw+8>>2]=0;dw=Vo(Es,12713)|0;k[se>>2]=k[dw>>2];k[se+4>>2]=k[dw+4>>2];k[se+8>>2]=k[dw+8>>2];k[dw>>2]=0;k[dw+4>>2]=0;k[dw+8>>2]=0;do{if(!(c[ow>>0]&1)){c[ow+1>>0]=0;c[ow>>0]=0}else{ww=tw+-16|0;c[k[ww>>2]>>0]=0;_w=tw+-20|0;k[_w>>2]=0;ee=c[ow>>0]|0;if(!(ee&1)){Ew=ee;gw=10}else{vw=k[ow>>2]|0;Ew=vw&255;gw=(vw&-2)+-1|0}if(!(Ew&1)){mw=(Ew&255)>>>1;if((Ew&255)<22){Bc=1;Sw=10;Mw=mw}else{Bc=1;Sw=(mw+16&240)+-1|0;Mw=mw}}else{Bc=0;Sw=10;Mw=0}if((Sw|0)!=(gw|0)){if((Sw|0)==10){Aw=ow+1|0;Tw=k[ww>>2]|0;if(Bc){rt(Aw|0,Tw|0,((Ew&255)>>>1)+1|0)|0;oa(Tw)}else{c[Aw>>0]=c[Tw>>0]|0;oa(Tw)}c[ow>>0]=Mw<<1;break}yw=Sw+1|0;Fw=Sr(yw)|0;if(!(Sw>>>0<=gw>>>0&(Fw|0)==0)){if(Bc)rt(Fw|0,ow+1|0,((Ew&255)>>>1)+1|0)|0;else{Ow=k[ww>>2]|0;c[Fw>>0]=c[Ow>>0]|0;oa(Ow)}k[ow>>2]=yw|1;k[_w>>2]=Mw;k[ww>>2]=Fw}}}}while(0);k[ow>>2]=k[se>>2];k[ow+4>>2]=k[se+4>>2];k[ow+8>>2]=k[se+8>>2];k[se>>2]=0;k[se+4>>2]=0;k[se+8>>2]=0;Nu(se);Nu(Es);Nu(Kb);Nu(lb);Rw=k[ew>>2]|0;Nw=Mo(sw,0,12593)|0;k[Ik>>2]=k[Nw>>2];k[Ik+4>>2]=k[Nw+4>>2];k[Ik+8>>2]=k[Nw+8>>2];k[Nw>>2]=0;k[Nw+4>>2]=0;k[Nw+8>>2]=0;Pw=Rw+-12|0;do{if(!(c[Pw>>0]&1)){c[Pw+1>>0]=0;c[Pw>>0]=0}else{Dw=Rw+-4|0;c[k[Dw>>2]>>0]=0;Cw=Rw+-8|0;k[Cw>>2]=0;re=c[Pw>>0]|0;if(!(re&1)){Lw=re;Uw=10}else{Iw=k[Pw>>2]|0;Lw=Iw&255;Uw=(Iw&-2)+-1|0}if(!(Lw&1)){xw=(Lw&255)>>>1;if((Lw&255)<22){Hc=1;Hw=10;Gw=xw}else{Hc=1;Hw=(xw+16&240)+-1|0;Gw=xw}}else{Hc=0;Hw=10;Gw=0}if((Hw|0)!=(Uw|0)){if((Hw|0)==10){Vw=Pw+1|0;Ww=k[Dw>>2]|0;if(Hc){rt(Vw|0,Ww|0,((Lw&255)>>>1)+1|0)|0;oa(Ww)}else{c[Vw>>0]=c[Ww>>0]|0;oa(Ww)}c[Pw>>0]=Gw<<1;break}Yw=Hw+1|0;zw=Sr(Yw)|0;if(!(Hw>>>0<=Uw>>>0&(zw|0)==0)){if(Hc)rt(zw|0,Pw+1|0,((Lw&255)>>>1)+1|0)|0;else{Kw=k[Dw>>2]|0;c[zw>>0]=c[Kw>>0]|0;oa(Kw)}k[Pw>>2]=Yw|1;k[Cw>>2]=Gw;k[Dw>>2]=zw}}}}while(0);k[Pw>>2]=k[Ik>>2];k[Pw+4>>2]=k[Ik+4>>2];k[Pw+8>>2]=k[Ik+8>>2];k[Ik>>2]=0;k[Ik+4>>2]=0;k[Ik+8>>2]=0;Nu(Ik)}else{qw=Vo(f_,12700)|0;k[ed>>2]=k[qw>>2];k[ed+4>>2]=k[qw+4>>2];k[ed+8>>2]=k[qw+8>>2];k[qw>>2]=0;k[qw+4>>2]=0;k[qw+8>>2]=0;et(Hd,ne);Jw=c[Hd>>0]|0;Qw=(Jw&1)==0;$w=zn(ed,Qw?Hd+1|0:k[Hd+8>>2]|0,Qw?(Jw&255)>>>1:k[Hd+4>>2]|0)|0;k[h_>>2]=k[$w>>2];k[h_+4>>2]=k[$w+4>>2];k[h_+8>>2]=k[$w+8>>2];k[$w>>2]=0;k[$w+4>>2]=0;k[$w+8>>2]=0;e_=Vo(h_,12713)|0;k[Eh>>2]=k[e_>>2];k[Eh+4>>2]=k[e_+4>>2];k[Eh+8>>2]=k[e_+8>>2];k[e_>>2]=0;k[e_+4>>2]=0;k[e_+8>>2]=0;do{if(!(c[ow>>0]&1)){c[ow+1>>0]=0;c[ow>>0]=0}else{oe=tw+-16|0;c[k[oe>>2]>>0]=0;ue=tw+-20|0;k[ue>>2]=0;ae=c[ow>>0]|0;if(!(ae&1)){ke=ae;_e=10}else{ce=k[ow>>2]|0;ke=ce&255;_e=(ce&-2)+-1|0}if(!(ke&1)){de=(ke&255)>>>1;if((ke&255)<22){we=10;ge=de;Uc=1}else{we=(de+16&240)+-1|0;ge=de;Uc=1}}else{we=10;ge=0;Uc=0}if((we|0)!=(_e|0)){if((we|0)==10){me=ow+1|0;pe=k[oe>>2]|0;if(Uc){rt(me|0,pe|0,((ke&255)>>>1)+1|0)|0;oa(pe)}else{c[me>>0]=c[pe>>0]|0;oa(pe)}c[ow>>0]=ge<<1;break}ve=we+1|0;Ee=Sr(ve)|0;if(!(we>>>0<=_e>>>0&(Ee|0)==0)){if(Uc)rt(Ee|0,ow+1|0,((ke&255)>>>1)+1|0)|0;else{Se=k[oe>>2]|0;c[Ee>>0]=c[Se>>0]|0;oa(Se)}k[ow>>2]=ve|1;k[ue>>2]=ge;k[oe>>2]=Ee}}}}while(0);k[ow>>2]=k[Eh>>2];k[ow+4>>2]=k[Eh+4>>2];k[ow+8>>2]=k[Eh+8>>2];k[Eh>>2]=0;k[Eh+4>>2]=0;k[Eh+8>>2]=0;Nu(Eh);Nu(h_);Nu(Hd);Nu(ed);Fe=k[ew>>2]|0;Ae=Fe+-12|0;do{if(!(c[Ae>>0]&1)){c[Ae+1>>0]=0;c[Ae>>0]=0}else{Te=Fe+-4|0;c[k[Te>>2]>>0]=0;Oe=Fe+-8|0;k[Oe>>2]=0;le=c[Ae>>0]|0;if(!(le&1)){Re=le;De=10}else{Me=k[Ae>>2]|0;Re=Me&255;De=(Me&-2)+-1|0}if(!(Re&1)){Ne=(Re&255)>>>1;if((Re&255)<22){Pe=10;Ye=Ne;Yc=1}else{Pe=(Ne+16&240)+-1|0;Ye=Ne;Yc=1}}else{Pe=10;Ye=0;Yc=0}if((Pe|0)!=(De|0)){if((Pe|0)==10){xe=Ae+1|0;Be=k[Te>>2]|0;if(Yc){rt(xe|0,Be|0,((Re&255)>>>1)+1|0)|0;oa(Be)}else{c[xe>>0]=c[Be>>0]|0;oa(Be)}c[Ae>>0]=Ye<<1;break}Ie=Pe+1|0;Le=Sr(Ie)|0;if(!(Pe>>>0<=De>>>0&(Le|0)==0)){if(Yc)rt(Le|0,Ae+1|0,((Re&255)>>>1)+1|0)|0;else{Ue=k[Te>>2]|0;c[Le>>0]=c[Ue>>0]|0;oa(Ue)}k[Ae>>2]=Ie|1;k[Oe>>2]=Ye;k[Te>>2]=Le}}}}while(0);k[Ae>>2]=k[sw>>2];k[Ae+4>>2]=k[sw+4>>2];k[Ae+8>>2]=k[sw+8>>2];k[sw>>2]=0;k[sw+4>>2]=0;k[sw+8>>2]=0}Wo(ne);Wo(f_);H=$d}}}}else H=e;if((H|0)==(e|0)){f=e;break e}ze=k[r+4>>2]|0;if((k[r>>2]|0)==(ze|0)){f=e;break e}Ve=r+16|0;k[Ln>>2]=k[r+12>>2];Ss(Gl,ze+-24|0,Ln);je=r+20|0;Ke=k[je>>2]|0;Xe=k[r+24>>2]|0;if(Ke>>>0<Xe>>>0){k[Ke+12>>2]=k[Gl+12>>2];k[Ke>>2]=k[Gl>>2];Ge=Gl+4|0;k[Ke+4>>2]=k[Ge>>2];qe=Gl+8|0;k[Ke+8>>2]=k[qe>>2];k[qe>>2]=0;k[Ge>>2]=0;k[Gl>>2]=0;k[je>>2]=(k[je>>2]|0)+16}else{Je=k[Ve>>2]|0;Ze=Ke-Je|0;Qe=Ze>>4;$e=Qe+1|0;if((Ze|0)<-16)gc(Ve);ei=Xe-Je|0;if(ei>>4>>>0<1073741823){ii=ei>>3;D=ii>>>0<$e>>>0?$e:ii}else D=2147483647;wt(f_,D,Qe,r+28|0);fi=f_+8|0;ai=k[fi>>2]|0;k[ai+12>>2]=k[Gl+12>>2];k[ai>>2]=k[Gl>>2];li=Gl+4|0;k[ai+4>>2]=k[li>>2];ni=Gl+8|0;k[ai+8>>2]=k[ni>>2];k[ni>>2]=0;k[li>>2]=0;k[Gl>>2]=0;k[fi>>2]=ai+16;zl(Ve,f_);Ps(f_)}nt(Gl);f=H;break e;break}case 79:{si=r+4|0;oi=((k[si>>2]|0)-(k[r>>2]|0)|0)/24|0;ui=e+1|0;ci=_r(ui,i,r)|0;bi=((k[si>>2]|0)-(k[r>>2]|0)|0)/24|0;if((ci|0)==(ui|0)){f=e;break e}ki=r+16|0;hi=k[r+12>>2]|0;di=r+20|0;wi=k[di>>2]|0;_i=k[r+24>>2]|0;if(wi>>>0<_i>>>0){k[wi>>2]=0;k[wi+4>>2]=0;k[wi+8>>2]=0;k[wi+12>>2]=hi;k[di>>2]=(k[di>>2]|0)+16}else{Ei=k[ki>>2]|0;mi=wi-Ei|0;pi=mi>>4;Si=pi+1|0;if((mi|0)<-16)gc(ki);gi=_i-Ei|0;if(gi>>4>>>0<1073741823){yi=gi>>3;C=yi>>>0<Si>>>0?Si:yi}else C=2147483647;wt(f_,C,pi,r+28|0);Ai=f_+8|0;Ti=k[Ai>>2]|0;k[Ti>>2]=0;k[Ti+4>>2]=0;k[Ti+8>>2]=0;k[Ti+12>>2]=hi;k[Ai>>2]=Ti+16;zl(ki,f_);Ps(f_)}Oi=ps+4|0;Mi=ps+8|0;Ri=ps+1|0;Ni=f_+8|0;if(oi>>>0<bi>>>0)b_=oi;else{f=ci;break e}while(1){Ci=k[r>>2]|0;Ii=Ci+(b_*24|0)+12|0;Li=c[Ii>>0]|0;xi=(Li&1)==0;Bi=xi?(Li&255)>>>1:k[Ci+(b_*24|0)+16>>2]|0;ct(ps,xi?Ii+1|0:k[Ci+(b_*24|0)+20>>2]|0,Bi>>>0<2?Bi:2);Hi=c[ps>>0]|0;Ui=(Hi&1)==0;zi=Ui?(Hi&255)>>>1:k[Oi>>2]|0;Vi=zi>>>0>2;Wi=Et(Ui?Ri:k[Mi>>2]|0,12670,Vi?2:zi)|0;Nu(ps);Ki=k[r>>2]|0;if(!(((Wi|0)==0?zi>>>0<2?-1:Vi&1:Wi)|0)){Vo(Ki+(b_*24|0)|0,12590)|0;Mo((k[r>>2]|0)+(b_*24|0)+12|0,0,12593)|0}else{Xi=Ki+(b_*24|0)+12|0;if(!(c[Xi>>0]&1))qi=Xi+1|0;else qi=k[Ki+(b_*24|0)+20>>2]|0;if((c[qi>>0]|0)==40){Vo(Ki+(b_*24|0)|0,12688)|0;Mo((k[r>>2]|0)+(b_*24|0)+12|0,0,12593)|0}}Vo((k[r>>2]|0)+(b_*24|0)|0,12717)|0;Ji=k[di>>2]|0;Zi=Ji+-16|0;Qi=k[r>>2]|0;$i=Qi+(b_*24|0)|0;er=Ji+-12|0;ir=k[er>>2]|0;if((ir|0)==(k[Ji+-8>>2]|0)){fr=ir-(k[Zi>>2]|0)|0;ar=(fr|0)/24|0;lr=ar+1|0;if((fr|0)<-24){X=Zi;break}if(ar>>>0<1073741823){nr=ar<<1;I=nr>>>0<lr>>>0?lr:nr}else I=2147483647;pt(f_,I,ar,Ji+-4|0);sr=k[Ni>>2]|0;Lt(sr,$i);Lt(sr+12|0,Qi+(b_*24|0)+12|0);k[Ni>>2]=sr+24;Bn(Zi,f_);lt(f_)}else{Lt(ir,$i);Lt(ir+12|0,Qi+(b_*24|0)+12|0);k[er>>2]=(k[er>>2]|0)+24}b_=b_+1|0;if(b_>>>0>=bi>>>0){f=ci;break e}}gc(X);break}case 80:{tr=r+4|0;or=((k[tr>>2]|0)-(k[r>>2]|0)|0)/24|0;ur=e+1|0;cr=_r(ur,i,r)|0;br=((k[tr>>2]|0)-(k[r>>2]|0)|0)/24|0;if((cr|0)==(ur|0)){f=e;break e}kr=r+16|0;dr=k[r+12>>2]|0;wr=r+20|0;Er=k[wr>>2]|0;mr=k[r+24>>2]|0;if(Er>>>0<mr>>>0){k[Er>>2]=0;k[Er+4>>2]=0;k[Er+8>>2]=0;k[Er+12>>2]=dr;k[wr>>2]=(k[wr>>2]|0)+16}else{gr=k[kr>>2]|0;Fr=Er-gr|0;Ar=Fr>>4;Tr=Ar+1|0;if((Fr|0)<-16)gc(kr);Or=mr-gr|0;if(Or>>4>>>0<1073741823){Mr=Or>>3;L=Mr>>>0<Tr>>>0?Tr:Mr}else L=2147483647;wt(f_,L,Ar,r+28|0);Rr=f_+8|0;Nr=k[Rr>>2]|0;k[Nr>>2]=0;k[Nr+4>>2]=0;k[Nr+8>>2]=0;k[Nr+12>>2]=dr;k[Rr>>2]=Nr+16;zl(kr,f_);Ps(f_)}Pr=mt+4|0;Cr=mt+8|0;Ir=mt+1|0;Lr=to+4|0;xr=to+8|0;Br=to+1|0;Ur=f_+8|0;if(or>>>0<br>>>0)k_=or;else{f=cr;break e}while(1){Yr=k[r>>2]|0;zr=Yr+(k_*24|0)+12|0;Vr=c[zr>>0]|0;Wr=(Vr&1)==0;jr=Wr?(Vr&255)>>>1:k[Yr+(k_*24|0)+16>>2]|0;ct(mt,Wr?zr+1|0:k[Yr+(k_*24|0)+20>>2]|0,jr>>>0<2?jr:2);Kr=c[mt>>0]|0;Gr=(Kr&1)==0;qr=Gr?(Kr&255)>>>1:k[Pr>>2]|0;Jr=qr>>>0>2;Zr=Et(Gr?Ir:k[Cr>>2]|0,12670,Jr?2:qr)|0;Nu(mt);Qr=k[r>>2]|0;if(!(((Zr|0)==0?qr>>>0<2?-1:Jr&1:Zr)|0)){Vo(Qr+(k_*24|0)|0,12590)|0;Mo((k[r>>2]|0)+(k_*24|0)+12|0,0,12593)|0}else{$r=Qr+(k_*24|0)+12|0;if(!(c[$r>>0]&1))ef=$r+1|0;else ef=k[Qr+(k_*24|0)+20>>2]|0;if((c[ef>>0]|0)==40){Vo(Qr+(k_*24|0)|0,12688)|0;Mo((k[r>>2]|0)+(k_*24|0)+12|0,0,12593)|0}}rf=k[r>>2]|0;ff=rf+(k_*24|0)|0;do{if((c[ur>>0]|0)==85){af=c[ff>>0]|0;lf=(af&1)==0;sf=lf?(af&255)>>>1:k[rf+(k_*24|0)+4>>2]|0;ct(to,lf?ff+1|0:k[rf+(k_*24|0)+8>>2]|0,sf>>>0<12?sf:12);tf=c[to>>0]|0;of=(tf&1)==0;uf=of?(tf&255)>>>1:k[Lr>>2]|0;cf=uf>>>0>12;bf=Et(of?Br:k[xr>>2]|0,12720,cf?12:uf)|0;Nu(to);kf=k[r>>2]|0;hf=kf+(k_*24|0)|0;if(!(((bf|0)==0?uf>>>0<12?-1:cf&1:bf)|0)){wf=c[hf>>0]|0;if(!(wf&1)){_f=(wf&255)>>>1;mf=_f>>>0<11?_f:11;pf=_f;Sf=10;gf=wf}else{vf=k[kf+(k_*24|0)+4>>2]|0;Ef=k[hf>>2]|0;mf=vf>>>0<11?vf:11;pf=vf;Sf=(Ef&-2)+-1|0;gf=Ef&255}if((mf-pf+Sf|0)>>>0<2){ql(hf,Sf,2-mf+pf-Sf|0,pf,0,mf,2,12735);break}if(!(gf&1))Ff=hf+1|0;else Ff=k[kf+(k_*24|0)+8>>2]|0;do{if((mf|0)==2){U=0;z=12735;W=2;zc=2;D_=339}else{yf=pf-mf|0;if((pf|0)==(mf|0)){U=0;z=12735;W=2;zc=mf;D_=339}else{if(mf>>>0>2){c[Ff>>0]=105;c[Ff+1>>0]=100;oo(Ff+2|0,Ff+mf|0,yf|0)|0;j=2;Of=mf;break}do{if(Ff>>>0<12735>>>0&(Ff+pf|0)>>>0>12735>>>0)if((Ff+mf|0)>>>0>12735>>>0){rt(Ff|0,12735,mf|0)|0;l=mf;x=12737;B=2-mf|0;Tf=0;break}else{l=0;x=12735+(2-mf)|0;B=2;Tf=mf;break}else{l=0;x=12735;B=2;Tf=mf}}while(0);oo(Ff+(l+B)|0,Ff+(l+Tf)|0,yf|0)|0;U=l;z=x;W=B;zc=Tf;D_=339}}}while(0);if((D_|0)==339){D_=0;oo(Ff+U|0,z|0,W|0)|0;j=W;Of=zc}Mf=j-Of+pf|0;if(!(c[hf>>0]&1))c[hf>>0]=Mf<<1;else k[kf+(k_*24|0)+4>>2]=Mf;c[Ff+Mf>>0]=0}else{df=hf;D_=322}}else{df=ff;D_=322}}while(0);if((D_|0)==322){D_=0;Vo(df,12733)|0}Rf=k[wr>>2]|0;Nf=Rf+-16|0;Pf=k[r>>2]|0;Df=Pf+(k_*24|0)|0;If=Rf+-12|0;Lf=k[If>>2]|0;if((Lf|0)==(k[Rf+-8>>2]|0)){Bf=Lf-(k[Nf>>2]|0)|0;Hf=(Bf|0)/24|0;Uf=Hf+1|0;if((Bf|0)<-24){G=Nf;break}if(Hf>>>0<1073741823){Yf=Hf<<1;t=Yf>>>0<Uf>>>0?Uf:Yf}else t=2147483647;pt(f_,t,Hf,Rf+-4|0);zf=k[Ur>>2]|0;Lt(zf,Df);Lt(zf+12|0,Pf+(k_*24|0)+12|0);k[Ur>>2]=zf+24;Bn(Nf,f_);lt(f_)}else{Lt(Lf,Df);Lt(Lf+12|0,Pf+(k_*24|0)+12|0);k[If>>2]=(k[If>>2]|0)+24}k_=k_+1|0;if(k_>>>0>=br>>>0){f=cr;break e}}gc(G);break}case 82:{Vf=r+4|0;Wf=((k[Vf>>2]|0)-(k[r>>2]|0)|0)/24|0;jf=e+1|0;Kf=_r(jf,i,r)|0;Xf=((k[Vf>>2]|0)-(k[r>>2]|0)|0)/24|0;if((Kf|0)==(jf|0)){f=e;break e}Gf=r+16|0;qf=k[r+12>>2]|0;Jf=r+20|0;Zf=k[Jf>>2]|0;Qf=k[r+24>>2]|0;if(Zf>>>0<Qf>>>0){k[Zf>>2]=0;k[Zf+4>>2]=0;k[Zf+8>>2]=0;k[Zf+12>>2]=qf;k[Jf>>2]=(k[Jf>>2]|0)+16}else{$f=k[Gf>>2]|0;ea=Zf-$f|0;ia=ea>>4;ra=ia+1|0;if((ea|0)<-16)gc(Gf);fa=Qf-$f|0;if(fa>>4>>>0<1073741823){aa=fa>>3;o=aa>>>0<ra>>>0?ra:aa}else o=2147483647;wt(f_,o,ia,r+28|0);la=f_+8|0;na=k[la>>2]|0;k[na>>2]=0;k[na+4>>2]=0;k[na+8>>2]=0;k[na+12>>2]=qf;k[la>>2]=na+16;zl(Gf,f_);Ps(f_)}sa=Jo+4|0;ua=Jo+8|0;ca=Jo+1|0;ka=f_+8|0;if(Wf>>>0<Xf>>>0)t_=Wf;else{f=Kf;break e}while(1){ha=k[r>>2]|0;da=ha+(t_*24|0)+12|0;wa=c[da>>0]|0;_a=(wa&1)==0;va=_a?(wa&255)>>>1:k[ha+(t_*24|0)+16>>2]|0;ct(Jo,_a?da+1|0:k[ha+(t_*24|0)+20>>2]|0,va>>>0<2?va:2);Ea=c[Jo>>0]|0;ma=(Ea&1)==0;pa=ma?(Ea&255)>>>1:k[sa>>2]|0;Sa=pa>>>0>2;Fa=Et(ma?ca:k[ua>>2]|0,12670,Sa?2:pa)|0;Nu(Jo);Aa=k[r>>2]|0;if(!(((Fa|0)==0?pa>>>0<2?-1:Sa&1:Fa)|0)){Vo(Aa+(t_*24|0)|0,12590)|0;Mo((k[r>>2]|0)+(t_*24|0)+12|0,0,12593)|0}else{Ta=Aa+(t_*24|0)+12|0;if(!(c[Ta>>0]&1))Oa=Ta+1|0;else Oa=k[Aa+(t_*24|0)+20>>2]|0;if((c[Oa>>0]|0)==40){Vo(Aa+(t_*24|0)|0,12688)|0;Mo((k[r>>2]|0)+(t_*24|0)+12|0,0,12593)|0}}Vo((k[r>>2]|0)+(t_*24|0)|0,12738)|0;Ma=k[Jf>>2]|0;Ra=Ma+-16|0;Na=k[r>>2]|0;Pa=Na+(t_*24|0)|0;Da=Ma+-12|0;Ca=k[Da>>2]|0;if((Ca|0)==(k[Ma+-8>>2]|0)){La=Ca-(k[Ra>>2]|0)|0;xa=(La|0)/24|0;Ba=xa+1|0;if((La|0)<-24){q=Ra;break}if(xa>>>0<1073741823){Ha=xa<<1;u=Ha>>>0<Ba>>>0?Ba:Ha}else u=2147483647;pt(f_,u,xa,Ma+-4|0);Ua=k[ka>>2]|0;Lt(Ua,Pa);Lt(Ua+12|0,Na+(t_*24|0)+12|0);k[ka>>2]=Ua+24;Bn(Ra,f_);lt(f_)}else{Lt(Ca,Pa);Lt(Ca+12|0,Na+(t_*24|0)+12|0);k[Da>>2]=(k[Da>>2]|0)+24}t_=t_+1|0;if(t_>>>0>=Xf>>>0){f=Kf;break e}}gc(q);break}case 84:{za=r+4|0;Wa=((k[za>>2]|0)-(k[r>>2]|0)|0)/24|0;ja=ba(e,i,r)|0;Ka=((k[za>>2]|0)-(k[r>>2]|0)|0)/24|0;if((ja|0)==(e|0)){f=e;break e}Ga=r+16|0;Ja=r+12|0;Za=k[Ja>>2]|0;Qa=r+20|0;$a=k[Qa>>2]|0;el=r+24|0;il=k[el>>2]|0;if($a>>>0<il>>>0){k[$a>>2]=0;k[$a+4>>2]=0;k[$a+8>>2]=0;k[$a+12>>2]=Za;k[Qa>>2]=(k[Qa>>2]|0)+16}else{fl=k[Ga>>2]|0;al=$a-fl|0;ll=al>>4;sl=ll+1|0;if((al|0)<-16)gc(Ga);tl=il-fl|0;if(tl>>4>>>0<1073741823){ol=tl>>3;b=ol>>>0<sl>>>0?sl:ol}else b=2147483647;wt(f_,b,ll,r+28|0);ul=f_+8|0;bl=k[ul>>2]|0;k[bl>>2]=0;k[bl+4>>2]=0;k[bl+8>>2]=0;k[bl+12>>2]=Za;k[ul>>2]=bl+16;zl(Ga,f_);Ps(f_)}hl=f_+8|0;r:do{if(Wa>>>0<Ka>>>0){o_=Wa;while(1){dl=k[Qa>>2]|0;wl=dl+-16|0;_l=k[r>>2]|0;vl=_l+(o_*24|0)|0;El=dl+-12|0;ml=k[El>>2]|0;if((ml|0)==(k[dl+-8>>2]|0)){pl=ml-(k[wl>>2]|0)|0;Sl=(pl|0)/24|0;gl=Sl+1|0;if((pl|0)<-24){J=wl;break}if(Sl>>>0<1073741823){yl=Sl<<1;h=yl>>>0<gl>>>0?gl:yl}else h=2147483647;pt(f_,h,Sl,dl+-4|0);Fl=k[hl>>2]|0;Lt(Fl,vl);Lt(Fl+12|0,_l+(o_*24|0)+12|0);k[hl>>2]=Fl+24;Bn(wl,f_);lt(f_)}else{Lt(ml,vl);Lt(ml+12|0,_l+(o_*24|0)+12|0);k[El>>2]=(k[El>>2]|0)+24}o_=o_+1|0;if(o_>>>0>=Ka>>>0)break r}gc(J)}}while(0);if(!((Ka|0)==(Wa+1|0)&(c[r+63>>0]|0)!=0)){f=ja;break e}Al=ta(ja,i,r)|0;if((Al|0)==(ja|0)){f=ja;break e}et(a_,(k[za>>2]|0)+-24|0);Tl=k[za>>2]|0;Ol=Tl+-24|0;Rl=Tl;do{Ml=Rl+-24|0;k[za>>2]=Ml;Wo(Ml);Rl=k[za>>2]|0}while((Rl|0)!=(Ol|0));Nl=c[a_>>0]|0;Pl=(Nl&1)==0;zn(Tl+-48|0,Pl?a_+1|0:k[a_+8>>2]|0,Pl?(Nl&255)>>>1:k[a_+4>>2]|0)|0;Dl=(k[za>>2]|0)+-24|0;k[oc>>2]=k[Ja>>2];Ss(Du,Dl,oc);Cl=k[Qa>>2]|0;Il=k[el>>2]|0;if(Cl>>>0<Il>>>0){k[Cl+12>>2]=k[Du+12>>2];k[Cl>>2]=k[Du>>2];Ll=Du+4|0;k[Cl+4>>2]=k[Ll>>2];xl=Du+8|0;k[Cl+8>>2]=k[xl>>2];k[xl>>2]=0;k[Ll>>2]=0;k[Du>>2]=0;k[Qa>>2]=(k[Qa>>2]|0)+16}else{Bl=k[Ga>>2]|0;Hl=Cl-Bl|0;Ul=Hl>>4;Yl=Ul+1|0;if((Hl|0)<-16)gc(Ga);Vl=Il-Bl|0;if(Vl>>4>>>0<1073741823){Wl=Vl>>3;d=Wl>>>0<Yl>>>0?Yl:Wl}else d=2147483647;wt(f_,d,Ul,r+28|0);jl=f_+8|0;Xl=k[jl>>2]|0;k[Xl+12>>2]=k[Du+12>>2];k[Xl>>2]=k[Du>>2];Jl=Du+4|0;k[Xl+4>>2]=k[Jl>>2];Zl=Du+8|0;k[Xl+8>>2]=k[Zl>>2];k[Zl>>2]=0;k[Jl>>2]=0;k[Du>>2]=0;k[jl>>2]=Xl+16;zl(Ga,f_);Ps(f_)}nt(Du);Nu(a_);f=Al;break e;break}case 85:{$l=e+1|0;if(($l|0)==(i|0)){f=e;break e}en=ya($l,i,r)|0;if((en|0)==($l|0)){f=e;break e}rn=_r(en,i,r)|0;if((rn|0)==(en|0)){f=e;break e}fn=r+4|0;an=k[fn>>2]|0;if(((an-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break e}et(P_,an+-24|0);nn=k[fn>>2]|0;sn=nn+-24|0;on=nn;do{tn=on+-24|0;k[fn>>2]=tn;Wo(tn);on=k[fn>>2]|0}while((on|0)!=(sn|0));cn=nn+-48|0;bn=c[cn>>0]|0;kn=(bn&1)==0;hn=kn?(bn&255)>>>1:k[nn+-44>>2]|0;ct(jc,kn?cn+1|0:k[nn+-40>>2]|0,hn>>>0<9?hn:9);dn=c[jc>>0]|0;wn=(dn&1)==0;_n=wn?(dn&255)>>>1:k[jc+4>>2]|0;vn=_n>>>0>9;mn=Et(wn?jc+1|0:k[jc+8>>2]|0,12740,vn?9:_n)|0;Nu(jc);pn=(k[fn>>2]|0)+-24|0;if(!(((mn|0)==0?_n>>>0<9?-1:vn&1:mn)|0)){et(m_,pn);Fn=k[fn>>2]|0;An=Fn+-24|0;On=Fn;do{Tn=On+-24|0;k[fn>>2]=Tn;Wo(Tn);On=k[fn>>2]|0}while((On|0)!=(An|0));Mn=c[m_>>0]|0;Nn=(Mn&1)==0;Pn=m_+8|0;Dn=m_+1|0;Cn=Nn?Dn:k[Pn>>2]|0;In=m_+4|0;xn=ya(Cn+9|0,Cn+(Nn?(Mn&255)>>>1:k[In>>2]|0)|0,r)|0;if((xn|0)==(((c[m_>>0]&1)==0?Dn:k[Pn>>2]|0)+9|0)){ms(xb,P_,12700);jn=c[m_>>0]|0;Kn=(jn&1)==0;Xn=zn(xb,Kn?Dn:k[Pn>>2]|0,Kn?(jn&255)>>>1:k[In>>2]|0)|0;k[Db>>2]=k[Xn>>2];k[Db+4>>2]=k[Xn+4>>2];k[Db+8>>2]=k[Xn+8>>2];k[Xn>>2]=0;k[Xn+4>>2]=0;k[Xn+8>>2]=0;Zt(Mb,Db);Gn=k[fn>>2]|0;qn=k[r+8>>2]|0;if(Gn>>>0<qn>>>0){Nt(Gn,Mb);k[fn>>2]=(k[fn>>2]|0)+24}else{Zn=k[r>>2]|0;Qn=Gn-Zn|0;$n=(Qn|0)/24|0;es=$n+1|0;if((Qn|0)<-24)gc(r);is=(qn-Zn|0)/24|0;if(is>>>0<1073741823){rs=is<<1;v=rs>>>0<es>>>0?es:rs}else v=2147483647;pt(f_,v,$n,r+12|0);fs=f_+8|0;as=k[fs>>2]|0;Nt(as,Mb);k[fs>>2]=as+24;Bn(r,f_);lt(f_)}Wo(Mb);Nu(Db);Nu(xb)}else{Hn=(k[fn>>2]|0)+-24|0;ms(vb,P_,12750);et(gb,(k[fn>>2]|0)+-24|0);Un=c[gb>>0]|0;Yn=(Un&1)==0;Vn=zn(vb,Yn?gb+1|0:k[gb+8>>2]|0,Yn?(Un&255)>>>1:k[gb+4>>2]|0)|0;k[wb>>2]=k[Vn>>2];k[wb+4>>2]=k[Vn+4>>2];k[wb+8>>2]=k[Vn+8>>2];k[Vn>>2]=0;k[Vn+4>>2]=0;k[Vn+8>>2]=0;Wn=Vo(wb,12752)|0;k[bb>>2]=k[Wn>>2];k[bb+4>>2]=k[Wn+4>>2];k[bb+8>>2]=k[Wn+8>>2];k[Wn>>2]=0;k[Wn+4>>2]=0;k[Wn+8>>2]=0;Zt(ub,bb);qa(Hn,ub);Wo(ub);Nu(bb);Nu(wb);Nu(gb);Nu(vb)}Nu(m_)}else{ms(rb,P_,12700);et(nb,(k[fn>>2]|0)+-24|0);Sn=c[nb>>0]|0;gn=(Sn&1)==0;yn=zn(rb,gn?nb+1|0:k[nb+8>>2]|0,gn?(Sn&255)>>>1:k[nb+4>>2]|0)|0;k[$c>>2]=k[yn>>2];k[$c+4>>2]=k[yn+4>>2];k[$c+8>>2]=k[yn+8>>2];k[yn>>2]=0;k[yn+4>>2]=0;k[yn+8>>2]=0;Zt(Jc,$c);qa(pn,Jc);Wo(Jc);Nu($c);Nu(nb);Nu(rb)}ns=(k[fn>>2]|0)+-24|0;k[Xb>>2]=k[r+12>>2];Ss(Vb,ns,Xb);ss=r+16|0;ts=r+20|0;os=k[ts>>2]|0;us=k[r+24>>2]|0;if(os>>>0<us>>>0){k[os+12>>2]=k[Vb+12>>2];k[os>>2]=k[Vb>>2];cs=Vb+4|0;k[os+4>>2]=k[cs>>2];bs=Vb+8|0;k[os+8>>2]=k[bs>>2];k[bs>>2]=0;k[cs>>2]=0;k[Vb>>2]=0;k[ts>>2]=(k[ts>>2]|0)+16}else{hs=k[ss>>2]|0;ds=os-hs|0;ws=ds>>4;vs=ws+1|0;if((ds|0)<-16)gc(ss);Fs=us-hs|0;if(Fs>>4>>>0<1073741823){As=Fs>>3;w=As>>>0<vs>>>0?vs:As}else w=2147483647;wt(f_,w,ws,r+28|0);Ts=f_+8|0;Os=k[Ts>>2]|0;k[Os+12>>2]=k[Vb+12>>2];k[Os>>2]=k[Vb>>2];Ms=Vb+4|0;k[Os+4>>2]=k[Ms>>2];Rs=Vb+8|0;k[Os+8>>2]=k[Rs>>2];k[Rs>>2]=0;k[Ms>>2]=0;k[Vb>>2]=0;k[Ts>>2]=Os+16;zl(ss,f_);Ps(f_)}nt(Vb);Nu(P_);f=rn;break e;break}case 83:{Ns=e+1|0;if((Ns|0)!=(i|0))if((c[Ns>>0]|0)==116){Cs=yr(e,i,r)|0;if((Cs|0)==(e|0)){f=e;break e}Is=k[r+4>>2]|0;if((k[r>>2]|0)==(Is|0)){f=e;break e}Ls=r+16|0;k[fk>>2]=k[r+12>>2];Ss(Zb,Is+-24|0,fk);xs=r+20|0;Bs=k[xs>>2]|0;Hs=k[r+24>>2]|0;if(Bs>>>0<Hs>>>0){k[Bs+12>>2]=k[Zb+12>>2];k[Bs>>2]=k[Zb>>2];Ys=Zb+4|0;k[Bs+4>>2]=k[Ys>>2];zs=Zb+8|0;k[Bs+8>>2]=k[zs>>2];k[zs>>2]=0;k[Ys>>2]=0;k[Zb>>2]=0;k[xs>>2]=(k[xs>>2]|0)+16}else{Ws=k[Ls>>2]|0;js=Bs-Ws|0;Ks=js>>4;Xs=Ks+1|0;if((js|0)<-16)gc(Ls);Gs=Hs-Ws|0;if(Gs>>4>>>0<1073741823){qs=Gs>>3;O=qs>>>0<Xs>>>0?Xs:qs}else O=2147483647;wt(f_,O,Ks,r+28|0);Js=f_+8|0;Zs=k[Js>>2]|0;k[Zs+12>>2]=k[Zb+12>>2];k[Zs>>2]=k[Zb>>2];Qs=Zb+4|0;k[Zs+4>>2]=k[Qs>>2];$s=Zb+8|0;k[Zs+8>>2]=k[$s>>2];k[$s>>2]=0;k[Qs>>2]=0;k[Zb>>2]=0;k[Js>>2]=Zs+16;zl(Ls,f_);Ps(f_)}nt(Zb);f=Cs;break e}it=Dr(e,i,r)|0;if((it|0)==(e|0)){f=e;break e}st=ta(it,i,r)|0;if((st|0)==(it|0)){f=it;break e}tt=r+4|0;ot=k[tt>>2]|0;if(((ot-(k[r>>2]|0)|0)/24|0)>>>0<2){f=it;break e}et(N_,ot+-24|0);bt=k[tt>>2]|0;kt=bt+-24|0;dt=bt;do{ht=dt+-24|0;k[tt>>2]=ht;Wo(ht);dt=k[tt>>2]|0}while((dt|0)!=(kt|0));_t=c[N_>>0]|0;vt=(_t&1)==0;zn(bt+-48|0,vt?N_+1|0:k[N_+8>>2]|0,vt?(_t&255)>>>1:k[N_+4>>2]|0)|0;gt=(k[tt>>2]|0)+-24|0;k[uk>>2]=k[r+12>>2];Ss(sk,gt,uk);yt=r+16|0;Ft=r+20|0;At=k[Ft>>2]|0;Tt=k[r+24>>2]|0;if(At>>>0<Tt>>>0){k[At+12>>2]=k[sk+12>>2];k[At>>2]=k[sk>>2];Mt=sk+4|0;k[At+4>>2]=k[Mt>>2];Rt=sk+8|0;k[At+8>>2]=k[Rt>>2];k[Rt>>2]=0;k[Mt>>2]=0;k[sk>>2]=0;k[Ft>>2]=(k[Ft>>2]|0)+16}else{Pt=k[yt>>2]|0;Dt=At-Pt|0;Ct=Dt>>4;It=Ct+1|0;if((Dt|0)<-16)gc(yt);Bt=Tt-Pt|0;if(Bt>>4>>>0<1073741823){Ht=Bt>>3;F=Ht>>>0<It>>>0?It:Ht}else F=2147483647;wt(f_,F,Ct,r+28|0);Ut=f_+8|0;Yt=k[Ut>>2]|0;k[Yt+12>>2]=k[sk+12>>2];k[Yt>>2]=k[sk>>2];zt=sk+4|0;k[Yt+4>>2]=k[zt>>2];Vt=sk+8|0;k[Yt+8>>2]=k[Vt>>2];k[Vt>>2]=0;k[zt>>2]=0;k[sk>>2]=0;k[Ut>>2]=Yt+16;zl(yt,f_);Ps(f_)}nt(sk);Nu(N_);f=st;break e;break}case 68:{Wt=e+1|0;if((Wt|0)!=(i|0)){jt=c[Wt>>0]|0;switch(jt<<24>>24|0){case 112:{Kt=r+4|0;Xt=((k[Kt>>2]|0)-(k[r>>2]|0)|0)/24|0;Gt=e+2|0;qt=_r(Gt,i,r)|0;Jt=((k[Kt>>2]|0)-(k[r>>2]|0)|0)/24|0;if((qt|0)==(Gt|0))break i;Qt=r+16|0;$t=k[r+12>>2]|0;eo=r+20|0;io=k[eo>>2]|0;ro=k[r+24>>2]|0;if(io>>>0<ro>>>0){k[io>>2]=0;k[io+4>>2]=0;k[io+8>>2]=0;k[io+12>>2]=$t;k[eo>>2]=(k[eo>>2]|0)+16}else{ao=k[Qt>>2]|0;lo=io-ao|0;no=lo>>4;so=no+1|0;if((lo|0)<-16)gc(Qt);uo=ro-ao|0;if(uo>>4>>>0<1073741823){co=uo>>3;y=co>>>0<so>>>0?so:co}else y=2147483647;wt(f_,y,no,r+28|0);bo=f_+8|0;ko=k[bo>>2]|0;k[ko>>2]=0;k[ko+4>>2]=0;k[ko+8>>2]=0;k[ko+12>>2]=$t;k[bo>>2]=ko+16;zl(Qt,f_);Ps(f_)}ho=f_+8|0;if(Xt>>>0<Jt>>>0)c_=Xt;else{f=qt;break e}while(1){wo=k[eo>>2]|0;_o=wo+-16|0;vo=k[r>>2]|0;Eo=vo+(c_*24|0)|0;mo=wo+-12|0;po=k[mo>>2]|0;if((po|0)==(k[wo+-8>>2]|0)){So=po-(k[_o>>2]|0)|0;go=(So|0)/24|0;yo=go+1|0;if((So|0)<-24){Z=_o;break}if(go>>>0<1073741823){Fo=go<<1;g=Fo>>>0<yo>>>0?yo:Fo}else g=2147483647;pt(f_,g,go,wo+-4|0);Ao=k[ho>>2]|0;Lt(Ao,Eo);Lt(Ao+12|0,vo+(c_*24|0)+12|0);k[ho>>2]=Ao+24;Bn(_o,f_);lt(f_)}else{Lt(po,Eo);Lt(po+12|0,vo+(c_*24|0)+12|0);k[mo>>2]=(k[mo>>2]|0)+24}c_=c_+1|0;if(c_>>>0>=Jt>>>0){f=qt;break e}}gc(Z);break}case 84:case 116:{To=kl(e,i,r)|0;if((To|0)==(e|0))break i;Oo=k[r+4>>2]|0;if((k[r>>2]|0)==(Oo|0)){f=e;break e}Ro=r+16|0;k[Ek>>2]=k[r+12>>2];Ss(wk,Oo+-24|0,Ek);No=r+20|0;Po=k[No>>2]|0;Co=k[r+24>>2]|0;if(Po>>>0<Co>>>0){k[Po+12>>2]=k[wk+12>>2];k[Po>>2]=k[wk>>2];Io=wk+4|0;k[Po+4>>2]=k[Io>>2];Lo=wk+8|0;k[Po+8>>2]=k[Lo>>2];k[Lo>>2]=0;k[Io>>2]=0;k[wk>>2]=0;k[No>>2]=(k[No>>2]|0)+16}else{xo=k[Ro>>2]|0;Bo=Po-xo|0;Ho=Bo>>4;Yo=Ho+1|0;if((Bo|0)<-16)gc(Ro);zo=Co-xo|0;if(zo>>4>>>0<1073741823){jo=zo>>3;S=jo>>>0<Yo>>>0?Yo:jo}else S=2147483647;wt(f_,S,Ho,r+28|0);Ko=f_+8|0;Xo=k[Ko>>2]|0;k[Xo+12>>2]=k[wk+12>>2];k[Xo>>2]=k[wk>>2];Go=wk+4|0;k[Xo+4>>2]=k[Go>>2];qo=wk+8|0;k[Xo+8>>2]=k[qo>>2];k[qo>>2]=0;k[Go>>2]=0;k[wk>>2]=0;k[Ko>>2]=Xo+16;zl(Ro,f_);Ps(f_)}nt(wk);f=To;break e;break}case 118:{r:do{if((i-e|0)>3&ls<<24>>24==68&jt<<24>>24==118){Zo=e+2|0;Qo=c[Zo>>0]|0;if((Qo+-49&255)<9){$o=ys(Zo,i)|0;if(($o|0)==(i|0)){Y=e;break}if((c[$o>>0]|0)!=95){Y=e;break}eu=$o-Zo|0;iu=$o+1|0;if((iu|0)==(i|0)){Y=e;break}if((c[iu>>0]|0)!=112){ru=_r(iu,i,r)|0;if((ru|0)==(iu|0)){Y=e;break}fu=k[r+4>>2]|0;if((k[r>>2]|0)==(fu|0)){Y=e;break}ct(Es,Zo,eu);au=Mo(Es,0,12754)|0;k[se>>2]=k[au>>2];k[se+4>>2]=k[au+4>>2];k[se+8>>2]=k[au+8>>2];k[au>>2]=0;k[au+4>>2]=0;k[au+8>>2]=0;nu=Vo(se,12677)|0;k[ne>>2]=k[nu>>2];k[ne+4>>2]=k[nu+4>>2];k[ne+8>>2]=k[nu+8>>2];k[nu>>2]=0;k[nu+4>>2]=0;k[nu+8>>2]=0;su=c[ne>>0]|0;tu=(su&1)==0;zn(fu+-24|0,tu?ne+1|0:k[ne+8>>2]|0,tu?(su&255)>>>1:k[ne+4>>2]|0)|0;Nu(ne);Nu(se);Nu(Es);Y=ru;break}ou=$o+2|0;ct(Eh,Zo,eu);uu=Mo(Eh,0,12763)|0;k[Ik>>2]=k[uu>>2];k[Ik+4>>2]=k[uu+4>>2];k[Ik+8>>2]=k[uu+8>>2];k[uu>>2]=0;k[uu+4>>2]=0;k[uu+8>>2]=0;cu=Vo(Ik,12677)|0;k[Kb>>2]=k[cu>>2];k[Kb+4>>2]=k[cu+4>>2];k[Kb+8>>2]=k[cu+8>>2];k[cu>>2]=0;k[cu+4>>2]=0;k[cu+8>>2]=0;Zt(lb,Kb);bu=r+4|0;ku=k[bu>>2]|0;hu=k[r+8>>2]|0;if(ku>>>0<hu>>>0){Nt(ku,lb);k[bu>>2]=(k[bu>>2]|0)+24}else{du=k[r>>2]|0;wu=ku-du|0;_u=(wu|0)/24|0;vu=_u+1|0;if((wu|0)<-24)gc(r);Eu=(hu-du|0)/24|0;if(Eu>>>0<1073741823){mu=Eu<<1;s=mu>>>0<vu>>>0?vu:mu}else s=2147483647;pt(f_,s,_u,r+12|0);pu=f_+8|0;Su=k[pu>>2]|0;Nt(Su,lb);k[pu>>2]=Su+24;Bn(r,f_);lt(f_)}Wo(lb);Nu(Kb);Nu(Ik);Nu(Eh);Y=ou;break}k[h_>>2]=0;k[h_+4>>2]=0;k[h_+8>>2]=0;if(Qo<<24>>24==95){R_=Zo;D_=521}else{yu=vr(Zo,i,r)|0;if((yu|0)==(Zo|0)){R_=Zo;D_=521}else{Fu=r+4|0;Au=k[Fu>>2]|0;if((k[r>>2]|0)!=(Au|0)){et(ed,Au+-24|0);f:do{if(!(c[h_>>0]&1)){c[h_+1>>0]=0;c[h_>>0]=0}else{Tu=h_+8|0;Ou=k[Tu>>2]|0;c[Ou>>0]=0;Mu=h_+4|0;k[Mu>>2]=0;Ru=k[h_>>2]|0;v_=(Ru&-2)+-1|0;Pu=Ru&255;do{if(!(Pu&1)){Iu=Ru>>>1&127;if((Pu&255)<22){rt(h_+1|0,Ou|0,(Ru>>>1&127)+1|0)|0;oa(Ou);$=Iu;break}Lu=Iu+16&240;E_=Lu+-1|0;if((E_|0)==(v_|0))break f;xu=Sr(Lu)|0;if(E_>>>0<=v_>>>0&(xu|0)==0)break f;rt(xu|0,h_+1|0,(Ru>>>1&127)+1|0)|0;k[h_>>2]=Lu|1;k[Mu>>2]=Iu;k[Tu>>2]=xu;break f}else{c[h_+1>>0]=0;oa(Ou);$=0}}while(0);c[h_>>0]=$<<1}}while(0);k[h_>>2]=k[ed>>2];k[h_+4>>2]=k[ed+4>>2];k[h_+8>>2]=k[ed+8>>2];k[ed>>2]=0;k[ed+4>>2]=0;k[ed+8>>2]=0;Nu(ed);Bu=k[Fu>>2]|0;Hu=Bu+-24|0;Yu=Bu;do{Uu=Yu+-24|0;k[Fu>>2]=Uu;Wo(Uu);Yu=k[Fu>>2]|0}while((Yu|0)!=(Hu|0));R_=yu;D_=521}}}do{if((D_|0)==521){if((R_|0)==(i|0))V=e;else if((c[R_>>0]|0)==95){zu=R_+1|0;if((zu|0)==(i|0))V=e;else{Vu=_r(zu,i,r)|0;if((Vu|0)==(zu|0))V=e;else{Wu=k[r+4>>2]|0;if((k[r>>2]|0)==(Wu|0))break;_s(pw,12754,h_);ju=Vo(pw,12677)|0;k[Hd>>2]=k[ju>>2];k[Hd+4>>2]=k[ju+4>>2];k[Hd+8>>2]=k[ju+8>>2];k[ju>>2]=0;k[ju+4>>2]=0;k[ju+8>>2]=0;Ku=c[Hd>>0]|0;Xu=(Ku&1)==0;zn(Wu+-24|0,Xu?Hd+1|0:k[Hd+8>>2]|0,Xu?(Ku&255)>>>1:k[Hd+4>>2]|0)|0;Nu(Hd);Nu(pw);V=Vu}}}else V=e;Nu(h_);Y=V;break r}}while(0);Nu(h_);Y=e}else Y=e}while(0);if((Y|0)==(e|0))break i;Gu=k[r+4>>2]|0;if((k[r>>2]|0)==(Gu|0)){f=e;break e}qu=r+16|0;k[Ak>>2]=k[r+12>>2];Ss(Sk,Gu+-24|0,Ak);Ju=r+20|0;Zu=k[Ju>>2]|0;Qu=k[r+24>>2]|0;if(Zu>>>0<Qu>>>0){k[Zu+12>>2]=k[Sk+12>>2];k[Zu>>2]=k[Sk>>2];$u=Sk+4|0;k[Zu+4>>2]=k[$u>>2];ec=Sk+8|0;k[Zu+8>>2]=k[ec>>2];k[ec>>2]=0;k[$u>>2]=0;k[Sk>>2]=0;k[Ju>>2]=(k[Ju>>2]|0)+16}else{ic=k[qu>>2]|0;rc=Zu-ic|0;fc=rc>>4;ac=fc+1|0;if((rc|0)<-16)gc(qu);lc=Qu-ic|0;if(lc>>4>>>0<1073741823){nc=lc>>3;_=nc>>>0<ac>>>0?ac:nc}else _=2147483647;wt(f_,_,fc,r+28|0);sc=f_+8|0;tc=k[sc>>2]|0;k[tc+12>>2]=k[Sk+12>>2];k[tc>>2]=k[Sk>>2];cc=Sk+4|0;k[tc+4>>2]=k[cc>>2];bc=Sk+8|0;k[tc+8>>2]=k[bc>>2];k[bc>>2]=0;k[cc>>2]=0;k[Sk>>2]=0;k[sc>>2]=tc+16;zl(qu,f_);Ps(f_)}nt(Sk);f=Y;break e;break}default:break i}}break}default:{}}}while(0);kc=pr(e,i,r)|0;if((kc|0)==(e|0)){hc=yr(e,i,r)|0;if((hc|0)==(e|0))f=e;else{dc=k[r+4>>2]|0;if((k[r>>2]|0)==(dc|0))f=e;else{wc=r+16|0;k[Lk>>2]=k[r+12>>2];Ss(Pk,dc+-24|0,Lk);_c=r+20|0;vc=k[_c>>2]|0;mc=k[r+24>>2]|0;if(vc>>>0<mc>>>0){k[vc+12>>2]=k[Pk+12>>2];k[vc>>2]=k[Pk>>2];pc=Pk+4|0;k[vc+4>>2]=k[pc>>2];Sc=Pk+8|0;k[vc+8>>2]=k[Sc>>2];k[Sc>>2]=0;k[pc>>2]=0;k[Pk>>2]=0;k[_c>>2]=(k[_c>>2]|0)+16}else{Fc=k[wc>>2]|0;Ac=vc-Fc|0;Tc=Ac>>4;Oc=Tc+1|0;if((Ac|0)<-16)gc(wc);Mc=mc-Fc|0;if(Mc>>4>>>0<1073741823){Nc=Mc>>3;n=Nc>>>0<Oc>>>0?Oc:Nc}else n=2147483647;wt(f_,n,Tc,r+28|0);Pc=f_+8|0;Dc=k[Pc>>2]|0;k[Dc+12>>2]=k[Pk+12>>2];k[Dc>>2]=k[Pk>>2];Cc=Pk+4|0;k[Dc+4>>2]=k[Cc>>2];Ic=Pk+8|0;k[Dc+8>>2]=k[Ic>>2];k[Ic>>2]=0;k[Cc>>2]=0;k[Pk>>2]=0;k[Pc>>2]=Dc+16;zl(wc,f_);Ps(f_)}nt(Pk);f=hc}}}else f=kc}else f=Jn}}while(0);m=C_;return f|0}function vr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,Er=0,mr=0,pr=0,gr=0,yr=0,Fr=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,ua=0,ca=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,Sa=0,ga=0,ya=0,Fa=0,Aa=0,Ta=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,Ka=0,Xa=0,Ga=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0,Gl=0,ql=0,Jl=0,Zl=0,Ql=0,$l=0,en=0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0,hn=0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0,Dn=0,Cn=0,In=0,Ln=0,xn=0,Hn=0,Un=0,Vn=0,Wn=0,jn=0,Kn=0,Xn=0,Gn=0,qn=0,Jn=0,Zn=0,Qn=0,$n=0,es=0,is=0,rs=0,fs=0,as=0,ls=0,ns=0,ss=0,ts=0,os=0,us=0,cs=0,bs=0,ks=0,hs=0,ds=0,ws=0,vs=0,Es=0,ms=0,ps=0,Ss=0,gs=0,ys=0,Fs=0,As=0,Ts=0,Os=0,Ms=0,Rs=0,Ns=0,Ps=0,Ds=0,Cs=0,Is=0,Ls=0,xs=0,Bs=0,Hs=0,Us=0,Ys=0,zs=0,Vs=0,Ws=0,js=0,Ks=0,Xs=0,Gs=0,qs=0,Js=0,Zs=0,Qs=0,$s=0,it=0,ft=0,at=0,nt=0,st=0,tt=0,ot=0,ut=0,bt=0,kt=0,ht=0,dt=0,wt=0,_t=0,vt=0,Et=0,mt=0,St=0,gt=0,yt=0,Ft=0,At=0,Tt=0,Ot=0,Mt=0,Rt=0,Pt=0,Dt=0,Ct=0,It=0,Lt=0,xt=0,Ht=0,Ut=0,Yt=0,zt=0,Vt=0,Wt=0,jt=0,Kt=0,Xt=0,Gt=0,qt=0,Jt=0,Qt=0,$t=0,eo=0,io=0,ro=0,fo=0,ao=0,lo=0,no=0,so=0,to=0,oo=0,uo=0,co=0,bo=0,ko=0,ho=0,wo=0,_o=0,vo=0,Eo=0,mo=0,po=0,So=0,go=0,yo=0,Fo=0,Ao=0,To=0,Oo=0,Ro=0,No=0,Po=0,Do=0,Co=0,Io=0,Lo=0,xo=0,Bo=0,Ho=0,Uo=0,Yo=0,zo=0,jo=0,Ko=0,Xo=0,Go=0,qo=0,Jo=0,Zo=0,Qo=0,$o=0,eu=0,iu=0,ru=0,fu=0,au=0,lu=0,nu=0,su=0,tu=0,ou=0,uu=0,cu=0,bu=0,ku=0,hu=0,du=0,wu=0,_u=0,vu=0,Eu=0,mu=0,pu=0,Su=0,gu=0,yu=0,Fu=0,Au=0,Tu=0,Ou=0,Mu=0,Ru=0,Pu=0,Du=0,Cu=0,Iu=0,Lu=0,xu=0,Bu=0,Hu=0,Uu=0,Yu=0,zu=0,Vu=0,Wu=0,ju=0,Ku=0,Xu=0,Gu=0,qu=0,Ju=0,Zu=0,Qu=0,$u=0,ec=0,ic=0,rc=0,fc=0,ac=0,lc=0,nc=0,sc=0,tc=0,oc=0,uc=0,cc=0,bc=0,kc=0,hc=0,dc=0,wc=0,_c=0,vc=0,Ec=0,mc=0,pc=0,Sc=0,yc=0,Fc=0,Ac=0,Tc=0,Oc=0,Mc=0,Rc=0,Nc=0,Pc=0,Dc=0,Cc=0,Ic=0,Lc=0,xc=0,Bc=0,Hc=0,Uc=0,Yc=0,zc=0,Vc=0,Wc=0,jc=0,Kc=0,Xc=0,Gc=0,qc=0,Jc=0,Zc=0,Qc=0,$c=0,eb=0,ib=0,rb=0,fb=0,ab=0,lb=0,nb=0,sb=0,tb=0,ob=0,ub=0,cb=0,bb=0,kb=0,hb=0,db=0,wb=0,_b=0,vb=0,Eb=0,mb=0,pb=0,Sb=0,gb=0,yb=0,Fb=0,Ab=0,Tb=0,Ob=0,Mb=0,Rb=0,Nb=0,Pb=0,Db=0,Cb=0,Ib=0,Lb=0,xb=0,Bb=0,Hb=0;Ib=m;m=m+1168|0;if((m|0)>=(p|0))he();K=Ib+1144|0;X=Ib+1120|0;Rl=Ib+1096|0;_n=Ib+1084|0;us=Ib+1072|0;at=Ib+1048|0;Xt=Ib+1032|0;Ho=Ib+900|0;Ou=Ib+632|0;mc=Ib+620|0;G=Ib+584|0;Me=Ib+560|0;di=Ib+524|0;rr=Ib+1020|0;Xr=Ib+1008|0;Cf=Ib+996|0;ta=Ib+984|0;Za=Ib+972|0;Sl=Ib+960|0;Fl=Ib+948|0;Nl=Ib+936|0;Cl=Ib+924|0;Bl=Ib+912|0;Wl=Ib+888|0;Xl=Ib+876|0;ql=Ib+864|0;$l=Ib+852|0;fn=Ib+840|0;cn=Ib+828|0;hn=Ib+816|0;vn=Ib+804|0;pn=Ib+792|0;Tn=Ib+780|0;Mn=Ib+768|0;Dn=Ib+756|0;xn=Ib+744|0;bb=Ib+732|0;ub=Ib+720|0;Kn=Ib+696|0;qn=Ib+680|0;Qn=Ib+668|0;fs=Ib+656|0;cs=Ib+644|0;ks=Ib+608|0;Es=Ib+596|0;gs=Ib+548|0;Os=Ib+536|0;Ds=Ib+512|0;xs=Ib+500|0;zs=Ib+488|0;Ks=Ib+476|0;qs=Ib+464|0;nt=Ib+440|0;ut=Ib+424|0;ht=Ib+412|0;Et=Ib+400|0;yt=Ib+388|0;At=Ib+376|0;Mt=Ib+364|0;Ct=Ib+352|0;Ut=Ib+340|0;Wt=Ib+328|0;Gt=Ib+316|0;$t=Ib+304|0;ro=Ib+292|0;uo=Ib+280|0;ko=Ib+256|0;_o=Ib+240|0;yo=Ib+228|0;Oo=Ib+216|0;No=Ib+204|0;hb=Ib+192|0;kb=Ib+180|0;cb=Ib+168|0;Io=Ib+144|0;Uo=Ib+132|0;Xo=Ib+120|0;Jo=Ib+108|0;$o=Ib+96|0;fu=Ib+84|0;nu=Ib+72|0;ku=Ib+60|0;hu=Ib+48|0;Eu=Ib+36|0;gu=Ib+24|0;Mu=Ib;Cu=i;Wu=Cu-e|0;e:do{if((Wu|0)>1){Qu=(Wu|0)>3;if(Qu)if((c[e>>0]|0)==103){pc=(c[e+1>>0]|0)==115;db=pc;pb=pc?e+2|0:e}else{db=0;pb=e}else{db=0;pb=e}do{switch(c[pb>>0]|0){case 76:{f=Ar(e,i,r)|0;break e;break}case 84:{f=ba(e,i,r)|0;break e;break}case 102:{f=pa(e,i,r)|0;break e;break}case 97:{switch(c[pb+1>>0]|0){case 97:{q=e+2|0;ct(rr,12717,2);J=Oa(q,i,rr,r)|0;Nu(rr);f=(J|0)==(q|0)?e:J;break e;break}case 100:{ne=e+2|0;ct(Xr,12738,1);oe=ja(ne,i,Xr,r)|0;Nu(Xr);f=(oe|0)==(ne|0)?e:oe;break e;break}case 110:{_e=e+2|0;ct(Cf,12738,1);Ee=Oa(_e,i,Cf,r)|0;Nu(Cf);f=(Ee|0)==(_e|0)?e:Ee;break e;break}case 78:{Ae=e+2|0;ct(ta,13863,2);Re=Oa(Ae,i,ta,r)|0;Nu(ta);f=(Re|0)==(Ae|0)?e:Re;break e;break}case 83:{Ce=e+2|0;ct(Za,13866,1);Be=Oa(Ce,i,Za,r)|0;Nu(Za);f=(Be|0)==(Ce|0)?e:Be;break e;break}case 116:{if((Wu|0)>2)if((c[e>>0]|0)==97)if((c[e+1>>0]|0)==116){vi=e+2|0;mi=_r(vi,i,r)|0;if((mi|0)==(vi|0))y=e;else{Ui=k[r+4>>2]|0;if((k[r>>2]|0)==(Ui|0))y=e;else{Gi=Ui+-24|0;et(Rl,Gi);$i=Mo(Rl,0,13868)|0;k[X>>2]=k[$i>>2];k[X+4>>2]=k[$i+4>>2];k[X+8>>2]=k[$i+8>>2];k[$i>>2]=0;k[$i+4>>2]=0;k[$i+8>>2]=0;or=Vo(X,12593)|0;k[K>>2]=k[or>>2];k[K+4>>2]=k[or+4>>2];k[K+8>>2]=k[or+8>>2];k[or>>2]=0;k[or+4>>2]=0;k[or+8>>2]=0;do{if(!(c[Gi>>0]&1)){c[Gi+1>>0]=0;c[Gi>>0]=0}else{Wr=Ui+-16|0;c[k[Wr>>2]>>0]=0;Zr=Ui+-20|0;k[Zr>>2]=0;z=c[Gi>>0]|0;if(!(z&1)){Tf=z;ea=10}else{uf=k[Gi>>2]|0;Tf=uf&255;ea=(uf&-2)+-1|0}if(!(Tf&1)){xf=(Tf&255)>>>1;if((Tf&255)<22){Qf=10;dl=1;pl=xf}else{Qf=(xf+16&240)+-1|0;dl=1;pl=xf}}else{Qf=10;dl=0;pl=0}if((Qf|0)!=(ea|0)){if((Qf|0)==10){ya=Gi+1|0;Ta=k[Wr>>2]|0;if(dl){rt(ya|0,Ta|0,((Tf&255)>>>1)+1|0)|0;oa(Ta)}else{c[ya>>0]=c[Ta>>0]|0;oa(Ta)}c[Gi>>0]=pl<<1;break}ua=Qf+1|0;wa=Sr(ua)|0;if(!(Qf>>>0<=ea>>>0&(wa|0)==0)){if(dl)rt(wa|0,Gi+1|0,((Tf&255)>>>1)+1|0)|0;else{ol=k[Wr>>2]|0;c[wa>>0]=c[ol>>0]|0;oa(ol)}k[Gi>>2]=ua|1;k[Zr>>2]=pl;k[Wr>>2]=wa}}}}while(0);k[Gi>>2]=k[K>>2];k[Gi+4>>2]=k[K+4>>2];k[Gi+8>>2]=k[K+8>>2];k[K>>2]=0;k[K+4>>2]=0;k[K+8>>2]=0;Nu(K);Nu(X);Nu(Rl);y=mi}}}else y=e;else y=e;else y=e;f=y;break e;break}case 122:{if((Wu|0)>2)if((c[e>>0]|0)==97)if((c[e+1>>0]|0)==122){gl=e+2|0;yl=vr(gl,i,r)|0;if((yl|0)==(gl|0))g=e;else{Al=k[r+4>>2]|0;if((k[r>>2]|0)==(Al|0))g=e;else{Tl=Al+-24|0;et(Rl,Tl);Ol=Mo(Rl,0,13868)|0;k[X>>2]=k[Ol>>2];k[X+4>>2]=k[Ol+4>>2];k[X+8>>2]=k[Ol+8>>2];k[Ol>>2]=0;k[Ol+4>>2]=0;k[Ol+8>>2]=0;Ml=Vo(X,12593)|0;k[K>>2]=k[Ml>>2];k[K+4>>2]=k[Ml+4>>2];k[K+8>>2]=k[Ml+8>>2];k[Ml>>2]=0;k[Ml+4>>2]=0;k[Ml+8>>2]=0;do{if(!(c[Tl>>0]&1)){c[Tl+1>>0]=0;c[Tl>>0]=0}else{Pl=Al+-16|0;c[k[Pl>>2]>>0]=0;Dl=Al+-20|0;k[Dl>>2]=0;Y=c[Tl>>0]|0;if(!(Y&1)){Ll=Y;Ul=10}else{Il=k[Tl>>2]|0;Ll=Il&255;Ul=(Il&-2)+-1|0}if(!(Ll&1)){xl=(Ll&255)>>>1;if((Ll&255)<22){wl=1;Hl=10;Gl=xl}else{wl=1;Hl=(xl+16&240)+-1|0;Gl=xl}}else{wl=0;Hl=10;Gl=0}if((Hl|0)!=(Ul|0)){if((Hl|0)==10){Vl=Tl+1|0;jl=k[Pl>>2]|0;if(wl){rt(Vl|0,jl|0,((Ll&255)>>>1)+1|0)|0;oa(jl)}else{c[Vl>>0]=c[jl>>0]|0;oa(jl)}c[Tl>>0]=Gl<<1;break}Yl=Hl+1|0;zl=Sr(Yl)|0;if(!(Hl>>>0<=Ul>>>0&(zl|0)==0)){if(wl)rt(zl|0,Tl+1|0,((Ll&255)>>>1)+1|0)|0;else{Kl=k[Pl>>2]|0;c[zl>>0]=c[Kl>>0]|0;oa(Kl)}k[Tl>>2]=Yl|1;k[Dl>>2]=Gl;k[Pl>>2]=zl}}}}while(0);k[Tl>>2]=k[K>>2];k[Tl+4>>2]=k[K+4>>2];k[Tl+8>>2]=k[K+8>>2];k[K>>2]=0;k[K+4>>2]=0;k[K+8>>2]=0;Nu(K);Nu(X);Nu(Rl);g=yl}}}else g=e;else g=e;else g=e;f=g;break e;break}default:{f=e;break e}}break}case 99:{switch(c[pb+1>>0]|0){case 99:{if((Wu|0)>2)if((c[e>>0]|0)==99)if((c[e+1>>0]|0)==99){Jl=e+2|0;Zl=_r(Jl,i,r)|0;if((Zl|0)==(Jl|0))O=e;else{Ql=vr(Zl,i,r)|0;if((Ql|0)==(Zl|0))O=e;else{en=r+4|0;rn=k[en>>2]|0;if(((rn-(k[r>>2]|0)|0)/24|0)>>>0<2)O=e;else{et(K,rn+-24|0);an=k[en>>2]|0;ln=an+-24|0;sn=an;do{nn=sn+-24|0;k[en>>2]=nn;Wo(nn);sn=k[en>>2]|0}while((sn|0)!=(ln|0));tn=an+-48|0;et(Xt,tn);on=Mo(Xt,0,13878)|0;k[at>>2]=k[on>>2];k[at+4>>2]=k[on+4>>2];k[at+8>>2]=k[on+8>>2];k[on>>2]=0;k[on+4>>2]=0;k[on+8>>2]=0;un=Vo(at,13890)|0;k[us>>2]=k[un>>2];k[us+4>>2]=k[un+4>>2];k[us+8>>2]=k[un+8>>2];k[un>>2]=0;k[un+4>>2]=0;k[un+8>>2]=0;bn=c[K>>0]|0;kn=(bn&1)==0;dn=zn(us,kn?K+1|0:k[K+8>>2]|0,kn?(bn&255)>>>1:k[K+4>>2]|0)|0;k[_n>>2]=k[dn>>2];k[_n+4>>2]=k[dn+4>>2];k[_n+8>>2]=k[dn+8>>2];k[dn>>2]=0;k[dn+4>>2]=0;k[dn+8>>2]=0;wn=Vo(_n,12593)|0;k[Rl>>2]=k[wn>>2];k[Rl+4>>2]=k[wn+4>>2];k[Rl+8>>2]=k[wn+8>>2];k[wn>>2]=0;k[wn+4>>2]=0;k[wn+8>>2]=0;Zt(X,Rl);qa(tn,X);Wo(X);Nu(Rl);Nu(_n);Nu(us);Nu(at);Nu(Xt);Nu(K);O=Ql}}}}else O=e;else O=e;else O=e;f=O;break e;break}case 108:{i:do{if(Qu)if((c[e>>0]|0)==99)if((c[e+1>>0]|0)==108){En=e+2|0;mn=vr(En,i,r)|0;if((mn|0)==(En|0)|(mn|0)==(i|0))R=e;else{Sn=r+4|0;gn=k[Sn>>2]|0;if((k[r>>2]|0)==(gn|0))R=e;else{yn=gn+-12|0;Fn=c[yn>>0]|0;An=(Fn&1)==0;zn(gn+-24|0,An?yn+1|0:k[gn+-4>>2]|0,An?(Fn&255)>>>1:k[gn+-8>>2]|0)|0;On=k[Sn>>2]|0;k[K>>2]=0;k[K+4>>2]=0;k[K+8>>2]=0;Rn=On+-12|0;do{if(!(c[Rn>>0]&1)){c[Rn+1>>0]=0;c[Rn>>0]=0}else{Nn=On+-4|0;c[k[Nn>>2]>>0]=0;Pn=On+-8|0;k[Pn>>2]=0;U=c[Rn>>0]|0;if(!(U&1)){In=U;Un=10}else{Cn=k[Rn>>2]|0;In=Cn&255;Un=(Cn&-2)+-1|0}if(!(In&1)){Ln=(In&255)>>>1;if((In&255)<22){_l=1;Hn=10;Jn=Ln}else{_l=1;Hn=(Ln+16&240)+-1|0;Jn=Ln}}else{_l=0;Hn=10;Jn=0}if((Hn|0)!=(Un|0)){if((Hn|0)==10){jn=Rn+1|0;Xn=k[Nn>>2]|0;if(_l){rt(jn|0,Xn|0,((In&255)>>>1)+1|0)|0;oa(Xn)}else{c[jn>>0]=c[Xn>>0]|0;oa(Xn)}c[Rn>>0]=Jn<<1;break}Vn=Hn+1|0;Wn=Sr(Vn)|0;if(!(Hn>>>0<=Un>>>0&(Wn|0)==0)){if(_l)rt(Wn|0,Rn+1|0,((In&255)>>>1)+1|0)|0;else{Gn=k[Nn>>2]|0;c[Wn>>0]=c[Gn>>0]|0;oa(Gn)}k[Rn>>2]=Vn|1;k[Pn>>2]=Jn;k[Nn>>2]=Wn}}}}while(0);k[Rn>>2]=k[K>>2];k[Rn+4>>2]=k[K+4>>2];k[Rn+8>>2]=k[K+8>>2];k[K>>2]=0;k[K+4>>2]=0;k[K+8>>2]=0;Nu(K);Vo((k[Sn>>2]|0)+-24|0,12688)|0;Zn=X+4|0;$n=X+8|0;es=X+1|0;r:do{if((c[mn>>0]|0)==69)Fb=mn;else{Ab=mn;while(1){is=vr(Ab,i,r)|0;if((is|0)==(Ab|0)|(is|0)==(i|0)){R=e;break i}rs=k[Sn>>2]|0;if((k[r>>2]|0)==(rs|0)){R=e;break i}et(X,rs+-24|0);as=k[Sn>>2]|0;ls=as+-24|0;ss=as;do{ns=ss+-24|0;k[Sn>>2]=ns;Wo(ns);ss=k[Sn>>2]|0}while((ss|0)!=(ls|0));ts=c[X>>0]|0;os=(ts&1)==0;bs=os?(ts&255)>>>1:k[Zn>>2]|0;if(bs){if((k[r>>2]|0)==(ls|0))break;zn(as+-48|0,os?es:k[$n>>2]|0,bs)|0}Nu(X);if((c[is>>0]|0)==69){Fb=is;break r}else Ab=is}Nu(X);R=e;break i}}while(0);hs=k[Sn>>2]|0;if((k[r>>2]|0)==(hs|0))R=e;else{Vo(hs+-24|0,12593)|0;R=Fb+1|0}}}}else R=e;else R=e;else R=e}while(0);f=R;break e;break}case 109:{ds=e+2|0;ct(Sl,13893,1);ws=Oa(ds,i,Sl,r)|0;Nu(Sl);f=(ws|0)==(ds|0)?e:ws;break e;break}case 111:{vs=e+2|0;ct(Fl,12902,1);ms=ja(vs,i,Fl,r)|0;Nu(Fl);f=(ms|0)==(vs|0)?e:ms;break e;break}case 118:{i:do{if((Wu|0)>2)if((c[e>>0]|0)==99)if((c[e+1>>0]|0)==118){ps=r+63|0;Ss=c[ps>>0]|0;c[ps>>0]=0;ys=e+2|0;Fs=_r(ys,i,r)|0;c[ps>>0]=Ss;if((Fs|0)==(ys|0)|(Fs|0)==(i|0))P=e;else{if((c[Fs>>0]|0)==95){Ts=Fs+1|0;if((Ts|0)==(i|0)){P=e;break}do{if((c[Ts>>0]|0)==69){Ms=r+4|0;Rs=k[Ms>>2]|0;Ns=k[r+8>>2]|0;if(Rs>>>0<Ns>>>0){k[Rs>>2]=0;k[Rs+4>>2]=0;k[Rs+8>>2]=0;k[Rs+12>>2]=0;k[Rs+16>>2]=0;k[Rs+20>>2]=0;k[Rs>>2]=0;k[Rs+4>>2]=0;k[Rs+8>>2]=0;Ps=Rs+12|0;k[Ps>>2]=0;k[Ps+4>>2]=0;k[Ps+8>>2]=0;k[Ms>>2]=(k[Ms>>2]|0)+24;Mb=Ts;break}Cs=k[r>>2]|0;Is=Rs-Cs|0;Ls=(Is|0)/24|0;Bs=Ls+1|0;if((Is|0)<-24)gc(r);Hs=(Ns-Cs|0)/24|0;if(Hs>>>0<1073741823){Us=Hs<<1;s=Us>>>0<Bs>>>0?Bs:Us}else s=2147483647;pt(K,s,Ls,r+12|0);Ys=K+8|0;Vs=k[Ys>>2]|0;k[Vs>>2]=0;k[Vs+4>>2]=0;k[Vs+8>>2]=0;k[Vs+12>>2]=0;k[Vs+16>>2]=0;k[Vs+20>>2]=0;k[Vs>>2]=0;k[Vs+4>>2]=0;k[Vs+8>>2]=0;Ws=Vs+12|0;k[Ws>>2]=0;k[Ws+4>>2]=0;k[Ws+8>>2]=0;k[Ys>>2]=Vs+24;Bn(r,K);lt(K);Mb=Ts}else{yb=Ts;while(1){js=vr(yb,i,r)|0;if((js|0)==(yb|0)|(js|0)==(i|0)){P=e;break i}if((c[js>>0]|0)==69){Mb=js;break}else yb=js}}}while(0);Nb=Mb+1|0}else{As=vr(Fs,i,r)|0;if((As|0)==(Fs|0)){P=e;break}else Nb=As}Xs=r+4|0;Gs=k[Xs>>2]|0;if(((Gs-(k[r>>2]|0)|0)/24|0)>>>0<2)P=e;else{et(X,Gs+-24|0);Js=k[Xs>>2]|0;Zs=Js+-24|0;$s=Js;do{Qs=$s+-24|0;k[Xs>>2]=Qs;Wo(Qs);$s=k[Xs>>2]|0}while(($s|0)!=(Zs|0));it=Js+-48|0;et(Ho,it);ft=Mo(Ho,0,12688)|0;k[Xt>>2]=k[ft>>2];k[Xt+4>>2]=k[ft+4>>2];k[Xt+8>>2]=k[ft+8>>2];k[ft>>2]=0;k[ft+4>>2]=0;k[ft+8>>2]=0;st=Vo(Xt,13895)|0;k[at>>2]=k[st>>2];k[at+4>>2]=k[st+4>>2];k[at+8>>2]=k[st+8>>2];k[st>>2]=0;k[st+4>>2]=0;k[st+8>>2]=0;tt=c[X>>0]|0;ot=(tt&1)==0;bt=zn(at,ot?X+1|0:k[X+8>>2]|0,ot?(tt&255)>>>1:k[X+4>>2]|0)|0;k[us>>2]=k[bt>>2];k[us+4>>2]=k[bt+4>>2];k[us+8>>2]=k[bt+8>>2];k[bt>>2]=0;k[bt+4>>2]=0;k[bt+8>>2]=0;kt=Vo(us,12593)|0;k[_n>>2]=k[kt>>2];k[_n+4>>2]=k[kt+4>>2];k[_n+8>>2]=k[kt+8>>2];k[kt>>2]=0;k[kt+4>>2]=0;k[kt+8>>2]=0;Zt(Rl,_n);qa(it,Rl);Wo(Rl);Nu(_n);Nu(us);Nu(at);Nu(Xt);Nu(Ho);Nu(X);P=Nb}}}else P=e;else P=e;else P=e}while(0);f=P;break e;break}default:{f=e;break e}}break}case 100:{switch(c[pb+1>>0]|0){case 97:{dt=pb+2|0;wt=vr(dt,i,r)|0;if((wt|0)==(dt|0)){f=e;break e}_t=r+4|0;vt=k[_t>>2]|0;if((k[r>>2]|0)==(vt|0)){f=e;break e}mt=vt+-24|0;if(db)ct(Bl,12876,2);else{k[Bl>>2]=0;k[Bl+4>>2]=0;k[Bl+8>>2]=0}St=Vo(Bl,13898)|0;k[Cl>>2]=k[St>>2];k[Cl+4>>2]=k[St+4>>2];k[Cl+8>>2]=k[St+8>>2];k[St>>2]=0;k[St+4>>2]=0;k[St+8>>2]=0;et(Wl,(k[_t>>2]|0)+-24|0);gt=c[Wl>>0]|0;Ft=(gt&1)==0;Tt=zn(Cl,Ft?Wl+1|0:k[Wl+8>>2]|0,Ft?(gt&255)>>>1:k[Wl+4>>2]|0)|0;k[Nl>>2]=k[Tt>>2];k[Nl+4>>2]=k[Tt+4>>2];k[Nl+8>>2]=k[Tt+8>>2];k[Tt>>2]=0;k[Tt+4>>2]=0;k[Tt+8>>2]=0;do{if(!(c[mt>>0]&1)){c[mt+1>>0]=0;c[mt>>0]=0}else{Ot=vt+-16|0;c[k[Ot>>2]>>0]=0;Rt=vt+-20|0;k[Rt>>2]=0;B=c[mt>>0]|0;if(!(B&1)){Dt=B;xt=10}else{Pt=k[mt>>2]|0;Dt=Pt&255;xt=(Pt&-2)+-1|0}if(!(Dt&1)){It=(Dt&255)>>>1;if((Dt&255)<22){vl=1;Lt=10;Kt=It}else{vl=1;Lt=(It+16&240)+-1|0;Kt=It}}else{vl=0;Lt=10;Kt=0}if((Lt|0)!=(xt|0)){if((Lt|0)==10){zt=mt+1|0;Vt=k[Ot>>2]|0;if(vl){rt(zt|0,Vt|0,((Dt&255)>>>1)+1|0)|0;oa(Vt)}else{c[zt>>0]=c[Vt>>0]|0;oa(Vt)}c[mt>>0]=Kt<<1;break}Ht=Lt+1|0;Yt=Sr(Ht)|0;if(!(Lt>>>0<=xt>>>0&(Yt|0)==0)){if(vl)rt(Yt|0,mt+1|0,((Dt&255)>>>1)+1|0)|0;else{jt=k[Ot>>2]|0;c[Yt>>0]=c[jt>>0]|0;oa(jt)}k[mt>>2]=Ht|1;k[Rt>>2]=Kt;k[Ot>>2]=Yt}}}}while(0);k[mt>>2]=k[Nl>>2];k[mt+4>>2]=k[Nl+4>>2];k[mt+8>>2]=k[Nl+8>>2];k[Nl>>2]=0;k[Nl+4>>2]=0;k[Nl+8>>2]=0;Nu(Nl);Nu(Wl);Nu(Cl);Nu(Bl);f=wt;break e;break}case 99:{if((Wu|0)>2)if((c[e>>0]|0)==100)if((c[e+1>>0]|0)==99){qt=e+2|0;Jt=_r(qt,i,r)|0;if((Jt|0)==(qt|0))T=e;else{Qt=vr(Jt,i,r)|0;if((Qt|0)==(Jt|0))T=e;else{eo=r+4|0;io=k[eo>>2]|0;if(((io-(k[r>>2]|0)|0)/24|0)>>>0<2)T=e;else{et(K,io+-24|0);fo=k[eo>>2]|0;ao=fo+-24|0;no=fo;do{lo=no+-24|0;k[eo>>2]=lo;Wo(lo);no=k[eo>>2]|0}while((no|0)!=(ao|0));so=fo+-48|0;et(Xt,so);to=Mo(Xt,0,13908)|0;k[at>>2]=k[to>>2];k[at+4>>2]=k[to+4>>2];k[at+8>>2]=k[to+8>>2];k[to>>2]=0;k[to+4>>2]=0;k[to+8>>2]=0;oo=Vo(at,13890)|0;k[us>>2]=k[oo>>2];k[us+4>>2]=k[oo+4>>2];k[us+8>>2]=k[oo+8>>2];k[oo>>2]=0;k[oo+4>>2]=0;k[oo+8>>2]=0;co=c[K>>0]|0;bo=(co&1)==0;ho=zn(us,bo?K+1|0:k[K+8>>2]|0,bo?(co&255)>>>1:k[K+4>>2]|0)|0;k[_n>>2]=k[ho>>2];k[_n+4>>2]=k[ho+4>>2];k[_n+8>>2]=k[ho+8>>2];k[ho>>2]=0;k[ho+4>>2]=0;k[ho+8>>2]=0;wo=Vo(_n,12593)|0;k[Rl>>2]=k[wo>>2];k[Rl+4>>2]=k[wo+4>>2];k[Rl+8>>2]=k[wo+8>>2];k[wo>>2]=0;k[wo+4>>2]=0;k[wo+8>>2]=0;Zt(X,Rl);qa(so,X);Wo(X);Nu(Rl);Nu(_n);Nu(us);Nu(at);Nu(Xt);Nu(K);T=Qt}}}}else T=e;else T=e;else T=e;f=T;break e;break}case 101:{vo=e+2|0;ct(Xl,12733,1);Eo=ja(vo,i,Xl,r)|0;Nu(Xl);f=(Eo|0)==(vo|0)?e:Eo;break e;break}case 108:{mo=pb+2|0;po=vr(mo,i,r)|0;if((po|0)==(mo|0)){f=e;break e}So=r+4|0;go=k[So>>2]|0;if((k[r>>2]|0)==(go|0)){f=e;break e}Fo=go+-24|0;if(db)ct(fn,12876,2);else{k[fn>>2]=0;k[fn+4>>2]=0;k[fn+8>>2]=0}Ao=Vo(fn,13922)|0;k[$l>>2]=k[Ao>>2];k[$l+4>>2]=k[Ao+4>>2];k[$l+8>>2]=k[Ao+8>>2];k[Ao>>2]=0;k[Ao+4>>2]=0;k[Ao+8>>2]=0;et(cn,(k[So>>2]|0)+-24|0);To=c[cn>>0]|0;Ro=(To&1)==0;Po=zn($l,Ro?cn+1|0:k[cn+8>>2]|0,Ro?(To&255)>>>1:k[cn+4>>2]|0)|0;k[ql>>2]=k[Po>>2];k[ql+4>>2]=k[Po+4>>2];k[ql+8>>2]=k[Po+8>>2];k[Po>>2]=0;k[Po+4>>2]=0;k[Po+8>>2]=0;do{if(!(c[Fo>>0]&1)){c[Fo+1>>0]=0;c[Fo>>0]=0}else{Do=go+-16|0;c[k[Do>>2]>>0]=0;Co=go+-20|0;k[Co>>2]=0;V=c[Fo>>0]|0;if(!(V&1)){xo=V;zo=10}else{Lo=k[Fo>>2]|0;xo=Lo&255;zo=(Lo&-2)+-1|0}if(!(xo&1)){Bo=(xo&255)>>>1;if((xo&255)<22){El=1;Yo=10;Qo=Bo}else{El=1;Yo=(Bo+16&240)+-1|0;Qo=Bo}}else{El=0;Yo=10;Qo=0}if((Yo|0)!=(zo|0)){if((Yo|0)==10){Go=Fo+1|0;qo=k[Do>>2]|0;if(El){rt(Go|0,qo|0,((xo&255)>>>1)+1|0)|0;oa(qo)}else{c[Go>>0]=c[qo>>0]|0;oa(qo)}c[Fo>>0]=Qo<<1;break}jo=Yo+1|0;Ko=Sr(jo)|0;if(!(Yo>>>0<=zo>>>0&(Ko|0)==0)){if(El)rt(Ko|0,Fo+1|0,((xo&255)>>>1)+1|0)|0;else{Zo=k[Do>>2]|0;c[Ko>>0]=c[Zo>>0]|0;oa(Zo)}k[Fo>>2]=jo|1;k[Co>>2]=Qo;k[Do>>2]=Ko}}}}while(0);k[Fo>>2]=k[ql>>2];k[Fo+4>>2]=k[ql+4>>2];k[Fo+8>>2]=k[ql+8>>2];k[ql>>2]=0;k[ql+4>>2]=0;k[ql+8>>2]=0;Nu(ql);Nu(cn);Nu($l);Nu(fn);f=po;break e;break}case 110:{f=Pr(e,i,r)|0;break e;break}case 115:{if((Wu|0)>2)if((c[e>>0]|0)==100)if((c[e+1>>0]|0)==115){eu=e+2|0;iu=vr(eu,i,r)|0;if((iu|0)==(eu|0))h=e;else{ru=vr(iu,i,r)|0;if((ru|0)==(iu|0))h=e;else{au=r+4|0;lu=k[au>>2]|0;if(((lu-(k[r>>2]|0)|0)/24|0)>>>0<2)h=e;else{et(K,lu+-24|0);su=k[au>>2]|0;tu=su+-24|0;uu=su;do{ou=uu+-24|0;k[au>>2]=ou;Wo(ou);uu=k[au>>2]|0}while((uu|0)!=(tu|0));_s(X,13930,K);cu=c[X>>0]|0;bu=(cu&1)==0;zn(su+-48|0,bu?X+1|0:k[X+8>>2]|0,bu?(cu&255)>>>1:k[X+4>>2]|0)|0;Nu(X);Nu(K);h=ru}}}}else h=e;else h=e;else h=e;f=h;break e;break}case 116:{if((Wu|0)>2)if((c[e>>0]|0)==100)if((c[e+1>>0]|0)==116){du=e+2|0;wu=vr(du,i,r)|0;if((wu|0)==(du|0))b=e;else{_u=Pr(wu,i,r)|0;if((_u|0)==(wu|0))b=e;else{vu=r+4|0;mu=k[vu>>2]|0;if(((mu-(k[r>>2]|0)|0)/24|0)>>>0<2)b=e;else{et(K,mu+-24|0);pu=k[vu>>2]|0;Su=pu+-24|0;Fu=pu;do{yu=Fu+-24|0;k[vu>>2]=yu;Wo(yu);Fu=k[vu>>2]|0}while((Fu|0)!=(Su|0));_s(X,18309,K);Au=c[X>>0]|0;Tu=(Au&1)==0;zn(pu+-48|0,Tu?X+1|0:k[X+8>>2]|0,Tu?(Au&255)>>>1:k[X+4>>2]|0)|0;Nu(X);Nu(K);b=_u}}}}else b=e;else b=e;else b=e;f=b;break e;break}case 118:{Ru=e+2|0;ct(hn,13933,1);Pu=Oa(Ru,i,hn,r)|0;Nu(hn);f=(Pu|0)==(Ru|0)?e:Pu;break e;break}case 86:{Du=e+2|0;ct(vn,13935,2);Iu=Oa(Du,i,vn,r)|0;Nu(vn);f=(Iu|0)==(Du|0)?e:Iu;break e;break}default:{f=e;break e}}break}case 101:{switch(c[pb+1>>0]|0){case 111:{Lu=e+2|0;ct(pn,13938,1);xu=Oa(Lu,i,pn,r)|0;Nu(pn);f=(xu|0)==(Lu|0)?e:xu;break e;break}case 79:{Bu=e+2|0;ct(Tn,13940,2);Hu=Oa(Bu,i,Tn,r)|0;Nu(Tn);f=(Hu|0)==(Bu|0)?e:Hu;break e;break}case 113:{Uu=e+2|0;ct(Mn,13943,2);Yu=Oa(Uu,i,Mn,r)|0;Nu(Mn);f=(Yu|0)==(Uu|0)?e:Yu;break e;break}default:{f=e;break e}}break}case 103:{switch(c[pb+1>>0]|0){case 101:{zu=e+2|0;ct(Dn,13946,2);Vu=Oa(zu,i,Dn,r)|0;Nu(Dn);f=(Vu|0)==(zu|0)?e:Vu;break e;break}case 116:{ju=e+2|0;ct(xn,12752,1);Ku=Oa(ju,i,xn,r)|0;Nu(xn);f=(Ku|0)==(ju|0)?e:Ku;break e;break}default:{f=e;break e}}break}case 105:{if((c[pb+1>>0]|0)!=120){f=e;break e}Xu=e+2|0;Gu=vr(Xu,i,r)|0;if((Gu|0)==(Xu|0)){f=e;break e}qu=vr(Gu,i,r)|0;Ju=r+4|0;Zu=k[Ju>>2]|0;if((qu|0)==(Gu|0)){oc=Zu+-24|0;cc=Zu;while(1){uc=cc+-24|0;k[Ju>>2]=uc;Wo(uc);cc=k[Ju>>2]|0;if((cc|0)==(oc|0)){f=e;break e}}}if(((Zu-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break e}et(bb,Zu+-24|0);$u=k[Ju>>2]|0;ec=$u+-24|0;rc=$u;do{ic=rc+-24|0;k[Ju>>2]=ic;Wo(ic);rc=k[Ju>>2]|0}while((rc|0)!=(ec|0));et(ub,$u+-48|0);fc=(k[Ju>>2]|0)+-24|0;_s(cs,12688,ub);ac=Vo(cs,13949)|0;k[fs>>2]=k[ac>>2];k[fs+4>>2]=k[ac+4>>2];k[fs+8>>2]=k[ac+8>>2];k[ac>>2]=0;k[ac+4>>2]=0;k[ac+8>>2]=0;lc=c[bb>>0]|0;nc=(lc&1)==0;sc=zn(fs,nc?bb+1|0:k[bb+8>>2]|0,nc?(lc&255)>>>1:k[bb+4>>2]|0)|0;k[Qn>>2]=k[sc>>2];k[Qn+4>>2]=k[sc+4>>2];k[Qn+8>>2]=k[sc+8>>2];k[sc>>2]=0;k[sc+4>>2]=0;k[sc+8>>2]=0;tc=Vo(Qn,12677)|0;k[qn>>2]=k[tc>>2];k[qn+4>>2]=k[tc+4>>2];k[qn+8>>2]=k[tc+8>>2];k[tc>>2]=0;k[tc+4>>2]=0;k[tc+8>>2]=0;Zt(Kn,qn);qa(fc,Kn);Wo(Kn);Nu(qn);Nu(Qn);Nu(fs);Nu(cs);Nu(ub);Nu(bb);f=qu;break e;break}case 108:{switch(c[pb+1>>0]|0){case 101:{bc=e+2|0;ct(ks,13952,2);kc=Oa(bc,i,ks,r)|0;Nu(ks);f=(kc|0)==(bc|0)?e:kc;break e;break}case 115:{hc=e+2|0;ct(Es,13955,2);dc=Oa(hc,i,Es,r)|0;Nu(Es);f=(dc|0)==(hc|0)?e:dc;break e;break}case 83:{wc=e+2|0;ct(gs,13958,3);_c=Oa(wc,i,gs,r)|0;Nu(gs);f=(_c|0)==(wc|0)?e:_c;break e;break}case 116:{vc=e+2|0;ct(Os,12750,1);Ec=Oa(vc,i,Os,r)|0;Nu(Os);f=(Ec|0)==(vc|0)?e:Ec;break e;break}default:{f=e;break e}}break}case 109:{switch(c[pb+1>>0]|0){case 105:{Sc=e+2|0;ct(Ds,13962,1);yc=Oa(Sc,i,Ds,r)|0;Nu(Ds);f=(yc|0)==(Sc|0)?e:yc;break e;break}case 73:{Fc=e+2|0;ct(xs,13964,2);Ac=Oa(Fc,i,xs,r)|0;Nu(xs);f=(Ac|0)==(Fc|0)?e:Ac;break e;break}case 108:{Tc=e+2|0;ct(zs,12733,1);Oc=Oa(Tc,i,zs,r)|0;Nu(zs);f=(Oc|0)==(Tc|0)?e:Oc;break e;break}case 76:{Mc=e+2|0;ct(Ks,13967,2);Rc=Oa(Mc,i,Ks,r)|0;Nu(Ks);f=(Rc|0)==(Mc|0)?e:Rc;break e;break}case 109:{Nc=e+2|0;if((Nc|0)!=(i|0))if((c[Nc>>0]|0)==95){Pc=e+3|0;ct(qs,13970,2);Dc=ja(Pc,i,qs,r)|0;Nu(qs);f=(Dc|0)==(Pc|0)?e:Dc;break e}Cc=vr(Nc,i,r)|0;if((Cc|0)==(Nc|0)){f=e;break e}Ic=k[r+4>>2]|0;if((k[r>>2]|0)==(Ic|0)){f=e;break e}Lc=Ic+-24|0;et(Et,Lc);xc=Mo(Et,0,12688)|0;k[ht>>2]=k[xc>>2];k[ht+4>>2]=k[xc+4>>2];k[ht+8>>2]=k[xc+8>>2];k[xc>>2]=0;k[xc+4>>2]=0;k[xc+8>>2]=0;Bc=Vo(ht,13973)|0;k[ut>>2]=k[Bc>>2];k[ut+4>>2]=k[Bc+4>>2];k[ut+8>>2]=k[Bc+8>>2];k[Bc>>2]=0;k[Bc+4>>2]=0;k[Bc+8>>2]=0;Zt(nt,ut);qa(Lc,nt);Wo(nt);Nu(ut);Nu(ht);Nu(Et);f=Cc;break e;break}default:{f=e;break e}}break}case 110:{switch(c[pb+1>>0]|0){case 119:case 97:{i:do{if(Qu){Hc=c[e>>0]|0;if(Hc<<24>>24==103){Uc=(c[e+1>>0]|0)==115;C=Uc?e+2|0:e;Yc=c[C>>0]|0;wb=Uc;gb=C}else{Yc=Hc;wb=0;gb=e}if(Yc<<24>>24==110){zc=c[gb+1>>0]|0;switch(zc<<24>>24){case 97:case 119:break;default:{N=e;Cb=319;break i}}Vc=zc<<24>>24==97;Wc=gb+2|0;if((Wc|0)==(i|0))D=e;else{ab=0;Tb=Wc;while(1){if((c[Tb>>0]|0)==95){lb=ab;Ob=Tb;break}Bb=Tb;Tb=vr(Tb,i,r)|0;if((Tb|0)==(Bb|0)|(Tb|0)==(i|0)){D=e;break i}else ab=1}jc=Ob+1|0;Kc=_r(jc,i,r)|0;if((Kc|0)==(jc|0)|(Kc|0)==(i|0))D=e;else{Xc=c[Kc>>0]|0;r:do{if((Cu-Kc|0)>2&Xc<<24>>24==112){if((c[Kc+1>>0]|0)!=105){D=e;break i}Rb=Kc+2|0;while(1){if((c[Rb>>0]|0)==69){nb=1;Pb=Rb;break r}Hb=Rb;Rb=vr(Rb,i,r)|0;if((Rb|0)==(Hb|0)|(Rb|0)==(i|0)){D=e;break i}}}else if(Xc<<24>>24==69){nb=0;Pb=Kc}else{D=e;break i}}while(0);k[X>>2]=0;k[X+4>>2]=0;k[X+8>>2]=0;if(nb){Gc=r+4|0;qc=k[Gc>>2]|0;if((k[r>>2]|0)!=(qc|0)){et(Rl,qc+-24|0);r:do{if(!(c[X>>0]&1)){c[X+1>>0]=0;c[X>>0]=0}else{Jc=X+8|0;Zc=k[Jc>>2]|0;c[Zc>>0]=0;Qc=X+4|0;k[Qc>>2]=0;$c=k[X>>2]|0;_b=($c&-2)+-1|0;eb=$c&255;do{if(!(eb&1)){ib=$c>>>1&127;if((eb&255)<22){rt(X+1|0,Zc|0,($c>>>1&127)+1|0)|0;oa(Zc);I=ib;break}rb=ib+16&240;Eb=rb+-1|0;if((Eb|0)==(_b|0))break r;fb=Sr(rb)|0;if(Eb>>>0<=_b>>>0&(fb|0)==0)break r;rt(fb|0,X+1|0,($c>>>1&127)+1|0)|0;k[X>>2]=rb|1;k[Qc>>2]=ib;k[Jc>>2]=fb;break r}else{c[X+1>>0]=0;oa(Zc);I=0}}while(0);c[X>>0]=I<<1}}while(0);k[X>>2]=k[Rl>>2];k[X+4>>2]=k[Rl+4>>2];k[X+8>>2]=k[Rl+8>>2];k[Rl>>2]=0;k[Rl+4>>2]=0;k[Rl+8>>2]=0;Nu(Rl);Z=k[Gc>>2]|0;Q=Z+-24|0;ee=Z;do{$=ee+-24|0;k[Gc>>2]=$;Wo($);ee=k[Gc>>2]|0}while((ee|0)!=(Q|0));W=Gc;j=r;ie=Q;Cb=283}}else{x=r+4|0;W=x;j=r;ie=k[x>>2]|0;Cb=283}if((Cb|0)==283)if((k[j>>2]|0)!=(ie|0)){et(_n,ie+-24|0);re=k[W>>2]|0;fe=re+-24|0;le=re;do{ae=le+-24|0;k[W>>2]=ae;Wo(ae);le=k[W>>2]|0}while((le|0)!=(fe|0));k[us>>2]=0;k[us+4>>2]=0;k[us+8>>2]=0;if(lb)if((k[j>>2]|0)==(fe|0)){o=e;M=0}else{et(at,re+-48|0);r:do{if(!(c[us>>0]&1)){c[us+1>>0]=0;c[us>>0]=0}else{se=us+8|0;te=k[se>>2]|0;c[te>>0]=0;ue=us+4|0;k[ue>>2]=0;ce=k[us>>2]|0;vb=(ce&-2)+-1|0;be=ce&255;do{if(!(be&1)){ke=ce>>>1&127;if((be&255)<22){rt(us+1|0,te|0,(ce>>>1&127)+1|0)|0;oa(te);L=ke;break}de=ke+16&240;mb=de+-1|0;if((mb|0)==(vb|0))break r;we=Sr(de)|0;if(mb>>>0<=vb>>>0&(we|0)==0)break r;rt(we|0,us+1|0,(ce>>>1&127)+1|0)|0;k[us>>2]=de|1;k[ue>>2]=ke;k[se>>2]=we;break r}else{c[us+1>>0]=0;oa(te);L=0}}while(0);c[us>>0]=L<<1}}while(0);k[us>>2]=k[at>>2];k[us+4>>2]=k[at+4>>2];k[us+8>>2]=k[at+8>>2];k[at>>2]=0;k[at+4>>2]=0;k[at+8>>2]=0;Nu(at);ve=k[W>>2]|0;me=ve+-24|0;Se=ve;do{pe=Se+-24|0;k[W>>2]=pe;Wo(pe);Se=k[W>>2]|0}while((Se|0)!=(me|0));Cb=300}else Cb=300;if((Cb|0)==300){k[Xt>>2]=0;k[Xt+4>>2]=0;k[Xt+8>>2]=0;if(wb)Yn(Xt,12876,2);if(Vc)Vo(Xt,13977)|0;else Vo(Xt,12700)|0;if(lb){_s(Ou,12688,us);ge=Vo(Ou,13981)|0;k[Ho>>2]=k[ge>>2];k[Ho+4>>2]=k[ge+4>>2];k[Ho+8>>2]=k[ge+8>>2];k[ge>>2]=0;k[ge+4>>2]=0;k[ge+8>>2]=0;ye=c[Ho>>0]|0;Fe=(ye&1)==0;zn(Xt,Fe?Ho+1|0:k[Ho+8>>2]|0,Fe?(ye&255)>>>1:k[Ho+4>>2]|0)|0;Nu(Ho);Nu(Ou)}Te=c[_n>>0]|0;Oe=(Te&1)==0;zn(Xt,Oe?_n+1|0:k[_n+8>>2]|0,Oe?(Te&255)>>>1:k[_n+4>>2]|0)|0;if(nb){_s(G,12590,X);Ne=Vo(G,12593)|0;k[mc>>2]=k[Ne>>2];k[mc+4>>2]=k[Ne+4>>2];k[mc+8>>2]=k[Ne+8>>2];k[Ne>>2]=0;k[Ne+4>>2]=0;k[Ne+8>>2]=0;Pe=c[mc>>0]|0;De=(Pe&1)==0;zn(Xt,De?mc+1|0:k[mc+8>>2]|0,De?(Pe&255)>>>1:k[mc+4>>2]|0)|0;Nu(mc);Nu(G)}k[di>>2]=k[Xt>>2];k[di+4>>2]=k[Xt+4>>2];k[di+8>>2]=k[Xt+8>>2];k[Xt>>2]=0;k[Xt+4>>2]=0;k[Xt+8>>2]=0;Zt(Me,di);Ie=k[W>>2]|0;Le=k[r+8>>2]|0;if(Ie>>>0<Le>>>0){Nt(Ie,Me);k[W>>2]=(k[W>>2]|0)+24}else{xe=k[j>>2]|0;He=Ie-xe|0;Ue=(He|0)/24|0;Ye=Ue+1|0;if((He|0)<-24)gc(r);ze=(Le-xe|0)/24|0;if(ze>>>0<1073741823){Ve=ze<<1;n=Ve>>>0<Ye>>>0?Ye:Ve}else n=2147483647;pt(K,n,Ue,r+12|0);We=K+8|0;je=k[We>>2]|0;Nt(je,Me);k[We>>2]=je+24;Bn(r,K);lt(K)}Wo(Me);Nu(di);Nu(Xt);o=Pb+1|0;M=1}Nu(us);Nu(_n);Nu(X);if(M){N=o;Cb=319;break}else{D=e;break}}Nu(X);D=e}}}else{N=e;Cb=319}}else{N=e;Cb=319}}while(0);if((Cb|0)==319)D=N;f=D;break e;break}case 101:{Ke=e+2|0;ct(yt,13984,2);Xe=Oa(Ke,i,yt,r)|0;Nu(yt);f=(Xe|0)==(Ke|0)?e:Xe;break e;break}case 103:{Ge=e+2|0;ct(At,13962,1);qe=ja(Ge,i,At,r)|0;Nu(At);f=(qe|0)==(Ge|0)?e:qe;break e;break}case 116:{Je=e+2|0;ct(Mt,13987,1);Ze=ja(Je,i,Mt,r)|0;Nu(Mt);f=(Ze|0)==(Je|0)?e:Ze;break e;break}case 120:{Qe=e+2|0;$e=vr(Qe,i,r)|0;if(($e|0)==(Qe|0))S=Qe;else{ei=k[r+4>>2]|0;if((k[r>>2]|0)==(ei|0))S=Qe;else{ii=ei+-24|0;et(Rl,ii);ri=Mo(Rl,0,13989)|0;k[X>>2]=k[ri>>2];k[X+4>>2]=k[ri+4>>2];k[X+8>>2]=k[ri+8>>2];k[ri>>2]=0;k[ri+4>>2]=0;k[ri+8>>2]=0;fi=Vo(X,12593)|0;k[K>>2]=k[fi>>2];k[K+4>>2]=k[fi+4>>2];k[K+8>>2]=k[fi+8>>2];k[fi>>2]=0;k[fi+4>>2]=0;k[fi+8>>2]=0;do{if(!(c[ii>>0]&1)){c[ii+1>>0]=0;c[ii>>0]=0}else{ai=ei+-16|0;c[k[ai>>2]>>0]=0;li=ei+-20|0;k[li>>2]=0;H=c[ii>>0]|0;if(!(H&1)){si=H;ui=10}else{ni=k[ii>>2]|0;si=ni&255;ui=(ni&-2)+-1|0}if(!(si&1)){ti=(si&255)>>>1;if((si&255)<22){oi=10;_i=ti;ml=1}else{oi=(ti+16&240)+-1|0;_i=ti;ml=1}}else{oi=10;_i=0;ml=0}if((oi|0)!=(ui|0)){if((oi|0)==10){ki=ii+1|0;hi=k[ai>>2]|0;if(ml){rt(ki|0,hi|0,((si&255)>>>1)+1|0)|0;oa(hi)}else{c[ki>>0]=c[hi>>0]|0;oa(hi)}c[ii>>0]=_i<<1;break}ci=oi+1|0;bi=Sr(ci)|0;if(!(oi>>>0<=ui>>>0&(bi|0)==0)){if(ml)rt(bi|0,ii+1|0,((si&255)>>>1)+1|0)|0;else{wi=k[ai>>2]|0;c[bi>>0]=c[wi>>0]|0;oa(wi)}k[ii>>2]=ci|1;k[li>>2]=_i;k[ai>>2]=bi}}}}while(0);k[ii>>2]=k[K>>2];k[ii+4>>2]=k[K+4>>2];k[ii+8>>2]=k[K+8>>2];k[K>>2]=0;k[K+4>>2]=0;k[K+8>>2]=0;Nu(K);Nu(X);Nu(Rl);S=$e}}f=(S|0)==(Qe|0)?e:S;break e;break}default:{f=e;break e}}break}case 111:{switch(c[pb+1>>0]|0){case 110:{f=Pr(e,i,r)|0;break e;break}case 111:{Ei=e+2|0;ct(Ct,14e3,2);pi=Oa(Ei,i,Ct,r)|0;Nu(Ct);f=(pi|0)==(Ei|0)?e:pi;break e;break}case 114:{Si=e+2|0;ct(Ut,14003,1);gi=Oa(Si,i,Ut,r)|0;Nu(Ut);f=(gi|0)==(Si|0)?e:gi;break e;break}case 82:{yi=e+2|0;ct(Wt,14005,2);Fi=Oa(yi,i,Wt,r)|0;Nu(Wt);f=(Fi|0)==(yi|0)?e:Fi;break e;break}default:{f=e;break e}}break}case 112:{switch(c[pb+1>>0]|0){case 109:{Ai=e+2|0;ct(Gt,14008,3);Ti=Oa(Ai,i,Gt,r)|0;Nu(Gt);f=(Ti|0)==(Ai|0)?e:Ti;break e;break}case 108:{Oi=e+2|0;ct($t,14012,1);Mi=Oa(Oi,i,$t,r)|0;Nu($t);f=(Mi|0)==(Oi|0)?e:Mi;break e;break}case 76:{Ri=e+2|0;ct(ro,14014,2);Ni=Oa(Ri,i,ro,r)|0;Nu(ro);f=(Ni|0)==(Ri|0)?e:Ni;break e;break}case 112:{Pi=e+2|0;if((Pi|0)!=(i|0))if((c[Pi>>0]|0)==95){Di=e+3|0;ct(uo,14017,2);Ci=ja(Di,i,uo,r)|0;Nu(uo);f=(Ci|0)==(Di|0)?e:Ci;break e}Ii=vr(Pi,i,r)|0;if((Ii|0)==(Pi|0)){f=e;break e}Li=k[r+4>>2]|0;if((k[r>>2]|0)==(Li|0)){f=e;break e}xi=Li+-24|0;et(Oo,xi);Bi=Mo(Oo,0,12688)|0;k[yo>>2]=k[Bi>>2];k[yo+4>>2]=k[Bi+4>>2];k[yo+8>>2]=k[Bi+8>>2];k[Bi>>2]=0;k[Bi+4>>2]=0;k[Bi+8>>2]=0;Hi=Vo(yo,14020)|0;k[_o>>2]=k[Hi>>2];k[_o+4>>2]=k[Hi+4>>2];k[_o+8>>2]=k[Hi+8>>2];k[Hi>>2]=0;k[Hi+4>>2]=0;k[Hi+8>>2]=0;Zt(ko,_o);qa(xi,ko);Wo(ko);Nu(_o);Nu(yo);Nu(Oo);f=Ii;break e;break}case 115:{Yi=e+2|0;ct(No,14012,1);zi=ja(Yi,i,No,r)|0;Nu(No);f=(zi|0)==(Yi|0)?e:zi;break e;break}case 116:{if((Wu|0)>2)if((c[e>>0]|0)==112)if((c[e+1>>0]|0)==116){Vi=e+2|0;Wi=vr(Vi,i,r)|0;if((Wi|0)==(Vi|0))t=e;else{ji=vr(Wi,i,r)|0;if((ji|0)==(Wi|0))t=e;else{Ki=r+4|0;Xi=k[Ki>>2]|0;if(((Xi-(k[r>>2]|0)|0)/24|0)>>>0<2)t=e;else{et(K,Xi+-24|0);qi=k[Ki>>2]|0;Ji=qi+-24|0;Qi=qi;do{Zi=Qi+-24|0;k[Ki>>2]=Zi;Wo(Zi);Qi=k[Ki>>2]|0}while((Qi|0)!=(Ji|0));Vo(qi+-48|0,14024)|0;er=c[K>>0]|0;ir=(er&1)==0;zn((k[Ki>>2]|0)+-24|0,ir?K+1|0:k[K+8>>2]|0,ir?(er&255)>>>1:k[K+4>>2]|0)|0;Nu(K);t=ji}}}}else t=e;else t=e;else t=e;f=t;break e;break}default:{f=e;break e}}break}case 113:{if((c[pb+1>>0]|0)!=117){f=e;break e}fr=e+2|0;ar=vr(fr,i,r)|0;if((ar|0)==(fr|0)){f=e;break e}lr=vr(ar,i,r)|0;if((lr|0)==(ar|0)){Hr=r+4|0;Ur=k[Hr>>2]|0;Yr=Ur+-24|0;Vr=Ur;while(1){zr=Vr+-24|0;k[Hr>>2]=zr;Wo(zr);Vr=k[Hr>>2]|0;if((Vr|0)==(Yr|0)){f=e;break e}}}nr=vr(lr,i,r)|0;sr=r+4|0;tr=k[sr>>2]|0;if((nr|0)==(lr|0)){Dr=tr+-24|0;Ir=tr;do{Cr=Ir+-24|0;k[sr>>2]=Cr;Wo(Cr);Ir=k[sr>>2]|0}while((Ir|0)!=(Dr|0));Lr=tr+-48|0;Br=Dr;while(1){xr=Br+-24|0;k[sr>>2]=xr;Wo(xr);Br=k[sr>>2]|0;if((Br|0)==(Lr|0)){f=e;break e}}}if(((tr-(k[r>>2]|0)|0)/24|0)>>>0<3){f=e;break e}et(hb,tr+-24|0);ur=k[sr>>2]|0;cr=ur+-24|0;kr=ur;do{br=kr+-24|0;k[sr>>2]=br;Wo(br);kr=k[sr>>2]|0}while((kr|0)!=(cr|0));et(kb,ur+-48|0);hr=k[sr>>2]|0;dr=hr+-24|0;Er=hr;do{wr=Er+-24|0;k[sr>>2]=wr;Wo(wr);Er=k[sr>>2]|0}while((Er|0)!=(dr|0));et(cb,hr+-48|0);mr=(k[sr>>2]|0)+-24|0;_s(nu,12688,cb);pr=Vo(nu,14027)|0;k[fu>>2]=k[pr>>2];k[fu+4>>2]=k[pr+4>>2];k[fu+8>>2]=k[pr+8>>2];k[pr>>2]=0;k[pr+4>>2]=0;k[pr+8>>2]=0;gr=c[kb>>0]|0;yr=(gr&1)==0;Fr=zn(fu,yr?kb+1|0:k[kb+8>>2]|0,yr?(gr&255)>>>1:k[kb+4>>2]|0)|0;k[$o>>2]=k[Fr>>2];k[$o+4>>2]=k[Fr+4>>2];k[$o+8>>2]=k[Fr+8>>2];k[Fr>>2]=0;k[Fr+4>>2]=0;k[Fr+8>>2]=0;Tr=Vo($o,14033)|0;k[Jo>>2]=k[Tr>>2];k[Jo+4>>2]=k[Tr+4>>2];k[Jo+8>>2]=k[Tr+8>>2];k[Tr>>2]=0;k[Tr+4>>2]=0;k[Tr+8>>2]=0;Or=c[hb>>0]|0;Mr=(Or&1)==0;Rr=zn(Jo,Mr?hb+1|0:k[hb+8>>2]|0,Mr?(Or&255)>>>1:k[hb+4>>2]|0)|0;k[Xo>>2]=k[Rr>>2];k[Xo+4>>2]=k[Rr+4>>2];k[Xo+8>>2]=k[Rr+8>>2];k[Rr>>2]=0;k[Rr+4>>2]=0;k[Rr+8>>2]=0;Nr=Vo(Xo,12593)|0;k[Uo>>2]=k[Nr>>2];k[Uo+4>>2]=k[Nr+4>>2];k[Uo+8>>2]=k[Nr+8>>2];k[Nr>>2]=0;k[Nr+4>>2]=0;k[Nr+8>>2]=0;Zt(Io,Uo);qa(mr,Io);Wo(Io);Nu(Uo);Nu(Xo);Nu(Jo);Nu($o);Nu(fu);Nu(nu);Nu(cb);Nu(kb);Nu(hb);f=nr;break e;break}case 114:{switch(c[pb+1>>0]|0){case 99:{if((Wu|0)>2)if((c[e>>0]|0)==114)if((c[e+1>>0]|0)==99){jr=e+2|0;Kr=_r(jr,i,r)|0;if((Kr|0)==(jr|0))A=e;else{Gr=vr(Kr,i,r)|0;if((Gr|0)==(Kr|0))A=e;else{qr=r+4|0;Jr=k[qr>>2]|0;if(((Jr-(k[r>>2]|0)|0)/24|0)>>>0<2)A=e;else{et(K,Jr+-24|0);Qr=k[qr>>2]|0;$r=Qr+-24|0;rf=Qr;do{ef=rf+-24|0;k[qr>>2]=ef;Wo(ef);rf=k[qr>>2]|0}while((rf|0)!=($r|0));ff=Qr+-48|0;et(Xt,ff);af=Mo(Xt,0,14039)|0;k[at>>2]=k[af>>2];k[at+4>>2]=k[af+4>>2];k[at+8>>2]=k[af+8>>2];k[af>>2]=0;k[af+4>>2]=0;k[af+8>>2]=0;lf=Vo(at,13890)|0;k[us>>2]=k[lf>>2];k[us+4>>2]=k[lf+4>>2];k[us+8>>2]=k[lf+8>>2];k[lf>>2]=0;k[lf+4>>2]=0;k[lf+8>>2]=0;nf=c[K>>0]|0;sf=(nf&1)==0;tf=zn(us,sf?K+1|0:k[K+8>>2]|0,sf?(nf&255)>>>1:k[K+4>>2]|0)|0;k[_n>>2]=k[tf>>2];k[_n+4>>2]=k[tf+4>>2];k[_n+8>>2]=k[tf+8>>2];k[tf>>2]=0;k[tf+4>>2]=0;k[tf+8>>2]=0;of=Vo(_n,12593)|0;k[Rl>>2]=k[of>>2];k[Rl+4>>2]=k[of+4>>2];k[Rl+8>>2]=k[of+8>>2];k[of>>2]=0;k[of+4>>2]=0;k[of+8>>2]=0;Zt(X,Rl);qa(ff,X);Wo(X);Nu(Rl);Nu(_n);Nu(us);Nu(at);Nu(Xt);Nu(K);A=Gr}}}}else A=e;else A=e;else A=e;f=A;break e;break}case 109:{cf=e+2|0;ct(ku,14057,1);bf=Oa(cf,i,ku,r)|0;Nu(ku);f=(bf|0)==(cf|0)?e:bf;break e;break}case 77:{kf=e+2|0;ct(hu,14059,2);hf=Oa(kf,i,hu,r)|0;Nu(hu);f=(hf|0)==(kf|0)?e:hf;break e;break}case 115:{df=e+2|0;ct(Eu,14062,2);wf=Oa(df,i,Eu,r)|0;Nu(Eu);f=(wf|0)==(df|0)?e:wf;break e;break}case 83:{_f=e+2|0;ct(gu,14065,3);vf=Oa(_f,i,gu,r)|0;Nu(gu);m=Ib;return((vf|0)==(_f|0)?e:vf)|0}default:{f=e;break e}}break}case 115:{switch(c[pb+1>>0]|0){case 99:{if((Wu|0)>2)if((c[e>>0]|0)==115)if((c[e+1>>0]|0)==99){Ef=e+2|0;mf=_r(Ef,i,r)|0;if((mf|0)==(Ef|0))F=e;else{pf=vr(mf,i,r)|0;if((pf|0)==(mf|0))F=e;else{Sf=r+4|0;gf=k[Sf>>2]|0;if(((gf-(k[r>>2]|0)|0)/24|0)>>>0<2)F=e;else{et(K,gf+-24|0);yf=k[Sf>>2]|0;Ff=yf+-24|0;Of=yf;do{Af=Of+-24|0;k[Sf>>2]=Af;Wo(Af);Of=k[Sf>>2]|0}while((Of|0)!=(Ff|0));Mf=yf+-48|0;et(Xt,Mf);Rf=Mo(Xt,0,14069)|0;k[at>>2]=k[Rf>>2];k[at+4>>2]=k[Rf+4>>2];k[at+8>>2]=k[Rf+8>>2];k[Rf>>2]=0;k[Rf+4>>2]=0;k[Rf+8>>2]=0;Nf=Vo(at,13890)|0;k[us>>2]=k[Nf>>2];k[us+4>>2]=k[Nf+4>>2];k[us+8>>2]=k[Nf+8>>2];k[Nf>>2]=0;k[Nf+4>>2]=0;k[Nf+8>>2]=0;Pf=c[K>>0]|0;Df=(Pf&1)==0;If=zn(us,Df?K+1|0:k[K+8>>2]|0,Df?(Pf&255)>>>1:k[K+4>>2]|0)|0;k[_n>>2]=k[If>>2];k[_n+4>>2]=k[If+4>>2];k[_n+8>>2]=k[If+8>>2];k[If>>2]=0;k[If+4>>2]=0;k[If+8>>2]=0;Lf=Vo(_n,12593)|0;k[Rl>>2]=k[Lf>>2];k[Rl+4>>2]=k[Lf+4>>2];k[Rl+8>>2]=k[Lf+8>>2];k[Lf>>2]=0;k[Lf+4>>2]=0;k[Lf+8>>2]=0;Zt(X,Rl);qa(Mf,X);Wo(X);Nu(Rl);Nu(_n);Nu(us);Nu(at);Nu(Xt);Nu(K);F=pf}}}}else F=e;else F=e;else F=e;f=F;break e;break}case 112:{if((Wu|0)<=2){f=e;break e}if((c[e>>0]|0)!=115){f=e;break e}if((c[e+1>>0]|0)!=112){f=e;break e}Bf=e+2|0;Hf=vr(Bf,i,r)|0;f=(Hf|0)==(Bf|0)?e:Hf;break e;break}case 114:{f=Pr(e,i,r)|0;break e;break}case 116:{if((Wu|0)>2)if((c[e>>0]|0)==115)if((c[e+1>>0]|0)==116){Uf=e+2|0;Yf=_r(Uf,i,r)|0;if((Yf|0)==(Uf|0))E=e;else{zf=k[r+4>>2]|0;if((k[r>>2]|0)==(zf|0))E=e;else{Vf=zf+-24|0;et(_n,Vf);Wf=Mo(_n,0,14082)|0;k[Rl>>2]=k[Wf>>2];k[Rl+4>>2]=k[Wf+4>>2];k[Rl+8>>2]=k[Wf+8>>2];k[Wf>>2]=0;k[Wf+4>>2]=0;k[Wf+8>>2]=0;jf=Vo(Rl,12593)|0;k[X>>2]=k[jf>>2];k[X+4>>2]=k[jf+4>>2];k[X+8>>2]=k[jf+8>>2];k[jf>>2]=0;k[jf+4>>2]=0;k[jf+8>>2]=0;Zt(K,X);qa(Vf,K);Wo(K);Nu(X);Nu(Rl);Nu(_n);E=Yf}}}else E=e;else E=e;else E=e;f=E;break e;break}case 122:{if((Wu|0)>2)if((c[e>>0]|0)==115)if((c[e+1>>0]|0)==122){Kf=e+2|0;Xf=vr(Kf,i,r)|0;if((Xf|0)==(Kf|0))v=e;else{Gf=k[r+4>>2]|0;if((k[r>>2]|0)==(Gf|0))v=e;else{qf=Gf+-24|0;et(_n,qf);Jf=Mo(_n,0,14082)|0;k[Rl>>2]=k[Jf>>2];k[Rl+4>>2]=k[Jf+4>>2];k[Rl+8>>2]=k[Jf+8>>2];k[Jf>>2]=0;k[Jf+4>>2]=0;k[Jf+8>>2]=0;Zf=Vo(Rl,12593)|0;k[X>>2]=k[Zf>>2];k[X+4>>2]=k[Zf+4>>2];k[X+8>>2]=k[Zf+8>>2];k[Zf>>2]=0;k[Zf+4>>2]=0;k[Zf+8>>2]=0;Zt(K,X);qa(qf,K);Wo(K);Nu(X);Nu(Rl);Nu(_n);v=Xf}}}else v=e;else v=e;else v=e;f=v;break e;break}case 90:{if((Cu-pb|0)<=2){f=e;break e}switch(c[pb+2>>0]|0){case 84:break;case 102:{if((Wu|0)>2)if((c[e>>0]|0)==115)if((c[e+1>>0]|0)==90){xa=e+2|0;if((c[xa>>0]|0)==102){Ba=pa(xa,i,r)|0;if((Ba|0)==(xa|0))w=e;else{Ha=k[r+4>>2]|0;if((k[r>>2]|0)==(Ha|0))w=e;else{Ua=Ha+-24|0;et(_n,Ua);Ya=Mo(_n,0,14091)|0;k[Rl>>2]=k[Ya>>2];k[Rl+4>>2]=k[Ya+4>>2];k[Rl+8>>2]=k[Ya+8>>2];k[Ya>>2]=0;k[Ya+4>>2]=0;k[Ya+8>>2]=0;za=Vo(Rl,12593)|0;k[X>>2]=k[za>>2];k[X+4>>2]=k[za+4>>2];k[X+8>>2]=k[za+8>>2];k[za>>2]=0;k[za+4>>2]=0;k[za+8>>2]=0;Zt(K,X);qa(Ua,K);Wo(K);Nu(X);Nu(Rl);Nu(_n);w=Ba}}}else w=e}else w=e;else w=e;else w=e;f=w;break e;break}default:{f=e;break e}}if((Wu|0)>2)if((c[e>>0]|0)==115)if((c[e+1>>0]|0)==90){$f=e+2|0;if((c[$f>>0]|0)==84){ia=r+4|0;ra=((k[ia>>2]|0)-(k[r>>2]|0)|0)/24|0;fa=ba($f,i,r)|0;aa=k[r>>2]|0;la=((k[ia>>2]|0)-aa|0)/24|0;if((fa|0)==($f|0))d=e;else{c[X>>0]=20;Db=X+1|0;Lb=14091;xb=Db+10|0;do{c[Db>>0]=c[Lb>>0]|0;Db=Db+1|0;Lb=Lb+1|0}while((Db|0)<(xb|0));c[X+11>>0]=0;if((ra|0)!=(la|0)){et(Rl,aa+(ra*24|0)|0);na=c[Rl>>0]|0;sa=(na&1)==0;zn(X,sa?Rl+1|0:k[Rl+8>>2]|0,sa?(na&255)>>>1:k[Rl+4>>2]|0)|0;Nu(Rl);ca=_n+8|0;ka=_n+1|0;ha=_n+4|0;sb=ra+1|0;if((sb|0)!=(la|0)){tb=sb;do{et(us,(k[r>>2]|0)+(tb*24|0)|0);da=Mo(us,0,12690)|0;k[_n>>2]=k[da>>2];k[_n+4>>2]=k[da+4>>2];k[_n+8>>2]=k[da+8>>2];k[da>>2]=0;k[da+4>>2]=0;k[da+8>>2]=0;_a=c[_n>>0]|0;va=(_a&1)==0;zn(X,va?ka:k[ca>>2]|0,va?(_a&255)>>>1:k[ha>>2]|0)|0;Nu(_n);Nu(us);tb=tb+1|0}while((tb|0)!=(la|0))}}Vo(X,12593)|0;if((la|0)!=(ra|0)){ob=la;do{Ea=k[ia>>2]|0;ma=Ea+-24|0;ga=Ea;do{Sa=ga+-24|0;k[ia>>2]=Sa;Wo(Sa);ga=k[ia>>2]|0}while((ga|0)!=(ma|0));ob=ob+-1|0}while((ob|0)!=(ra|0))}k[Xt>>2]=k[X>>2];k[Xt+4>>2]=k[X+4>>2];k[Xt+8>>2]=k[X+8>>2];k[X>>2]=0;k[X+4>>2]=0;k[X+8>>2]=0;Zt(at,Xt);Fa=k[ia>>2]|0;Aa=k[r+8>>2]|0;if(Fa>>>0<Aa>>>0){Nt(Fa,at);k[ia>>2]=(k[ia>>2]|0)+24}else{Ma=k[r>>2]|0;Ra=Fa-Ma|0;Na=(Ra|0)/24|0;Pa=Na+1|0;if((Ra|0)<-24)gc(r);Da=(Aa-Ma|0)/24|0;if(Da>>>0<1073741823){Ca=Da<<1;l=Ca>>>0<Pa>>>0?Pa:Ca}else l=2147483647;pt(K,l,Na,r+12|0);Ia=K+8|0;La=k[Ia>>2]|0;Nt(La,at);k[Ia>>2]=La+24;Bn(r,K);lt(K)}Wo(at);Nu(Xt);Nu(X);d=fa}}else d=e}else d=e;else d=e;else d=e;f=d;break e;break}default:{f=e;break e}}break}case 116:{switch(c[pb+1>>0]|0){case 105:case 101:{i:do{if((Wu|0)>2)if((c[e>>0]|0)==116){Va=c[e+1>>0]|0;switch(Va<<24>>24){case 105:case 101:break;default:{_=e;break i}}Wa=e+2|0;if(Va<<24>>24==101)Sb=vr(Wa,i,r)|0;else Sb=_r(Wa,i,r)|0;if((Sb|0)==(Wa|0))_=e;else{Ka=k[r+4>>2]|0;if((k[r>>2]|0)==(Ka|0))_=e;else{Xa=Ka+-24|0;et(_n,Xa);Ga=Mo(_n,0,14102)|0;k[Rl>>2]=k[Ga>>2];k[Rl+4>>2]=k[Ga+4>>2];k[Rl+8>>2]=k[Ga+8>>2];k[Ga>>2]=0;k[Ga+4>>2]=0;k[Ga+8>>2]=0;Ja=Vo(Rl,12593)|0;k[X>>2]=k[Ja>>2];k[X+4>>2]=k[Ja+4>>2];k[X+8>>2]=k[Ja+8>>2];k[Ja>>2]=0;k[Ja+4>>2]=0;k[Ja+8>>2]=0;Zt(K,X);qa(Xa,K);Wo(K);Nu(X);Nu(Rl);Nu(_n);_=Sb}}}else _=e;else _=e}while(0);f=_;break e;break}case 114:{Bt(Mu,14110);Qa=r+4|0;$a=k[Qa>>2]|0;el=k[r+8>>2]|0;if($a>>>0<el>>>0){Nt($a,Mu);k[Qa>>2]=(k[Qa>>2]|0)+24}else{il=k[r>>2]|0;rl=$a-il|0;fl=(rl|0)/24|0;al=fl+1|0;if((rl|0)<-24)gc(r);ll=(el-il|0)/24|0;if(ll>>>0<1073741823){nl=ll<<1;a=nl>>>0<al>>>0?al:nl}else a=2147483647;pt(K,a,fl,r+12|0);sl=K+8|0;tl=k[sl>>2]|0;Nt(tl,Mu);k[sl>>2]=tl+24;Bn(r,K);lt(K)}Wo(Mu);f=e+2|0;break e;break}case 119:{if((Wu|0)>2)if((c[e>>0]|0)==116)if((c[e+1>>0]|0)==119){ul=e+2|0;cl=vr(ul,i,r)|0;if((cl|0)==(ul|0))u=e;else{bl=k[r+4>>2]|0;if((k[r>>2]|0)==(bl|0))u=e;else{kl=bl+-24|0;et(Rl,kl);hl=Mo(Rl,0,14116)|0;k[X>>2]=k[hl>>2];k[X+4>>2]=k[hl+4>>2];k[X+8>>2]=k[hl+8>>2];k[hl>>2]=0;k[hl+4>>2]=0;k[hl+8>>2]=0;Zt(K,X);qa(kl,K);Wo(K);Nu(X);Nu(Rl);u=cl}}}else u=e;else u=e;else u=e;f=u;break e;break}default:{f=e;break e}}break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{f=Pr(e,i,r)|0;break e;break}default:{f=e;break e}}}while(0)}else f=e}while(0);m=Ib;return f|0}function Er(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,vr=0,Er=0,mr=0,pr=0,gr=0,yr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,oa=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0,Gl=0,ql=0,Jl=0,Zl=0,Ql=0,$l=0,en=0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0,hn=0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0,Dn=0,Cn=0,In=0,Ln=0,xn=0,Hn=0,Un=0,Yn=0,zn=0,Vn=0,Wn=0,jn=0,Kn=0,Xn=0,Gn=0,qn=0,Jn=0,Zn=0,Qn=0,$n=0,es=0,is=0,rs=0,fs=0,as=0,ls=0,ns=0,ss=0,ts=0,os=0,us=0,cs=0,bs=0,ks=0,hs=0,ds=0,ws=0,_s=0,vs=0,Es=0,ms=0,ps=0,Ss=0,gs=0,ys=0,Fs=0,As=0,Ts=0,Os=0,Ms=0,Rs=0,Ns=0,Ps=0,Ds=0,Cs=0,Is=0,Ls=0,xs=0,Bs=0,Hs=0,Us=0,Ys=0,zs=0,Vs=0,Ws=0,js=0,Ks=0,Xs=0,Gs=0,qs=0,Js=0,Zs=0,Qs=0,$s=0,et=0,it=0,rt=0,ft=0,at=0,nt=0,st=0,tt=0,ot=0,ut=0,ct=0,bt=0,kt=0,ht=0,dt=0,wt=0,_t=0,vt=0,Et=0,mt=0,St=0,gt=0,yt=0,Ft=0,At=0,Tt=0,Ot=0,Mt=0,Rt=0,Pt=0,Dt=0,Ct=0,It=0,Lt=0,xt=0,Bt=0,Ht=0,Ut=0,Yt=0,zt=0,Vt=0,Wt=0,jt=0,Kt=0,Xt=0,Jt=0,Zt=0,Qt=0,$t=0,eo=0,io=0,ro=0,fo=0,ao=0,lo=0,no=0,so=0,to=0,oo=0,uo=0,co=0,bo=0,ko=0,ho=0,wo=0,_o=0,vo=0,Eo=0,mo=0,po=0,So=0,Fo=0,Oo=0,Ro=0,No=0,Po=0,Do=0,Co=0,Io=0,Lo=0,xo=0,Bo=0,Ho=0,Uo=0,Yo=0,zo=0,Vo=0,jo=0,Ko=0,Xo=0,Go=0,qo=0,Jo=0,Zo=0,Qo=0,$o=0,eu=0,iu=0,ru=0,fu=0,au=0,lu=0,nu=0,su=0,tu=0,ou=0,uu=0,cu=0,bu=0,ku=0,hu=0,du=0,wu=0,_u=0,vu=0,Eu=0,mu=0,pu=0,Su=0,gu=0,yu=0,Fu=0,Au=0,Tu=0,Ou=0,Mu=0,Ru=0,Nu=0,Pu=0,Du=0,Cu=0,Iu=0,Lu=0,xu=0,Bu=0,Hu=0,Uu=0,Yu=0,zu=0,Vu=0,Wu=0,ju=0,Ku=0,Xu=0,Gu=0;Ku=m;m=m+1136|0;if((m|0)>=(p|0))he();Wu=Ku+1104|0;ee=Ku+1080|0;ie=Ku+1056|0;Tf=Ku+1032|0;Ta=Ku+1008|0;yl=Ku+984|0;En=Ku+960|0;os=Ku+936|0;it=Ku+912|0;$t=Ku+888|0;Qo=Ku+864|0;re=Ku+840|0;Ze=Ku+816|0;Vi=Ku+792|0;xr=Ku+768|0;Jr=Ku+744|0;rf=Ku+720|0;sf=Ku+696|0;cf=Ku+672|0;_f=Ku+648|0;gf=Ku+624|0;Of=Ku+600|0;Df=Ku+576|0;Hf=Ku+552|0;Wf=Ku+528|0;qf=Ku+504|0;ia=Ku+480|0;la=Ku+456|0;ua=Ku+432|0;da=Ku+408|0;Ea=Ku+384|0;Oa=Ku+360|0;Pa=Ku+336|0;xa=Ku+312|0;za=Ku+288|0;Ga=Ku+264|0;Qa=Ku+240|0;al=Ku+216|0;ul=Ku+192|0;dl=Ku+168|0;ml=Ku+144|0;Fl=Ku+120|0;Rl=Ku+96|0;Il=Ku+72|0;Hl=Ku+48|0;Kl=Ku+24|0;Ql=Ku;e:do{if((i-e|0)>1)do{switch(c[e>>0]|0){case 97:{switch(c[e+1>>0]|0){case 97:{Gt(ee,12923);Yn=r+4|0;jn=k[Yn>>2]|0;es=k[r+8>>2]|0;if(jn>>>0<es>>>0){Nt(jn,ee);k[Yn>>2]=(k[Yn>>2]|0)+24}else{Ps=k[r>>2]|0;xs=jn-Ps|0;zs=(xs|0)/24|0;Ks=zs+1|0;if((xs|0)<-24)gc(r);bt=(es-Ps|0)/24|0;if(bt>>>0<1073741823){gt=bt<<1;a=gt>>>0<Ks>>>0?Ks:gt}else a=2147483647;pt(Wu,a,zs,r+12|0);xt=Wu+8|0;Vt=k[xt>>2]|0;Nt(Vt,ee);k[xt>>2]=Vt+24;Bn(r,Wu);lt(Wu)}Wo(ee);f=e+2|0;break e;break}case 110:case 100:{qt(ie,12934);ao=r+4|0;oo=k[ao>>2]|0;Eo=k[r+8>>2]|0;if(oo>>>0<Eo>>>0){Nt(oo,ie);k[ao>>2]=(k[ao>>2]|0)+24}else{fu=k[r>>2]|0;su=oo-fu|0;ku=(su|0)/24|0;_u=ku+1|0;if((su|0)<-24)gc(r);Lu=(Eo-fu|0)/24|0;if(Lu>>>0<1073741823){fe=Lu<<1;V=fe>>>0<_u>>>0?_u:fe}else V=2147483647;pt(Wu,V,ku,r+12|0);we=Wu+8|0;Se=k[we>>2]|0;Nt(Se,ie);k[we>>2]=Se+24;Bn(r,Wu);lt(Wu)}Wo(ie);f=e+2|0;break e;break}case 78:{Gt(Tf,12944);Le=r+4|0;Ye=k[Le>>2]|0;Qe=k[r+8>>2]|0;if(Ye>>>0<Qe>>>0){Nt(Ye,Tf);k[Le>>2]=(k[Le>>2]|0)+24}else{Oi=k[r>>2]|0;Pi=Ye-Oi|0;Li=(Pi|0)/24|0;Wi=Li+1|0;if((Pi|0)<-24)gc(r);sr=(Qe-Oi|0)/24|0;if(sr>>>0<1073741823){wr=sr<<1;l=wr>>>0<Wi>>>0?Wi:wr}else l=2147483647;pt(Wu,l,Li,r+12|0);Pr=Wu+8|0;Br=k[Pr>>2]|0;Nt(Br,Tf);k[Pr>>2]=Br+24;Bn(r,Wu);lt(Wu)}Wo(Tf);f=e+2|0;break e;break}case 83:{qt(Ta,12955);Xr=r+4|0;Gr=k[Xr>>2]|0;qr=k[r+8>>2]|0;if(Gr>>>0<qr>>>0){Nt(Gr,Ta);k[Xr>>2]=(k[Xr>>2]|0)+24}else{Zr=k[r>>2]|0;Qr=Gr-Zr|0;$r=(Qr|0)/24|0;ef=$r+1|0;if((Qr|0)<-24)gc(r);ff=(qr-Zr|0)/24|0;if(ff>>>0<1073741823){af=ff<<1;v=af>>>0<ef>>>0?ef:af}else v=2147483647;pt(Wu,v,$r,r+12|0);lf=Wu+8|0;nf=k[lf>>2]|0;Nt(nf,Ta);k[lf>>2]=nf+24;Bn(r,Wu);lt(Wu)}Wo(Ta);f=e+2|0;break e;break}default:{f=e;break e}}break}case 99:{switch(c[e+1>>0]|0){case 108:{Gt(yl,12965);tf=r+4|0;of=k[tf>>2]|0;uf=k[r+8>>2]|0;if(of>>>0<uf>>>0){Nt(of,yl);k[tf>>2]=(k[tf>>2]|0)+24}else{bf=k[r>>2]|0;kf=of-bf|0;hf=(kf|0)/24|0;df=hf+1|0;if((kf|0)<-24)gc(r);wf=(uf-bf|0)/24|0;if(wf>>>0<1073741823){vf=wf<<1;N=vf>>>0<df>>>0?df:vf}else N=2147483647;pt(Wu,N,hf,r+12|0);Ef=Wu+8|0;mf=k[Ef>>2]|0;Nt(mf,yl);k[Ef>>2]=mf+24;Bn(r,Wu);lt(Wu)}Wo(yl);f=e+2|0;break e;break}case 109:{qt(En,12976);pf=r+4|0;Sf=k[pf>>2]|0;yf=k[r+8>>2]|0;if(Sf>>>0<yf>>>0){Nt(Sf,En);k[pf>>2]=(k[pf>>2]|0)+24}else{Ff=k[r>>2]|0;Af=Sf-Ff|0;Mf=(Af|0)/24|0;Rf=Mf+1|0;if((Af|0)<-24)gc(r);Nf=(yf-Ff|0)/24|0;if(Nf>>>0<1073741823){Pf=Nf<<1;B=Pf>>>0<Rf>>>0?Rf:Pf}else B=2147483647;pt(Wu,B,Mf,r+12|0);Cf=Wu+8|0;If=k[Cf>>2]|0;Nt(If,En);k[Cf>>2]=If+24;Bn(r,Wu);lt(Wu)}Wo(En);f=e+2|0;break e;break}case 111:{qt(os,12986);Lf=r+4|0;xf=k[Lf>>2]|0;Bf=k[r+8>>2]|0;if(xf>>>0<Bf>>>0){Nt(xf,os);k[Lf>>2]=(k[Lf>>2]|0)+24}else{Uf=k[r>>2]|0;Yf=xf-Uf|0;zf=(Yf|0)/24|0;Vf=zf+1|0;if((Yf|0)<-24)gc(r);jf=(Bf-Uf|0)/24|0;if(jf>>>0<1073741823){Kf=jf<<1;H=Kf>>>0<Vf>>>0?Vf:Kf}else H=2147483647;pt(Wu,H,zf,r+12|0);Xf=Wu+8|0;Gf=k[Xf>>2]|0;Nt(Gf,os);k[Xf>>2]=Gf+24;Bn(r,Wu);lt(Wu)}Wo(os);f=e+2|0;break e;break}case 118:{Jf=r+63|0;Zf=c[Jf>>0]|0;c[Jf>>0]=0;Qf=e+2|0;$f=_r(Qf,i,r)|0;c[Jf>>0]=Zf;if(($f|0)==(Qf|0)){f=e;break e}ea=k[r+4>>2]|0;if((k[r>>2]|0)==(ea|0)){f=e;break e}Mo(ea+-24|0,0,12996)|0;c[r+60>>0]=1;f=$f;break e;break}default:{f=e;break e}}break}case 100:{switch(c[e+1>>0]|0){case 97:{go(it,13006);ra=r+4|0;fa=k[ra>>2]|0;aa=k[r+8>>2]|0;if(fa>>>0<aa>>>0){Nt(fa,it);k[ra>>2]=(k[ra>>2]|0)+24}else{na=k[r>>2]|0;sa=fa-na|0;ta=(sa|0)/24|0;oa=ta+1|0;if((sa|0)<-24)gc(r);ca=(aa-na|0)/24|0;if(ca>>>0<1073741823){ba=ca<<1;U=ba>>>0<oa>>>0?oa:ba}else U=2147483647;pt(Wu,U,ta,r+12|0);ka=Wu+8|0;ha=k[ka>>2]|0;Nt(ha,it);k[ka>>2]=ha+24;Bn(r,Wu);lt(Wu)}Wo(it);f=e+2|0;break e;break}case 101:{qt($t,13024);wa=r+4|0;_a=k[wa>>2]|0;va=k[r+8>>2]|0;if(_a>>>0<va>>>0){Nt(_a,$t);k[wa>>2]=(k[wa>>2]|0)+24}else{ma=k[r>>2]|0;pa=_a-ma|0;Sa=(pa|0)/24|0;ga=Sa+1|0;if((pa|0)<-24)gc(r);Fa=(va-ma|0)/24|0;if(Fa>>>0<1073741823){Aa=Fa<<1;Y=Aa>>>0<ga>>>0?ga:Aa}else Y=2147483647;pt(Wu,Y,Sa,r+12|0);Ma=Wu+8|0;Ra=k[Ma>>2]|0;Nt(Ra,$t);k[Ma>>2]=Ra+24;Bn(r,Wu);lt(Wu)}Wo($t);f=e+2|0;break e;break}case 108:{Na=Sr(16)|0;k[Qo+8>>2]=Na;k[Qo>>2]=17;k[Qo+4>>2]=15;ju=Na;Xu=13034;Gu=ju+15|0;do{c[ju>>0]=c[Xu>>0]|0;ju=ju+1|0;Xu=Xu+1|0}while((ju|0)<(Gu|0));c[Na+15>>0]=0;Da=Qo+12|0;k[Da>>2]=0;k[Da+4>>2]=0;k[Da+8>>2]=0;Ca=r+4|0;Ia=k[Ca>>2]|0;La=k[r+8>>2]|0;if(Ia>>>0<La>>>0){Nt(Ia,Qo);k[Ca>>2]=(k[Ca>>2]|0)+24}else{Ba=k[r>>2]|0;Ha=Ia-Ba|0;Ua=(Ha|0)/24|0;Ya=Ua+1|0;if((Ha|0)<-24)gc(r);Va=(La-Ba|0)/24|0;if(Va>>>0<1073741823){Wa=Va<<1;z=Wa>>>0<Ya>>>0?Ya:Wa}else z=2147483647;pt(Wu,z,Ua,r+12|0);ja=Wu+8|0;Ka=k[ja>>2]|0;Nt(Ka,Qo);k[ja>>2]=Ka+24;Bn(r,Wu);lt(Wu)}Wo(Qo);f=e+2|0;break e;break}case 118:{qt(re,13050);Xa=r+4|0;qa=k[Xa>>2]|0;Ja=k[r+8>>2]|0;if(qa>>>0<Ja>>>0){Nt(qa,re);k[Xa>>2]=(k[Xa>>2]|0)+24}else{Za=k[r>>2]|0;$a=qa-Za|0;el=($a|0)/24|0;il=el+1|0;if(($a|0)<-24)gc(r);rl=(Ja-Za|0)/24|0;if(rl>>>0<1073741823){fl=rl<<1;W=fl>>>0<il>>>0?il:fl}else W=2147483647;pt(Wu,W,el,r+12|0);ll=Wu+8|0;nl=k[ll>>2]|0;Nt(nl,re);k[ll>>2]=nl+24;Bn(r,Wu);lt(Wu)}Wo(re);f=e+2|0;break e;break}case 86:{Gt(Ze,13060);sl=r+4|0;tl=k[sl>>2]|0;ol=k[r+8>>2]|0;if(tl>>>0<ol>>>0){Nt(tl,Ze);k[sl>>2]=(k[sl>>2]|0)+24}else{cl=k[r>>2]|0;bl=tl-cl|0;kl=(bl|0)/24|0;hl=kl+1|0;if((bl|0)<-24)gc(r);wl=(ol-cl|0)/24|0;if(wl>>>0<1073741823){_l=wl<<1;j=_l>>>0<hl>>>0?hl:_l}else j=2147483647;pt(Wu,j,kl,r+12|0);vl=Wu+8|0;El=k[vl>>2]|0;Nt(El,Ze);k[vl>>2]=El+24;Bn(r,Wu);lt(Wu)}Wo(Ze);f=e+2|0;break e;break}default:{f=e;break e}}break}case 101:{switch(c[e+1>>0]|0){case 111:{qt(Vi,13071);pl=r+4|0;Sl=k[pl>>2]|0;gl=k[r+8>>2]|0;if(Sl>>>0<gl>>>0){Nt(Sl,Vi);k[pl>>2]=(k[pl>>2]|0)+24}else{Al=k[r>>2]|0;Tl=Sl-Al|0;Ol=(Tl|0)/24|0;Ml=Ol+1|0;if((Tl|0)<-24)gc(r);Nl=(gl-Al|0)/24|0;if(Nl>>>0<1073741823){Pl=Nl<<1;K=Pl>>>0<Ml>>>0?Ml:Pl}else K=2147483647;pt(Wu,K,Ol,r+12|0);Dl=Wu+8|0;Cl=k[Dl>>2]|0;Nt(Cl,Vi);k[Dl>>2]=Cl+24;Bn(r,Wu);lt(Wu)}Wo(Vi);f=e+2|0;break e;break}case 79:{Gt(xr,13081);Ll=r+4|0;xl=k[Ll>>2]|0;Bl=k[r+8>>2]|0;if(xl>>>0<Bl>>>0){Nt(xl,xr);k[Ll>>2]=(k[Ll>>2]|0)+24}else{Ul=k[r>>2]|0;Yl=xl-Ul|0;zl=(Yl|0)/24|0;Vl=zl+1|0;if((Yl|0)<-24)gc(r);Wl=(Bl-Ul|0)/24|0;if(Wl>>>0<1073741823){jl=Wl<<1;X=jl>>>0<Vl>>>0?Vl:jl}else X=2147483647;pt(Wu,X,zl,r+12|0);Xl=Wu+8|0;Gl=k[Xl>>2]|0;Nt(Gl,xr);k[Xl>>2]=Gl+24;Bn(r,Wu);lt(Wu)}Wo(xr);f=e+2|0;break e;break}case 113:{Gt(Jr,13092);ql=r+4|0;Jl=k[ql>>2]|0;Zl=k[r+8>>2]|0;if(Jl>>>0<Zl>>>0){Nt(Jl,Jr);k[ql>>2]=(k[ql>>2]|0)+24}else{$l=k[r>>2]|0;en=Jl-$l|0;rn=(en|0)/24|0;fn=rn+1|0;if((en|0)<-24)gc(r);an=(Zl-$l|0)/24|0;if(an>>>0<1073741823){ln=an<<1;G=ln>>>0<fn>>>0?fn:ln}else G=2147483647;pt(Wu,G,rn,r+12|0);nn=Wu+8|0;sn=k[nn>>2]|0;Nt(sn,Jr);k[nn>>2]=sn+24;Bn(r,Wu);lt(Wu)}Wo(Jr);f=e+2|0;break e;break}default:{f=e;break e}}break}case 103:{switch(c[e+1>>0]|0){case 101:{Gt(rf,13103);tn=r+4|0;on=k[tn>>2]|0;un=k[r+8>>2]|0;if(on>>>0<un>>>0){Nt(on,rf);k[tn>>2]=(k[tn>>2]|0)+24}else{cn=k[r>>2]|0;bn=on-cn|0;kn=(bn|0)/24|0;hn=kn+1|0;if((bn|0)<-24)gc(r);dn=(un-cn|0)/24|0;if(dn>>>0<1073741823){wn=dn<<1;q=wn>>>0<hn>>>0?hn:wn}else q=2147483647;pt(Wu,q,kn,r+12|0);_n=Wu+8|0;vn=k[_n>>2]|0;Nt(vn,rf);k[_n>>2]=vn+24;Bn(r,Wu);lt(Wu)}Wo(rf);f=e+2|0;break e;break}case 116:{qt(sf,13114);mn=r+4|0;pn=k[mn>>2]|0;Sn=k[r+8>>2]|0;if(pn>>>0<Sn>>>0){Nt(pn,sf);k[mn>>2]=(k[mn>>2]|0)+24}else{gn=k[r>>2]|0;yn=pn-gn|0;Fn=(yn|0)/24|0;An=Fn+1|0;if((yn|0)<-24)gc(r);Tn=(Sn-gn|0)/24|0;if(Tn>>>0<1073741823){On=Tn<<1;J=On>>>0<An>>>0?An:On}else J=2147483647;pt(Wu,J,Fn,r+12|0);Mn=Wu+8|0;Rn=k[Mn>>2]|0;Nt(Rn,sf);k[Mn>>2]=Rn+24;Bn(r,Wu);lt(Wu)}Wo(sf);f=e+2|0;break e;break}default:{f=e;break e}}break}case 105:{if((c[e+1>>0]|0)!=120){f=e;break e}Gt(cf,13124);Nn=r+4|0;Pn=k[Nn>>2]|0;Dn=k[r+8>>2]|0;if(Pn>>>0<Dn>>>0){Nt(Pn,cf);k[Nn>>2]=(k[Nn>>2]|0)+24}else{Cn=k[r>>2]|0;In=Pn-Cn|0;Ln=(In|0)/24|0;xn=Ln+1|0;if((In|0)<-24)gc(r);Hn=(Dn-Cn|0)/24|0;if(Hn>>>0<1073741823){Un=Hn<<1;Z=Un>>>0<xn>>>0?xn:Un}else Z=2147483647;pt(Wu,Z,Ln,r+12|0);zn=Wu+8|0;Vn=k[zn>>2]|0;Nt(Vn,cf);k[zn>>2]=Vn+24;Bn(r,Wu);lt(Wu)}Wo(cf);f=e+2|0;break e;break}case 108:{switch(c[e+1>>0]|0){case 101:{Gt(_f,13135);Wn=r+4|0;Kn=k[Wn>>2]|0;Xn=k[r+8>>2]|0;if(Kn>>>0<Xn>>>0){Nt(Kn,_f);k[Wn>>2]=(k[Wn>>2]|0)+24}else{Gn=k[r>>2]|0;qn=Kn-Gn|0;Jn=(qn|0)/24|0;Zn=Jn+1|0;if((qn|0)<-24)gc(r);Qn=(Xn-Gn|0)/24|0;if(Qn>>>0<1073741823){$n=Qn<<1;Q=$n>>>0<Zn>>>0?Zn:$n}else Q=2147483647;pt(Wu,Q,Jn,r+12|0);is=Wu+8|0;rs=k[is>>2]|0;Nt(rs,_f);k[is>>2]=rs+24;Bn(r,Wu);lt(Wu)}Wo(_f);f=e+2|0;break e;break}case 105:{fs=e+2|0;as=ya(fs,i,r)|0;if((as|0)==(fs|0)){f=e;break e}ls=k[r+4>>2]|0;if((k[r>>2]|0)==(ls|0)){f=e;break e}Mo(ls+-24|0,0,13146)|0;f=as;break e;break}case 115:{Gt(gf,13158);ns=r+4|0;ss=k[ns>>2]|0;ts=k[r+8>>2]|0;if(ss>>>0<ts>>>0){Nt(ss,gf);k[ns>>2]=(k[ns>>2]|0)+24}else{us=k[r>>2]|0;cs=ss-us|0;bs=(cs|0)/24|0;ks=bs+1|0;if((cs|0)<-24)gc(r);hs=(ts-us|0)/24|0;if(hs>>>0<1073741823){ds=hs<<1;$=ds>>>0<ks>>>0?ks:ds}else $=2147483647;pt(Wu,$,bs,r+12|0);ws=Wu+8|0;_s=k[ws>>2]|0;Nt(_s,gf);k[ws>>2]=_s+24;Bn(r,Wu);lt(Wu)}Wo(gf);f=e+2|0;break e;break}case 83:{To(Of,13169);vs=r+4|0;Es=k[vs>>2]|0;ms=k[r+8>>2]|0;if(Es>>>0<ms>>>0){Nt(Es,Of);k[vs>>2]=(k[vs>>2]|0)+24}else{ps=k[r>>2]|0;Ss=Es-ps|0;gs=(Ss|0)/24|0;ys=gs+1|0;if((Ss|0)<-24)gc(r);Fs=(ms-ps|0)/24|0;if(Fs>>>0<1073741823){As=Fs<<1;n=As>>>0<ys>>>0?ys:As}else n=2147483647;pt(Wu,n,gs,r+12|0);Ts=Wu+8|0;Os=k[Ts>>2]|0;Nt(Os,Of);k[Ts>>2]=Os+24;Bn(r,Wu);lt(Wu)}Wo(Of);f=e+2|0;break e;break}case 116:{qt(Df,13181);Ms=r+4|0;Rs=k[Ms>>2]|0;Ns=k[r+8>>2]|0;if(Rs>>>0<Ns>>>0){Nt(Rs,Df);k[Ms>>2]=(k[Ms>>2]|0)+24}else{Ds=k[r>>2]|0;Cs=Rs-Ds|0;Is=(Cs|0)/24|0;Ls=Is+1|0;if((Cs|0)<-24)gc(r);Bs=(Ns-Ds|0)/24|0;if(Bs>>>0<1073741823){Hs=Bs<<1;s=Hs>>>0<Ls>>>0?Ls:Hs}else s=2147483647;pt(Wu,s,Is,r+12|0);Us=Wu+8|0;Ys=k[Us>>2]|0;Nt(Ys,Df);k[Us>>2]=Ys+24;Bn(r,Wu);lt(Wu)}Wo(Df);f=e+2|0;break e;break}default:{f=e;break e}}break}case 109:{switch(c[e+1>>0]|0){case 105:{qt(Hf,13191);Vs=r+4|0;Ws=k[Vs>>2]|0;js=k[r+8>>2]|0;if(Ws>>>0<js>>>0){Nt(Ws,Hf);k[Vs>>2]=(k[Vs>>2]|0)+24}else{Xs=k[r>>2]|0;Gs=Ws-Xs|0;qs=(Gs|0)/24|0;Js=qs+1|0;if((Gs|0)<-24)gc(r);Zs=(js-Xs|0)/24|0;if(Zs>>>0<1073741823){Qs=Zs<<1;t=Qs>>>0<Js>>>0?Js:Qs}else t=2147483647;pt(Wu,t,qs,r+12|0);$s=Wu+8|0;et=k[$s>>2]|0;Nt(et,Hf);k[$s>>2]=et+24;Bn(r,Wu);lt(Wu)}Wo(Hf);f=e+2|0;break e;break}case 73:{Gt(Wf,13201);rt=r+4|0;ft=k[rt>>2]|0;at=k[r+8>>2]|0;if(ft>>>0<at>>>0){Nt(ft,Wf);k[rt>>2]=(k[rt>>2]|0)+24}else{nt=k[r>>2]|0;st=ft-nt|0;tt=(st|0)/24|0;ot=tt+1|0;if((st|0)<-24)gc(r);ut=(at-nt|0)/24|0;if(ut>>>0<1073741823){ct=ut<<1;o=ct>>>0<ot>>>0?ot:ct}else o=2147483647;pt(Wu,o,tt,r+12|0);kt=Wu+8|0;ht=k[kt>>2]|0;Nt(ht,Wf);k[kt>>2]=ht+24;Bn(r,Wu);lt(Wu)}Wo(Wf);f=e+2|0;break e;break}case 108:{qt(qf,13024);dt=r+4|0;wt=k[dt>>2]|0;_t=k[r+8>>2]|0;if(wt>>>0<_t>>>0){Nt(wt,qf);k[dt>>2]=(k[dt>>2]|0)+24}else{vt=k[r>>2]|0;Et=wt-vt|0;mt=(Et|0)/24|0;St=mt+1|0;if((Et|0)<-24)gc(r);yt=(_t-vt|0)/24|0;if(yt>>>0<1073741823){Ft=yt<<1;u=Ft>>>0<St>>>0?St:Ft}else u=2147483647;pt(Wu,u,mt,r+12|0);At=Wu+8|0;Tt=k[At>>2]|0;Nt(Tt,qf);k[At>>2]=Tt+24;Bn(r,Wu);lt(Wu)}Wo(qf);f=e+2|0;break e;break}case 76:{Gt(ia,13212);Ot=r+4|0;Mt=k[Ot>>2]|0;Rt=k[r+8>>2]|0;if(Mt>>>0<Rt>>>0){Nt(Mt,ia);k[Ot>>2]=(k[Ot>>2]|0)+24}else{Pt=k[r>>2]|0;Dt=Mt-Pt|0;Ct=(Dt|0)/24|0;It=Ct+1|0;if((Dt|0)<-24)gc(r);Lt=(Rt-Pt|0)/24|0;if(Lt>>>0<1073741823){Bt=Lt<<1;b=Bt>>>0<It>>>0?It:Bt}else b=2147483647;pt(Wu,b,Ct,r+12|0);Ht=Wu+8|0;Ut=k[Ht>>2]|0;Nt(Ut,ia);k[Ht>>2]=Ut+24;Bn(r,Wu);lt(Wu)}Wo(ia);f=e+2|0;break e;break}case 109:{Gt(la,13223);Yt=r+4|0;zt=k[Yt>>2]|0;Wt=k[r+8>>2]|0;if(zt>>>0<Wt>>>0){Nt(zt,la);k[Yt>>2]=(k[Yt>>2]|0)+24}else{jt=k[r>>2]|0;Kt=zt-jt|0;Xt=(Kt|0)/24|0;Jt=Xt+1|0;if((Kt|0)<-24)gc(r);Zt=(Wt-jt|0)/24|0;if(Zt>>>0<1073741823){Qt=Zt<<1;h=Qt>>>0<Jt>>>0?Jt:Qt}else h=2147483647;pt(Wu,h,Xt,r+12|0);eo=Wu+8|0;io=k[eo>>2]|0;Nt(io,la);k[eo>>2]=io+24;Bn(r,Wu);lt(Wu)}Wo(la);f=e+2|0;break e;break}default:{f=e;break e}}break}case 110:{switch(c[e+1>>0]|0){case 97:{yo(ua,13234);ro=r+4|0;fo=k[ro>>2]|0;lo=k[r+8>>2]|0;if(fo>>>0<lo>>>0){Nt(fo,ua);k[ro>>2]=(k[ro>>2]|0)+24}else{no=k[r>>2]|0;so=fo-no|0;to=(so|0)/24|0;uo=to+1|0;if((so|0)<-24)gc(r);co=(lo-no|0)/24|0;if(co>>>0<1073741823){bo=co<<1;d=bo>>>0<uo>>>0?uo:bo}else d=2147483647;pt(Wu,d,to,r+12|0);ko=Wu+8|0;ho=k[ko>>2]|0;Nt(ho,ua);k[ko>>2]=ho+24;Bn(r,Wu);lt(Wu)}Wo(ua);f=e+2|0;break e;break}case 101:{Gt(da,13249);wo=r+4|0;_o=k[wo>>2]|0;vo=k[r+8>>2]|0;if(_o>>>0<vo>>>0){Nt(_o,da);k[wo>>2]=(k[wo>>2]|0)+24}else{mo=k[r>>2]|0;po=_o-mo|0;So=(po|0)/24|0;Fo=So+1|0;if((po|0)<-24)gc(r);Oo=(vo-mo|0)/24|0;if(Oo>>>0<1073741823){Ro=Oo<<1;w=Ro>>>0<Fo>>>0?Fo:Ro}else w=2147483647;pt(Wu,w,So,r+12|0);No=Wu+8|0;Po=k[No>>2]|0;Nt(Po,da);k[No>>2]=Po+24;Bn(r,Wu);lt(Wu)}Wo(da);f=e+2|0;break e;break}case 103:{qt(Ea,13191);Do=r+4|0;Co=k[Do>>2]|0;Io=k[r+8>>2]|0;if(Co>>>0<Io>>>0){Nt(Co,Ea);k[Do>>2]=(k[Do>>2]|0)+24}else{Lo=k[r>>2]|0;xo=Co-Lo|0;Bo=(xo|0)/24|0;Ho=Bo+1|0;if((xo|0)<-24)gc(r);Uo=(Io-Lo|0)/24|0;if(Uo>>>0<1073741823){Yo=Uo<<1;_=Yo>>>0<Ho>>>0?Ho:Yo}else _=2147483647;pt(Wu,_,Bo,r+12|0);zo=Wu+8|0;Vo=k[zo>>2]|0;Nt(Vo,Ea);k[zo>>2]=Vo+24;Bn(r,Wu);lt(Wu)}Wo(Ea);f=e+2|0;break e;break}case 116:{qt(Oa,13260);jo=r+4|0;Ko=k[jo>>2]|0;Xo=k[r+8>>2]|0;if(Ko>>>0<Xo>>>0){Nt(Ko,Oa);k[jo>>2]=(k[jo>>2]|0)+24}else{Go=k[r>>2]|0;qo=Ko-Go|0;Jo=(qo|0)/24|0;Zo=Jo+1|0;if((qo|0)<-24)gc(r);$o=(Xo-Go|0)/24|0;if($o>>>0<1073741823){eu=$o<<1;E=eu>>>0<Zo>>>0?Zo:eu}else E=2147483647;pt(Wu,E,Jo,r+12|0);iu=Wu+8|0;ru=k[iu>>2]|0;Nt(ru,Oa);k[iu>>2]=ru+24;Bn(r,Wu);lt(Wu)}Wo(Oa);f=e+2|0;break e;break}case 119:{Ao(Pa,13270);au=r+4|0;lu=k[au>>2]|0;nu=k[r+8>>2]|0;if(lu>>>0<nu>>>0){Nt(lu,Pa);k[au>>2]=(k[au>>2]|0)+24}else{tu=k[r>>2]|0;ou=lu-tu|0;uu=(ou|0)/24|0;cu=uu+1|0;if((ou|0)<-24)gc(r);bu=(nu-tu|0)/24|0;if(bu>>>0<1073741823){hu=bu<<1;S=hu>>>0<cu>>>0?cu:hu}else S=2147483647;pt(Wu,S,uu,r+12|0);du=Wu+8|0;wu=k[du>>2]|0;Nt(wu,Pa);k[du>>2]=wu+24;Bn(r,Wu);lt(Wu)}Wo(Pa);f=e+2|0;break e;break}default:{f=e;break e}}break}case 111:{switch(c[e+1>>0]|0){case 111:{Gt(xa,13283);vu=r+4|0;Eu=k[vu>>2]|0;mu=k[r+8>>2]|0;if(Eu>>>0<mu>>>0){Nt(Eu,xa);k[vu>>2]=(k[vu>>2]|0)+24}else{pu=k[r>>2]|0;Su=Eu-pu|0;gu=(Su|0)/24|0;yu=gu+1|0;if((Su|0)<-24)gc(r);Fu=(mu-pu|0)/24|0;if(Fu>>>0<1073741823){Au=Fu<<1;g=Au>>>0<yu>>>0?yu:Au}else g=2147483647;pt(Wu,g,gu,r+12|0);Tu=Wu+8|0;Ou=k[Tu>>2]|0;Nt(Ou,xa);k[Tu>>2]=Ou+24;Bn(r,Wu);lt(Wu)}Wo(xa);f=e+2|0;break e;break}case 114:{qt(za,13294);Mu=r+4|0;Ru=k[Mu>>2]|0;Nu=k[r+8>>2]|0;if(Ru>>>0<Nu>>>0){Nt(Ru,za);k[Mu>>2]=(k[Mu>>2]|0)+24}else{Pu=k[r>>2]|0;Du=Ru-Pu|0;Cu=(Du|0)/24|0;Iu=Cu+1|0;if((Du|0)<-24)gc(r);xu=(Nu-Pu|0)/24|0;if(xu>>>0<1073741823){Bu=xu<<1;y=Bu>>>0<Iu>>>0?Iu:Bu}else y=2147483647;pt(Wu,y,Cu,r+12|0);Hu=Wu+8|0;Uu=k[Hu>>2]|0;Nt(Uu,za);k[Hu>>2]=Uu+24;Bn(r,Wu);lt(Wu)}Wo(za);f=e+2|0;break e;break}case 82:{Gt(Ga,13304);Yu=r+4|0;zu=k[Yu>>2]|0;Vu=k[r+8>>2]|0;if(zu>>>0<Vu>>>0){Nt(zu,Ga);k[Yu>>2]=(k[Yu>>2]|0)+24}else{ae=k[r>>2]|0;le=zu-ae|0;ne=(le|0)/24|0;se=ne+1|0;if((le|0)<-24)gc(r);te=(Vu-ae|0)/24|0;if(te>>>0<1073741823){oe=te<<1;F=oe>>>0<se>>>0?se:oe}else F=2147483647;pt(Wu,F,ne,r+12|0);ue=Wu+8|0;ce=k[ue>>2]|0;Nt(ce,Ga);k[ue>>2]=ce+24;Bn(r,Wu);lt(Wu)}Wo(Ga);f=e+2|0;break e;break}default:{f=e;break e}}break}case 112:{switch(c[e+1>>0]|0){case 109:{To(Qa,13315);be=r+4|0;ke=k[be>>2]|0;de=k[r+8>>2]|0;if(ke>>>0<de>>>0){Nt(ke,Qa);k[be>>2]=(k[be>>2]|0)+24}else{_e=k[r>>2]|0;ve=ke-_e|0;Ee=(ve|0)/24|0;me=Ee+1|0;if((ve|0)<-24)gc(r);pe=(de-_e|0)/24|0;if(pe>>>0<1073741823){ge=pe<<1;A=ge>>>0<me>>>0?me:ge}else A=2147483647;pt(Wu,A,Ee,r+12|0);ye=Wu+8|0;Fe=k[ye>>2]|0;Nt(Fe,Qa);k[ye>>2]=Fe+24;Bn(r,Wu);lt(Wu)}Wo(Qa);f=e+2|0;break e;break}case 108:{qt(al,13327);Ae=r+4|0;Te=k[Ae>>2]|0;Oe=k[r+8>>2]|0;if(Te>>>0<Oe>>>0){Nt(Te,al);k[Ae>>2]=(k[Ae>>2]|0)+24}else{Me=k[r>>2]|0;Re=Te-Me|0;Ne=(Re|0)/24|0;Pe=Ne+1|0;if((Re|0)<-24)gc(r);De=(Oe-Me|0)/24|0;if(De>>>0<1073741823){Ce=De<<1;T=Ce>>>0<Pe>>>0?Pe:Ce}else T=2147483647;pt(Wu,T,Ne,r+12|0);Ie=Wu+8|0;xe=k[Ie>>2]|0;Nt(xe,al);k[Ie>>2]=xe+24;Bn(r,Wu);lt(Wu)}Wo(al);f=e+2|0;break e;break}case 76:{Gt(ul,13337);Be=r+4|0;He=k[Be>>2]|0;Ue=k[r+8>>2]|0;if(He>>>0<Ue>>>0){Nt(He,ul);k[Be>>2]=(k[Be>>2]|0)+24}else{ze=k[r>>2]|0;Ve=He-ze|0;We=(Ve|0)/24|0;je=We+1|0;if((Ve|0)<-24)gc(r);Ke=(Ue-ze|0)/24|0;if(Ke>>>0<1073741823){Xe=Ke<<1;O=Xe>>>0<je>>>0?je:Xe}else O=2147483647;pt(Wu,O,We,r+12|0);Ge=Wu+8|0;qe=k[Ge>>2]|0;Nt(qe,ul);k[Ge>>2]=qe+24;Bn(r,Wu);lt(Wu)}Wo(ul);f=e+2|0;break e;break}case 112:{Gt(dl,13348);Je=r+4|0;$e=k[Je>>2]|0;ei=k[r+8>>2]|0;if($e>>>0<ei>>>0){Nt($e,dl);k[Je>>2]=(k[Je>>2]|0)+24}else{ii=k[r>>2]|0;ri=$e-ii|0;fi=(ri|0)/24|0;ai=fi+1|0;if((ri|0)<-24)gc(r);li=(ei-ii|0)/24|0;if(li>>>0<1073741823){ni=li<<1;M=ni>>>0<ai>>>0?ai:ni}else M=2147483647;pt(Wu,M,fi,r+12|0);si=Wu+8|0;ti=k[si>>2]|0;Nt(ti,dl);k[si>>2]=ti+24;Bn(r,Wu);lt(Wu)}Wo(dl);f=e+2|0;break e;break}case 115:{qt(ml,13327);oi=r+4|0;ui=k[oi>>2]|0;ci=k[r+8>>2]|0;if(ui>>>0<ci>>>0){Nt(ui,ml);k[oi>>2]=(k[oi>>2]|0)+24}else{bi=k[r>>2]|0;ki=ui-bi|0;hi=(ki|0)/24|0;di=hi+1|0;if((ki|0)<-24)gc(r);wi=(ci-bi|0)/24|0;if(wi>>>0<1073741823){_i=wi<<1;R=_i>>>0<di>>>0?di:_i}else R=2147483647;pt(Wu,R,hi,r+12|0);vi=Wu+8|0;Ei=k[vi>>2]|0;Nt(Ei,ml);k[vi>>2]=Ei+24;Bn(r,Wu);lt(Wu)}Wo(ml);f=e+2|0;break e;break}case 116:{Gt(Fl,13359);mi=r+4|0;pi=k[mi>>2]|0;Si=k[r+8>>2]|0;if(pi>>>0<Si>>>0){Nt(pi,Fl);k[mi>>2]=(k[mi>>2]|0)+24}else{gi=k[r>>2]|0;yi=pi-gi|0;Fi=(yi|0)/24|0;Ai=Fi+1|0;if((yi|0)<-24)gc(r);Ti=(Si-gi|0)/24|0;if(Ti>>>0<1073741823){Mi=Ti<<1;P=Mi>>>0<Ai>>>0?Ai:Mi}else P=2147483647;pt(Wu,P,Fi,r+12|0);Ri=Wu+8|0;Ni=k[Ri>>2]|0;Nt(Ni,Fl);k[Ri>>2]=Ni+24;Bn(r,Wu);lt(Wu)}Wo(Fl);f=e+2|0;break e;break}default:{f=e;break e}}break}case 113:{if((c[e+1>>0]|0)!=117){f=e;break e}qt(Rl,13370);Di=r+4|0;Ci=k[Di>>2]|0;Ii=k[r+8>>2]|0;if(Ci>>>0<Ii>>>0){Nt(Ci,Rl);k[Di>>2]=(k[Di>>2]|0)+24}else{xi=k[r>>2]|0;Bi=Ci-xi|0;Hi=(Bi|0)/24|0;Ui=Hi+1|0;if((Bi|0)<-24)gc(r);Yi=(Ii-xi|0)/24|0;if(Yi>>>0<1073741823){zi=Yi<<1;D=zi>>>0<Ui>>>0?Ui:zi}else D=2147483647;pt(Wu,D,Hi,r+12|0);ji=Wu+8|0;Ki=k[ji>>2]|0;Nt(Ki,Rl);k[ji>>2]=Ki+24;Bn(r,Wu);lt(Wu)}Wo(Rl);f=e+2|0;break e;break}case 114:{switch(c[e+1>>0]|0){case 109:{qt(Il,13380);Xi=r+4|0;Gi=k[Xi>>2]|0;qi=k[r+8>>2]|0;if(Gi>>>0<qi>>>0){Nt(Gi,Il);k[Xi>>2]=(k[Xi>>2]|0)+24}else{Ji=k[r>>2]|0;Zi=Gi-Ji|0;Qi=(Zi|0)/24|0;$i=Qi+1|0;if((Zi|0)<-24)gc(r);er=(qi-Ji|0)/24|0;if(er>>>0<1073741823){ir=er<<1;C=ir>>>0<$i>>>0?$i:ir}else C=2147483647;pt(Wu,C,Qi,r+12|0);rr=Wu+8|0;fr=k[rr>>2]|0;Nt(fr,Il);k[rr>>2]=fr+24;Bn(r,Wu);lt(Wu)}Wo(Il);f=e+2|0;break e;break}case 77:{Gt(Hl,13390);ar=r+4|0;lr=k[ar>>2]|0;nr=k[r+8>>2]|0;if(lr>>>0<nr>>>0){Nt(lr,Hl);k[ar>>2]=(k[ar>>2]|0)+24}else{tr=k[r>>2]|0;or=lr-tr|0;ur=(or|0)/24|0;cr=ur+1|0;if((or|0)<-24)gc(r);br=(nr-tr|0)/24|0;if(br>>>0<1073741823){kr=br<<1;I=kr>>>0<cr>>>0?cr:kr}else I=2147483647;pt(Wu,I,ur,r+12|0);hr=Wu+8|0;dr=k[hr>>2]|0;Nt(dr,Hl);k[hr>>2]=dr+24;Bn(r,Wu);lt(Wu)}Wo(Hl);f=e+2|0;break e;break}case 115:{Gt(Kl,13401);vr=r+4|0;Er=k[vr>>2]|0;mr=k[r+8>>2]|0;if(Er>>>0<mr>>>0){Nt(Er,Kl);k[vr>>2]=(k[vr>>2]|0)+24}else{pr=k[r>>2]|0;gr=Er-pr|0;yr=(gr|0)/24|0;Fr=yr+1|0;if((gr|0)<-24)gc(r);Ar=(mr-pr|0)/24|0;if(Ar>>>0<1073741823){Tr=Ar<<1;L=Tr>>>0<Fr>>>0?Fr:Tr}else L=2147483647;pt(Wu,L,yr,r+12|0);Or=Wu+8|0;Mr=k[Or>>2]|0;Nt(Mr,Kl);k[Or>>2]=Mr+24;Bn(r,Wu);lt(Wu)}Wo(Kl);f=e+2|0;break e;break}case 83:{To(Ql,13412);Rr=r+4|0;Nr=k[Rr>>2]|0;Dr=k[r+8>>2]|0;if(Nr>>>0<Dr>>>0){Nt(Nr,Ql);k[Rr>>2]=(k[Rr>>2]|0)+24}else{Cr=k[r>>2]|0;Ir=Nr-Cr|0;Lr=(Ir|0)/24|0;Hr=Lr+1|0;if((Ir|0)<-24)gc(r);Ur=(Dr-Cr|0)/24|0;if(Ur>>>0<1073741823){Yr=Ur<<1;x=Yr>>>0<Hr>>>0?Hr:Yr}else x=2147483647;pt(Wu,x,Lr,r+12|0);zr=Wu+8|0;Vr=k[zr>>2]|0;Nt(Vr,Ql);k[zr>>2]=Vr+24;Bn(r,Wu);lt(Wu)}Wo(Ql);f=e+2|0;break e;break}default:{f=e;break e}}break}case 118:{if(((c[e+1>>0]|0)+-48|0)>>>0>=10){f=e;break e}Wr=e+2|0;jr=ya(Wr,i,r)|0;if((jr|0)==(Wr|0)){f=e;break e}Kr=k[r+4>>2]|0;if((k[r>>2]|0)==(Kr|0)){f=e;break e}Mo(Kr+-24|0,0,12996)|0;f=jr;break e;break}default:{f=e;break e}}}while(0);else f=e}while(0);m=Ku;return f|0}function mr(e,i,r,f,a,l,n,s,t,o,u,b){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;s=s|0;t=t|0;o=o|0;u=+u;b=b|0;var d=0,w=0,E=0,S=0,g=0,y=0,F=0.0,A=0.0,T=0.0,O=0.0,M=0.0,R=0.0,N=0.0,P=0.0,D=0,C=0,I=0,L=0,x=0,B=0.0,H=0.0,U=0.0,Y=0.0,z=0,V=0,W=0.0,j=0,K=0,X=0,G=0.0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0.0,fe=0,ae=0.0,le=0.0,ne=0,se=0.0,te=0,oe=0.0,ue=0.0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0.0,Ae=0.0,Te=0.0,Oe=0.0,Me=0.0,Re=0.0,Ne=0.0,Pe=0,De=0.0,Ce=0.0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0.0,qe=0,Je=0.0,Ze=0,Qe=0.0,$e=0.0,ei=0.0,ii=0,ri=0.0,fi=0.0,ai=0.0,li=0,ni=0.0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0.0,_i=0.0,vi=0.0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0.0,Di=0,Ci=0.0,Ii=0.0,Li=0,xi=0.0,Bi=0,Hi=0.0,Ui=0.0,Yi=0,zi=0,Vi=0,Wi=0.0,Ki=0,Xi=0.0,Gi=0.0,qi=0.0,Ji=0.0,Zi=0.0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0.0,ur=0,cr=0.0,br=0.0,kr=0,hr=0.0,dr=0,wr=0.0,_r=0.0,vr=0,Er=0,mr=0,pr=0,Sr=0,gr=0,yr=0,Fr=0.0,Ar=0.0,Tr=0.0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0.0,Ur=0.0,Yr=0.0,zr=0.0,Vr=0.0,Wr=0.0,jr=0.0,Kr=0.0,Xr=0.0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0.0,ff=0.0,af=0.0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0.0,_f=0.0,vf=0,Ef=0.0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0.0,Pf=0.0,Df=0.0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0.0,Kf=0.0,Xf=0.0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0.0,na=0.0,sa=0.0,ta=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0.0,_a=0,va=0,Ea=0,ma=0.0,pa=0.0,Sa=0.0,ga=0,ya=0,Fa=0,Aa=0.0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0.0,Ia=0.0,La=0.0,xa=0,Ba=0.0,Ha=0,Ua=0.0,Ya=0,za=0.0,Va=0.0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0.0,Za=0.0,Qa=0,$a=0.0,el=0,il=0.0,rl=0.0,fl=0.0,al=0,ll=0.0,nl=0,sl=0.0,tl=0,ol=0.0,ul=0.0,cl=0,bl=0.0,kl=0.0,hl=0,dl=0.0,_l=0,vl=0.0,El=0.0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0.0,Tl=0,Ol=0.0,Ml=0,Rl=0.0,Nl=0.0,Pl=0.0,Dl=0,Cl=0.0,Il=0.0,Ll=0.0,xl=0,Bl=0,Hl=0.0,Ul=0,zl=0,Vl=0,Wl=0,jl=0.0,Kl=0,Xl=0.0,Gl=0,ql=0.0,Jl=0,Zl=0.0,Ql=0.0,$l=0,en=0.0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0.0,cn=0.0,bn=0.0,kn=0.0,hn=0.0,dn=0.0,wn=0.0,_n=0.0,vn=0,En=0.0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0.0,Dn=0.0,Cn=0.0,In=0,Ln=0,xn=0,Bn=0,Hn=0,Un=0,Yn=0,zn=0,Vn=0,Wn=0,jn=0.0,Kn=0.0,Xn=0.0,Gn=0,qn=0,Jn=0,Zn=0,Qn=0,$n=0,es=0,is=0,rs=0,fs=0,as=0.0,ls=0.0,ns=0.0,ss=0,ts=0,os=0,us=0,cs=0,bs=0,ks=0,hs=0,ds=0,ws=0,_s=0,vs=0.0,Es=0.0,ms=0.0,ps=0.0,Ss=0.0,gs=0.0,ys=0.0,Fs=0.0,As=0.0,Ts=0,Os=0,Ms=0,Rs=0.0,Ns=0,Ps=0,Ds=0.0,Cs=0.0,Is=0.0,Ls=0.0,xs=0.0,Bs=0.0,Hs=0.0,Ys=0.0,zs=0,Vs=0,Ws=0.0,js=0,Ks=0,Xs=0,Gs=0.0,qs=0,Js=0.0,Zs=0.0,Qs=0.0,$s=0.0,et=0.0,it=0.0,rt=0.0,ft=0.0,at=0.0,lt=0,nt=0.0,st=0,tt=0,ot=0,ut=0,ct=0,bt=0.0,kt=0.0,ht=0.0,dt=0.0,wt=0.0,_t=0.0,vt=0.0,Et=0.0,mt=0,pt=0,St=0,gt=0,yt=0.0,Ft=0,At=0,Tt=0.0,Ot=0.0,Mt=0.0,Rt=0.0,Nt=0.0,Pt=0,Dt=0.0,Ct=0.0,It=0,Lt=0,xt=0,Bt=0,Ht=0,Ut=0,Yt=0.0,Vt=0.0,Wt=0.0,jt=0.0,Kt=0.0,Xt=0.0,Gt=0,qt=0,Jt=0,Zt=0,Qt=0,$t=0,eo=0,io=0.0,ro=0.0,fo=0.0,ao=0.0,lo=0.0,no=0.0,so=0,to=0,oo=0,uo=0,co=0,bo=0.0,ko=0.0,ho=0.0,wo=0.0,_o=0.0,vo=0.0,Eo=0,mo=0,po=0.0,So=0.0,go=0.0,yo=0,Fo=0,Ao=0,To=0,Oo=0,Mo=0,Ro=0,No=0,Po=0,Do=0,Co=0,Io=0,Lo=0,xo=0,Bo=0,Ho=0,Uo=0,Yo=0,zo=0,Vo=0,Wo=0,jo=0,Ko=0,Xo=0,Go=0,qo=0,Jo=0,Zo=0,Qo=0,$o=0,eu=0,iu=0,ru=0,fu=0,au=0,lu=0,nu=0,su=0,tu=0,ou=0,uu=0,cu=0,bu=0,ku=0,hu=0,du=0,wu=0,_u=0,vu=0,Eu=0,mu=0,pu=0,Su=0,gu=0,yu=0,Fu=0,Au=0,Tu=0,Ou=0,Mu=0,Ru=0,Nu=0,Pu=0,Du=0,Cu=0,Iu=0,Lu=0,xu=0,Bu=0,Hu=0,Uu=0,Yu=0,zu=0,Vu=0,Wu=0,ju=0,Ku=0,Xu=0,Gu=0,qu=0,Ju=0,Zu=0,Qu=0,$u=0,ec=0,ic=0,rc=0,fc=0,ac=0,lc=0,nc=0,sc=0,tc=0,oc=0,uc=0,cc=0,bc=0,kc=0,hc=0,dc=0,wc=0,_c=0,vc=0,Ec=0,mc=0,pc=0,Sc=0,gc=0,yc=0,Fc=0,Ac=0,Tc=0,Oc=0,Mc=0,Rc=0;Rc=m;m=m+240|0;if((m|0)>=(p|0))he();Ou=Rc+224|0;Tu=Rc+216|0;Au=Rc+208|0;Fu=Rc+200|0;Mu=Rc+136|0;Su=Rc+72|0;gu=Rc;Zu=Rc+232|0;yc=Rc+228|0;v[Mu>>3]=100.0;v[Mu+8>>3]=100.0;v[Mu+16>>3]=110.0;v[Mu+24>>3]=100.0;v[Mu+32>>3]=110.0;v[Mu+40>>3]=110.0;v[Mu+48>>3]=100.0;v[Mu+56>>3]=110.0;v[Su>>3]=+v[o>>3];v[Su+8>>3]=+v[o+8>>3];v[Su+16>>3]=+v[o+16>>3];v[Su+24>>3]=+v[o+24>>3];v[Su+32>>3]=+v[o+32>>3];v[Su+40>>3]=+v[o+40>>3];v[Su+48>>3]=+v[o+48>>3];v[Su+56>>3]=+v[o+56>>3];wl(Mu,Su,gu);ms=+v[Su>>3];gs=+v[Su+16>>3];As=ms-gs;Rs=+v[Su+8>>3];Ds=+v[Su+24>>3];Ls=Rs-Ds;zs=~~(As*As+Ls*Ls);Ws=+v[Su+32>>3];Gs=+v[Su+48>>3];Js=Ws-Gs;it=+v[Su+40>>3];at=+v[Su+56>>3];nt=it-at;ct=~~(Js*Js+nt*nt);ht=gs-Ws;_t=Ds-it;pt=~~(ht*ht+_t*_t);yt=Gs-ms;Tt=at-Rs;Pt=~~(yt*yt+Tt*Tt);Ut=~~(+(((ct|0)>(zs|0)?ct:zs)|0)*u*u);Gt=~~(+(((Pt|0)>(pt|0)?Pt:pt)|0)*u*u);if(!e){Qu=r;while(1)if((Qu|0)<(f|0)&(ce(Qu,Qu)|0)<(Ut|0))Qu=Qu<<1;else{$u=Qu;break}Fc=r;while(1)if((Fc|0)<(f|0)&(ce(Fc,Fc)|0)<(Gt|0))Fc=Fc<<1;else{rc=$u;Tc=Fc;break}}else{ec=r;while(1)if((ec|0)<(f|0)&(ce(ec<<2,ec)|0)<(Ut|0))ec=ec<<1;else{ic=ec;break}Ac=r;while(1)if((Ac|0)<(f|0)&(ce(Ac<<2,Ac)|0)<(Gt|0))Ac=Ac<<1;else{rc=ic;Tc=Ac;break}}yu=(rc|0)>(f|0)?f:rc;Oc=(Tc|0)>(f|0)?f:Tc;To=(yu|0)/(r|0)|0;w=(Oc|0)/(r|0)|0;T=(1.0-u)*.5*10.0;M=u*10.0;D=ce(r,r)|0;e:do{if(!i){C=D*3|0;L=zt(C,4)|0;if(!L){Yl(3,5471,Fu);ji(1)}do{switch(s|0){case 0:{as=T+100.0;ls=+(Oc|0);ns=+(yu|0);ss=gu+48|0;ts=gu+56|0;os=gu+64|0;us=gu+8|0;cs=gu+16|0;bs=gu+24|0;ks=gu+32|0;hs=gu+40|0;ds=(e|0)==1;if((Oc|0)>0){ws=(yu|0)>0;iu=0;do{vs=as+M*(+(iu|0)+.5)/ls;if(ws){Io=0;do{Es=as+M*(+(Io|0)+.5)/ns;ps=+v[os>>3]+(+v[ss>>3]*Es+vs*+v[ts>>3]);if(ps==0.0){No=L;Mc=278;break e}Ss=(+v[cs>>3]+(Es*+v[gu>>3]+vs*+v[us>>3]))/ps;_[Zu>>2]=Ss;ys=(+v[hs>>3]+(Es*+v[bs>>3]+vs*+v[ks>>3]))/ps;_[yc>>2]=ys;Us(t,Ss,ys,Zu,yc)|0;Fs=+_[Zu>>2];if(ds){Ru=((~~(Fs+1.0)|0)/2|0)<<1;fc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Ru=~~(Fs+.5);fc=~~(+_[yc>>2]+.5)}if((Ru|0)>-1)if((fc|0)<(n|0)&((fc|0)>-1&(Ru|0)<(l|0))){Ts=((ce(fc,l)|0)+Ru|0)*3|0;Os=((ce((iu|0)/(w|0)|0,r)|0)+((Io|0)/(To|0)|0)|0)*3|0;Ms=L+(Os<<2)|0;k[Ms>>2]=(k[Ms>>2]|0)+(h[a+(Ts+2)>>0]|0);Ns=L+(Os+1<<2)|0;k[Ns>>2]=(k[Ns>>2]|0)+(h[a+(Ts+1)>>0]|0);Ps=L+(Os+2<<2)|0;k[Ps>>2]=(k[Ps>>2]|0)+(h[a+Ts>>0]|0)}Io=Io+1|0}while((Io|0)<(yu|0))}iu=iu+1|0}while((iu|0)<(Oc|0))}break}case 1:{jn=T+100.0;Kn=+(Oc|0);Xn=+(yu|0);Gn=gu+48|0;qn=gu+56|0;Jn=gu+64|0;Zn=gu+8|0;Qn=gu+16|0;$n=gu+24|0;es=gu+32|0;is=gu+40|0;rs=(e|0)==1;if((Oc|0)>0){fs=(yu|0)>0;lu=0;do{Cs=jn+M*(+(lu|0)+.5)/Kn;if(fs){Ko=0;do{Is=jn+M*(+(Ko|0)+.5)/Xn;xs=+v[Jn>>3]+(+v[Gn>>3]*Is+Cs*+v[qn>>3]);if(xs==0.0){No=L;Mc=278;break e}Bs=(+v[Qn>>3]+(Is*+v[gu>>3]+Cs*+v[Zn>>3]))/xs;_[Zu>>2]=Bs;Hs=(+v[is>>3]+(Is*+v[$n>>3]+Cs*+v[es>>3]))/xs;_[yc>>2]=Hs;Us(t,Bs,Hs,Zu,yc)|0;Ys=+_[Zu>>2];if(rs){Nu=((~~(Ys+1.0)|0)/2|0)<<1;ac=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Nu=~~(Ys+.5);ac=~~(+_[yc>>2]+.5)}if((Nu|0)>-1)if((ac|0)<(n|0)&((ac|0)>-1&(Nu|0)<(l|0))){Vs=((ce(ac,l)|0)+Nu|0)*3|0;js=((ce((lu|0)/(w|0)|0,r)|0)+((Ko|0)/(To|0)|0)|0)*3|0;Ks=L+(js<<2)|0;k[Ks>>2]=(k[Ks>>2]|0)+(h[a+Vs>>0]|0);Xs=L+(js+1<<2)|0;k[Xs>>2]=(k[Xs>>2]|0)+(h[a+(Vs+1)>>0]|0);qs=L+(js+2<<2)|0;k[qs>>2]=(k[qs>>2]|0)+(h[a+(Vs+2)>>0]|0)}Ko=Ko+1|0}while((Ko|0)<(yu|0))}lu=lu+1|0}while((lu|0)<(Oc|0))}break}case 2:{Pn=T+100.0;Dn=+(Oc|0);Cn=+(yu|0);In=gu+48|0;Ln=gu+56|0;xn=gu+64|0;Bn=gu+8|0;Hn=gu+16|0;Un=gu+24|0;Yn=gu+32|0;zn=gu+40|0;Vn=(e|0)==1;if((Oc|0)>0){Wn=(yu|0)>0;hu=0;do{Zs=Pn+M*(+(hu|0)+.5)/Dn;if(Wn){Go=0;do{Qs=Pn+M*(+(Go|0)+.5)/Cn;$s=+v[xn>>3]+(+v[In>>3]*Qs+Zs*+v[Ln>>3]);if($s==0.0){No=L;Mc=278;break e}et=(+v[Hn>>3]+(Qs*+v[gu>>3]+Zs*+v[Bn>>3]))/$s;_[Zu>>2]=et;rt=(+v[zn>>3]+(Qs*+v[Un>>3]+Zs*+v[Yn>>3]))/$s;_[yc>>2]=rt;Us(t,et,rt,Zu,yc)|0;ft=+_[Zu>>2];if(Vn){zu=((~~(ft+1.0)|0)/2|0)<<1;dc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{zu=~~(ft+.5);dc=~~(+_[yc>>2]+.5)}if((zu|0)>-1)if((dc|0)<(n|0)&((dc|0)>-1&(zu|0)<(l|0))){lt=(ce(dc,l)|0)+zu<<2;st=((ce((hu|0)/(w|0)|0,r)|0)+((Go|0)/(To|0)|0)|0)*3|0;tt=L+(st<<2)|0;k[tt>>2]=(k[tt>>2]|0)+(h[a+(lt|2)>>0]|0);ot=L+(st+1<<2)|0;k[ot>>2]=(k[ot>>2]|0)+(h[a+(lt|1)>>0]|0);ut=L+(st+2<<2)|0;k[ut>>2]=(k[ut>>2]|0)+(h[a+lt>>0]|0)}Go=Go+1|0}while((Go|0)<(yu|0))}hu=hu+1|0}while((hu|0)<(Oc|0))}break}case 3:{cn=T+100.0;kn=+(Oc|0);dn=+(yu|0);vn=gu+48|0;mn=gu+56|0;pn=gu+64|0;yn=gu+8|0;Fn=gu+16|0;Tn=gu+24|0;On=gu+32|0;Mn=gu+40|0;Rn=(e|0)==1;if((Oc|0)>0){Nn=(yu|0)>0;du=0;do{bt=cn+M*(+(du|0)+.5)/kn;if(Nn){qo=0;do{kt=cn+M*(+(qo|0)+.5)/dn;dt=+v[pn>>3]+(+v[vn>>3]*kt+bt*+v[mn>>3]);if(dt==0.0){No=L;Mc=278;break e}wt=(+v[Fn>>3]+(kt*+v[gu>>3]+bt*+v[yn>>3]))/dt;_[Zu>>2]=wt;vt=(+v[Mn>>3]+(kt*+v[Tn>>3]+bt*+v[On>>3]))/dt;_[yc>>2]=vt;Us(t,wt,vt,Zu,yc)|0;Et=+_[Zu>>2];if(Rn){Wu=((~~(Et+1.0)|0)/2|0)<<1;_c=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Wu=~~(Et+.5);_c=~~(+_[yc>>2]+.5)}if((Wu|0)>-1)if((_c|0)<(n|0)&((_c|0)>-1&(Wu|0)<(l|0))){mt=(ce(_c,l)|0)+Wu<<2;St=((ce((du|0)/(w|0)|0,r)|0)+((qo|0)/(To|0)|0)|0)*3|0;gt=L+(St<<2)|0;k[gt>>2]=(k[gt>>2]|0)+(h[a+mt>>0]|0);Ft=L+(St+1<<2)|0;k[Ft>>2]=(k[Ft>>2]|0)+(h[a+(mt|1)>>0]|0);At=L+(St+2<<2)|0;k[At>>2]=(k[At>>2]|0)+(h[a+(mt|2)>>0]|0)}qo=qo+1|0}while((qo|0)<(yu|0))}du=du+1|0}while((du|0)<(Oc|0))}break}case 4:{Il=T+100.0;Ll=+(Oc|0);Hl=+(yu|0);zl=gu+48|0;Wl=gu+56|0;Kl=gu+64|0;Gl=gu+8|0;Jl=gu+16|0;$l=gu+24|0;rn=gu+32|0;fn=gu+40|0;nn=(e|0)==1;if((Oc|0)>0){on=(yu|0)>0;wu=0;do{Ot=Il+M*(+(wu|0)+.5)/Ll;if(on){Jo=0;do{Mt=Il+M*(+(Jo|0)+.5)/Hl;Rt=+v[Kl>>3]+(+v[zl>>3]*Mt+Ot*+v[Wl>>3]);if(Rt==0.0){No=L;Mc=278;break e}Nt=(+v[Jl>>3]+(Mt*+v[gu>>3]+Ot*+v[Gl>>3]))/Rt;_[Zu>>2]=Nt;Dt=(+v[fn>>3]+(Mt*+v[$l>>3]+Ot*+v[rn>>3]))/Rt;_[yc>>2]=Dt;Us(t,Nt,Dt,Zu,yc)|0;Ct=+_[Zu>>2];if(nn){ju=((~~(Ct+1.0)|0)/2|0)<<1;vc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{ju=~~(Ct+.5);vc=~~(+_[yc>>2]+.5)}if((ju|0)>-1)if((vc|0)<(n|0)&((vc|0)>-1&(ju|0)<(l|0))){It=(ce(vc,l)|0)+ju<<2;Lt=((ce((wu|0)/(w|0)|0,r)|0)+((Jo|0)/(To|0)|0)|0)*3|0;xt=L+(Lt<<2)|0;k[xt>>2]=(k[xt>>2]|0)+(h[a+(It|1)>>0]|0);Bt=L+(Lt+1<<2)|0;k[Bt>>2]=(k[Bt>>2]|0)+(h[a+(It|2)>>0]|0);Ht=L+(Lt+2<<2)|0;k[Ht>>2]=(k[Ht>>2]|0)+(h[a+(It|3)>>0]|0)}Jo=Jo+1|0}while((Jo|0)<(yu|0))}wu=wu+1|0}while((wu|0)<(Oc|0))}break}case 5:case 12:case 13:case 14:{ll=T+100.0;sl=+(Oc|0);ol=+(yu|0);cl=gu+48|0;hl=gu+56|0;_l=gu+64|0;ml=gu+8|0;pl=gu+16|0;Sl=gu+24|0;Fl=gu+32|0;Tl=gu+40|0;Ml=(e|0)==1;if((Oc|0)>0){Dl=(yu|0)>0;_u=0;do{Yt=ll+M*(+(_u|0)+.5)/sl;if(Dl){Zo=0;do{Vt=ll+M*(+(Zo|0)+.5)/ol;Wt=+v[_l>>3]+(+v[cl>>3]*Vt+Yt*+v[hl>>3]);if(Wt==0.0){No=L;Mc=278;break e}jt=(+v[pl>>3]+(Vt*+v[gu>>3]+Yt*+v[ml>>3]))/Wt;_[Zu>>2]=jt;Kt=(+v[Tl>>3]+(Vt*+v[Sl>>3]+Yt*+v[Fl>>3]))/Wt;_[yc>>2]=Kt;Us(t,jt,Kt,Zu,yc)|0;Xt=+_[Zu>>2];if(Ml){Ku=((~~(Xt+1.0)|0)/2|0)<<1;Ec=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Ku=~~(Xt+.5);Ec=~~(+_[yc>>2]+.5)}if((Ku|0)>-1)if((Ec|0)<(n|0)&((Ec|0)>-1&(Ku|0)<(l|0))){qt=a+((ce(Ec,l)|0)+Ku)|0;Jt=h[qt>>0]|0;Zt=((ce((_u|0)/(w|0)|0,r)|0)+((Zo|0)/(To|0)|0)|0)*3|0;Qt=L+(Zt<<2)|0;k[Qt>>2]=(k[Qt>>2]|0)+Jt;$t=L+(Zt+1<<2)|0;k[$t>>2]=(k[$t>>2]|0)+Jt;eo=L+(Zt+2<<2)|0;k[eo>>2]=(k[eo>>2]|0)+Jt}Zo=Zo+1|0}while((Zo|0)<(yu|0))}_u=_u+1|0}while((_u|0)<(Oc|0))}break}case 6:{wa=T+100.0;Aa=+(Oc|0);Ca=+(yu|0);xa=gu+48|0;Ha=gu+56|0;Ya=gu+64|0;Wa=gu+8|0;ja=gu+16|0;Xa=gu+24|0;qa=gu+32|0;Qa=gu+40|0;el=(e|0)==1;if((Oc|0)>0){al=(yu|0)>0;vu=0;do{io=wa+M*(+(vu|0)+.5)/Aa;if(al){Qo=0;do{ro=wa+M*(+(Qo|0)+.5)/Ca;fo=+v[Ya>>3]+(+v[xa>>3]*ro+io*+v[Ha>>3]);if(fo==0.0){No=L;Mc=278;break e}ao=(+v[ja>>3]+(ro*+v[gu>>3]+io*+v[Wa>>3]))/fo;_[Zu>>2]=ao;lo=(+v[Qa>>3]+(ro*+v[Xa>>3]+io*+v[qa>>3]))/fo;_[yc>>2]=lo;Us(t,ao,lo,Zu,yc)|0;no=+_[Zu>>2];if(el){Xu=((~~(no+1.0)|0)/2|0)<<1;mc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Xu=~~(no+.5);mc=~~(+_[yc>>2]+.5)}if((Xu|0)>-1)if((mc|0)<(n|0)&((mc|0)>-1&(Xu|0)<(l|0))){so=(ce(mc,l)|0)+Xu<<2;to=((ce((vu|0)/(w|0)|0,r)|0)+((Qo|0)/(To|0)|0)|0)*3|0;oo=L+(to<<2)|0;k[oo>>2]=(k[oo>>2]|0)+(h[a+(so|3)>>0]|0);uo=L+(to+1<<2)|0;k[uo>>2]=(k[uo>>2]|0)+(h[a+(so|2)>>0]|0);co=L+(to+2<<2)|0;k[co>>2]=(k[co>>2]|0)+(h[a+(so|1)>>0]|0)}Qo=Qo+1|0}while((Qo|0)<(yu|0))}vu=vu+1|0}while((vu|0)<(Oc|0))}break}case 7:{Yr=T+100.0;Vr=+(Oc|0);jr=+(yu|0);Gr=gu+48|0;qr=gu+56|0;Zr=gu+64|0;Qr=gu+8|0;ef=gu+16|0;tf=gu+24|0;vf=gu+32|0;Mf=gu+40|0;Hf=(e|0)==1;if((Oc|0)>0){aa=(yu|0)>0;Eu=0;do{bo=Yr+M*(+(Eu|0)+.5)/Vr;if(aa){$o=0;do{ko=Yr+M*(+($o|0)+.5)/jr;ho=+v[Zr>>3]+(+v[Gr>>3]*ko+bo*+v[qr>>3]);if(ho==0.0){No=L;Mc=278;break e}wo=(+v[ef>>3]+(ko*+v[gu>>3]+bo*+v[Qr>>3]))/ho;_[Zu>>2]=wo;_o=(+v[Mf>>3]+(ko*+v[tf>>3]+bo*+v[vf>>3]))/ho;_[yc>>2]=_o;Us(t,wo,_o,Zu,yc)|0;vo=+_[Zu>>2];if(Hf){Gu=((~~(vo+1.0)|0)/2|0)<<1;pc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Gu=~~(vo+.5);pc=~~(+_[yc>>2]+.5)}if((Gu|0)>-1)if((pc|0)<(n|0)&((pc|0)>-1&(Gu|0)<(l|0))){Eo=ce(pc,l)|0;mo=(Gu&65534)+Eo<<1;po=+((h[a+mo>>0]|0)+-128|0);So=+((h[a+(mo+2)>>0]|0)+-128|0);go=+((h[a+(Eo+Gu<<1|1)>>0]|0)+-16|0)*298.0820007324219;yo=~~(po*516.4110107421875+go)>>8;Fo=~~(go-po*100.29100036621094-So*208.1199951171875)>>8;Ao=~~(go+So*408.5830078125)>>8;Oo=(yo|0)>0?yo:0;Mo=((ce((Eu|0)/(w|0)|0,r)|0)+(($o|0)/(To|0)|0)|0)*3|0;Ro=L+(Mo<<2)|0;k[Ro>>2]=((Oo|0)<255?Oo:255)+(k[Ro>>2]|0);E=(Fo|0)>0?Fo:0;S=L+(Mo+1<<2)|0;k[S>>2]=((E|0)<255?E:255)+(k[S>>2]|0);g=(Ao|0)>0?Ao:0;y=L+(Mo+2<<2)|0;k[y>>2]=((g|0)<255?g:255)+(k[y>>2]|0)}$o=$o+1|0}while(($o|0)<(yu|0))}Eu=Eu+1|0}while((Eu|0)<(Oc|0))}break}case 8:{Wi=T+100.0;Xi=+(Oc|0);Zi=+(yu|0);sr=gu+48|0;ur=gu+56|0;kr=gu+64|0;dr=gu+8|0;vr=gu+16|0;Er=gu+24|0;pr=gu+32|0;Sr=gu+40|0;yr=(e|0)==1;if((Oc|0)>0){Br=(yu|0)>0;mu=0;do{F=Wi+M*(+(mu|0)+.5)/Xi;if(Br){eu=0;do{A=Wi+M*(+(eu|0)+.5)/Zi;O=+v[kr>>3]+(+v[sr>>3]*A+F*+v[ur>>3]);if(O==0.0){No=L;Mc=278;break e}R=(+v[vr>>3]+(A*+v[gu>>3]+F*+v[dr>>3]))/O;_[Zu>>2]=R;N=(+v[Sr>>3]+(A*+v[Er>>3]+F*+v[pr>>3]))/O;_[yc>>2]=N;Us(t,R,N,Zu,yc)|0;P=+_[Zu>>2];if(yr){qu=((~~(P+1.0)|0)/2|0)<<1;Sc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{qu=~~(P+.5);Sc=~~(+_[yc>>2]+.5)}if((qu|0)>-1)if((Sc|0)<(n|0)&((Sc|0)>-1&(qu|0)<(l|0))){I=ce(Sc,l)|0;x=(qu&65534)+I<<1;B=+((h[a+(x|1)>>0]|0)+-128|0);H=+((h[a+(x+3)>>0]|0)+-128|0);U=+((h[a+(I+qu<<1)>>0]|0)+-16|0)*298.0820007324219;z=~~(U+B*516.4110107421875)>>8;V=~~(U-B*100.29100036621094-H*208.1199951171875)>>8;j=~~(U+H*408.5830078125)>>8;K=(z|0)>0?z:0;X=((ce((mu|0)/(w|0)|0,r)|0)+((eu|0)/(To|0)|0)|0)*3|0;q=L+(X<<2)|0;k[q>>2]=((K|0)<255?K:255)+(k[q>>2]|0);J=(V|0)>0?V:0;Z=L+(X+1<<2)|0;k[Z>>2]=((J|0)<255?J:255)+(k[Z>>2]|0);$=(j|0)>0?j:0;ee=L+(X+2<<2)|0;k[ee>>2]=(($|0)<255?$:255)+(k[ee>>2]|0)}eu=eu+1|0}while((eu|0)<(yu|0))}mu=mu+1|0}while((mu|0)<(Oc|0))}break}case 9:{fi=T+100.0;ai=+(Oc|0);ni=+(yu|0);ui=gu+48|0;ki=gu+56|0;hi=gu+64|0;mi=gu+8|0;Ri=gu+16|0;Di=gu+24|0;Li=gu+32|0;Bi=gu+40|0;Yi=(e|0)==1;if((Oc|0)>0){Vi=(yu|0)>0;pu=0;do{re=fi+M*(+(pu|0)+.5)/ai;if(Vi){Po=0;do{ae=fi+M*(+(Po|0)+.5)/ni;le=+v[hi>>3]+(+v[ui>>3]*ae+re*+v[ki>>3]);if(le==0.0){No=L;Mc=278;break e}se=(+v[Ri>>3]+(ae*+v[gu>>3]+re*+v[mi>>3]))/le;_[Zu>>2]=se;oe=(+v[Bi>>3]+(ae*+v[Di>>3]+re*+v[Li>>3]))/le;_[yc>>2]=oe;Us(t,se,oe,Zu,yc)|0;ue=+_[Zu>>2];if(Yi){Ju=((~~(ue+1.0)|0)/2|0)<<1;gc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Ju=~~(ue+.5);gc=~~(+_[yc>>2]+.5)}if((Ju|0)>-1)if((gc|0)<(n|0)&((gc|0)>-1&(Ju|0)<(l|0))){de=(ce(gc,l)|0)+Ju<<1;_e=h[a+(de|1)>>0]|0;Ee=((ce((pu|0)/(w|0)|0,r)|0)+((Po|0)/(To|0)|0)|0)*3|0;me=L+(Ee<<2)|0;k[me>>2]=(_e<<3&248|4)+(k[me>>2]|0);pe=h[a+de>>0]|0;Se=L+(Ee+1<<2)|0;k[Se>>2]=(pe<<5&224|_e>>>3&28|2)+(k[Se>>2]|0);ye=L+(Ee+2<<2)|0;k[ye>>2]=(pe&248|4)+(k[ye>>2]|0)}Po=Po+1|0}while((Po|0)<(yu|0))}pu=pu+1|0}while((pu|0)<(Oc|0))}break}case 10:{Fe=T+100.0;Oe=+(Oc|0);Re=+(yu|0);Pe=gu+48|0;Ie=gu+56|0;Le=gu+64|0;He=gu+8|0;ze=gu+16|0;We=gu+24|0;Xe=gu+32|0;qe=gu+40|0;Ze=(e|0)==1;if((Oc|0)>0){ii=(yu|0)>0;ru=0;do{Ae=Fe+M*(+(ru|0)+.5)/Oe;if(ii){Do=0;do{Te=Fe+M*(+(Do|0)+.5)/Re;Me=+v[Le>>3]+(+v[Pe>>3]*Te+Ae*+v[Ie>>3]);if(Me==0.0){No=L;Mc=278;break e}Ne=(+v[ze>>3]+(Te*+v[gu>>3]+Ae*+v[He>>3]))/Me;_[Zu>>2]=Ne;De=(+v[qe>>3]+(Te*+v[We>>3]+Ae*+v[Xe>>3]))/Me;_[yc>>2]=De;Us(t,Ne,De,Zu,yc)|0;Ce=+_[Zu>>2];if(Ze){Pu=((~~(Ce+1.0)|0)/2|0)<<1;lc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Pu=~~(Ce+.5);lc=~~(+_[yc>>2]+.5)}if((Pu|0)>-1)if((lc|0)<(n|0)&((lc|0)>-1&(Pu|0)<(l|0))){xe=(ce(lc,l)|0)+Pu<<1;Be=h[a+(xe|1)>>0]|0;Ue=((ce((ru|0)/(w|0)|0,r)|0)+((Do|0)/(To|0)|0)|0)*3|0;Ye=L+(Ue<<2)|0;k[Ye>>2]=(Be<<2&248|4)+(k[Ye>>2]|0);Ve=h[a+xe>>0]|0;je=L+(Ue+1<<2)|0;k[je>>2]=(Ve<<5&224|Be>>>3&24|4)+(k[je>>2]|0);Ke=L+(Ue+2<<2)|0;k[Ke>>2]=(Ve&248|4)+(k[Ke>>2]|0)}Do=Do+1|0}while((Do|0)<(yu|0))}ru=ru+1|0}while((ru|0)<(Oc|0))}break}case 11:{Y=T+100.0;W=+(Oc|0);G=+(yu|0);Q=gu+48|0;ie=gu+56|0;fe=gu+64|0;ne=gu+8|0;te=gu+16|0;be=gu+24|0;ke=gu+32|0;we=gu+40|0;ve=(e|0)==1;if((Oc|0)>0){ge=(yu|0)>0;fu=0;do{Ge=Y+M*(+(fu|0)+.5)/W;if(ge){Co=0;do{Je=Y+M*(+(Co|0)+.5)/G;Qe=+v[fe>>3]+(+v[Q>>3]*Je+Ge*+v[ie>>3]);if(Qe==0.0){No=L;Mc=278;break e}$e=(+v[te>>3]+(Je*+v[gu>>3]+Ge*+v[ne>>3]))/Qe;_[Zu>>2]=$e;ei=(+v[we>>3]+(Je*+v[be>>3]+Ge*+v[ke>>3]))/Qe;_[yc>>2]=ei;Us(t,$e,ei,Zu,yc)|0;ri=+_[Zu>>2];if(ve){Du=((~~(ri+1.0)|0)/2|0)<<1;nc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Du=~~(ri+.5);nc=~~(+_[yc>>2]+.5)}if((Du|0)>-1)if((nc|0)<(n|0)&((nc|0)>-1&(Du|0)<(l|0))){li=(ce(nc,l)|0)+Du<<1;si=((ce((fu|0)/(w|0)|0,r)|0)+((Co|0)/(To|0)|0)|0)*3|0;ti=L+(si<<2)|0;k[ti>>2]=(k[ti>>2]|0)+((h[a+(li|1)>>0]|0)&240|8);oi=h[a+li>>0]|0;ci=L+(si+1<<2)|0;k[ci>>2]=(oi<<4&240|8)+(k[ci>>2]|0);bi=L+(si+2<<2)|0;k[bi>>2]=(oi&240|8)+(k[bi>>2]|0)}Co=Co+1|0}while((Co|0)<(yu|0))}fu=fu+1|0}while((fu|0)<(Oc|0))}break}default:{Yl(3,4615,Au);No=L;Mc=278;break e}}}while(0);_s=ce(w,To)|0;if(D){Lo=0;do{c[b+Lo>>0]=((k[L+(Lo<<2)>>2]|0)>>>0)/(_s>>>0)|0;Lo=Lo+1|0}while((Lo|0)<(C|0))}oa(L);d=0}else{di=zt(D,4)|0;if(!di){Yl(3,5471,Tu);ji(1)}i:do{if(s>>>0<2){wi=T+100.0;_i=+(Oc|0);vi=+(yu|0);Ei=gu+48|0;pi=gu+56|0;Si=gu+64|0;gi=gu+8|0;yi=gu+16|0;Fi=gu+24|0;Ai=gu+32|0;Ti=gu+40|0;Oi=(e|0)==1;if((Oc|0)>0){Mi=(yu|0)>0;au=0;do{Pi=wi+M*(+(au|0)+.5)/_i;if(Mi){xo=0;do{Ci=wi+M*(+(xo|0)+.5)/vi;Ii=+v[Si>>3]+(+v[Ei>>3]*Ci+Pi*+v[pi>>3]);if(Ii==0.0){No=di;Mc=278;break e}xi=(+v[yi>>3]+(Ci*+v[gu>>3]+Pi*+v[gi>>3]))/Ii;_[Zu>>2]=xi;Hi=(+v[Ti>>3]+(Ci*+v[Fi>>3]+Pi*+v[Ai>>3]))/Ii;_[yc>>2]=Hi;Us(t,xi,Hi,Zu,yc)|0;Ui=+_[Zu>>2];if(Oi){Cu=((~~(Ui+1.0)|0)/2|0)<<1;sc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Cu=~~(Ui+.5);sc=~~(+_[yc>>2]+.5)}if((Cu|0)>-1)if((sc|0)<(n|0)&((sc|0)>-1&(Cu|0)<(l|0))){zi=((ce(sc,l)|0)+Cu|0)*3|0;Ki=di+((ce((au|0)/(w|0)|0,r)|0)+((xo|0)/(To|0)|0)<<2)|0;k[Ki>>2]=(k[Ki>>2]|0)+((((h[a+(zi+1)>>0]|0)+(h[a+zi>>0]|0)+(h[a+(zi+2)>>0]|0)|0)>>>0)/3|0)}xo=xo+1|0}while((xo|0)<(yu|0))}au=au+1|0}while((au|0)<(Oc|0))}}else{if((s&-2|0)==2){Gi=T+100.0;qi=+(Oc|0);Ji=+(yu|0);Qi=gu+48|0;$i=gu+56|0;er=gu+64|0;ir=gu+8|0;rr=gu+16|0;fr=gu+24|0;ar=gu+32|0;lr=gu+40|0;nr=(e|0)==1;if((Oc|0)<=0)break;tr=(yu|0)>0;nu=0;while(1){or=Gi+M*(+(nu|0)+.5)/qi;if(tr){Bo=0;do{cr=Gi+M*(+(Bo|0)+.5)/Ji;br=+v[er>>3]+(+v[Qi>>3]*cr+or*+v[$i>>3]);if(br==0.0){No=di;Mc=278;break e}hr=(+v[rr>>3]+(cr*+v[gu>>3]+or*+v[ir>>3]))/br;_[Zu>>2]=hr;wr=(+v[lr>>3]+(cr*+v[fr>>3]+or*+v[ar>>3]))/br;_[yc>>2]=wr;Us(t,hr,wr,Zu,yc)|0;_r=+_[Zu>>2];if(nr){Iu=((~~(_r+1.0)|0)/2|0)<<1;tc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Iu=~~(_r+.5);tc=~~(+_[yc>>2]+.5)}if((Iu|0)>-1)if((tc|0)<(n|0)&((tc|0)>-1&(Iu|0)<(l|0))){mr=(ce(tc,l)|0)+Iu<<2;gr=di+((ce((nu|0)/(w|0)|0,r)|0)+((Bo|0)/(To|0)|0)<<2)|0;k[gr>>2]=(k[gr>>2]|0)+((((h[a+(mr|1)>>0]|0)+(h[a+mr>>0]|0)+(h[a+(mr|2)>>0]|0)|0)>>>0)/3|0)}Bo=Bo+1|0}while((Bo|0)<(yu|0))}nu=nu+1|0;if((nu|0)>=(Oc|0))break i}}if((s&-3|0)==4){Fr=T+100.0;Ar=+(Oc|0);Tr=+(yu|0);Or=gu+48|0;Mr=gu+56|0;Rr=gu+64|0;Nr=gu+8|0;Pr=gu+16|0;Dr=gu+24|0;Cr=gu+32|0;Ir=gu+40|0;Lr=(e|0)==1;if((Oc|0)<=0)break;xr=(yu|0)>0;su=0;while(1){Hr=Fr+M*(+(su|0)+.5)/Ar;if(xr){Ho=0;do{Ur=Fr+M*(+(Ho|0)+.5)/Tr;zr=+v[Rr>>3]+(+v[Or>>3]*Ur+Hr*+v[Mr>>3]);if(zr==0.0){No=di;Mc=278;break e}Wr=(+v[Pr>>3]+(Ur*+v[gu>>3]+Hr*+v[Nr>>3]))/zr;_[Zu>>2]=Wr;Kr=(+v[Ir>>3]+(Ur*+v[Dr>>3]+Hr*+v[Cr>>3]))/zr;_[yc>>2]=Kr;Us(t,Wr,Kr,Zu,yc)|0;Xr=+_[Zu>>2];if(Lr){Lu=((~~(Xr+1.0)|0)/2|0)<<1;oc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Lu=~~(Xr+.5);oc=~~(+_[yc>>2]+.5)}if((Lu|0)>-1)if((oc|0)<(n|0)&((oc|0)>-1&(Lu|0)<(l|0))){Jr=(ce(oc,l)|0)+Lu<<2;$r=di+((ce((su|0)/(w|0)|0,r)|0)+((Ho|0)/(To|0)|0)<<2)|0;k[$r>>2]=(k[$r>>2]|0)+((((h[a+(Jr|2)>>0]|0)+(h[a+(Jr|1)>>0]|0)+(h[a+(Jr|3)>>0]|0)|0)>>>0)/3|0)}Ho=Ho+1|0}while((Ho|0)<(yu|0))}su=su+1|0;if((su|0)>=(Oc|0))break i}}switch(s|0){case 5:case 12:case 13:case 14:{ma=T+100.0;pa=+(Oc|0);Sa=+(yu|0);ga=gu+48|0;ya=gu+56|0;Fa=gu+64|0;Ta=gu+8|0;Oa=gu+16|0;Ma=gu+24|0;Ra=gu+32|0;Na=gu+40|0;Pa=(e|0)==1;if((Oc|0)<=0)break i;Da=(yu|0)>0;tu=0;do{Ia=ma+M*(+(tu|0)+.5)/pa;if(Da){Uo=0;do{La=ma+M*(+(Uo|0)+.5)/Sa;Ba=+v[Fa>>3]+(+v[ga>>3]*La+Ia*+v[ya>>3]);if(Ba==0.0){No=di;Mc=278;break e}Ua=(+v[Oa>>3]+(La*+v[gu>>3]+Ia*+v[Ta>>3]))/Ba;_[Zu>>2]=Ua;za=(+v[Na>>3]+(La*+v[Ma>>3]+Ia*+v[Ra>>3]))/Ba;_[yc>>2]=za;Us(t,Ua,za,Zu,yc)|0;Va=+_[Zu>>2];if(Pa){xu=((~~(Va+1.0)|0)/2|0)<<1;uc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{xu=~~(Va+.5);uc=~~(+_[yc>>2]+.5)}if((xu|0)>-1)if((uc|0)<(n|0)&((uc|0)>-1&(xu|0)<(l|0))){Ka=a+((ce(uc,l)|0)+xu)|0;Ga=di+((ce((tu|0)/(w|0)|0,r)|0)+((Uo|0)/(To|0)|0)<<2)|0;k[Ga>>2]=(k[Ga>>2]|0)+(h[Ka>>0]|0)}Uo=Uo+1|0}while((Uo|0)<(yu|0))}tu=tu+1|0}while((tu|0)<(Oc|0));break}case 7:{la=T+100.0;na=+(Oc|0);sa=+(yu|0);ta=gu+48|0;ua=gu+56|0;ca=gu+64|0;ba=gu+8|0;ka=gu+16|0;ha=gu+24|0;da=gu+32|0;_a=gu+40|0;va=(e|0)==1;if((Oc|0)<=0)break i;Ea=(yu|0)>0;ou=0;do{Ja=la+M*(+(ou|0)+.5)/na;if(Ea){Yo=0;do{Za=la+M*(+(Yo|0)+.5)/sa;$a=+v[ca>>3]+(+v[ta>>3]*Za+Ja*+v[ua>>3]);if($a==0.0){No=di;Mc=278;break e}il=(+v[ka>>3]+(Za*+v[gu>>3]+Ja*+v[ba>>3]))/$a;_[Zu>>2]=il;rl=(+v[_a>>3]+(Za*+v[ha>>3]+Ja*+v[da>>3]))/$a;_[yc>>2]=rl;Us(t,il,rl,Zu,yc)|0;fl=+_[Zu>>2];if(va){Bu=((~~(fl+1.0)|0)/2|0)<<1;cc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Bu=~~(fl+.5);cc=~~(+_[yc>>2]+.5)}if((Bu|0)>-1)if((cc|0)<(n|0)&((cc|0)>-1&(Bu|0)<(l|0))){nl=a+((ce(cc,l)|0)+Bu<<1|1)|0;tl=di+((ce((ou|0)/(w|0)|0,r)|0)+((Yo|0)/(To|0)|0)<<2)|0;k[tl>>2]=(k[tl>>2]|0)+(h[nl>>0]|0)}Yo=Yo+1|0}while((Yo|0)<(yu|0))}ou=ou+1|0}while((ou|0)<(Oc|0));break}case 8:{jf=T+100.0;Kf=+(Oc|0);Xf=+(yu|0);Gf=gu+48|0;qf=gu+56|0;Jf=gu+64|0;Zf=gu+8|0;Qf=gu+16|0;$f=gu+24|0;ea=gu+32|0;ia=gu+40|0;ra=(e|0)==1;if((Oc|0)<=0)break i;fa=(yu|0)>0;uu=0;do{ul=jf+M*(+(uu|0)+.5)/Kf;if(fa){zo=0;do{bl=jf+M*(+(zo|0)+.5)/Xf;kl=+v[Jf>>3]+(+v[Gf>>3]*bl+ul*+v[qf>>3]);if(kl==0.0){No=di;Mc=278;break e}dl=(+v[Qf>>3]+(bl*+v[gu>>3]+ul*+v[Zf>>3]))/kl;_[Zu>>2]=dl;vl=(+v[ia>>3]+(bl*+v[$f>>3]+ul*+v[ea>>3]))/kl;_[yc>>2]=vl;Us(t,dl,vl,Zu,yc)|0;El=+_[Zu>>2];if(ra){Hu=((~~(El+1.0)|0)/2|0)<<1;bc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Hu=~~(El+.5);bc=~~(+_[yc>>2]+.5)}if((Hu|0)>-1)if((bc|0)<(n|0)&((bc|0)>-1&(Hu|0)<(l|0))){gl=a+((ce(bc,l)|0)+Hu<<1)|0;yl=di+((ce((uu|0)/(w|0)|0,r)|0)+((zo|0)/(To|0)|0)<<2)|0;k[yl>>2]=(k[yl>>2]|0)+(h[gl>>0]|0)}zo=zo+1|0}while((zo|0)<(yu|0))}uu=uu+1|0}while((uu|0)<(Oc|0));break}case 9:{Nf=T+100.0;Pf=+(Oc|0);Df=+(yu|0);Cf=gu+48|0;If=gu+56|0;Lf=gu+64|0;xf=gu+8|0;Bf=gu+16|0;Uf=gu+24|0;Yf=gu+32|0;zf=gu+40|0;Vf=(e|0)==1;if((Oc|0)<=0)break i;Wf=(yu|0)>0;cu=0;do{Al=Nf+M*(+(cu|0)+.5)/Pf;if(Wf){Vo=0;do{Ol=Nf+M*(+(Vo|0)+.5)/Df;Rl=+v[Lf>>3]+(+v[Cf>>3]*Ol+Al*+v[If>>3]);if(Rl==0.0){No=di;Mc=278;break e}Nl=(+v[Bf>>3]+(Ol*+v[gu>>3]+Al*+v[xf>>3]))/Rl;_[Zu>>2]=Nl;Pl=(+v[zf>>3]+(Ol*+v[Uf>>3]+Al*+v[Yf>>3]))/Rl;_[yc>>2]=Pl;Us(t,Nl,Pl,Zu,yc)|0;Cl=+_[Zu>>2];if(Vf){Uu=((~~(Cl+1.0)|0)/2|0)<<1;kc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Uu=~~(Cl+.5);kc=~~(+_[yc>>2]+.5)}if((Uu|0)>-1)if((kc|0)<(n|0)&((kc|0)>-1&(Uu|0)<(l|0))){xl=(ce(kc,l)|0)+Uu<<1;Bl=h[a+xl>>0]|0;Ul=h[a+(xl|1)>>0]|0;Vl=di+((ce((cu|0)/(w|0)|0,r)|0)+((Vo|0)/(To|0)|0)<<2)|0;k[Vl>>2]=(k[Vl>>2]|0)+((((Ul<<3&248|4)+(Bl&248|4)+(Bl<<5&224|Ul>>>3&28|2)|0)>>>0)/3|0)}Vo=Vo+1|0}while((Vo|0)<(yu|0))}cu=cu+1|0}while((cu|0)<(Oc|0));break}case 10:{wf=T+100.0;_f=+(Oc|0);Ef=+(yu|0);mf=gu+48|0;pf=gu+56|0;Sf=gu+64|0;gf=gu+8|0;yf=gu+16|0;Ff=gu+24|0;Af=gu+32|0;Tf=gu+40|0;Of=(e|0)==1;if((Oc|0)<=0)break i;Rf=(yu|0)>0;bu=0;do{jl=wf+M*(+(bu|0)+.5)/_f;if(Rf){Wo=0;do{Xl=wf+M*(+(Wo|0)+.5)/Ef;ql=+v[Sf>>3]+(+v[mf>>3]*Xl+jl*+v[pf>>3]);if(ql==0.0){No=di;Mc=278;break e}Zl=(+v[yf>>3]+(Xl*+v[gu>>3]+jl*+v[gf>>3]))/ql;_[Zu>>2]=Zl;Ql=(+v[Tf>>3]+(Xl*+v[Ff>>3]+jl*+v[Af>>3]))/ql;_[yc>>2]=Ql;Us(t,Zl,Ql,Zu,yc)|0;en=+_[Zu>>2];if(Of){Yu=((~~(en+1.0)|0)/2|0)<<1;hc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Yu=~~(en+.5);hc=~~(+_[yc>>2]+.5)}if((Yu|0)>-1)if((hc|0)<(n|0)&((hc|0)>-1&(Yu|0)<(l|0))){an=(ce(hc,l)|0)+Yu<<1;ln=h[a+an>>0]|0;sn=h[a+(an|1)>>0]|0;tn=di+((ce((bu|0)/(w|0)|0,r)|0)+((Wo|0)/(To|0)|0)<<2)|0;k[tn>>2]=(k[tn>>2]|0)+((((sn<<2&248|4)+(ln&248|4)+(ln<<5&224|sn>>>3&24|4)|0)>>>0)/3|0)}Wo=Wo+1|0}while((Wo|0)<(yu|0))}bu=bu+1|0}while((bu|0)<(Oc|0));break}case 11:{rf=T+100.0;ff=+(Oc|0);af=+(yu|0);lf=gu+48|0;nf=gu+56|0;sf=gu+64|0;of=gu+8|0;uf=gu+16|0;cf=gu+24|0;bf=gu+32|0;kf=gu+40|0;hf=(e|0)==1;if((Oc|0)<=0)break i;df=(yu|0)>0;ku=0;do{un=rf+M*(+(ku|0)+.5)/ff;if(df){jo=0;do{bn=rf+M*(+(jo|0)+.5)/af;hn=+v[sf>>3]+(+v[lf>>3]*bn+un*+v[nf>>3]);if(hn==0.0){No=di;Mc=278;break e}wn=(+v[uf>>3]+(bn*+v[gu>>3]+un*+v[of>>3]))/hn;_[Zu>>2]=wn;_n=(+v[kf>>3]+(bn*+v[cf>>3]+un*+v[bf>>3]))/hn;_[yc>>2]=_n;Us(t,wn,_n,Zu,yc)|0;En=+_[Zu>>2];if(hf){Vu=((~~(En+1.0)|0)/2|0)<<1;wc=((~~(+_[yc>>2]+1.0)|0)/2|0)<<1}else{Vu=~~(En+.5);wc=~~(+_[yc>>2]+.5)}if((Vu|0)>-1)if((wc|0)<(n|0)&((wc|0)>-1&(Vu|0)<(l|0))){Sn=(ce(wc,l)|0)+Vu<<1;gn=h[a+Sn>>0]|0;An=di+((ce((ku|0)/(w|0)|0,r)|0)+((jo|0)/(To|0)|0)<<2)|0;k[An>>2]=(k[An>>2]|0)+((((gn<<4&240|8)+(gn&240|8)+((h[a+(Sn|1)>>0]|0)&240|8)|0)>>>0)/3|0)}jo=jo+1|0}while((jo|0)<(yu|0))}ku=ku+1|0}while((ku|0)<(Oc|0));break}default:{Yl(3,4615,Ou);No=di;Mc=278;break e}}}}while(0);Ni=ce(w,To)|0;if(D){Xo=0;do{c[b+Xo>>0]=((k[di+(Xo<<2)>>2]|0)>>>0)/(Ni>>>0)|0;Xo=Xo+1|0}while((Xo|0)<(D|0))}oa(di);d=0}}while(0);if((Mc|0)==278){oa(No);d=-1}m=Rc;return d|0}function pr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,gr=0,yr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,oa=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0,Gl=0,ql=0,Jl=0,Zl=0,Ql=0,$l=0,en=0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0,hn=0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0;gn=m;m=m+720|0;if((m|0)>=(p|0))he();pn=gn+696|0;x=gn+672|0;B=gn+648|0;He=gn+624|0;Bi=gn+600|0;Rr=gn+576|0;yf=gn+552|0;Ea=gn+528|0;kl=gn+504|0;sn=gn+480|0;_n=gn+456|0;H=gn+432|0;j=gn+408|0;Z=gn+384|0;re=gn+360|0;se=gn+336|0;ce=gn+312|0;ve=gn+288|0;ye=gn+264|0;Me=gn+240|0;Ce=gn+216|0;Ue=gn+192|0;je=gn+168|0;Ze=gn+144|0;ii=gn+120|0;si=gn+96|0;ki=gn+72|0;vi=gn+48|0;gi=gn+24|0;Ti=gn;e:do{if((e|0)==(i|0))f=e;else do{switch(c[e>>0]|0){case 118:{Dt(x,14176);Xi=r+4|0;Qi=k[Xi>>2]|0;tr=k[r+8>>2]|0;if(Qi>>>0<tr>>>0){Nt(Qi,x);k[Xi>>2]=(k[Xi>>2]|0)+24}else{Hr=k[r>>2]|0;Wr=Qi-Hr|0;Jr=(Wr|0)/24|0;rf=Jr+1|0;if((Wr|0)<-24)gc(r);mf=(tr-Hr|0)/24|0;if(mf>>>0<1073741823){Rf=mf<<1;a=Rf>>>0<rf>>>0?rf:Rf}else a=2147483647;pt(pn,a,Jr,r+12|0);Wf=pn+8|0;qf=k[Wf>>2]|0;Nt(qf,x);k[Wf>>2]=qf+24;Bn(r,pn);lt(pn)}Wo(x);f=e+1|0;break e;break}case 119:{c[B>>0]=14;ta=B+1|0;c[ta>>0]=c[13738]|0;c[ta+1>>0]=c[13739]|0;c[ta+2>>0]=c[13740]|0;c[ta+3>>0]=c[13741]|0;c[ta+4>>0]=c[13742]|0;c[ta+5>>0]=c[13743]|0;c[ta+6>>0]=c[13744]|0;c[B+8>>0]=0;ma=B+12|0;k[ma>>2]=0;k[ma+4>>2]=0;k[ma+8>>2]=0;Ia=r+4|0;Ha=k[Ia>>2]|0;qa=k[r+8>>2]|0;if(Ha>>>0<qa>>>0){Nt(Ha,B);k[Ia>>2]=(k[Ia>>2]|0)+24}else{Tl=k[r>>2]|0;Nl=Ha-Tl|0;xl=(Nl|0)/24|0;Vl=xl+1|0;if((Nl|0)<-24)gc(r);tn=(qa-Tl|0)/24|0;if(tn>>>0<1073741823){kn=tn<<1;y=kn>>>0<Vl>>>0?Vl:kn}else y=2147483647;pt(pn,y,xl,r+12|0);hn=pn+8|0;dn=k[hn>>2]|0;Nt(dn,B);k[hn>>2]=dn+24;Bn(r,pn);lt(pn)}Wo(B);f=e+1|0;break e;break}case 98:{Dt(He,14181);wn=r+4|0;vn=k[wn>>2]|0;En=k[r+8>>2]|0;if(vn>>>0<En>>>0){Nt(vn,He);k[wn>>2]=(k[wn>>2]|0)+24}else{mn=k[r>>2]|0;U=vn-mn|0;Y=(U|0)/24|0;z=Y+1|0;if((U|0)<-24)gc(r);V=(En-mn|0)/24|0;if(V>>>0<1073741823){W=V<<1;C=W>>>0<z>>>0?z:W}else C=2147483647;pt(pn,C,Y,r+12|0);K=pn+8|0;X=k[K>>2]|0;Nt(X,He);k[K>>2]=X+24;Bn(r,pn);lt(pn)}Wo(He);f=e+1|0;break e;break}case 99:{Dt(Bi,13757);G=r+4|0;q=k[G>>2]|0;J=k[r+8>>2]|0;if(q>>>0<J>>>0){Nt(q,Bi);k[G>>2]=(k[G>>2]|0)+24}else{Q=k[r>>2]|0;$=q-Q|0;ee=($|0)/24|0;ie=ee+1|0;if(($|0)<-24)gc(r);fe=(J-Q|0)/24|0;if(fe>>>0<1073741823){ae=fe<<1;d=ae>>>0<ie>>>0?ie:ae}else d=2147483647;pt(pn,d,ee,r+12|0);le=pn+8|0;ne=k[le>>2]|0;Nt(ne,Bi);k[le>>2]=ne+24;Bn(r,pn);lt(pn)}Wo(Bi);f=e+1|0;break e;break}case 97:{To(Rr,13762);te=r+4|0;oe=k[te>>2]|0;ue=k[r+8>>2]|0;if(oe>>>0<ue>>>0){Nt(oe,Rr);k[te>>2]=(k[te>>2]|0)+24}else{be=k[r>>2]|0;ke=oe-be|0;de=(ke|0)/24|0;we=de+1|0;if((ke|0)<-24)gc(r);_e=(ue-be|0)/24|0;if(_e>>>0<1073741823){Ee=_e<<1;_=Ee>>>0<we>>>0?we:Ee}else _=2147483647;pt(pn,_,de,r+12|0);me=pn+8|0;pe=k[me>>2]|0;Nt(pe,Rr);k[me>>2]=pe+24;Bn(r,pn);lt(pn)}Wo(Rr);f=e+1|0;break e;break}case 104:{Fo(yf,13774);Se=r+4|0;ge=k[Se>>2]|0;Fe=k[r+8>>2]|0;if(ge>>>0<Fe>>>0){Nt(ge,yf);k[Se>>2]=(k[Se>>2]|0)+24}else{Ae=k[r>>2]|0;Te=ge-Ae|0;Oe=(Te|0)/24|0;Re=Oe+1|0;if((Te|0)<-24)gc(r);Ne=(Fe-Ae|0)/24|0;if(Ne>>>0<1073741823){Pe=Ne<<1;v=Pe>>>0<Re>>>0?Re:Pe}else v=2147483647;pt(pn,v,Oe,r+12|0);De=pn+8|0;Ie=k[De>>2]|0;Nt(Ie,yf);k[De>>2]=Ie+24;Bn(r,pn);lt(pn)}Wo(yf);f=e+1|0;break e;break}case 115:{Bt(Ea,13788);Le=r+4|0;xe=k[Le>>2]|0;Be=k[r+8>>2]|0;if(xe>>>0<Be>>>0){Nt(xe,Ea);k[Le>>2]=(k[Le>>2]|0)+24}else{Ye=k[r>>2]|0;ze=xe-Ye|0;Ve=(ze|0)/24|0;We=Ve+1|0;if((ze|0)<-24)gc(r);Ke=(Be-Ye|0)/24|0;if(Ke>>>0<1073741823){Xe=Ke<<1;E=Xe>>>0<We>>>0?We:Xe}else E=2147483647;pt(pn,E,Ve,r+12|0);Ge=pn+8|0;qe=k[Ge>>2]|0;Nt(qe,Ea);k[Ge>>2]=qe+24;Bn(r,pn);lt(pn)}Wo(Ea);f=e+1|0;break e;break}case 116:{yo(kl,13794);Je=r+4|0;Qe=k[Je>>2]|0;$e=k[r+8>>2]|0;if(Qe>>>0<$e>>>0){Nt(Qe,kl);k[Je>>2]=(k[Je>>2]|0)+24}else{ei=k[r>>2]|0;ri=Qe-ei|0;fi=(ri|0)/24|0;ai=fi+1|0;if((ri|0)<-24)gc(r);li=($e-ei|0)/24|0;if(li>>>0<1073741823){ni=li<<1;S=ni>>>0<ai>>>0?ai:ni}else S=2147483647;pt(pn,S,fi,r+12|0);ti=pn+8|0;oi=k[ti>>2]|0;Nt(oi,kl);k[ti>>2]=oi+24;Bn(r,pn);lt(pn)}Wo(kl);f=e+1|0;break e;break}case 105:{no(sn,14186);ui=r+4|0;ci=k[ui>>2]|0;bi=k[r+8>>2]|0;if(ci>>>0<bi>>>0){Nt(ci,sn);k[ui>>2]=(k[ui>>2]|0)+24}else{hi=k[r>>2]|0;di=ci-hi|0;wi=(di|0)/24|0;_i=wi+1|0;if((di|0)<-24)gc(r);Ei=(bi-hi|0)/24|0;if(Ei>>>0<1073741823){mi=Ei<<1;g=mi>>>0<_i>>>0?_i:mi}else g=2147483647;pt(pn,g,wi,r+12|0);pi=pn+8|0;Si=k[pi>>2]|0;Nt(Si,sn);k[pi>>2]=Si+24;Bn(r,pn);lt(pn)}Wo(sn);f=e+1|0;break e;break}case 106:{Ao(_n,14190);yi=r+4|0;Fi=k[yi>>2]|0;Ai=k[r+8>>2]|0;if(Fi>>>0<Ai>>>0){Nt(Fi,_n);k[yi>>2]=(k[yi>>2]|0)+24}else{Oi=k[r>>2]|0;Mi=Fi-Oi|0;Ri=(Mi|0)/24|0;Ni=Ri+1|0;if((Mi|0)<-24)gc(r);Pi=(Ai-Oi|0)/24|0;if(Pi>>>0<1073741823){Di=Pi<<1;F=Di>>>0<Ni>>>0?Ni:Di}else F=2147483647;pt(pn,F,Ri,r+12|0);Ci=pn+8|0;Ii=k[Ci>>2]|0;Nt(Ii,_n);k[Ci>>2]=Ii+24;Bn(r,pn);lt(pn)}Wo(_n);f=e+1|0;break e;break}case 108:{Dt(H,14203);Li=r+4|0;xi=k[Li>>2]|0;Hi=k[r+8>>2]|0;if(xi>>>0<Hi>>>0){Nt(xi,H);k[Li>>2]=(k[Li>>2]|0)+24}else{Ui=k[r>>2]|0;Yi=xi-Ui|0;zi=(Yi|0)/24|0;Vi=zi+1|0;if((Yi|0)<-24)gc(r);Wi=(Hi-Ui|0)/24|0;if(Wi>>>0<1073741823){ji=Wi<<1;A=ji>>>0<Vi>>>0?Vi:ji}else A=2147483647;pt(pn,A,zi,r+12|0);Ki=pn+8|0;Gi=k[Ki>>2]|0;Nt(Gi,H);k[Ki>>2]=Gi+24;Bn(r,pn);lt(pn)}Wo(H);f=e+1|0;break e;break}case 109:{Fo(j,14208);qi=r+4|0;Ji=k[qi>>2]|0;Zi=k[r+8>>2]|0;if(Ji>>>0<Zi>>>0){Nt(Ji,j);k[qi>>2]=(k[qi>>2]|0)+24}else{$i=k[r>>2]|0;er=Ji-$i|0;ir=(er|0)/24|0;rr=ir+1|0;if((er|0)<-24)gc(r);fr=(Zi-$i|0)/24|0;if(fr>>>0<1073741823){ar=fr<<1;T=ar>>>0<rr>>>0?rr:ar}else T=2147483647;pt(pn,T,ir,r+12|0);lr=pn+8|0;nr=k[lr>>2]|0;Nt(nr,j);k[lr>>2]=nr+24;Bn(r,pn);lt(pn)}Wo(j);f=e+1|0;break e;break}case 120:{qt(Z,14222);sr=r+4|0;or=k[sr>>2]|0;ur=k[r+8>>2]|0;if(or>>>0<ur>>>0){Nt(or,Z);k[sr>>2]=(k[sr>>2]|0)+24}else{cr=k[r>>2]|0;br=or-cr|0;kr=(br|0)/24|0;hr=kr+1|0;if((br|0)<-24)gc(r);dr=(ur-cr|0)/24|0;if(dr>>>0<1073741823){wr=dr<<1;O=wr>>>0<hr>>>0?hr:wr}else O=2147483647;pt(pn,O,kr,r+12|0);_r=pn+8|0;vr=k[_r>>2]|0;Nt(vr,Z);k[_r>>2]=vr+24;Bn(r,pn);lt(pn)}Wo(Z);f=e+1|0;break e;break}case 121:{Er=Sr(32)|0;k[re+8>>2]=Er;k[re>>2]=33;k[re+4>>2]=18;Sn=Er;yn=14232;Fn=Sn+18|0;do{c[Sn>>0]=c[yn>>0]|0;Sn=Sn+1|0;yn=yn+1|0}while((Sn|0)<(Fn|0));c[Er+18>>0]=0;mr=re+12|0;k[mr>>2]=0;k[mr+4>>2]=0;k[mr+8>>2]=0;pr=r+4|0;gr=k[pr>>2]|0;yr=k[r+8>>2]|0;if(gr>>>0<yr>>>0){Nt(gr,re);k[pr>>2]=(k[pr>>2]|0)+24}else{Fr=k[r>>2]|0;Ar=gr-Fr|0;Tr=(Ar|0)/24|0;Or=Tr+1|0;if((Ar|0)<-24)gc(r);Mr=(yr-Fr|0)/24|0;if(Mr>>>0<1073741823){Nr=Mr<<1;M=Nr>>>0<Or>>>0?Or:Nr}else M=2147483647;pt(pn,M,Tr,r+12|0);Pr=pn+8|0;Dr=k[Pr>>2]|0;Nt(Dr,re);k[Pr>>2]=Dr+24;Bn(r,pn);lt(pn)}Wo(re);f=e+1|0;break e;break}case 110:{rs(se,13824);Cr=r+4|0;Ir=k[Cr>>2]|0;Lr=k[r+8>>2]|0;if(Ir>>>0<Lr>>>0){Nt(Ir,se);k[Cr>>2]=(k[Cr>>2]|0)+24}else{xr=k[r>>2]|0;Br=Ir-xr|0;Ur=(Br|0)/24|0;Yr=Ur+1|0;if((Br|0)<-24)gc(r);zr=(Lr-xr|0)/24|0;if(zr>>>0<1073741823){Vr=zr<<1;R=Vr>>>0<Yr>>>0?Yr:Vr}else R=2147483647;pt(pn,R,Ur,r+12|0);jr=pn+8|0;Kr=k[jr>>2]|0;Nt(Kr,se);k[jr>>2]=Kr+24;Bn(r,pn);lt(pn)}Wo(se);f=e+1|0;break e;break}case 111:{go(ce,13833);Xr=r+4|0;Gr=k[Xr>>2]|0;qr=k[r+8>>2]|0;if(Gr>>>0<qr>>>0){Nt(Gr,ce);k[Xr>>2]=(k[Xr>>2]|0)+24}else{Zr=k[r>>2]|0;Qr=Gr-Zr|0;$r=(Qr|0)/24|0;ef=$r+1|0;if((Qr|0)<-24)gc(r);ff=(qr-Zr|0)/24|0;if(ff>>>0<1073741823){af=ff<<1;N=af>>>0<ef>>>0?ef:af}else N=2147483647;pt(pn,N,$r,r+12|0);lf=pn+8|0;nf=k[lf>>2]|0;Nt(nf,ce);k[lf>>2]=nf+24;Bn(r,pn);lt(pn)}Wo(ce);f=e+1|0;break e;break}case 102:{Bt(ve,14251);sf=r+4|0;tf=k[sf>>2]|0;of=k[r+8>>2]|0;if(tf>>>0<of>>>0){Nt(tf,ve);k[sf>>2]=(k[sf>>2]|0)+24}else{uf=k[r>>2]|0;cf=tf-uf|0;bf=(cf|0)/24|0;kf=bf+1|0;if((cf|0)<-24)gc(r);hf=(of-uf|0)/24|0;if(hf>>>0<1073741823){df=hf<<1;P=df>>>0<kf>>>0?kf:df}else P=2147483647;pt(pn,P,bf,r+12|0);wf=pn+8|0;_f=k[wf>>2]|0;Nt(_f,ve);k[wf>>2]=_f+24;Bn(r,pn);lt(pn)}Wo(ve);f=e+1|0;break e;break}case 100:{c[ye>>0]=12;vf=ye+1|0;c[vf>>0]=c[14257]|0;c[vf+1>>0]=c[14258]|0;c[vf+2>>0]=c[14259]|0;c[vf+3>>0]=c[14260]|0;c[vf+4>>0]=c[14261]|0;c[vf+5>>0]=c[14262]|0;c[ye+7>>0]=0;Ef=ye+12|0;k[Ef>>2]=0;k[Ef+4>>2]=0;k[Ef+8>>2]=0;pf=r+4|0;Sf=k[pf>>2]|0;gf=k[r+8>>2]|0;if(Sf>>>0<gf>>>0){Nt(Sf,ye);k[pf>>2]=(k[pf>>2]|0)+24}else{Ff=k[r>>2]|0;Af=Sf-Ff|0;Tf=(Af|0)/24|0;Of=Tf+1|0;if((Af|0)<-24)gc(r);Mf=(gf-Ff|0)/24|0;if(Mf>>>0<1073741823){Nf=Mf<<1;D=Nf>>>0<Of>>>0?Of:Nf}else D=2147483647;pt(pn,D,Tf,r+12|0);Pf=pn+8|0;Df=k[Pf>>2]|0;Nt(Df,ye);k[Pf>>2]=Df+24;Bn(r,pn);lt(pn)}Wo(ye);f=e+1|0;break e;break}case 101:{To(Me,14264);Cf=r+4|0;If=k[Cf>>2]|0;Lf=k[r+8>>2]|0;if(If>>>0<Lf>>>0){Nt(If,Me);k[Cf>>2]=(k[Cf>>2]|0)+24}else{xf=k[r>>2]|0;Bf=If-xf|0;Hf=(Bf|0)/24|0;Uf=Hf+1|0;if((Bf|0)<-24)gc(r);Yf=(Lf-xf|0)/24|0;if(Yf>>>0<1073741823){zf=Yf<<1;I=zf>>>0<Uf>>>0?Uf:zf}else I=2147483647;pt(pn,I,Hf,r+12|0);Vf=pn+8|0;jf=k[Vf>>2]|0;Nt(jf,Me);k[Vf>>2]=jf+24;Bn(r,pn);lt(pn)}Wo(Me);f=e+1|0;break e;break}case 103:{Gt(Ce,14276);Kf=r+4|0;Xf=k[Kf>>2]|0;Gf=k[r+8>>2]|0;if(Xf>>>0<Gf>>>0){Nt(Xf,Ce);k[Kf>>2]=(k[Kf>>2]|0)+24}else{Jf=k[r>>2]|0;Zf=Xf-Jf|0;Qf=(Zf|0)/24|0;$f=Qf+1|0;if((Zf|0)<-24)gc(r);ea=(Gf-Jf|0)/24|0;if(ea>>>0<1073741823){ia=ea<<1;L=ia>>>0<$f>>>0?$f:ia}else L=2147483647;pt(pn,L,Qf,r+12|0);ra=pn+8|0;fa=k[ra>>2]|0;Nt(fa,Ce);k[ra>>2]=fa+24;Bn(r,pn);lt(pn)}Wo(Ce);f=e+1|0;break e;break}case 122:{no(Ue,14287);aa=r+4|0;la=k[aa>>2]|0;na=k[r+8>>2]|0;if(la>>>0<na>>>0){Nt(la,Ue);k[aa>>2]=(k[aa>>2]|0)+24}else{sa=k[r>>2]|0;oa=la-sa|0;ua=(oa|0)/24|0;ca=ua+1|0;if((oa|0)<-24)gc(r);ba=(na-sa|0)/24|0;if(ba>>>0<1073741823){ka=ba<<1;l=ka>>>0<ca>>>0?ca:ka}else l=2147483647;pt(pn,l,ua,r+12|0);ha=pn+8|0;da=k[ha>>2]|0;Nt(da,Ue);k[ha>>2]=da+24;Bn(r,pn);lt(pn)}Wo(Ue);f=e+1|0;break e;break}case 117:{wa=e+1|0;_a=ya(wa,i,r)|0;m=gn;return((_a|0)==(wa|0)?e:_a)|0}case 68:{va=e+1|0;if((va|0)==(i|0)){f=e;break e}switch(c[va>>0]|0){case 100:{qt(je,14291);pa=r+4|0;Sa=k[pa>>2]|0;ga=k[r+8>>2]|0;if(Sa>>>0<ga>>>0){Nt(Sa,je);k[pa>>2]=(k[pa>>2]|0)+24}else{Fa=k[r>>2]|0;Aa=Sa-Fa|0;Ta=(Aa|0)/24|0;Oa=Ta+1|0;if((Aa|0)<-24)gc(r);Ma=(ga-Fa|0)/24|0;if(Ma>>>0<1073741823){Ra=Ma<<1;n=Ra>>>0<Oa>>>0?Oa:Ra}else n=2147483647;pt(pn,n,Ta,r+12|0);Na=pn+8|0;Pa=k[Na>>2]|0;Nt(Pa,je);k[Na>>2]=Pa+24;Bn(r,pn);lt(pn)}Wo(je);f=e+2|0;break e;break}case 101:{Gt(Ze,14301);Da=r+4|0;Ca=k[Da>>2]|0;La=k[r+8>>2]|0;if(Ca>>>0<La>>>0){Nt(Ca,Ze);k[Da>>2]=(k[Da>>2]|0)+24}else{xa=k[r>>2]|0;Ba=Ca-xa|0;Ua=(Ba|0)/24|0;Ya=Ua+1|0;if((Ba|0)<-24)gc(r);za=(La-xa|0)/24|0;if(za>>>0<1073741823){Va=za<<1;s=Va>>>0<Ya>>>0?Ya:Va}else s=2147483647;pt(pn,s,Ua,r+12|0);Wa=pn+8|0;ja=k[Wa>>2]|0;Nt(ja,Ze);k[Wa>>2]=ja+24;Bn(r,pn);lt(pn)}Wo(Ze);f=e+2|0;break e;break}case 102:{qt(ii,14312);Ka=r+4|0;Xa=k[Ka>>2]|0;Ga=k[r+8>>2]|0;if(Xa>>>0<Ga>>>0){Nt(Xa,ii);k[Ka>>2]=(k[Ka>>2]|0)+24}else{Ja=k[r>>2]|0;Za=Xa-Ja|0;Qa=(Za|0)/24|0;$a=Qa+1|0;if((Za|0)<-24)gc(r);el=(Ga-Ja|0)/24|0;if(el>>>0<1073741823){il=el<<1;t=il>>>0<$a>>>0?$a:il}else t=2147483647;pt(pn,t,Qa,r+12|0);rl=pn+8|0;fl=k[rl>>2]|0;Nt(fl,ii);k[rl>>2]=fl+24;Bn(r,pn);lt(pn)}Wo(ii);f=e+2|0;break e;break}case 104:{qt(si,14322);al=r+4|0;ll=k[al>>2]|0;nl=k[r+8>>2]|0;if(ll>>>0<nl>>>0){Nt(ll,si);k[al>>2]=(k[al>>2]|0)+24}else{sl=k[r>>2]|0;tl=ll-sl|0;ol=(tl|0)/24|0;ul=ol+1|0;if((tl|0)<-24)gc(r);cl=(nl-sl|0)/24|0;if(cl>>>0<1073741823){bl=cl<<1;o=bl>>>0<ul>>>0?ul:bl}else o=2147483647;pt(pn,o,ol,r+12|0);hl=pn+8|0;dl=k[hl>>2]|0;Nt(dl,si);k[hl>>2]=dl+24;Bn(r,pn);lt(pn)}Wo(si);f=e+2|0;break e;break}case 105:{rs(ki,14332);wl=r+4|0;_l=k[wl>>2]|0;vl=k[r+8>>2]|0;if(_l>>>0<vl>>>0){Nt(_l,ki);k[wl>>2]=(k[wl>>2]|0)+24}else{El=k[r>>2]|0;ml=_l-El|0;pl=(ml|0)/24|0;Sl=pl+1|0;if((ml|0)<-24)gc(r);gl=(vl-El|0)/24|0;if(gl>>>0<1073741823){yl=gl<<1;u=yl>>>0<Sl>>>0?Sl:yl}else u=2147483647;pt(pn,u,pl,r+12|0);Fl=pn+8|0;Al=k[Fl>>2]|0;Nt(Al,ki);k[Fl>>2]=Al+24;Bn(r,pn);lt(pn)}Wo(ki);f=e+2|0;break e;break}case 115:{rs(vi,14341);Ol=r+4|0;Ml=k[Ol>>2]|0;Rl=k[r+8>>2]|0;if(Ml>>>0<Rl>>>0){Nt(Ml,vi);k[Ol>>2]=(k[Ol>>2]|0)+24}else{Pl=k[r>>2]|0;Dl=Ml-Pl|0;Cl=(Dl|0)/24|0;Il=Cl+1|0;if((Dl|0)<-24)gc(r);Ll=(Rl-Pl|0)/24|0;if(Ll>>>0<1073741823){Bl=Ll<<1;b=Bl>>>0<Il>>>0?Il:Bl}else b=2147483647;pt(pn,b,Cl,r+12|0);Hl=pn+8|0;Ul=k[Hl>>2]|0;Nt(Ul,vi);k[Hl>>2]=Ul+24;Bn(r,pn);lt(pn)}Wo(vi);f=e+2|0;break e;break}case 97:{Dt(gi,14350);Yl=r+4|0;zl=k[Yl>>2]|0;Wl=k[r+8>>2]|0;if(zl>>>0<Wl>>>0){Nt(zl,gi);k[Yl>>2]=(k[Yl>>2]|0)+24}else{jl=k[r>>2]|0;Kl=zl-jl|0;Xl=(Kl|0)/24|0;Gl=Xl+1|0;if((Kl|0)<-24)gc(r);ql=(Wl-jl|0)/24|0;if(ql>>>0<1073741823){Jl=ql<<1;h=Jl>>>0<Gl>>>0?Gl:Jl}else h=2147483647;pt(pn,h,Xl,r+12|0);Zl=pn+8|0;Ql=k[Zl>>2]|0;Nt(Ql,gi);k[Zl>>2]=Ql+24;Bn(r,pn);lt(pn)}Wo(gi);f=e+2|0;break e;break}case 110:{yo(Ti,14355);$l=r+4|0;en=k[$l>>2]|0;rn=k[r+8>>2]|0;if(en>>>0<rn>>>0){Nt(en,Ti);k[$l>>2]=(k[$l>>2]|0)+24}else{fn=k[r>>2]|0;an=en-fn|0;ln=(an|0)/24|0;nn=ln+1|0;if((an|0)<-24)gc(r);on=(rn-fn|0)/24|0;if(on>>>0<1073741823){un=on<<1;w=un>>>0<nn>>>0?nn:un}else w=2147483647;pt(pn,w,ln,r+12|0);cn=pn+8|0;bn=k[cn>>2]|0;Nt(bn,Ti);k[cn>>2]=bn+24;Bn(r,pn);lt(pn)}Wo(Ti);f=e+2|0;break e;break}default:{f=e;break e}}break}default:{f=e;break e}}}while(0)}while(0);m=gn;return f|0}function Sr(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,he=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,Sr=0,gr=0,yr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,oa=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,ya=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0,Gl=0,ql=0,Jl=0,Zl=0,Ql=0,$l=0,en=0,rn=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0,hn=0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0,Dn=0,Cn=0,In=0,Ln=0,xn=0,Bn=0,Hn=0,Un=0,Yn=0,zn=0,Vn=0,Wn=0,jn=0,Kn=0,Xn=0,Gn=0,qn=0,Jn=0,Zn=0,Qn=0,$n=0,es=0,is=0,rs=0,fs=0,as=0,ls=0,ns=0,ss=0,ts=0,os=0,us=0,cs=0,bs=0,ks=0,hs=0;do{if(e>>>0<245){Ji=e>>>0<11?16:e+11&-8;Tr=Ji>>>3;hf=k[756]|0;Xf=hf>>>Tr;if(Xf&3){Z=(Xf&1^1)+Tr|0;re=Z<<1;le=3064+(re<<2)|0;ce=3064+(re+2<<2)|0;we=k[ce>>2]|0;pe=we+8|0;Oe=k[pe>>2]|0;do{if((le|0)==(Oe|0))k[756]=hf&~(1<<Z);else{if(Oe>>>0<(k[760]|0)>>>0)fi();Je=Oe+12|0;if((k[Je>>2]|0)==(we|0)){k[Je>>2]=le;k[ce>>2]=Oe;break}else fi()}}while(0);ni=Z<<3;k[we+4>>2]=ni|3;hi=we+(ni|4)|0;k[hi>>2]=k[hi>>2]|1;yn=pe;return yn|0}Oi=k[758]|0;if(Ji>>>0>Oi>>>0){if(Xf){ji=2<<Tr;Qi=Xf<<Tr&(ji|0-ji);ur=(Qi&0-Qi)+-1|0;_r=ur>>>12&16;pr=ur>>>_r;yr=pr>>>5&8;Nr=pr>>>yr;Br=Nr>>>2&4;Kr=Nr>>>Br;ef=Kr>>>1&2;of=Kr>>>ef;vf=of>>>1&1;Tf=(yr|_r|Br|ef|vf)+(of>>>vf)|0;Nf=Tf<<1;Cf=3064+(Nf<<2)|0;Bf=3064+(Nf+2<<2)|0;Yf=k[Bf>>2]|0;Wf=Yf+8|0;Gf=k[Wf>>2]|0;do{if((Cf|0)==(Gf|0)){k[756]=hf&~(1<<Tf);el=Oi}else{if(Gf>>>0<(k[760]|0)>>>0)fi();ka=Gf+12|0;if((k[ka>>2]|0)==(Yf|0)){k[ka>>2]=Cf;k[Bf>>2]=Gf;el=k[758]|0;break}else fi()}}while(0);Oa=Tf<<3;Na=Oa-Ji|0;k[Yf+4>>2]=Ji|3;xa=Yf+Ji|0;k[Yf+(Ji|4)>>2]=Na|1;k[Yf+Oa>>2]=Na;if(el){rl=k[761]|0;ll=el>>>3;ol=ll<<1;kl=3064+(ol<<2)|0;dl=k[756]|0;pl=1<<ll;if(!(dl&pl)){k[756]=dl|pl;m=3064+(ol+2<<2)|0;Yl=kl}else{Il=3064+(ol+2<<2)|0;A=k[Il>>2]|0;if(A>>>0<(k[760]|0)>>>0)fi();else{m=Il;Yl=A}}k[m>>2]=rl;k[Yl+12>>2]=rl;k[rl+8>>2]=Yl;k[rl+12>>2]=kl}k[758]=Na;k[761]=xa;yn=Wf;return yn|0}U=k[757]|0;if(!U)Fn=Ji;else{j=(U&0-U)+-1|0;K=j>>>12&16;X=j>>>K;G=X>>>5&8;q=X>>>G;J=q>>>2&4;Q=q>>>J;$=Q>>>1&2;ee=Q>>>$;ie=ee>>>1&1;fe=k[3328+((G|K|J|$|ie)+(ee>>>ie)<<2)>>2]|0;On=(k[fe+4>>2]&-8)-Ji|0;Gn=fe;ls=fe;while(1){ae=k[Gn+16>>2]|0;if(!ae){ne=k[Gn+20>>2]|0;if(!ne){Mn=On;ns=ls;break}else se=ne}else se=ae;te=(k[se+4>>2]&-8)-Ji|0;oe=te>>>0<On>>>0;On=oe?te:On;Gn=se;ls=oe?se:ls}ue=k[760]|0;if(ns>>>0<ue>>>0)fi();be=ns+Ji|0;if(ns>>>0>=be>>>0)fi();ke=k[ns+24>>2]|0;he=k[ns+12>>2]|0;do{if((he|0)==(ns|0)){Ee=ns+20|0;me=k[Ee>>2]|0;if(!me){Se=ns+16|0;ge=k[Se>>2]|0;if(!ge){fn=0;break}else{Jl=ge;nn=Se}}else{Jl=me;nn=Ee}while(1){ye=Jl+20|0;Fe=k[ye>>2]|0;if(Fe){Jl=Fe;nn=ye;continue}Ae=Jl+16|0;Te=k[Ae>>2]|0;if(!Te){$l=Jl;on=nn;break}else{Jl=Te;nn=Ae}}if(on>>>0<ue>>>0)fi();else{k[on>>2]=0;fn=$l;break}}else{de=k[ns+8>>2]|0;if(de>>>0<ue>>>0)fi();_e=de+12|0;if((k[_e>>2]|0)!=(ns|0))fi();ve=he+8|0;if((k[ve>>2]|0)==(ns|0)){k[_e>>2]=he;k[ve>>2]=de;fn=he;break}else fi()}}while(0);do{if(ke){Me=k[ns+28>>2]|0;Re=3328+(Me<<2)|0;if((ns|0)==(k[Re>>2]|0)){k[Re>>2]=fn;if(!fn){k[757]=k[757]&~(1<<Me);break}}else{if(ke>>>0<(k[760]|0)>>>0)fi();Ne=ke+16|0;if((k[Ne>>2]|0)==(ns|0))k[Ne>>2]=fn;else k[ke+20>>2]=fn;if(!fn)break}Pe=k[760]|0;if(fn>>>0<Pe>>>0)fi();k[fn+24>>2]=ke;De=k[ns+16>>2]|0;do{if(De)if(De>>>0<Pe>>>0)fi();else{k[fn+16>>2]=De;k[De+24>>2]=fn;break}}while(0);Ce=k[ns+20>>2]|0;if(Ce)if(Ce>>>0<(k[760]|0)>>>0)fi();else{k[fn+20>>2]=Ce;k[Ce+24>>2]=fn;break}}}while(0);if(Mn>>>0<16){Ie=Mn+Ji|0;k[ns+4>>2]=Ie|3;Le=ns+(Ie+4)|0;k[Le>>2]=k[Le>>2]|1}else{k[ns+4>>2]=Ji|3;k[ns+(Ji|4)>>2]=Mn|1;k[ns+(Mn+Ji)>>2]=Mn;xe=k[758]|0;if(xe){Be=k[761]|0;He=xe>>>3;Ue=He<<1;Ye=3064+(Ue<<2)|0;ze=k[756]|0;Ve=1<<He;if(!(ze&Ve)){k[756]=ze|Ve;v=3064+(Ue+2<<2)|0;Ul=Ye}else{We=3064+(Ue+2<<2)|0;je=k[We>>2]|0;if(je>>>0<(k[760]|0)>>>0)fi();else{v=We;Ul=je}}k[v>>2]=Be;k[Ul+12>>2]=Be;k[Be+8>>2]=Ul;k[Be+12>>2]=Ye}k[758]=Mn;k[761]=be}yn=ns+8|0;return yn|0}}else Fn=Ji}else if(e>>>0>4294967231)Fn=-1;else{Ke=e+11|0;Xe=Ke&-8;Ge=k[757]|0;if(!Ge)Fn=Xe;else{qe=0-Xe|0;Ze=Ke>>>8;if(!Ze)gn=0;else if(Xe>>>0>16777215)gn=31;else{Qe=(Ze+1048320|0)>>>16&8;$e=Ze<<Qe;ei=($e+520192|0)>>>16&4;ii=$e<<ei;ri=(ii+245760|0)>>>16&2;ai=14-(ei|Qe|ri)+(ii<<ri>>>15)|0;gn=Xe>>>(ai+7|0)&1|ai<<1}li=k[3328+(gn<<2)>>2]|0;e:do{if(!li){Pn=qe;Jn=0;os=0;ks=86}else{Rn=qe;In=0;xn=Xe<<((gn|0)==31?0:25-(gn>>>1)|0);qn=li;ss=0;while(1){si=k[qn+4>>2]&-8;ti=si-Xe|0;if(ti>>>0<Rn>>>0)if((si|0)==(Xe|0)){Cn=ti;$n=qn;bs=qn;ks=90;break e}else{Nn=ti;ts=qn}else{Nn=Rn;ts=ss}oi=k[qn+20>>2]|0;qn=k[qn+16+(xn>>>31<<2)>>2]|0;Ln=(oi|0)==0|(oi|0)==(qn|0)?In:oi;if(!qn){Pn=Nn;Jn=Ln;os=ts;ks=86;break}else{Rn=Nn;In=Ln;xn=xn<<1;ss=ts}}}}while(0);if((ks|0)==86){if((Jn|0)==0&(os|0)==0){ui=2<<gn;ci=Ge&(ui|0-ui);if(!ci){Fn=Xe;break}bi=(ci&0-ci)+-1|0;ki=bi>>>12&16;di=bi>>>ki;wi=di>>>5&8;_i=di>>>wi;vi=_i>>>2&4;mi=_i>>>vi;pi=mi>>>1&2;Si=mi>>>pi;gi=Si>>>1&1;Zn=k[3328+((wi|ki|vi|pi|gi)+(Si>>>gi)<<2)>>2]|0;cs=0}else{Zn=Jn;cs=os}if(!Zn){Dn=Pn;us=cs}else{Cn=Pn;$n=Zn;bs=cs;ks=90}}if((ks|0)==90)while(1){ks=0;yi=(k[$n+4>>2]&-8)-Xe|0;Fi=yi>>>0<Cn>>>0;p=Fi?yi:Cn;Qn=Fi?$n:bs;Ti=k[$n+16>>2]|0;if(Ti){Cn=p;$n=Ti;bs=Qn;ks=90;continue}$n=k[$n+20>>2]|0;if(!$n){Dn=p;us=Qn;break}else{Cn=p;bs=Qn;ks=90}}if(!us)Fn=Xe;else if(Dn>>>0<((k[758]|0)-Xe|0)>>>0){Mi=k[760]|0;if(us>>>0<Mi>>>0)fi();Ri=us+Xe|0;if(us>>>0>=Ri>>>0)fi();Ni=k[us+24>>2]|0;Pi=k[us+12>>2]|0;do{if((Pi|0)==(us|0)){Li=us+20|0;xi=k[Li>>2]|0;if(!xi){Bi=us+16|0;Hi=k[Bi>>2]|0;if(!Hi){ln=0;break}else{en=Hi;un=Bi}}else{en=xi;un=Li}while(1){Ui=en+20|0;Yi=k[Ui>>2]|0;if(Yi){en=Yi;un=Ui;continue}zi=en+16|0;Vi=k[zi>>2]|0;if(!Vi){rn=en;cn=un;break}else{en=Vi;un=zi}}if(cn>>>0<Mi>>>0)fi();else{k[cn>>2]=0;ln=rn;break}}else{Di=k[us+8>>2]|0;if(Di>>>0<Mi>>>0)fi();Ci=Di+12|0;if((k[Ci>>2]|0)!=(us|0))fi();Ii=Pi+8|0;if((k[Ii>>2]|0)==(us|0)){k[Ci>>2]=Pi;k[Ii>>2]=Di;ln=Pi;break}else fi()}}while(0);do{if(Ni){Wi=k[us+28>>2]|0;Ki=3328+(Wi<<2)|0;if((us|0)==(k[Ki>>2]|0)){k[Ki>>2]=ln;if(!ln){k[757]=k[757]&~(1<<Wi);break}}else{if(Ni>>>0<(k[760]|0)>>>0)fi();Xi=Ni+16|0;if((k[Xi>>2]|0)==(us|0))k[Xi>>2]=ln;else k[Ni+20>>2]=ln;if(!ln)break}Gi=k[760]|0;if(ln>>>0<Gi>>>0)fi();k[ln+24>>2]=Ni;qi=k[us+16>>2]|0;do{if(qi)if(qi>>>0<Gi>>>0)fi();else{k[ln+16>>2]=qi;k[qi+24>>2]=ln;break}}while(0);Zi=k[us+20>>2]|0;if(Zi)if(Zi>>>0<(k[760]|0)>>>0)fi();else{k[ln+20>>2]=Zi;k[Zi+24>>2]=ln;break}}}while(0);e:do{if(Dn>>>0<16){$i=Dn+Xe|0;k[us+4>>2]=$i|3;er=us+($i+4)|0;k[er>>2]=k[er>>2]|1}else{k[us+4>>2]=Xe|3;k[us+(Xe|4)>>2]=Dn|1;k[us+(Dn+Xe)>>2]=Dn;ir=Dn>>>3;if(Dn>>>0<256){rr=ir<<1;ar=3064+(rr<<2)|0;lr=k[756]|0;nr=1<<ir;if(!(lr&nr)){k[756]=lr|nr;_=3064+(rr+2<<2)|0;Vl=ar}else{sr=3064+(rr+2<<2)|0;tr=k[sr>>2]|0;if(tr>>>0<(k[760]|0)>>>0)fi();else{_=sr;Vl=tr}}k[_>>2]=Ri;k[Vl+12>>2]=Ri;k[us+(Xe+8)>>2]=Vl;k[us+(Xe+12)>>2]=ar;break}or=Dn>>>8;if(!or)jl=0;else if(Dn>>>0>16777215)jl=31;else{cr=(or+1048320|0)>>>16&8;br=or<<cr;kr=(br+520192|0)>>>16&4;hr=br<<kr;dr=(hr+245760|0)>>>16&2;wr=14-(kr|cr|dr)+(hr<<dr>>>15)|0;jl=Dn>>>(wr+7|0)&1|wr<<1}vr=3328+(jl<<2)|0;k[us+(Xe+28)>>2]=jl;k[us+(Xe+20)>>2]=0;k[us+(Xe+16)>>2]=0;Er=k[757]|0;mr=1<<jl;if(!(Er&mr)){k[757]=Er|mr;k[vr>>2]=Ri;k[us+(Xe+24)>>2]=vr;k[us+(Xe+12)>>2]=Ri;k[us+(Xe+8)>>2]=Ri;break}Sr=k[vr>>2]|0;i:do{if((k[Sr+4>>2]&-8|0)==(Dn|0))bn=Sr;else{Xl=Dn<<((jl|0)==31?0:25-(jl>>>1)|0);dn=Sr;while(1){Fr=dn+16+(Xl>>>31<<2)|0;gr=k[Fr>>2]|0;if(!gr){h=Fr;wn=dn;break}if((k[gr+4>>2]&-8|0)==(Dn|0)){bn=gr;break i}else{Xl=Xl<<1;dn=gr}}if(h>>>0<(k[760]|0)>>>0)fi();else{k[h>>2]=Ri;k[us+(Xe+24)>>2]=wn;k[us+(Xe+12)>>2]=Ri;k[us+(Xe+8)>>2]=Ri;break e}}}while(0);Ar=bn+8|0;Or=k[Ar>>2]|0;Mr=k[760]|0;if(Or>>>0>=Mr>>>0&bn>>>0>=Mr>>>0){k[Or+12>>2]=Ri;k[Ar>>2]=Ri;k[us+(Xe+8)>>2]=Or;k[us+(Xe+12)>>2]=bn;k[us+(Xe+24)>>2]=0;break}else fi()}}while(0);yn=us+8|0;return yn|0}else Fn=Xe}}}while(0);Rr=k[758]|0;if(Rr>>>0>=Fn>>>0){Pr=Rr-Fn|0;Dr=k[761]|0;if(Pr>>>0>15){k[761]=Dr+Fn;k[758]=Pr;k[Dr+(Fn+4)>>2]=Pr|1;k[Dr+Rr>>2]=Pr;k[Dr+4>>2]=Fn|3}else{k[758]=0;k[761]=0;k[Dr+4>>2]=Rr|3;Cr=Dr+(Rr+4)|0;k[Cr>>2]=k[Cr>>2]|1}yn=Dr+8|0;return yn|0}Ir=k[759]|0;if(Ir>>>0>Fn>>>0){Lr=Ir-Fn|0;k[759]=Lr;xr=k[762]|0;k[762]=xr+Fn;k[xr+(Fn+4)>>2]=Lr|1;k[xr+4>>2]=Fn|3;yn=xr+8|0;return yn|0}do{if(!(k[874]|0)){Hr=Ai(30)|0;if(!(Hr+-1&Hr)){k[876]=Hr;k[875]=Hr;k[877]=-1;k[878]=-1;k[879]=0;k[867]=0;Ur=(fr(0)|0)&-16^1431655768;k[874]=Ur;break}else fi()}}while(0);Yr=Fn+48|0;zr=k[876]|0;Vr=Fn+47|0;Wr=zr+Vr|0;jr=0-zr|0;Xr=Wr&jr;if(Xr>>>0<=Fn>>>0){yn=0;return yn|0}Gr=k[866]|0;if(Gr){qr=k[864]|0;Jr=qr+Xr|0;if(Jr>>>0<=qr>>>0|Jr>>>0>Gr>>>0){yn=0;return yn|0}}e:do{if(!(k[867]&4)){Zr=k[762]|0;i:do{if(!Zr)ks=174;else{Bn=3472;while(1){Qr=k[Bn>>2]|0;if(Qr>>>0<=Zr>>>0){$r=Bn+4|0;if((Qr+(k[$r>>2]|0)|0)>>>0>Zr>>>0){c=Bn;b=$r;break}}Bn=k[Bn+8>>2]|0;if(!Bn){ks=174;break i}}bf=Wr-(k[759]|0)&jr;if(bf>>>0<2147483647){kf=Ei(bf|0)|0;df=(kf|0)==((k[c>>2]|0)+(k[b>>2]|0)|0);i=df?bf:0;if(df)if((kf|0)==(-1|0))rs=i;else{es=kf;as=i;ks=194;break e}else{pn=kf;Kn=bf;is=i;ks=184}}else rs=0}}while(0);do{if((ks|0)==174){rf=Ei(0)|0;if((rf|0)==(-1|0))rs=0;else{ff=rf;af=k[875]|0;lf=af+-1|0;if(!(lf&ff))jn=Xr;else jn=Xr-ff+(lf+ff&0-af)|0;nf=k[864]|0;sf=nf+jn|0;if(jn>>>0>Fn>>>0&jn>>>0<2147483647){tf=k[866]|0;if(tf)if(sf>>>0<=nf>>>0|sf>>>0>tf>>>0){rs=0;break}uf=Ei(jn|0)|0;cf=(uf|0)==(rf|0);Wn=cf?jn:0;if(cf){es=rf;as=Wn;ks=194;break e}else{pn=uf;Kn=jn;is=Wn;ks=184}}else rs=0}}}while(0);i:do{if((ks|0)==184){wf=0-Kn|0;do{if(Yr>>>0>Kn>>>0&(Kn>>>0<2147483647&(pn|0)!=(-1|0))){_f=k[876]|0;Ef=Vr-Kn+_f&0-_f;if(Ef>>>0<2147483647)if((Ei(Ef|0)|0)==(-1|0)){Ei(wf|0)|0;rs=is;break i}else{Xn=Ef+Kn|0;break}else Xn=Kn}else Xn=Kn}while(0);if((pn|0)==(-1|0))rs=is;else{es=pn;as=Xn;ks=194;break e}}}while(0);k[867]=k[867]|4;fs=rs;ks=191}else{fs=0;ks=191}}while(0);if((ks|0)==191)if(Xr>>>0<2147483647){mf=Ei(Xr|0)|0;pf=Ei(0)|0;if(mf>>>0<pf>>>0&((mf|0)!=(-1|0)&(pf|0)!=(-1|0))){Sf=pf-mf|0;gf=Sf>>>0>(Fn+40|0)>>>0;if(gf){es=mf;as=gf?Sf:fs;ks=194}}}if((ks|0)==194){yf=(k[864]|0)+as|0;k[864]=yf;if(yf>>>0>(k[865]|0)>>>0)k[865]=yf;Ff=k[762]|0;e:do{if(!Ff){Af=k[760]|0;if((Af|0)==0|es>>>0<Af>>>0)k[760]=es;k[868]=es;k[869]=as;k[871]=0;k[765]=k[874];k[764]=-1;Sn=0;do{Of=Sn<<1;Mf=3064+(Of<<2)|0;k[3064+(Of+3<<2)>>2]=Mf;k[3064+(Of+2<<2)>>2]=Mf;Sn=Sn+1|0}while((Sn|0)!=32);Rf=es+8|0;Pf=(Rf&7|0)==0?0:0-Rf&7;Df=as+-40-Pf|0;k[762]=es+Pf;k[759]=Df;k[es+(Pf+4)>>2]=Df|1;k[es+(as+-36)>>2]=40;k[763]=k[878]}else{Un=3472;do{If=k[Un>>2]|0;Lf=Un+4|0;xf=k[Lf>>2]|0;if((es|0)==(If+xf|0)){t=If;o=Lf;u=xf;Yn=Un;ks=204;break}Un=k[Un+8>>2]|0}while((Un|0)!=0);if((ks|0)==204)if(!(k[Yn+12>>2]&8))if(Ff>>>0<es>>>0&Ff>>>0>=t>>>0){k[o>>2]=u+as;Hf=(k[759]|0)+as|0;Uf=Ff+8|0;zf=(Uf&7|0)==0?0:0-Uf&7;Vf=Hf-zf|0;k[762]=Ff+zf;k[759]=Vf;k[Ff+(zf+4)>>2]=Vf|1;k[Ff+(Hf+4)>>2]=40;k[763]=k[878];break}jf=k[760]|0;if(es>>>0<jf>>>0){k[760]=es;ca=es}else ca=jf;Kf=es+as|0;zn=3472;while(1){if((k[zn>>2]|0)==(Kf|0)){s=zn;Vn=zn;ks=212;break}zn=k[zn+8>>2]|0;if(!zn){Hn=3472;break}}if((ks|0)==212)if(!(k[Vn+12>>2]&8)){k[s>>2]=es;qf=Vn+4|0;k[qf>>2]=(k[qf>>2]|0)+as;Jf=es+8|0;Zf=(Jf&7|0)==0?0:0-Jf&7;Qf=es+(as+8)|0;$f=(Qf&7|0)==0?0:0-Qf&7;ea=es+($f+as)|0;S=Zf+Fn|0;ia=es+S|0;ra=ea-(es+Zf)-Fn|0;k[es+(Zf+4)>>2]=Fn|3;i:do{if((ea|0)==(Ff|0)){fa=(k[759]|0)+ra|0;k[759]=fa;k[762]=ia;k[es+(S+4)>>2]=fa|1}else{if((ea|0)==(k[761]|0)){aa=(k[758]|0)+ra|0;k[758]=aa;k[761]=ia;k[es+(S+4)>>2]=aa|1;k[es+(aa+S)>>2]=aa;break}g=as+4|0;la=k[es+(g+$f)>>2]|0;if((la&3|0)==1){na=la&-8;sa=la>>>3;r:do{if(la>>>0<256){ta=k[es+(($f|8)+as)>>2]|0;oa=k[es+(as+12+$f)>>2]|0;ua=3064+(sa<<1<<2)|0;do{if((ta|0)!=(ua|0)){if(ta>>>0<ca>>>0)fi();if((k[ta+12>>2]|0)==(ea|0))break;fi()}}while(0);if((oa|0)==(ta|0)){k[756]=k[756]&~(1<<sa);break}do{if((oa|0)==(ua|0))E=oa+8|0;else{if(oa>>>0<ca>>>0)fi();ba=oa+8|0;if((k[ba>>2]|0)==(ea|0)){E=ba;break}fi()}}while(0);k[ta+12>>2]=oa;k[E>>2]=ta}else{ha=k[es+(($f|24)+as)>>2]|0;da=k[es+(as+12+$f)>>2]|0;do{if((da|0)==(ea|0)){F=$f|16;Ea=es+(g+F)|0;ma=k[Ea>>2]|0;if(!ma){pa=es+(F+as)|0;Sa=k[pa>>2]|0;if(!Sa){an=0;break}else{Zl=Sa;sn=pa}}else{Zl=ma;sn=Ea}while(1){ga=Zl+20|0;ya=k[ga>>2]|0;if(ya){Zl=ya;sn=ga;continue}Fa=Zl+16|0;Aa=k[Fa>>2]|0;if(!Aa){Ql=Zl;tn=sn;break}else{Zl=Aa;sn=Fa}}if(tn>>>0<ca>>>0)fi();else{k[tn>>2]=0;an=Ql;break}}else{wa=k[es+(($f|8)+as)>>2]|0;if(wa>>>0<ca>>>0)fi();_a=wa+12|0;if((k[_a>>2]|0)!=(ea|0))fi();va=da+8|0;if((k[va>>2]|0)==(ea|0)){k[_a>>2]=da;k[va>>2]=wa;an=da;break}else fi()}}while(0);if(!ha)break;Ta=k[es+(as+28+$f)>>2]|0;Ma=3328+(Ta<<2)|0;do{if((ea|0)==(k[Ma>>2]|0)){k[Ma>>2]=an;if(an)break;k[757]=k[757]&~(1<<Ta);break r}else{if(ha>>>0<(k[760]|0)>>>0)fi();Ra=ha+16|0;if((k[Ra>>2]|0)==(ea|0))k[Ra>>2]=an;else k[ha+20>>2]=an;if(!an)break r}}while(0);Pa=k[760]|0;if(an>>>0<Pa>>>0)fi();k[an+24>>2]=ha;y=$f|16;Da=k[es+(y+as)>>2]|0;do{if(Da)if(Da>>>0<Pa>>>0)fi();else{k[an+16>>2]=Da;k[Da+24>>2]=an;break}}while(0);Ca=k[es+(g+y)>>2]|0;if(!Ca)break;if(Ca>>>0<(k[760]|0)>>>0)fi();else{k[an+20>>2]=Ca;k[Ca+24>>2]=an;break}}}while(0);An=es+((na|$f)+as)|0;Tn=na+ra|0}else{An=ea;Tn=ra}Ia=An+4|0;k[Ia>>2]=k[Ia>>2]&-2;k[es+(S+4)>>2]=Tn|1;k[es+(Tn+S)>>2]=Tn;La=Tn>>>3;if(Tn>>>0<256){Ba=La<<1;Ha=3064+(Ba<<2)|0;Ua=k[756]|0;Ya=1<<La;do{if(!(Ua&Ya)){k[756]=Ua|Ya;w=3064+(Ba+2<<2)|0;zl=Ha}else{za=3064+(Ba+2<<2)|0;Va=k[za>>2]|0;if(Va>>>0>=(k[760]|0)>>>0){w=za;zl=Va;break}fi()}}while(0);k[w>>2]=ia;k[zl+12>>2]=ia;k[es+(S+8)>>2]=zl;k[es+(S+12)>>2]=Ha;break}Wa=Tn>>>8;do{if(!Wa)Kl=0;else{if(Tn>>>0>16777215){Kl=31;break}ja=(Wa+1048320|0)>>>16&8;Ka=Wa<<ja;Xa=(Ka+520192|0)>>>16&4;Ga=Ka<<Xa;qa=(Ga+245760|0)>>>16&2;Ja=14-(Xa|ja|qa)+(Ga<<qa>>>15)|0;Kl=Tn>>>(Ja+7|0)&1|Ja<<1}}while(0);Za=3328+(Kl<<2)|0;k[es+(S+28)>>2]=Kl;k[es+(S+20)>>2]=0;k[es+(S+16)>>2]=0;Qa=k[757]|0;$a=1<<Kl;if(!(Qa&$a)){k[757]=Qa|$a;k[Za>>2]=ia;k[es+(S+24)>>2]=Za;k[es+(S+12)>>2]=ia;k[es+(S+8)>>2]=ia;break}il=k[Za>>2]|0;r:do{if((k[il+4>>2]&-8|0)==(Tn|0))hn=il;else{ql=Tn<<((Kl|0)==31?0:25-(Kl>>>1)|0);_n=il;while(1){al=_n+16+(ql>>>31<<2)|0;fl=k[al>>2]|0;if(!fl){r=al;vn=_n;break}if((k[fl+4>>2]&-8|0)==(Tn|0)){hn=fl;break r}else{ql=ql<<1;_n=fl}}if(r>>>0<(k[760]|0)>>>0)fi();else{k[r>>2]=ia;k[es+(S+24)>>2]=vn;k[es+(S+12)>>2]=ia;k[es+(S+8)>>2]=ia;break i}}}while(0);nl=hn+8|0;sl=k[nl>>2]|0;tl=k[760]|0;if(sl>>>0>=tl>>>0&hn>>>0>=tl>>>0){k[sl+12>>2]=ia;k[nl>>2]=ia;k[es+(S+8)>>2]=sl;k[es+(S+12)>>2]=hn;k[es+(S+24)>>2]=0;break}else fi()}}while(0);yn=es+(Zf|8)|0;return yn|0}else Hn=3472;while(1){ul=k[Hn>>2]|0;if(ul>>>0<=Ff>>>0){cl=k[Hn+4>>2]|0;bl=ul+cl|0;if(bl>>>0>Ff>>>0){a=ul;l=cl;n=bl;break}}Hn=k[Hn+8>>2]|0}hl=a+(l+-39)|0;wl=a+(l+-47+((hl&7|0)==0?0:0-hl&7))|0;_l=Ff+16|0;vl=wl>>>0<_l>>>0?Ff:wl;El=vl+8|0;ml=es+8|0;Sl=(ml&7|0)==0?0:0-ml&7;gl=as+-40-Sl|0;k[762]=es+Sl;k[759]=gl;k[es+(Sl+4)>>2]=gl|1;k[es+(as+-36)>>2]=40;k[763]=k[878];yl=vl+4|0;k[yl>>2]=27;k[El>>2]=k[868];k[El+4>>2]=k[869];k[El+8>>2]=k[870];k[El+12>>2]=k[871];k[868]=es;k[869]=as;k[871]=0;k[870]=El;Fl=vl+28|0;k[Fl>>2]=7;if((vl+32|0)>>>0<n>>>0){Al=Fl;do{hs=Al;Al=Al+4|0;k[Al>>2]=7}while((hs+8|0)>>>0<n>>>0)}if((vl|0)!=(Ff|0)){Tl=vl-Ff|0;k[yl>>2]=k[yl>>2]&-2;k[Ff+4>>2]=Tl|1;k[vl>>2]=Tl;Ol=Tl>>>3;if(Tl>>>0<256){Ml=Ol<<1;Rl=3064+(Ml<<2)|0;Nl=k[756]|0;Pl=1<<Ol;if(!(Nl&Pl)){k[756]=Nl|Pl;d=3064+(Ml+2<<2)|0;Hl=Rl}else{Dl=3064+(Ml+2<<2)|0;Cl=k[Dl>>2]|0;if(Cl>>>0<(k[760]|0)>>>0)fi();else{d=Dl;Hl=Cl}}k[d>>2]=Ff;k[Hl+12>>2]=Ff;k[Ff+8>>2]=Hl;k[Ff+12>>2]=Rl;break}Ll=Tl>>>8;if(!Ll)Wl=0;else if(Tl>>>0>16777215)Wl=31;else{xl=(Ll+1048320|0)>>>16&8;Bl=Ll<<xl;T=(Bl+520192|0)>>>16&4;O=Bl<<T;M=(O+245760|0)>>>16&2;R=14-(T|xl|M)+(O<<M>>>15)|0;Wl=Tl>>>(R+7|0)&1|R<<1}N=3328+(Wl<<2)|0;k[Ff+28>>2]=Wl;k[Ff+20>>2]=0;k[_l>>2]=0;P=k[757]|0;D=1<<Wl;if(!(P&D)){k[757]=P|D;k[N>>2]=Ff;k[Ff+24>>2]=N;k[Ff+12>>2]=Ff;k[Ff+8>>2]=Ff;break}C=k[N>>2]|0;i:do{if((k[C+4>>2]&-8|0)==(Tl|0))kn=C;else{Gl=Tl<<((Wl|0)==31?0:25-(Wl>>>1)|0);En=C;while(1){L=En+16+(Gl>>>31<<2)|0;I=k[L>>2]|0;if(!I){f=L;mn=En;break}if((k[I+4>>2]&-8|0)==(Tl|0)){kn=I;break i}else{Gl=Gl<<1;En=I}}if(f>>>0<(k[760]|0)>>>0)fi();else{k[f>>2]=Ff;k[Ff+24>>2]=mn;k[Ff+12>>2]=Ff;k[Ff+8>>2]=Ff;break e}}}while(0);x=kn+8|0;B=k[x>>2]|0;H=k[760]|0;if(B>>>0>=H>>>0&kn>>>0>=H>>>0){k[B+12>>2]=Ff;k[x>>2]=Ff;k[Ff+8>>2]=B;k[Ff+12>>2]=kn;k[Ff+24>>2]=0;break}else fi()}}}while(0);Y=k[759]|0;if(Y>>>0>Fn>>>0){z=Y-Fn|0;k[759]=z;V=k[762]|0;k[762]=V+Fn;k[V+(Fn+4)>>2]=z|1;k[V+4>>2]=Fn|3;yn=V+8|0;return yn|0}}W=Ju()|0;k[W>>2]=12;yn=0;return yn|0}function gr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0.0,a=0.0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,P=0,D=0,C=0,I=0,L=0,x=0.0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0.0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0.0,Ze=0.0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,Sr=0,gr=0,yr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0.0,Lr=0,xr=0.0,Br=0.0,Hr=0.0,Ur=0,Yr=0,zr=0.0,Vr=0.0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0.0,qf=0.0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,oa=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,ya=0,Fa=0,Aa=0,Ta=0.0,Oa=0.0,Ma=0.0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0,Za=0,Qa=0,$a=0,el=0,rl=0,fl=0,al=0,ll=0,nl=0,sl=0,tl=0,ol=0,ul=0,cl=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0.0,Gl=0.0,ql=0.0,Jl=0,Zl=0,Ql=0,$l=0,en=0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0.0,bn=0.0,kn=0.0,hn=0.0,dn=0.0,wn=0.0,_n=0.0,vn=0.0,En=0.0,mn=0.0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Pn=0,Dn=0;Dn=m;m=m+512|0;if((m|0)>=(p|0))he();un=Dn;switch(i|0){case 0:{Jf=24;Aa=-149;Pn=4;break}case 1:{Jf=53;Aa=-1074;Pn=4;break}case 2:{Jf=53;Aa=-1074;Pn=4;break}default:f=0.0}e:do{if((Pn|0)==4){H=e+4|0;U=e+100|0;do{be=k[H>>2]|0;if(be>>>0<(k[U>>2]|0)>>>0){k[H>>2]=be+1;Nf=h[be>>0]|0}else Nf=rn(e)|0}while((ib(Nf)|0)!=0);D=Nf;i:do{switch(D|0){case 43:case 45:{J=1-(((D|0)==45&1)<<1)|0;fe=k[H>>2]|0;if(fe>>>0<(k[U>>2]|0)>>>0){k[H>>2]=fe+1;Zf=h[fe>>0]|0;Jl=J;break i}else{Zf=rn(e)|0;Jl=J;break i}break}default:{Zf=D;Jl=1}}}while(0);ia=Zf;$a=0;while(1){if((ia|32|0)!=(c[16458+$a>>0]|0)){$f=ia;Qa=$a;break}do{if($a>>>0<7){ze=k[H>>2]|0;if(ze>>>0<(k[U>>2]|0)>>>0){k[H>>2]=ze+1;ra=h[ze>>0]|0;break}else{ra=rn(e)|0;break}}else ra=ia}while(0);ti=$a+1|0;if(ti>>>0<8){ia=ra;$a=ti}else{$f=ra;Qa=ti;break}}i:do{switch(Qa|0){case 8:break;case 3:{Pn=23;break}default:{mi=(r|0)!=0;if(mi&Qa>>>0>3)if((Qa|0)==8)break i;else{Pn=23;break i}r:do{if(!Qa){la=$f;rl=0;while(1){if((la|32|0)!=(c[18301+rl>>0]|0)){sa=la;fl=rl;break r}do{if(rl>>>0<2){Rr=k[H>>2]|0;if(Rr>>>0<(k[U>>2]|0)>>>0){k[H>>2]=Rr+1;na=h[Rr>>0]|0;break}else{na=rn(e)|0;break}}else na=la}while(0);Kr=rl+1|0;if(Kr>>>0<3){la=na;rl=Kr}else{sa=na;fl=Kr;break}}}else{sa=$f;fl=Qa}}while(0);switch(fl|0){case 3:{Jr=k[H>>2]|0;if(Jr>>>0<(k[U>>2]|0)>>>0){k[H>>2]=Jr+1;Mf=h[Jr>>0]|0}else Mf=rn(e)|0;if((Mf|0)==40)al=1;else{if(!(k[U>>2]|0)){f=R;break e}k[H>>2]=(k[H>>2]|0)+-1;f=R;break e}while(1){Rf=k[H>>2]|0;if(Rf>>>0<(k[U>>2]|0)>>>0){k[H>>2]=Rf+1;Pf=h[Rf>>0]|0}else Pf=rn(e)|0;if(!((Pf+-48|0)>>>0<10|(Pf+-65|0)>>>0<26))if(!((Pf|0)==95|(Pf+-97|0)>>>0<26)){g=Pf;ll=al;break}al=al+1|0}if((g|0)==41){f=R;break e}Df=(k[U>>2]|0)==0;if(!Df)k[H>>2]=(k[H>>2]|0)+-1;if(!mi){z=Ju()|0;k[z>>2]=22;Ro(e,0);f=0.0;break e}if(!ll){f=R;break e}else S=ll;while(1){S=S+-1|0;if(!Df)k[H>>2]=(k[H>>2]|0)+-1;if(!S){f=R;break e}}break}case 0:{do{if((sa|0)==48){W=k[H>>2]|0;if(W>>>0<(k[U>>2]|0)>>>0){k[H>>2]=W+1;j=h[W>>0]|0}else j=rn(e)|0;if((j|32|0)!=120){if(!(k[U>>2]|0)){ta=48;break}k[H>>2]=(k[H>>2]|0)+-1;ta=48;break}K=k[H>>2]|0;if(K>>>0<(k[U>>2]|0)>>>0){k[H>>2]=K+1;Qf=h[K>>0]|0;Ra=0}else{Qf=rn(e)|0;Ra=0}r:while(1){switch(Qf|0){case 46:{Na=Ra;Pn=74;break r;break}case 48:break;default:{ne=0;se=0;Qr=0;$r=0;fa=Qf;Ca=Ra;za=0;qa=0;Xl=1.0;$l=0;cn=0.0;break r}}X=k[H>>2]|0;if(X>>>0<(k[U>>2]|0)>>>0){k[H>>2]=X+1;Qf=h[X>>0]|0;Ra=1;continue}else{Qf=rn(e)|0;Ra=1;continue}}if((Pn|0)==74){G=k[H>>2]|0;if(G>>>0<(k[U>>2]|0)>>>0){k[H>>2]=G+1;ea=h[G>>0]|0}else ea=rn(e)|0;if((ea|0)==48){Z=0;$=0;while(1){q=k[H>>2]|0;if(q>>>0<(k[U>>2]|0)>>>0){k[H>>2]=q+1;re=h[q>>0]|0}else re=rn(e)|0;ee=Qu(Z|0,$|0,-1,-1)|0;ie=Y;if((re|0)==48){Z=ee;$=ie}else{ne=0;se=0;Qr=ee;$r=ie;fa=re;Ca=1;za=1;qa=0;Xl=1.0;$l=0;cn=0.0;break}}}else{ne=0;se=0;Qr=0;$r=0;fa=ea;Ca=Na;za=1;qa=0;Xl=1.0;$l=0;cn=0.0}}while(1){ae=fa+-48|0;I=fa|32;if(ae>>>0<10)Pn=86;else{le=(fa|0)==46;if(!(le|(I+-97|0)>>>0<6)){ve=se;Ee=Qr;pe=ne;Se=$r;aa=fa;Ia=Ca;Va=za;en=$l;bn=cn;break}if(le)if(!za){ef=se;rf=ne;ff=se;af=ne;xa=Ca;ja=1;Za=qa;ql=Xl;an=$l;dn=cn}else{ve=se;Ee=Qr;pe=ne;Se=$r;aa=46;Ia=Ca;Va=za;en=$l;bn=cn;break}else Pn=86}if((Pn|0)==86){Pn=0;da=(fa|0)>57?I+-87|0:ae;do{if((ne|0)<0|(ne|0)==0&se>>>0<8){Ja=qa;Gl=Xl;fn=da+($l<<4)|0;kn=cn}else{if((ne|0)<0|(ne|0)==0&se>>>0<14){te=Xl*.0625;Ja=qa;Gl=te;fn=$l;kn=cn+te*+(da|0);break}if((qa|0)!=0|(da|0)==0){Ja=qa;Gl=Xl;fn=$l;kn=cn}else{Ja=1;Gl=Xl;fn=$l;kn=cn+Xl*.5}}}while(0);oe=Qu(se|0,ne|0,1,0)|0;ef=Qr;rf=$r;ff=oe;af=Y;xa=1;ja=za;Za=Ja;ql=Gl;an=fn;dn=kn}ue=k[H>>2]|0;if(ue>>>0<(k[U>>2]|0)>>>0){k[H>>2]=ue+1;ne=af;se=ff;Qr=ef;$r=rf;fa=h[ue>>0]|0;Ca=xa;za=ja;qa=Za;Xl=ql;$l=an;cn=dn;continue}else{ne=af;se=ff;Qr=ef;$r=rf;fa=rn(e)|0;Ca=xa;za=ja;qa=Za;Xl=ql;$l=an;cn=dn;continue}}if(!Ia){ke=(k[U>>2]|0)==0;if(!ke)k[H>>2]=(k[H>>2]|0)+-1;if(!r)Ro(e,0);else if(!ke){de=k[H>>2]|0;k[H>>2]=de+-1;if(Va)k[H>>2]=de+-2}f=+(Jl|0)*0.0;break e}we=(Va|0)==0;_e=we?ve:Ee;me=we?pe:Se;if((pe|0)<0|(pe|0)==0&ve>>>0<8){ye=ve;Fe=pe;nn=en;while(1){ge=nn<<4;ye=Qu(ye|0,Fe|0,1,0)|0;Fe=Y;if(!((Fe|0)<0|(Fe|0)==0&ye>>>0<8)){ln=ge;break}else nn=ge}}else ln=en;if((aa|32|0)==112){Ae=il(e,r)|0;Te=Y;if((Ae|0)==0&(Te|0)==-2147483648){if(!r){Ro(e,0);f=0.0;break e}if(!(k[U>>2]|0)){Re=0;Ne=0}else{k[H>>2]=(k[H>>2]|0)+-1;Re=0;Ne=0}}else{Re=Ae;Ne=Te}}else if(!(k[U>>2]|0)){Re=0;Ne=0}else{k[H>>2]=(k[H>>2]|0)+-1;Re=0;Ne=0}Oe=iu(_e|0,me|0,2)|0;Me=Qu(Oe|0,Y|0,-32,-1)|0;Pe=Qu(Me|0,Y|0,Re|0,Ne|0)|0;De=Y;if(!ln){f=+(Jl|0)*0.0;break e}if((De|0)>0|(De|0)==0&Pe>>>0>(0-Aa|0)>>>0){Ce=Ju()|0;k[Ce>>2]=34;f=+(Jl|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break e}Ie=Aa+-106|0;Le=((Ie|0)<0)<<31>>31;if((De|0)<(Le|0)|(De|0)==(Le|0)&Pe>>>0<Ie>>>0){xe=Ju()|0;k[xe>>2]=34;f=+(Jl|0)*2.2250738585072014e-308*2.2250738585072014e-308;break e}if((ln|0)>-1){Ue=Pe;Ye=De;tn=ln;En=bn;while(1){Be=!(En>=.5);He=Be&1|tn<<1;on=He^1;mn=En+(Be?En:En+-1.0);Ve=Qu(Ue|0,Ye|0,-1,-1)|0;We=Y;if((He|0)>-1){Ue=Ve;Ye=We;tn=on;En=mn}else{Ke=Ve;Xe=We;sn=on;vn=mn;break}}}else{Ke=Pe;Xe=De;sn=ln;vn=bn}je=Su(32,0,Aa|0,((Aa|0)<0)<<31>>31|0)|0;Ge=Qu(Ke|0,Xe|0,je|0,Y|0)|0;qe=Y;if(0>(qe|0)|0==(qe|0)&Jf>>>0>Ge>>>0)if((Ge|0)<0){s=0;Pn=127}else{n=Ge;Pn=125}else{n=Jf;Pn=125}if((Pn|0)==125)if((n|0)<53){s=n;Pn=127}else{t=n;x=+(Jl|0);Gf=0.0}if((Pn|0)==127){Je=+(Jl|0);t=s;x=Je;Gf=+bb(+$n(1.0,84-s|0),Je)}Il=(sn&1|0)==0&(vn!=0.0&(t|0)<32);Ze=x*(Il?0.0:vn)+(Gf+x*+(((Il&1)+sn|0)>>>0))-Gf;if(!(Ze!=0.0)){Qe=Ju()|0;k[Qe>>2]=34}f=+kb(Ze,Ke);break e}else ta=sa}while(0);Ql=Aa+Jf|0;$e=0-Ql|0;o=ta;Pa=0;r:while(1){switch(o|0){case 46:{Da=Pa;Pn=138;break r;break}case 48:break;default:{w=o;lf=0;nf=0;La=Pa;Wa=0;break r}}ei=k[H>>2]|0;if(ei>>>0<(k[U>>2]|0)>>>0){k[H>>2]=ei+1;o=h[ei>>0]|0;Pa=1;continue}else{o=rn(e)|0;Pa=1;continue}}if((Pn|0)==138){ii=k[H>>2]|0;if(ii>>>0<(k[U>>2]|0)>>>0){k[H>>2]=ii+1;b=h[ii>>0]|0}else b=rn(e)|0;if((b|0)==48){ri=0;fi=0;while(1){ai=Qu(ri|0,fi|0,-1,-1)|0;li=Y;ni=k[H>>2]|0;if(ni>>>0<(k[U>>2]|0)>>>0){k[H>>2]=ni+1;u=h[ni>>0]|0}else u=rn(e)|0;if((u|0)==48){ri=ai;fi=li}else{w=u;lf=ai;nf=li;La=1;Wa=1;break}}}else{w=b;lf=0;nf=0;La=Da;Wa=1}}k[un>>2]=0;si=w+-48|0;oi=(w|0)==46;r:do{if(oi|si>>>0<10){ui=un+496|0;E=w;ci=0;bi=0;sf=oi;tf=si;of=lf;uf=nf;Ha=La;Xa=Wa;sl=0;dl=0;Tl=0;f:while(1){do{if(sf)if(!Xa){cf=ci;bf=bi;kf=ci;hf=bi;Ya=Ha;Ga=1;bl=sl;ml=dl;Pl=Tl}else{df=of;wf=uf;_f=ci;vf=bi;Ua=Ha;tl=sl;wl=dl;Ol=Tl;break f}else{ki=Qu(ci|0,bi|0,1,0)|0;hi=Y;di=(E|0)!=48;if((dl|0)>=125){if(!di){cf=of;bf=uf;kf=ki;hf=hi;Ya=Ha;Ga=Xa;bl=sl;ml=dl;Pl=Tl;break}k[ui>>2]=k[ui>>2]|1;cf=of;bf=uf;kf=ki;hf=hi;Ya=Ha;Ga=Xa;bl=sl;ml=dl;Pl=Tl;break}wi=un+(dl<<2)|0;if(!sl)Zl=tf;else Zl=E+-48+((k[wi>>2]|0)*10|0)|0;k[wi>>2]=Zl;_i=sl+1|0;vi=(_i|0)==9;cf=of;bf=uf;kf=ki;hf=hi;Ya=1;Ga=Xa;bl=vi?0:_i;ml=(vi&1)+dl|0;Pl=di?ki:Tl}}while(0);Ei=k[H>>2]|0;if(Ei>>>0<(k[U>>2]|0)>>>0){k[H>>2]=Ei+1;_=h[Ei>>0]|0}else _=rn(e)|0;tf=_+-48|0;sf=(_|0)==46;if(!(sf|tf>>>0<10)){v=_;gi=kf;yi=cf;Ai=hf;Ti=bf;Ba=Ya;Ka=Ga;nl=bl;hl=ml;Al=Pl;Pn=161;break r}else{E=_;ci=kf;bi=hf;of=cf;uf=bf;Ha=Ya;Xa=Ga;sl=bl;dl=ml;Tl=Pl}}Ef=_f;mf=vf;pf=df;Sf=wf;gf=(Ua|0)!=0;cl=tl;El=wl;Nl=Ol;Pn=169}else{v=w;gi=0;yi=lf;Ai=0;Ti=nf;Ba=La;Ka=Wa;nl=0;hl=0;Al=0;Pn=161}}while(0);do{if((Pn|0)==161){pi=(Ka|0)==0;Si=pi?gi:yi;Fi=pi?Ai:Ti;Oi=(Ba|0)!=0;if(!((v|32|0)==101&Oi))if((v|0)>-1){Ef=gi;mf=Ai;pf=Si;Sf=Fi;gf=Oi;cl=nl;El=hl;Nl=Al;Pn=169;break}else{yf=gi;Ff=Ai;Af=Oi;Tf=Si;Of=Fi;ul=nl;vl=hl;Rl=Al;Pn=171;break}Mi=il(e,r)|0;Ri=Y;if((Mi|0)==0&(Ri|0)==-2147483648){if(!r){Ro(e,0);a=0.0;break}if(!(k[U>>2]|0)){Ni=0;Pi=0}else{k[H>>2]=(k[H>>2]|0)+-1;Ni=0;Pi=0}}else{Ni=Mi;Pi=Ri}Di=Qu(Ni|0,Pi|0,Si|0,Fi|0)|0;xi=Di;Bi=gi;Hi=Y;Ui=Ai;ol=nl;_l=hl;Ml=Al;Pn=173}}while(0);if((Pn|0)==169)if(!(k[U>>2]|0)){yf=Ef;Ff=mf;Af=gf;Tf=pf;Of=Sf;ul=cl;vl=El;Rl=Nl;Pn=171}else{k[H>>2]=(k[H>>2]|0)+-1;if(gf){xi=pf;Bi=Ef;Hi=Sf;Ui=mf;ol=cl;_l=El;Ml=Nl;Pn=173}else Pn=172}if((Pn|0)==171)if(Af){xi=Tf;Bi=yf;Hi=Of;Ui=Ff;ol=ul;_l=vl;Ml=Rl;Pn=173}else Pn=172;do{if((Pn|0)==172){Ii=Ju()|0;k[Ii>>2]=22;Ro(e,0);a=0.0}else if((Pn|0)==173){Li=k[un>>2]|0;if(!Li){a=+(Jl|0)*0.0;break}if(((Ui|0)<0|(Ui|0)==0&Bi>>>0<10)&((xi|0)==(Bi|0)&(Hi|0)==(Ui|0)))if(Jf>>>0>30|(Li>>>Jf|0)==0){a=+(Jl|0)*+(Li>>>0);break}Yi=(Aa|0)/-2|0;zi=((Yi|0)<0)<<31>>31;if((Hi|0)>(zi|0)|(Hi|0)==(zi|0)&xi>>>0>Yi>>>0){Vi=Ju()|0;k[Vi>>2]=34;a=+(Jl|0)*1797693134862315708145274.0e284*1797693134862315708145274.0e284;break}Wi=Aa+-106|0;ji=((Wi|0)<0)<<31>>31;if((Hi|0)<(ji|0)|(Hi|0)==(ji|0)&xi>>>0<Wi>>>0){Ki=Ju()|0;k[Ki>>2]=34;a=+(Jl|0)*2.2250738585072014e-308*2.2250738585072014e-308;break}if(!ol)pl=_l;else{if((ol|0)<9){Xi=un+(_l<<2)|0;qi=k[Xi>>2]|0;kl=ol;while(1){Gi=qi*10|0;kl=kl+1|0;if((kl|0)==9){P=Gi;break}else qi=Gi}k[Xi>>2]=P}pl=_l+1|0}if((Ml|0)<9)if((Ml|0)<=(xi|0)&(xi|0)<18){if((xi|0)==9){a=+(Jl|0)*+((k[un>>2]|0)>>>0);break}if((xi|0)<9){a=+(Jl|0)*+((k[un>>2]|0)>>>0)/+(k[2648+(8-xi<<2)>>2]|0);break}Ji=Jf+27+(ce(xi,-3)|0)|0;L=k[un>>2]|0;if((Ji|0)>30|(L>>>Ji|0)==0){a=+(Jl|0)*+(L>>>0)*+(k[2648+(xi+-10<<2)>>2]|0);break}}Zi=(xi|0)%9|0;if(!Zi){Bf=0;Ea=0;Ul=xi;gn=pl}else{Qi=(xi|0)>-1?Zi:Zi+9|0;$i=k[2648+(8-Qi<<2)>>2]|0;if(!pl){Cf=0;Ll=xi;pn=0}else{er=1e9/($i|0)|0;If=0;oa=0;Sl=0;xl=xi;while(1){ir=un+(Sl<<2)|0;rr=k[ir>>2]|0;fr=((rr>>>0)/($i>>>0)|0)+oa|0;k[ir>>2]=fr;ar=ce((rr>>>0)%($i>>>0)|0,er)|0;Dl=(Sl|0)==(If|0)&(fr|0)==0;Sl=Sl+1|0;Bl=Dl?xl+-9|0:xl;Lf=Dl?Sl&127:If;if((Sl|0)==(pl|0)){M=ar;xf=Lf;Hl=Bl;break}else{If=Lf;oa=ar;xl=Bl}}if(!M){Cf=xf;Ll=Hl;pn=pl}else{k[un+(pl<<2)>>2]=M;Cf=xf;Ll=Hl;pn=pl+1|0}}Bf=Cf;Ea=0;Ul=9-Qi+Ll|0;gn=pn}r:while(1){lr=(Ul|0)<18;nr=(Ul|0)==18;sr=un+(Bf<<2)|0;va=Ea;Sn=gn;while(1){if(!lr){if(!nr){zf=Bf;Sa=va;zl=Ul;Mn=Sn;break r}if((k[sr>>2]|0)>>>0>=9007199){zf=Bf;Sa=va;zl=18;Mn=Sn;break r}}ua=0;yl=Sn+127|0;yn=Sn;while(1){gl=yl&127;tr=un+(gl<<2)|0;or=iu(k[tr>>2]|0,0,29)|0;ur=Qu(or|0,Y|0,ua|0,0)|0;cr=Y;if(cr>>>0>0|(cr|0)==0&ur>>>0>1e9){br=ic(ur|0,cr|0,1e9,0)|0;kr=vo(ur|0,cr|0,1e9,0)|0;B=kr;ca=br}else{B=ur;ca=0}k[tr>>2]=B;hr=(gl|0)==(Bf|0);Fn=(gl|0)!=(yn+127&127|0)|hr?yn:(B|0)==0?gl:yn;if(hr){ba=ca;An=Fn;break}else{ua=ca;yl=gl+-1|0;yn=Fn}}dr=va+-29|0;if(!ba){va=dr;Sn=An}else{O=dr;ka=ba;Tn=An;break}}wr=Bf+127&127;if((wr|0)==(Tn|0)){_r=Tn+127&127;vr=un+((Tn+126&127)<<2)|0;k[vr>>2]=k[vr>>2]|k[un+(_r<<2)>>2];On=_r}else On=Tn;k[un+(wr<<2)>>2]=ka;Bf=wr;Ea=O;Ul=Ul+9|0;gn=On}r:while(1){Nr=Mn+1&127;Pr=un+((Mn+127&127)<<2)|0;Vf=zf;ga=Sa;Yl=zl;while(1){Dr=(Yl|0)==18;d=(Yl|0)>27?9:1;C=Dr^1;Hf=Vf;ma=ga;while(1){Er=Hf&127;mr=(Er|0)==(Mn|0);do{if(mr)Pn=219;else{pr=k[un+(Er<<2)>>2]|0;if(pr>>>0<9007199){Pn=219;break}if(pr>>>0>9007199)break;Sr=Hf+1&127;if((Sr|0)==(Mn|0)){Pn=219;break}Zr=k[un+(Sr<<2)>>2]|0;if(Zr>>>0<254740991){Pn=219;break}if(!(Zr>>>0>254740991|C)){Cr=Er;Yf=Hf;pa=ma;Nn=Mn;break r}}}while(0);if((Pn|0)==219){Pn=0;if(Dr){Pn=220;break r}}gr=ma+d|0;if((Hf|0)==(Mn|0)){Hf=Mn;ma=gr}else{y=gr;Uf=Hf;break}}yr=(1<<d)+-1|0;Fr=1e9>>>d;Wf=Uf;ha=0;Fl=Uf;Vl=Yl;while(1){Ar=un+(Fl<<2)|0;Tr=k[Ar>>2]|0;Or=(Tr>>>d)+ha|0;k[Ar>>2]=Or;Mr=ce(Tr&yr,Fr)|0;Cl=(Fl|0)==(Wf|0)&(Or|0)==0;Fl=Fl+1&127;Wl=Cl?Vl+-9|0:Vl;jf=Cl?Fl:Wf;if((Fl|0)==(Mn|0)){A=Mr;Kf=jf;jl=Wl;break}else{Wf=jf;ha=Mr;Vl=Wl}}if(!A){Vf=Kf;ga=y;Yl=jl;continue}if((Nr|0)!=(Kf|0)){F=y;T=A;Xf=Kf;Kl=jl;break}k[Pr>>2]=k[Pr>>2]|1;Vf=Kf;ga=y;Yl=jl}k[un+(Mn<<2)>>2]=T;zf=Xf;Sa=F;zl=Kl;Mn=Nr}if((Pn|0)==220)if(mr){k[un+(Nr+-1<<2)>>2]=0;Cr=Mn;Yf=Hf;pa=ma;Nn=Nr}else{Cr=Er;Yf=Hf;pa=ma;Nn=Mn}Ir=+((k[un+(Cr<<2)>>2]|0)>>>0);Lr=Yf+1&127;if((Lr|0)==(Nn|0)){qr=Yf+2&127;k[un+(qr+-1<<2)>>2]=0;Rn=qr}else Rn=Nn;zr=+(Jl|0);xr=zr*(Ir*1.0e9+ +((k[un+(Lr<<2)>>2]|0)>>>0));Wr=pa+53|0;jr=Wr-Aa|0;Xr=(jr|0)<(Jf|0);wa=Xr&1;l=Xr?(jr|0)<0?0:jr:Jf;if((l|0)<53){Br=+bb(+$n(1.0,105-l|0),xr);Hr=+mb(xr,+$n(1.0,53-l|0));qf=Br;Ta=Hr;hn=Br+(xr-Hr)}else{qf=0.0;Ta=0.0;hn=xr}Ur=Yf+2&127;do{if((Ur|0)==(Rn|0))Ma=Ta;else{Yr=k[un+(Ur<<2)>>2]|0;do{if(Yr>>>0<5e8){if(!Yr)if((Yf+3&127|0)==(Rn|0)){Oa=Ta;break}Oa=zr*.25+Ta}else{if(Yr>>>0>5e8){Oa=zr*.75+Ta;break}if((Yf+3&127|0)==(Rn|0)){Oa=zr*.5+Ta;break}else{Oa=zr*.75+Ta;break}}}while(0);if((53-l|0)<=1){Ma=Oa;break}if(+mb(Oa,1.0)!=0.0){Ma=Oa;break}Ma=Oa+1.0}}while(0);Vr=hn+Ma-qf;do{if((Wr&2147483647|0)>(-2-Ql|0)){if(!(+Q(+Vr)>=9007199254740992.0)){_a=wa;ya=pa;wn=Vr}else{_a=Xr&(l|0)==(jr|0)?0:wa;ya=pa+1|0;wn=Vr*.5}if((ya+50|0)<=($e|0))if(!(Ma!=0.0&(_a|0)!=0)){Fa=ya;_n=wn;break}Gr=Ju()|0;k[Gr>>2]=34;Fa=ya;_n=wn}else{Fa=pa;_n=Vr}}while(0);a=+kb(_n,Fa)}}while(0);f=a;break e;break}default:{if(k[U>>2]|0)k[H>>2]=(k[H>>2]|0)+-1;V=Ju()|0;k[V>>2]=22;Ro(e,0);f=0.0;break e}}}}}while(0);if((Pn|0)==23){Ci=(k[U>>2]|0)==0;if(!Ci)k[H>>2]=(k[H>>2]|0)+-1;if((r|0)!=0&Qa>>>0>3){el=Qa;do{if(!Ci)k[H>>2]=(k[H>>2]|0)+-1;el=el+-1|0}while(el>>>0>3)}}f=+(Jl|0)*N}}while(0);m=Dn;return+f}function yr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,Sr=0,gr=0,Fr=0,Ar=0,Or=0,Rr=0,Nr=0,Pr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,oa=0,ua=0,ca=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,ya=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0;za=m;m=m+304|0;if((m|0)>=(p|0))he();va=za+276|0;Ea=za+264|0;ma=za+252|0;_=za+240|0;v=za+224|0;ge=za+216|0;pa=za+204|0;fi=za+192|0;Li=za+176|0;dr=za+168|0;Sa=za+156|0;nf=za+144|0;Uf=za+128|0;Gf=za+124|0;ga=za+112|0;aa=za+96|0;E=za+76|0;ya=za+64|0;P=za+48|0;V=za+8|0;Z=za;ie=za+80|0;se=za+60|0;Ha=za+36|0;Ua=za+24|0;ce=i;e:do{if((ce-e|0)>1){w=(c[e>>0]|0)==76?e+1|0:e;Ce=c[w>>0]|0;switch(Ce<<24>>24|0){case 78:{i:do{if((w|0)==(i|0))d=i;else if(Ce<<24>>24==78){Ze=ks(w+1|0,i,Ea)|0;if((Ze|0)==(i|0))d=w;else{ai=r+52|0;k[ai>>2]=0;switch(c[Ze>>0]|0){case 82:{k[ai>>2]=1;Oa=Ze+1|0;break}case 79:{k[ai>>2]=2;Oa=Ze+1|0;break}default:Oa=Ze}wi=r+4|0;Si=k[wi>>2]|0;Ti=k[r+8>>2]|0;if(Si>>>0<Ti>>>0){k[Si>>2]=0;k[Si+4>>2]=0;k[Si+8>>2]=0;k[Si+12>>2]=0;k[Si+16>>2]=0;k[Si+20>>2]=0;k[Si>>2]=0;k[Si+4>>2]=0;k[Si+8>>2]=0;zi=Si+12|0;k[zi>>2]=0;k[zi+4>>2]=0;k[zi+8>>2]=0;k[wi>>2]=(k[wi>>2]|0)+24}else{br=k[r>>2]|0;wr=Si-br|0;Sr=(wr|0)/24|0;Or=Sr+1|0;if((wr|0)<-24)gc(r);Kr=(Ti-br|0)/24|0;if(Kr>>>0<1073741823){ef=Kr<<1;l=ef>>>0<Or>>>0?Or:ef}else l=2147483647;pt(va,l,Sr,r+12|0);uf=va+8|0;hf=k[uf>>2]|0;k[hf>>2]=0;k[hf+4>>2]=0;k[hf+8>>2]=0;k[hf+12>>2]=0;k[hf+16>>2]=0;k[hf+20>>2]=0;k[hf>>2]=0;k[hf+4>>2]=0;k[hf+8>>2]=0;Ff=hf+12|0;k[Ff>>2]=0;k[Ff+4>>2]=0;k[Ff+8>>2]=0;k[uf>>2]=hf+24;Bn(r,va);lt(va)}if((ce-Oa|0)>1)if((c[Oa>>0]|0)==83)if((c[Oa+1>>0]|0)==116){Yn((k[wi>>2]|0)+-24|0,12872,3);Ma=Oa+2|0}else Ma=Oa;else Ma=Oa;else Ma=Oa;if((Ma|0)==(i|0)){K=k[wi>>2]|0;X=K+-24|0;q=K;while(1){G=q+-24|0;k[wi>>2]=G;Wo(G);q=k[wi>>2]|0;if((q|0)==(X|0)){d=w;break i}}}qf=ga+8|0;Jf=ga+1|0;Zf=ga+4|0;Qf=r+12|0;$f=r+16|0;ea=r+20|0;ia=r+24|0;ra=aa+12|0;fa=aa+4|0;la=aa+8|0;na=r+28|0;sa=va+8|0;oa=V+12|0;ua=V+4|0;ca=V+8|0;ka=va+8|0;ha=P+8|0;da=P+1|0;wa=P+4|0;S=_+8|0;g=_+1|0;y=_+4|0;F=v+12|0;A=v+4|0;T=v+8|0;O=va+8|0;M=Li+12|0;R=Li+4|0;N=Li+8|0;D=va+8|0;C=fi+8|0;I=fi+1|0;L=fi+4|0;x=Uf+12|0;B=Uf+4|0;H=Uf+8|0;U=va+8|0;Y=nf+8|0;z=nf+1|0;W=nf+4|0;j=c[Ma>>0]|0;r:do{if(j<<24>>24==69){Fa=0;Na=Ma}else{Xf=j;Aa=0;Da=Ma;f:while(1){J=Xf;Ca=Da;a:while(1){switch(J<<24>>24|0){case 83:{Ia=Ca;Ya=25;break a;break}case 84:{La=Ca;Ya=44;break a;break}case 68:{xa=Ca;Ya=61;break a;break}case 73:{di=ta(Ca,i,r)|0;if((di|0)==(Ca|0)|(di|0)==(i|0)){d=w;break i}et(ga,(k[wi>>2]|0)+-24|0);_i=k[wi>>2]|0;vi=_i+-24|0;mi=_i;do{Ei=mi+-24|0;k[wi>>2]=Ei;Wo(Ei);mi=k[wi>>2]|0}while((mi|0)!=(vi|0));pi=c[ga>>0]|0;gi=(pi&1)==0;zn(_i+-48|0,gi?Jf:k[qf>>2]|0,gi?(pi&255)>>>1:k[Zf>>2]|0)|0;yi=(k[wi>>2]|0)+-24|0;k[E>>2]=k[Qf>>2];Ss(aa,yi,E);Fi=k[ea>>2]|0;Ai=k[ia>>2]|0;if(Fi>>>0<Ai>>>0){k[Fi+12>>2]=k[ra>>2];k[Fi>>2]=k[aa>>2];k[Fi+4>>2]=k[fa>>2];k[Fi+8>>2]=k[la>>2];k[la>>2]=0;k[fa>>2]=0;k[aa>>2]=0;k[ea>>2]=(k[ea>>2]|0)+16}else{Oi=k[$f>>2]|0;Mi=Fi-Oi|0;Ri=Mi>>4;Ni=Ri+1|0;if((Mi|0)<-16){Ya=86;break f}Pi=Ai-Oi|0;if(Pi>>4>>>0<1073741823){Di=Pi>>3;o=Di>>>0<Ni>>>0?Ni:Di}else o=2147483647;wt(va,o,Ri,na);Ci=k[sa>>2]|0;k[Ci+12>>2]=k[ra>>2];k[Ci>>2]=k[aa>>2];k[Ci+4>>2]=k[fa>>2];k[Ci+8>>2]=k[la>>2];k[la>>2]=0;k[fa>>2]=0;k[aa>>2]=0;k[sa>>2]=Ci+16;zl($f,va);Ps(va)}nt(aa);Nu(ga);Ra=di;break}case 76:{Ii=Ca+1|0;if((Ii|0)==(i|0)){d=w;break i}else Ra=Ii;break}default:{Ba=Ca;Ya=93;break a}}J=c[Ra>>0]|0;if(J<<24>>24==69){Fa=Aa;Na=Ra;break r}else Ca=Ra}a:do{if((Ya|0)==25){Ya=0;Q=Ia+1|0;if((Q|0)!=(i|0))if((c[Q>>0]|0)==116){Ba=Ia;Ya=93;break}$=Dr(Ia,i,r)|0;if(($|0)==(Ia|0)|($|0)==(i|0)){d=w;break i}et(ma,(k[wi>>2]|0)+-24|0);ee=k[wi>>2]|0;re=ee+-24|0;ae=ee;do{fe=ae+-24|0;k[wi>>2]=fe;Wo(fe);ae=k[wi>>2]|0}while((ae|0)!=(re|0));le=ee+-48|0;ne=c[le>>0]|0;if(!(ne&1))te=(ne&255)>>>1;else te=k[ee+-44>>2]|0;if(!te)Kt(le,ma);else{_s(_,12876,ma);oe=c[_>>0]|0;ue=(oe&1)==0;zn(le,ue?g:k[S>>2]|0,ue?(oe&255)>>>1:k[y>>2]|0)|0;Nu(_);be=(k[wi>>2]|0)+-24|0;k[ge>>2]=k[Qf>>2];Ss(v,be,ge);ke=k[ea>>2]|0;de=k[ia>>2]|0;if(ke>>>0<de>>>0){k[ke+12>>2]=k[F>>2];k[ke>>2]=k[v>>2];k[ke+4>>2]=k[A>>2];k[ke+8>>2]=k[T>>2];k[T>>2]=0;k[A>>2]=0;k[v>>2]=0;k[ea>>2]=(k[ea>>2]|0)+16}else{we=k[$f>>2]|0;_e=ke-we|0;ve=_e>>4;Ee=ve+1|0;if((_e|0)<-16){Ya=37;break f}me=de-we|0;if(me>>4>>>0<1073741823){pe=me>>3;n=pe>>>0<Ee>>>0?Ee:pe}else n=2147483647;wt(va,n,ve,na);Se=k[O>>2]|0;k[Se+12>>2]=k[F>>2];k[Se>>2]=k[v>>2];k[Se+4>>2]=k[A>>2];k[Se+8>>2]=k[T>>2];k[T>>2]=0;k[A>>2]=0;k[v>>2]=0;k[O>>2]=Se+16;zl($f,va);Ps(va)}nt(v)}Nu(ma);Pa=$}else if((Ya|0)==44){Ya=0;ye=ba(La,i,r)|0;if((ye|0)==(La|0)|(ye|0)==(i|0)){d=w;break i}et(pa,(k[wi>>2]|0)+-24|0);Fe=k[wi>>2]|0;Ae=Fe+-24|0;Oe=Fe;do{Te=Oe+-24|0;k[wi>>2]=Te;Wo(Te);Oe=k[wi>>2]|0}while((Oe|0)!=(Ae|0));Me=Fe+-48|0;Re=c[Me>>0]|0;if(!(Re&1))Ne=(Re&255)>>>1;else Ne=k[Fe+-44>>2]|0;if(!Ne)Kt(Me,pa);else{_s(fi,12876,pa);Pe=c[fi>>0]|0;De=(Pe&1)==0;zn(Me,De?I:k[C>>2]|0,De?(Pe&255)>>>1:k[L>>2]|0)|0;Nu(fi)}Ie=(k[wi>>2]|0)+-24|0;k[dr>>2]=k[Qf>>2];Ss(Li,Ie,dr);Le=k[ea>>2]|0;xe=k[ia>>2]|0;if(Le>>>0<xe>>>0){k[Le+12>>2]=k[M>>2];k[Le>>2]=k[Li>>2];k[Le+4>>2]=k[R>>2];k[Le+8>>2]=k[N>>2];k[N>>2]=0;k[R>>2]=0;k[Li>>2]=0;k[ea>>2]=(k[ea>>2]|0)+16}else{Be=k[$f>>2]|0;He=Le-Be|0;Ue=He>>4;Ye=Ue+1|0;if((He|0)<-16){Ya=56;break f}ze=xe-Be|0;if(ze>>4>>>0<1073741823){Ve=ze>>3;s=Ve>>>0<Ye>>>0?Ye:Ve}else s=2147483647;wt(va,s,Ue,na);We=k[D>>2]|0;k[We+12>>2]=k[M>>2];k[We>>2]=k[Li>>2];k[We+4>>2]=k[R>>2];k[We+8>>2]=k[N>>2];k[N>>2]=0;k[R>>2]=0;k[Li>>2]=0;k[D>>2]=We+16;zl($f,va);Ps(va)}nt(Li);Nu(pa);Pa=ye}else if((Ya|0)==61){Ya=0;je=xa+1|0;if((je|0)!=(i|0))switch(c[je>>0]|0){case 84:case 116:break;default:{Ba=xa;Ya=93;break a}}Ke=kl(xa,i,r)|0;if((Ke|0)==(xa|0)|(Ke|0)==(i|0)){d=w;break i}et(Sa,(k[wi>>2]|0)+-24|0);Xe=k[wi>>2]|0;Ge=Xe+-24|0;Je=Xe;do{qe=Je+-24|0;k[wi>>2]=qe;Wo(qe);Je=k[wi>>2]|0}while((Je|0)!=(Ge|0));Qe=Xe+-48|0;$e=c[Qe>>0]|0;if(!($e&1))ei=($e&255)>>>1;else ei=k[Xe+-44>>2]|0;if(!ei)Kt(Qe,Sa);else{_s(nf,12876,Sa);ii=c[nf>>0]|0;ri=(ii&1)==0;zn(Qe,ri?z:k[Y>>2]|0,ri?(ii&255)>>>1:k[W>>2]|0)|0;Nu(nf)}li=(k[wi>>2]|0)+-24|0;k[Gf>>2]=k[Qf>>2];Ss(Uf,li,Gf);ni=k[ea>>2]|0;si=k[ia>>2]|0;if(ni>>>0<si>>>0){k[ni+12>>2]=k[x>>2];k[ni>>2]=k[Uf>>2];k[ni+4>>2]=k[B>>2];k[ni+8>>2]=k[H>>2];k[H>>2]=0;k[B>>2]=0;k[Uf>>2]=0;k[ea>>2]=(k[ea>>2]|0)+16}else{ti=k[$f>>2]|0;oi=ni-ti|0;ui=oi>>4;ci=ui+1|0;if((oi|0)<-16){Ya=75;break f}bi=si-ti|0;if(bi>>4>>>0<1073741823){ki=bi>>3;t=ki>>>0<ci>>>0?ci:ki}else t=2147483647;wt(va,t,ui,na);hi=k[U>>2]|0;k[hi+12>>2]=k[x>>2];k[hi>>2]=k[Uf>>2];k[hi+4>>2]=k[B>>2];k[hi+8>>2]=k[H>>2];k[H>>2]=0;k[B>>2]=0;k[Uf>>2]=0;k[U>>2]=hi+16;zl($f,va);Ps(va)}nt(Uf);Nu(Sa);Pa=Ke}}while(0);if((Ya|0)==93){Ya=0;xi=Mr(Ba,i,r)|0;if((xi|0)==(Ba|0)|(xi|0)==(i|0)){d=w;break i}et(ya,(k[wi>>2]|0)+-24|0);Bi=k[wi>>2]|0;Hi=Bi+-24|0;Yi=Bi;do{Ui=Yi+-24|0;k[wi>>2]=Ui;Wo(Ui);Yi=k[wi>>2]|0}while((Yi|0)!=(Hi|0));Vi=Bi+-48|0;Wi=c[Vi>>0]|0;if(!(Wi&1))ji=(Wi&255)>>>1;else ji=k[Bi+-44>>2]|0;if(!ji)Kt(Vi,ya);else{_s(P,12876,ya);Ki=c[P>>0]|0;Xi=(Ki&1)==0;zn(Vi,Xi?da:k[ha>>2]|0,Xi?(Ki&255)>>>1:k[wa>>2]|0)|0;Nu(P)}Gi=(k[wi>>2]|0)+-24|0;k[Z>>2]=k[Qf>>2];Ss(V,Gi,Z);qi=k[ea>>2]|0;Ji=k[ia>>2]|0;if(qi>>>0<Ji>>>0){k[qi+12>>2]=k[oa>>2];k[qi>>2]=k[V>>2];k[qi+4>>2]=k[ua>>2];k[qi+8>>2]=k[ca>>2];k[ca>>2]=0;k[ua>>2]=0;k[V>>2]=0;k[ea>>2]=(k[ea>>2]|0)+16}else{Zi=k[$f>>2]|0;Qi=qi-Zi|0;$i=Qi>>4;er=$i+1|0;if((Qi|0)<-16){Ya=105;break}ir=Ji-Zi|0;if(ir>>4>>>0<1073741823){rr=ir>>3;u=rr>>>0<er>>>0?er:rr}else u=2147483647;wt(va,u,$i,na);fr=k[ka>>2]|0;k[fr+12>>2]=k[oa>>2];k[fr>>2]=k[V>>2];k[fr+4>>2]=k[ua>>2];k[fr+8>>2]=k[ca>>2];k[ca>>2]=0;k[ua>>2]=0;k[V>>2]=0;k[ka>>2]=fr+16;zl($f,va);Ps(va)}nt(V);Nu(ya);Pa=xi}Xf=c[Pa>>0]|0;if(Xf<<24>>24==69){Fa=1;Na=Pa;break r}else{Aa=1;Da=Pa}}if((Ya|0)==37)gc($f);else if((Ya|0)==56)gc($f);else if((Ya|0)==75)gc($f);else if((Ya|0)==86)gc($f);else if((Ya|0)==105)gc($f)}}while(0);ar=Na+1|0;k[r+48>>2]=k[Ea>>2];if(Fa){lr=k[ea>>2]|0;if((k[r+16>>2]|0)==(lr|0))d=ar;else{nr=lr+-16|0;tr=lr;do{sr=tr+-16|0;k[ea>>2]=sr;nt(sr);tr=k[ea>>2]|0}while((tr|0)!=(nr|0));d=ar}}else d=ar}}else d=w}while(0);h=(d|0)==(w|0)?e:d;break e;break}case 90:{i:do{if((w|0)==(i|0))b=i;else if(Ce<<24>>24==90){or=w+1|0;ur=Tr(or,i,r)|0;if((ur|0)==(or|0)|(ur|0)==(i|0))b=w;else if((c[ur>>0]|0)==69){cr=ur+1|0;if((cr|0)==(i|0))b=w;else switch(c[cr>>0]|0){case 115:{kr=Gl(ur+2|0,i)|0;hr=k[r+4>>2]|0;if((k[r>>2]|0)==(hr|0)){b=kr;break i}Vo(hr+-24|0,12879)|0;b=kr;break i;break}case 100:{_r=ur+2|0;if((_r|0)==(i|0)){b=w;break i}vr=ys(_r,i)|0;if((vr|0)==(i|0)){b=w;break i}if((c[vr>>0]|0)!=95){b=w;break i}Er=vr+1|0;mr=yr(Er,i,r)|0;pr=r+4|0;gr=k[pr>>2]|0;if((mr|0)==(Er|0)){Ir=gr+-24|0;xr=gr;while(1){Lr=xr+-24|0;k[pr>>2]=Lr;Wo(Lr);xr=k[pr>>2]|0;if((xr|0)==(Ir|0)){b=w;break i}}}if(((gr-(k[r>>2]|0)|0)/24|0)>>>0<2){b=w;break i}et(va,gr+-24|0);Fr=k[pr>>2]|0;Ar=Fr+-24|0;Nr=Fr;do{Rr=Nr+-24|0;k[pr>>2]=Rr;Wo(Rr);Nr=k[pr>>2]|0}while((Nr|0)!=(Ar|0));Vo(Fr+-48|0,12876)|0;Pr=c[va>>0]|0;Cr=(Pr&1)==0;zn((k[pr>>2]|0)+-24|0,Cr?va+1|0:k[va+8>>2]|0,Cr?(Pr&255)>>>1:k[va+4>>2]|0)|0;Nu(va);b=mr;break i;break}default:{Br=yr(cr,i,r)|0;if((Br|0)==(cr|0)){qr=r+4|0;Jr=k[qr>>2]|0;Zr=Jr+-24|0;$r=Jr;while(1){Qr=$r+-24|0;k[qr>>2]=Qr;Wo(Qr);$r=k[qr>>2]|0;if(($r|0)==(Zr|0)){b=w;break i}}}Hr=Gl(Br,i)|0;Ur=r+4|0;Yr=k[Ur>>2]|0;if(((Yr-(k[r>>2]|0)|0)/24|0)>>>0<2){b=Hr;break i}et(Ea,Yr+-24|0);zr=k[Ur>>2]|0;Vr=zr+-24|0;jr=zr;do{Wr=jr+-24|0;k[Ur>>2]=Wr;Wo(Wr);jr=k[Ur>>2]|0}while((jr|0)!=(Vr|0));Vo(zr+-48|0,12876)|0;Xr=c[Ea>>0]|0;Gr=(Xr&1)==0;zn((k[Ur>>2]|0)+-24|0,Gr?Ea+1|0:k[Ea+8>>2]|0,Gr?(Xr&255)>>>1:k[Ea+4>>2]|0)|0;Nu(Ea);b=Hr;break i}}}else b=w}else b=w}while(0);m=za;return((b|0)==(w|0)?e:b)|0}default:{do{if((ce-w|0)>1){if(Ce<<24>>24==83)if((c[w+1>>0]|0)==116){rf=w+2|0;if((rf|0)==(i|0)){_a=0;Ta=i}else{_a=0;Ta=(c[rf>>0]|0)==76?w+3|0:rf}}else{_a=1;Ta=w}else{_a=1;Ta=w}ff=Mr(Ta,i,r)|0;af=(ff|0)==(Ta|0);if(_a|af)f=af?w:ff;else{lf=k[r+4>>2]|0;if((k[r>>2]|0)==(lf|0))break;Mo(lf+-24|0,0,12896)|0;f=ff}if((f|0)!=(w|0)){if((f|0)==(i|0)){h=i;break e}if((c[f>>0]|0)!=73){h=f;break e}sf=r+4|0;tf=k[sf>>2]|0;if((k[r>>2]|0)==(tf|0)){h=e;break e}of=r+16|0;k[se>>2]=k[r+12>>2];Ss(ie,tf+-24|0,se);cf=r+20|0;bf=k[cf>>2]|0;kf=k[r+24>>2]|0;if(bf>>>0<kf>>>0){k[bf+12>>2]=k[ie+12>>2];k[bf>>2]=k[ie>>2];df=ie+4|0;k[bf+4>>2]=k[df>>2];wf=ie+8|0;k[bf+8>>2]=k[wf>>2];k[wf>>2]=0;k[df>>2]=0;k[ie>>2]=0;k[cf>>2]=(k[cf>>2]|0)+16}else{_f=k[of>>2]|0;vf=bf-_f|0;Ef=vf>>4;mf=Ef+1|0;if((vf|0)<-16)gc(of);pf=kf-_f|0;if(pf>>4>>>0<1073741823){Sf=pf>>3;a=Sf>>>0<mf>>>0?mf:Sf}else a=2147483647;wt(va,a,Ef,r+28|0);gf=va+8|0;yf=k[gf>>2]|0;k[yf+12>>2]=k[ie+12>>2];k[yf>>2]=k[ie>>2];Af=ie+4|0;k[yf+4>>2]=k[Af>>2];Tf=ie+8|0;k[yf+8>>2]=k[Tf>>2];k[Tf>>2]=0;k[Af>>2]=0;k[ie>>2]=0;k[gf>>2]=yf+16;zl(of,va);Ps(va)}nt(ie);Of=ta(f,i,r)|0;if((Of|0)==(f|0)){h=e;break e}Mf=k[sf>>2]|0;if(((Mf-(k[r>>2]|0)|0)/24|0)>>>0<2){h=e;break e}et(Ha,Mf+-24|0);Rf=k[sf>>2]|0;Nf=Rf+-24|0;Df=Rf;do{Pf=Df+-24|0;k[sf>>2]=Pf;Wo(Pf);Df=k[sf>>2]|0}while((Df|0)!=(Nf|0));Cf=c[Ha>>0]|0;If=(Cf&1)==0;zn(Rf+-48|0,If?Ha+1|0:k[Ha+8>>2]|0,If?(Cf&255)>>>1:k[Ha+4>>2]|0)|0;Nu(Ha);h=Of;break e}}}while(0);Lf=Dr(w,i,r)|0;if((Lf|0)==(w|0)|(Lf|0)==(i|0)){h=e;break e}if((c[Lf>>0]|0)!=73){h=e;break e}xf=ta(Lf,i,r)|0;if((xf|0)==(Lf|0)){h=e;break e}Bf=r+4|0;Hf=k[Bf>>2]|0;if(((Hf-(k[r>>2]|0)|0)/24|0)>>>0<2){h=e;break e}et(Ua,Hf+-24|0);Yf=k[Bf>>2]|0;zf=Yf+-24|0;Wf=Yf;do{Vf=Wf+-24|0;k[Bf>>2]=Vf;Wo(Vf);Wf=k[Bf>>2]|0}while((Wf|0)!=(zf|0));jf=c[Ua>>0]|0;Kf=(jf&1)==0;zn(Yf+-48|0,Kf?Ua+1|0:k[Ua+8>>2]|0,Kf?(jf&255)>>>1:k[Ua+4>>2]|0)|0;Nu(Ua);h=xf;break e}}}else h=e}while(0);m=za;return h|0}function Fr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0.0,w=0.0,_=0,E=0.0,g=0.0,y=0,F=0,A=0,T=0.0,O=0,M=0,R=0.0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0.0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0.0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0.0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0.0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,Sr=0,gr=0,yr=0,Fr=0,Ar=0,Tr=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0,ef=0,rf=0,ff=0,af=0,lf=0,nf=0,sf=0,tf=0,of=0,uf=0,cf=0,bf=0,kf=0,hf=0,df=0,wf=0,_f=0,vf=0,Ef=0,mf=0,pf=0,Sf=0,gf=0,yf=0,Ff=0,Af=0,Tf=0,Of=0,Mf=0,Rf=0,Nf=0,Pf=0,Df=0,Cf=0,If=0,Lf=0,xf=0,Bf=0,Hf=0,Uf=0,Yf=0,zf=0,Vf=0,Wf=0,jf=0,Kf=0,Xf=0,Gf=0,qf=0,Jf=0,Zf=0,Qf=0,$f=0,ea=0,ia=0,ra=0,fa=0,aa=0,la=0,na=0,sa=0,ta=0,oa=0,ua=0,ca=0,ba=0,ka=0,ha=0,da=0,wa=0,_a=0,va=0,Ea=0,ma=0,pa=0,Sa=0,ga=0,ya=0,Fa=0,Aa=0,Ta=0,Oa=0,Ma=0,Ra=0,Na=0,Pa=0,Da=0,Ca=0,Ia=0,La=0,xa=0,Ba=0,Ha=0,Ua=0,Ya=0,za=0,Va=0,Wa=0,ja=0,Ka=0,Xa=0,Ga=0,qa=0,Ja=0,Za=0,Qa=0,$a=0,el=0,il=0,rl=0,fl=0,al=0,ll=0,sl=0,tl=0,ol=0,ul=0,bl=0,kl=0,hl=0,dl=0,wl=0,_l=0,vl=0,El=0,ml=0,pl=0,Sl=0,gl=0,yl=0,Fl=0,Al=0,Tl=0,Ol=0,Ml=0,Rl=0,Nl=0,Pl=0,Dl=0,Cl=0,Il=0,Ll=0,xl=0,Bl=0,Hl=0,Ul=0,Yl=0,zl=0,Vl=0,Wl=0,jl=0,Kl=0,Xl=0,Gl=0,ql=0,Jl=0,Zl=0,Ql=0,$l=0.0,rn=0.0,fn=0,an=0,ln=0,nn=0,sn=0,tn=0,on=0,un=0,cn=0,bn=0,kn=0.0,hn=0.0,dn=0,wn=0,_n=0,vn=0,En=0,mn=0,pn=0,Sn=0,gn=0,yn=0,Fn=0,An=0,Tn=0,On=0,Mn=0,Rn=0,Nn=0,Dn=0,Cn=0,In=0,Ln=0,xn=0,Bn=0,Hn=0,Un=0,Yn=0,zn=0,Wn=0,jn=0,Kn=0,Xn=0;Xn=m;m=m+624|0;if((m|0)>=(p|0))he();oa=Xn+24|0;Na=Xn+16|0;ca=Xn+588|0;Pa=Xn+576|0;sa=Xn;ua=Xn+536|0;An=Xn+8|0;Cl=Xn+528|0;se=(e|0)!=0;te=ua+40|0;Ue=te;vi=ua+39|0;Vi=An+4|0;vr=Pa+12|0;Jr=Pa+11|0;Of=ca;zf=vr;Vf=zf-Of|0;oe=-2-Of|0;we=zf+2|0;_e=oa+288|0;ve=ca+9|0;ye=ve;Me=ca+8|0;ha=0;Xa=i;Fl=0;Ml=0;e:while(1){do{if((ha|0)>-1)if((Fl|0)>(2147483647-ha|0)){Be=Ju()|0;k[Be>>2]=75;da=-1;break}else{da=Fl+ha|0;break}else da=ha}while(0);Ve=c[Xa>>0]|0;if(!(Ve<<24>>24)){wa=da;Rl=Ml;Kn=245;break}else{qe=Ve;Ka=Xa}i:while(1){switch(qe<<24>>24){case 37:{ja=Ka;Nn=Ka;Kn=9;break i;break}case 0:{Wa=Ka;Rn=Ka;break i;break}default:{}}Ze=Ka+1|0;qe=c[Ze>>0]|0;Ka=Ze}i:do{if((Kn|0)==9)while(1){Kn=0;if((c[ja+1>>0]|0)!=37){Wa=ja;Rn=Nn;break i}ci=Nn+1|0;di=ja+2|0;if((c[di>>0]|0)==37){ja=di;Nn=ci;Kn=9}else{Wa=di;Rn=ci;break}}}while(0);Ai=Rn-Xa|0;if(se)if(!(k[e>>2]&32))en(Xa,Ai,e)|0;if((Rn|0)!=(Xa|0)){ha=da;Xa=Wa;Fl=Ai;continue}Bi=Wa+1|0;Wi=c[Bi>>0]|0;hl=(Wi<<24>>24)+-48|0;if(hl>>>0<10){er=(c[Wa+2>>0]|0)==36;C=er?Wa+3|0:Bi;nr=c[C>>0]|0;ta=er?hl:-1;Nl=er?1:Ml;_n=C}else{nr=Wi;ta=-1;Nl=Ml;_n=Bi}fr=nr<<24>>24;i:do{if((fr&-32|0)==32){Sr=fr;xr=nr;xa=0;En=_n;while(1){if(!(1<<Sr+-32&75913)){_f=xr;Ba=xa;mn=En;break i}Gr=1<<(xr<<24>>24)+-32|xa;Zr=En+1|0;ff=c[Zr>>0]|0;Sr=ff<<24>>24;if((Sr&-32|0)!=32){_f=ff;Ba=Gr;mn=Zr;break}else{xr=ff;xa=Gr;En=Zr}}}else{_f=nr;Ba=0;mn=_n}}while(0);do{if(_f<<24>>24==42){Sf=mn+1|0;_l=(c[Sf>>0]|0)+-48|0;if(_l>>>0<10)if((c[mn+2>>0]|0)==36){k[a+(_l<<2)>>2]=10;Pl=1;vn=mn+3|0;gn=k[f+((c[Sf>>0]|0)+-48<<3)>>2]|0}else Kn=24;else Kn=24;if((Kn|0)==24){Kn=0;if(Nl){l=-1;break e}if(!se){Ha=Ba;Ga=Sf;Dl=0;yn=0;break}Wf=(k[r>>2]|0)+(4-1)&~(4-1);jf=k[Wf>>2]|0;k[r>>2]=Wf+4;Pl=0;vn=Sf;gn=jf}if((gn|0)<0){Ha=Ba|8192;Ga=vn;Dl=Pl;yn=0-gn|0}else{Ha=Ba;Ga=vn;Dl=Pl;yn=gn}}else{dl=(_f<<24>>24)+-48|0;if(dl>>>0<10){ue=mn;rl=0;vl=dl;while(1){Kf=(rl*10|0)+vl|0;Xf=ue+1|0;vl=(c[Xf>>0]|0)+-48|0;if(vl>>>0>=10){H=Kf;z=Xf;break}else{ue=Xf;rl=Kf}}if((H|0)<0){l=-1;break e}else{Ha=Ba;Ga=z;Dl=Nl;yn=H}}else{Ha=Ba;Ga=mn;Dl=Nl;yn=0}}}while(0);i:do{if((c[Ga>>0]|0)==46){be=Ga+1|0;ke=c[be>>0]|0;if(ke<<24>>24!=42){wl=(ke<<24>>24)+-48|0;if(wl>>>0<10){ge=be;fl=0;El=wl}else{Za=be;Ll=0;break}while(1){pe=(fl*10|0)+El|0;Se=ge+1|0;El=(c[Se>>0]|0)+-48|0;if(El>>>0>=10){Za=Se;Ll=pe;break i}else{ge=Se;fl=pe}}}de=Ga+2|0;ml=(c[de>>0]|0)+-48|0;if(ml>>>0<10)if((c[Ga+3>>0]|0)==36){k[a+(ml<<2)>>2]=10;Za=Ga+4|0;Ll=k[f+((c[de>>0]|0)+-48<<3)>>2]|0;break}if(Dl){l=-1;break e}if(se){Ee=(k[r>>2]|0)+(4-1)&~(4-1);me=k[Ee>>2]|0;k[r>>2]=Ee+4;Za=de;Ll=me}else{Za=de;Ll=0}}else{Za=Ga;Ll=-1}}while(0);qa=Za;dn=0;while(1){Fe=(c[qa>>0]|0)+-65|0;if(Fe>>>0>57){l=-1;break e}Ae=qa+1|0;Te=c[17777+(dn*58|0)+Fe>>0]|0;Oe=Te&255;if((Oe+-1|0)>>>0<8){qa=Ae;dn=Oe}else{V=Ae;W=Te;j=Oe;Ja=qa;wn=dn;break}}if(!(W<<24>>24)){l=-1;break}Re=(ta|0)>-1;do{if(W<<24>>24==19)if(Re){l=-1;break e}else Kn=52;else{if(Re){k[a+(ta<<2)>>2]=j;Ne=f+(ta<<3)|0;Pe=k[Ne+4>>2]|0;De=sa;k[De>>2]=k[Ne>>2];k[De+4>>2]=Pe;Kn=52;break}if(!se){l=0;break e}nl(sa,j,r)}}while(0);if((Kn|0)==52){Kn=0;if(!se){ha=da;Xa=V;Fl=Ai;Ml=Dl;continue}}Ce=c[Ja>>0]|0;pn=(wn|0)!=0&(Ce&15|0)==3?Ce&-33:Ce;Ie=Ha&-65537;Ua=(Ha&8192|0)==0?Ha:Ie;i:do{switch(pn|0){case 110:{switch(wn|0){case 0:{k[k[sa>>2]>>2]=da;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 1:{k[k[sa>>2]>>2]=da;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 2:{xe=k[sa>>2]|0;k[xe>>2]=da;k[xe+4>>2]=((da|0)<0)<<31>>31;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 3:{b[k[sa>>2]>>1]=da;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 4:{c[k[sa>>2]>>0]=da;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 6:{k[k[sa>>2]>>2]=da;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}case 7:{He=k[sa>>2]|0;k[He>>2]=da;k[He+4>>2]=((da|0)<0)<<31>>31;ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e;break}default:{ha=da;Xa=V;Fl=Ai;Ml=Dl;continue e}}break}case 112:{Ya=Ua|8;xl=Ll>>>0>8?Ll:8;Sn=120;Kn=64;break}case 88:case 120:{Ya=Ua;xl=Ll;Sn=pn;Kn=64;break}case 111:{Qe=sa;$e=k[Qe>>2]|0;ei=k[Qe+4>>2]|0;if(($e|0)==0&(ei|0)==0)s=te;else{u=te;ii=$e;fi=ei;while(1){ri=u+-1|0;c[ri>>0]=ii&7|48;ii=au(ii|0,fi|0,3)|0;fi=Y;if((ii|0)==0&(fi|0)==0){s=ri;break}else u=ri}}if(!(Ua&8)){Gf=s;za=Ua;Bl=Ll;Vl=0;ql=18257;Kn=77}else{ai=Ue-s+1|0;Gf=s;za=Ua;Bl=(Ll|0)<(ai|0)?ai:Ll;Vl=0;ql=18257;Kn=77}break}case 105:case 100:{li=sa;ni=k[li>>2]|0;si=k[li+4>>2]|0;if((si|0)<0){ti=Su(0,0,ni|0,si|0)|0;oi=Y;ui=sa;k[ui>>2]=ti;k[ui+4>>2]=oi;ki=ti;hi=oi;Yl=1;Kl=18257;Kn=76;break i}if(!(Ua&2048)){bi=Ua&1;ki=ni;hi=si;Yl=bi;Kl=(bi|0)==0?18257:18259;Kn=76}else{ki=ni;hi=si;Yl=1;Kl=18258;Kn=76}break}case 117:{Le=sa;ki=k[Le>>2]|0;hi=k[Le+4>>2]|0;Yl=0;Kl=18257;Kn=76;break}case 99:{c[vi>>0]=k[sa>>2];Qf=vi;Va=Ie;Ul=1;jl=0;Jl=18257;In=te;break}case 109:{mi=Ju()|0;qf=ds(k[mi>>2]|0)|0;Kn=82;break}case 115:{pi=k[sa>>2]|0;qf=(pi|0)!=0?pi:18267;Kn=82;break}case 67:{k[An>>2]=k[sa>>2];k[Vi>>2]=0;k[sa>>2]=An;Hl=-1;Kn=86;break}case 83:{if(!Ll){Vn(e,32,yn,0,Ua);$a=0;Kn=98}else{Hl=Ll;Kn=86}break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{Ri=+v[sa>>3];k[Na>>2]=0;v[S>>3]=Ri;if((k[S+4>>2]|0)<0){d=-Ri;zl=1;Gl=18274}else if(!(Ua&2048)){Ni=Ua&1;d=Ri;zl=Ni;Gl=(Ni|0)==0?18275:18280}else{d=Ri;zl=1;Gl=18277}v[S>>3]=d;Pi=k[S+4>>2]&2146435072;do{if(Pi>>>0<2146435072|(Pi|0)==2146435072&0<0){Hi=+_b(d,Na)*2.0;Ui=Hi!=0.0;if(Ui)k[Na>>2]=(k[Na>>2]|0)+-1;Yi=pn|32;if((Yi|0)==97){zi=pn&32;Xl=(zi|0)==0?Gl:Gl+9|0;ji=zl|2;Ki=12-Ll|0;do{if(Ll>>>0>11|(Ki|0)==0)w=Hi;else{Ql=Ki;$l=8.0;while(1){Ql=Ql+-1|0;Xi=$l*16.0;if(!Ql){J=Xi;break}else $l=Xi}if((c[Xl>>0]|0)==45){w=-(J+(-Hi-J));break}else{w=Hi+J-J;break}}}while(0);Gi=k[Na>>2]|0;qi=(Gi|0)<0?0-Gi|0:Gi;Ji=Pn(qi,((qi|0)<0)<<31>>31,vr)|0;if((Ji|0)==(vr|0)){c[Jr>>0]=48;Da=Jr}else Da=Ji;c[Da+-1>>0]=(Gi>>31&2)+43;Zi=Da+-2|0;c[Zi>>0]=pn+15;Il=(Ll|0)<1;Qi=(Ua&8|0)==0;E=w;fn=ca;while(1){$i=~~E;ir=fn+1|0;c[fn>>0]=h[18241+$i>>0]|zi;E=(E-+($i|0))*16.0;do{if((ir-Of|0)==1){if(Qi&(Il&E==0.0)){an=ir;break}c[ir>>0]=46;an=fn+2|0}else an=ir}while(0);if(!(E!=0.0)){ln=an;break}else fn=an}le=ln;Al=(Ll|0)!=0&(oe+le|0)<(Ll|0)?we+Ll-Zi|0:Vf-Zi+le|0;rr=Al+ji|0;Vn(e,32,yn,rr,Ua);if(!(k[e>>2]&32))en(Xl,ji,e)|0;Vn(e,48,yn,rr,Ua^65536);ar=le-Of|0;if(!(k[e>>2]&32))en(ca,ar,e)|0;lr=zf-Zi|0;Vn(e,48,Al-(ar+lr)|0,0,0);if(!(k[e>>2]&32))en(Zi,lr,e)|0;Vn(e,32,yn,rr,Ua^8192);n=(rr|0)<(yn|0)?yn:rr;break}ee=(Ll|0)<0?6:Ll;if(Ui){sr=(k[Na>>2]|0)+-28|0;k[Na>>2]=sr;T=Hi*268435456.0;tr=sr}else{T=Hi;tr=k[Na>>2]|0}O=(tr|0)<0?oa:_e;or=O;R=T;Mn=O;while(1){ur=~~R>>>0;k[Mn>>2]=ur;cr=Mn+4|0;R=(R-+(ur>>>0))*1.0e9;if(!(R!=0.0)){K=cr;break}else Mn=cr}re=k[Na>>2]|0;if((re|0)>0){br=re;Zf=O;Cn=K;while(1){kr=(br|0)>29?29:br;_a=Cn+-4|0;do{if(_a>>>0<Zf>>>0)$f=Zf;else{ba=0;va=_a;while(1){hr=iu(k[va>>2]|0,0,kr|0)|0;dr=Qu(hr|0,Y|0,ba|0,0)|0;wr=Y;_r=vo(dr|0,wr|0,1e9,0)|0;k[va>>2]=_r;Er=ic(dr|0,wr|0,1e9,0)|0;va=va+-4|0;if(va>>>0<Zf>>>0){X=Er;break}else ba=Er}if(!X){$f=Zf;break}mr=Zf+-4|0;k[mr>>2]=X;$f=mr}}while(0);Ln=Cn;while(1){if(Ln>>>0<=$f>>>0){xn=Ln;break}pr=Ln+-4|0;if(!(k[pr>>2]|0))Ln=pr;else{xn=Ln;break}}gr=(k[Na>>2]|0)-kr|0;k[Na>>2]=gr;if((gr|0)>0){br=gr;Zf=$f;Cn=xn}else{fe=gr;Jf=$f;Dn=xn;break}}}else{fe=re;Jf=O;Dn=K}if((fe|0)<0){yr=((ee+25|0)/9|0)+1|0;Fr=(Yi|0)==102;Tr=fe;ia=Jf;Hn=Dn;while(1){Ar=0-Tr|0;Or=(Ar|0)>9?9:Ar;do{if(ia>>>0<Hn>>>0){Mr=(1<<Or)+-1|0;Rr=1e9>>>Or;ka=0;Ea=ia;while(1){Nr=k[Ea>>2]|0;k[Ea>>2]=(Nr>>>Or)+ka;Pr=ce(Nr&Mr,Rr)|0;Ea=Ea+4|0;if(Ea>>>0>=Hn>>>0){G=Pr;break}else ka=Pr}L=(k[ia>>2]|0)==0?ia+4|0:ia;if(!G){x=L;Un=Hn;break}k[Hn>>2]=G;x=L;Un=Hn+4|0}else{x=(k[ia>>2]|0)==0?ia+4|0:ia;Un=Hn}}while(0);Dr=Fr?O:x;ne=(Un-Dr>>2|0)>(yr|0)?Dr+(yr<<2)|0:Un;Tr=(k[Na>>2]|0)+Or|0;k[Na>>2]=Tr;if((Tr|0)>=0){ea=x;Bn=ne;break}else{ia=x;Hn=ne}}}else{ea=Jf;Bn=Dn}do{if(ea>>>0<Bn>>>0){Cr=(or-ea>>2)*9|0;Ir=k[ea>>2]|0;if(Ir>>>0<10){Ta=Cr;break}else{Aa=Cr;il=10}while(1){il=il*10|0;Lr=Aa+1|0;if(Ir>>>0<il>>>0){Ta=Lr;break}else Aa=Lr}}else Ta=0}while(0);Br=(Yi|0)==103;Hr=(ee|0)!=0;Ur=ee-((Yi|0)!=102?Ta:0)+((Hr&Br)<<31>>31)|0;if((Ur|0)<(((Bn-or>>2)*9|0)+-9|0)){Yr=Ur+9216|0;zr=(Yr|0)/9|0;Vr=O+(zr+-1023<<2)|0;pl=((Yr|0)%9|0)+1|0;if((pl|0)<9){ll=10;Sl=pl;while(1){Wr=ll*10|0;Sl=Sl+1|0;if((Sl|0)==9){al=Wr;break}else ll=Wr}}else al=10;jr=k[Vr>>2]|0;Kr=(jr>>>0)%(al>>>0)|0;if(!Kr)if((O+(zr+-1022<<2)|0)==(Bn|0)){la=ea;Sa=Vr;Ma=Ta}else Kn=163;else Kn=163;do{if((Kn|0)==163){Kn=0;g=(((jr>>>0)/(al>>>0)|0)&1|0)==0?9007199254740992.0:9007199254740994.0;Xr=(al|0)/2|0;do{if(Kr>>>0<Xr>>>0)kn=.5;else{if((Kr|0)==(Xr|0))if((O+(zr+-1022<<2)|0)==(Bn|0)){kn=1.0;break}kn=1.5}}while(0);do{if(!zl){rn=g;hn=kn}else{if((c[Gl>>0]|0)!=45){rn=g;hn=kn;break}rn=-g;hn=-kn}}while(0);qr=jr-Kr|0;k[Vr>>2]=qr;if(!(rn+hn!=rn)){la=ea;Sa=Vr;Ma=Ta;break}Qr=qr+al|0;k[Vr>>2]=Qr;if(Qr>>>0>999999999){fa=ea;pa=Vr;while(1){$r=pa+-4|0;k[pa>>2]=0;if($r>>>0<fa>>>0){ef=fa+-4|0;k[ef>>2]=0;aa=ef}else aa=fa;rf=(k[$r>>2]|0)+1|0;k[$r>>2]=rf;if(rf>>>0>999999999){fa=aa;pa=$r}else{ra=aa;ma=$r;break}}}else{ra=ea;ma=Vr}af=(or-ra>>2)*9|0;lf=k[ra>>2]|0;if(lf>>>0<10){la=ra;Sa=ma;Ma=af;break}else{Oa=af;ul=10}while(1){ul=ul*10|0;nf=Oa+1|0;if(lf>>>0<ul>>>0){la=ra;Sa=ma;Ma=nf;break}else Oa=nf}}}while(0);sf=Sa+4|0;na=la;Ra=Ma;jn=Bn>>>0>sf>>>0?sf:Bn}else{na=ea;Ra=Ta;jn=Bn}tf=0-Ra|0;zn=jn;while(1){if(zn>>>0<=na>>>0){U=0;Wn=zn;break}of=zn+-4|0;if(!(k[of>>2]|0))zn=of;else{U=1;Wn=zn;break}}do{if(Br){Q=(Hr&1^1)+ee|0;if((Q|0)>(Ra|0)&(Ra|0)>-5){o=pn+-1|0;F=Q+-1-Ra|0}else{o=pn+-2|0;F=Q+-1|0}uf=Ua&8;if(uf){_=o;M=F;ae=uf;break}do{if(U){cf=k[Wn+-4>>2]|0;if(!cf){yl=9;break}if(!((cf>>>0)%10|0)){kl=10;gl=0}else{yl=0;break}while(1){kl=kl*10|0;bf=gl+1|0;if((cf>>>0)%(kl>>>0)|0){yl=bf;break}else gl=bf}}else yl=9}while(0);kf=((Wn-or>>2)*9|0)+-9|0;if((o|32|0)==102){hf=kf-yl|0;y=(hf|0)<0?0:hf;_=o;M=(F|0)<(y|0)?F:y;ae=0;break}else{df=kf+Ra-yl|0;A=(df|0)<0?0:df;_=o;M=(F|0)<(A|0)?F:A;ae=0;break}}else{_=pn;M=ee;ae=Ua&8}}while(0);wf=M|ae;vf=(wf|0)!=0&1;Ef=(_|32|0)==102;if(Ef){ie=(Ra|0)>0?Ra:0;La=0}else{mf=(Ra|0)<0?tf:Ra;pf=Pn(mf,((mf|0)<0)<<31>>31,vr)|0;if((zf-pf|0)<2){Ia=pf;while(1){gf=Ia+-1|0;c[gf>>0]=48;if((zf-gf|0)<2)Ia=gf;else{Ca=gf;break}}}else Ca=pf;c[Ca+-1>>0]=(Ra>>31&2)+43;yf=Ca+-2|0;c[yf>>0]=_;ie=zf-yf|0;La=yf}Ff=zl+1+M+vf+ie|0;Vn(e,32,yn,Ff,Ua);if(!(k[e>>2]&32))en(Gl,zl,e)|0;Vn(e,48,yn,Ff,Ua^65536);do{if(Ef){Zl=na>>>0>O>>>0?O:na;ga=Zl;while(1){Af=Pn(k[ga>>2]|0,0,ve)|0;do{if((ga|0)==(Zl|0)){if((Af|0)!=(ve|0)){sn=Af;break}c[Me>>0]=48;sn=Me}else{if(Af>>>0>ca>>>0)nn=Af;else{sn=Af;break}while(1){Tf=nn+-1|0;c[Tf>>0]=48;if(Tf>>>0>ca>>>0)nn=Tf;else{sn=Tf;break}}}}while(0);if(!(k[e>>2]&32))en(sn,ye-sn|0,e)|0;Mf=ga+4|0;if(Mf>>>0>O>>>0){q=Mf;break}else ga=Mf}do{if(wf){if(k[e>>2]&32)break;en(18309,1,e)|0}}while(0);if((M|0)>0&q>>>0<Wn>>>0){P=M;ya=q;while(1){Rf=Pn(k[ya>>2]|0,0,ve)|0;if(Rf>>>0>ca>>>0){on=Rf;while(1){Nf=on+-1|0;c[Nf>>0]=48;if(Nf>>>0>ca>>>0)on=Nf;else{tn=Nf;break}}}else tn=Rf;if(!(k[e>>2]&32))en(tn,(P|0)>9?9:P,e)|0;ya=ya+4|0;Pf=P+-9|0;if(!((P|0)>9&ya>>>0<Wn>>>0)){N=Pf;break}else P=Pf}}else N=M;Vn(e,48,N+9|0,9,0)}else{Yn=U?Wn:na+4|0;if((M|0)>-1){Df=(ae|0)==0;I=M;Fa=na;while(1){Cf=Pn(k[Fa>>2]|0,0,ve)|0;if((Cf|0)==(ve|0)){c[Me>>0]=48;un=Me}else un=Cf;do{if((Fa|0)==(na|0)){Lf=un+1|0;if(!(k[e>>2]&32))en(un,1,e)|0;if(Df&(I|0)<1){bn=Lf;break}if(k[e>>2]&32){bn=Lf;break}en(18309,1,e)|0;bn=Lf}else{if(un>>>0>ca>>>0)cn=un;else{bn=un;break}while(1){If=cn+-1|0;c[If>>0]=48;if(If>>>0>ca>>>0)cn=If;else{bn=If;break}}}}while(0);xf=ye-bn|0;if(!(k[e>>2]&32))en(bn,(I|0)>(xf|0)?xf:I,e)|0;Bf=I-xf|0;Fa=Fa+4|0;if(!(Fa>>>0<Yn>>>0&(Bf|0)>-1)){D=Bf;break}else I=Bf}}else D=M;Vn(e,48,D+18|0,18,0);if(k[e>>2]&32)break;en(La,zf-La|0,e)|0}}while(0);Vn(e,32,yn,Ff,Ua^8192);n=(Ff|0)<(yn|0)?yn:Ff}else{Di=(pn&32|0)!=0;Ci=d!=d|0.0!=0.0;Wl=Ci?0:zl;Ii=Wl+3|0;Vn(e,32,yn,Ii,Ie);Li=k[e>>2]|0;if(!(Li&32)){en(Gl,Wl,e)|0;xi=k[e>>2]|0}else xi=Li;if(!(xi&32))en(Ci?Di?18301:18305:Di?18293:18297,3,e)|0;Vn(e,32,yn,Ii,Ua^8192);n=(Ii|0)<(yn|0)?yn:Ii}}while(0);ha=da;Xa=V;Fl=n;Ml=Dl;continue e;break}default:{Qf=Xa;Va=Ua;Ul=Ll;jl=0;Jl=18257;In=te}}}while(0);i:do{if((Kn|0)==64){Kn=0;Ye=sa;ze=k[Ye>>2]|0;We=k[Ye+4>>2]|0;je=Sn&32;if((ze|0)==0&(We|0)==0){Gf=te;za=Ya;Bl=xl;Vl=0;ql=18257;Kn=77}else{t=te;Ke=ze;Ge=We;while(1){Xe=t+-1|0;c[Xe>>0]=h[18241+(Ke&15)>>0]|je;Ke=au(Ke|0,Ge|0,4)|0;Ge=Y;if((Ke|0)==0&(Ge|0)==0){Z=Xe;break}else t=Xe}Je=sa;if((Ya&8|0)==0|(k[Je>>2]|0)==0&(k[Je+4>>2]|0)==0){Gf=Z;za=Ya;Bl=xl;Vl=0;ql=18257;Kn=77}else{Gf=Z;za=Ya;Bl=xl;Vl=2;ql=18257+(Sn>>4)|0;Kn=77}}}else if((Kn|0)==76){Kn=0;Gf=Pn(ki,hi,te)|0;za=Ua;Bl=Ll;Vl=Yl;ql=Kl;Kn=77}else if((Kn|0)==82){Kn=0;Si=cl(qf,0,Ll)|0;gi=(Si|0)==0;Qf=qf;Va=Ie;Ul=gi?Ll:Si-qf|0;jl=0;Jl=18257;In=gi?qf+Ll|0:Si}else if((Kn|0)==86){Kn=0;el=0;Tl=0;Tn=k[sa>>2]|0;while(1){yi=k[Tn>>2]|0;if(!yi){Qa=el;Ol=Tl;break}Fi=Sc(Cl,yi)|0;if((Fi|0)<0|Fi>>>0>(Hl-el|0)>>>0){Qa=el;Ol=Fi;break}Ti=Fi+el|0;if(Hl>>>0>Ti>>>0){el=Ti;Tl=Fi;Tn=Tn+4|0}else{Qa=Ti;Ol=Fi;break}}if((Ol|0)<0){l=-1;break e}Vn(e,32,yn,Qa,Ua);if(!Qa){$a=0;Kn=98}else{sl=0;On=k[sa>>2]|0;while(1){Oi=k[On>>2]|0;if(!Oi){$a=Qa;Kn=98;break i}Mi=Sc(Cl,Oi)|0;sl=Mi+sl|0;if((sl|0)>(Qa|0)){$a=Qa;Kn=98;break i}if(!(k[e>>2]&32))en(Cl,Mi,e)|0;if(sl>>>0>=Qa>>>0){$a=Qa;Kn=98;break}else On=On+4|0}}}}while(0);if((Kn|0)==98){Kn=0;Vn(e,32,yn,$a,Ua^8192);ha=da;Xa=V;Fl=(yn|0)>($a|0)?yn:$a;Ml=Dl;continue}if((Kn|0)==77){Kn=0;B=(Bl|0)>-1?za&-65537:za;wi=sa;_i=(k[wi>>2]|0)!=0|(k[wi+4>>2]|0)!=0;if((Bl|0)!=0|_i){Ei=(_i&1^1)+(Ue-Gf)|0;Qf=Gf;Va=B;Ul=(Bl|0)>(Ei|0)?Bl:Ei;jl=Vl;Jl=ql;In=te}else{Qf=te;Va=B;Ul=0;jl=Vl;Jl=ql;In=te}}Hf=In-Qf|0;$=(Ul|0)<(Hf|0)?Hf:Ul;Uf=jl+$|0;Fn=(yn|0)<(Uf|0)?Uf:yn;Vn(e,32,Fn,Uf,Va);if(!(k[e>>2]&32))en(Jl,jl,e)|0;Vn(e,48,Fn,Uf,Va^65536);Vn(e,48,$,Hf,0);if(!(k[e>>2]&32))en(Qf,Hf,e)|0;Vn(e,32,Fn,Uf,Va^8192);ha=da;Xa=V;Fl=Fn;Ml=Dl}e:do{if((Kn|0)==245)if(!e)if(!Rl)l=0;else{tl=1;while(1){Yf=k[a+(tl<<2)>>2]|0;if(!Yf){ol=tl;break}nl(f+(tl<<3)|0,Yf,r);tl=tl+1|0;if((tl|0)>=10){l=1;break e}}if((ol|0)<10){bl=ol;while(1){if(k[a+(bl<<2)>>2]|0){l=-1;break e}bl=bl+1|0;if((bl|0)>=10){l=1;break}}}else l=1}else l=wa}while(0);m=Xn;return l|0}function Ar(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,vr=0,Er=0,mr=0,pr=0,gr=0,yr=0,Fr=0,Ar=0,Or=0,Mr=0,Rr=0,Nr=0,Pr=0,Dr=0,Cr=0,Ir=0,Lr=0,xr=0,Br=0,Hr=0,Ur=0,Yr=0,zr=0,Vr=0,Wr=0,jr=0,Kr=0,Xr=0,Gr=0,qr=0,Jr=0,Zr=0,Qr=0,$r=0;Qr=m;m=m+480|0;if((m|0)>=(p|0))he();Jr=Qr+72|0;qr=Qr+48|0;Gr=Qr+24|0;M=Qr;Wr=Qr+432|0;R=Qr+408|0;Ce=Qr+396|0;gi=Qr+384|0;$i=Qr+360|0;fr=Qr+336|0;tr=Qr+320|0;hr=Qr+308|0;Er=Qr+296|0;Ar=Qr+284|0;N=Qr+272|0;B=Qr+260|0;K=Qr+248|0;ee=Qr+236|0;le=Qr+224|0;ce=Qr+212|0;we=Qr+200|0;Ee=Qr+188|0;ye=Qr+176|0;Me=Qr+152|0;Ie=Qr+140|0;He=Qr+128|0;We=Qr+116|0;qe=Qr+104|0;ei=Qr+92|0;ai=i;e:do{if((ai-e|0)>3)if((c[e>>0]|0)==76){Oi=e+1|0;do{switch(c[Oi>>0]|0){case 84:{f=e;break e;break}case 119:{Hi=e+2|0;ct(gi,13738,7);zi=Ca(Hi,i,gi,r)|0;Nu(gi);f=(zi|0)==(Hi|0)?e:zi;break e;break}case 98:{if((c[e+3>>0]|0)!=69){f=e;break e}switch(c[e+2>>0]|0){case 48:{Bt($i,13746);er=r+4|0;ir=k[er>>2]|0;rr=k[r+8>>2]|0;if(ir>>>0<rr>>>0){Nt(ir,$i);k[er>>2]=(k[er>>2]|0)+24}else{ar=k[r>>2]|0;lr=ir-ar|0;nr=(lr|0)/24|0;sr=nr+1|0;if((lr|0)<-24)gc(r);or=(rr-ar|0)/24|0;if(or>>>0<1073741823){ur=or<<1;l=ur>>>0<sr>>>0?sr:ur}else l=2147483647;pt(M,l,nr,r+12|0);cr=M+8|0;br=k[cr>>2]|0;Nt(br,$i);k[cr>>2]=br+24;Bn(r,M);lt(M)}Wo($i);f=e+4|0;break e;break}case 49:{Dt(fr,13752);kr=r+4|0;dr=k[kr>>2]|0;wr=k[r+8>>2]|0;if(dr>>>0<wr>>>0){Nt(dr,fr);k[kr>>2]=(k[kr>>2]|0)+24}else{vr=k[r>>2]|0;mr=dr-vr|0;pr=(mr|0)/24|0;gr=pr+1|0;if((mr|0)<-24)gc(r);yr=(wr-vr|0)/24|0;if(yr>>>0<1073741823){Fr=yr<<1;o=Fr>>>0<gr>>>0?gr:Fr}else o=2147483647;pt(M,o,pr,r+12|0);Or=M+8|0;Mr=k[Or>>2]|0;Nt(Mr,fr);k[Or>>2]=Mr+24;Bn(r,M);lt(M)}Wo(fr);f=e+4|0;break e;break}default:{f=e;break e}}break}case 99:{Rr=e+2|0;ct(tr,13757,4);Nr=Ca(Rr,i,tr,r)|0;Nu(tr);f=(Nr|0)==(Rr|0)?e:Nr;break e;break}case 97:{Pr=e+2|0;ct(hr,13762,11);Dr=Ca(Pr,i,hr,r)|0;Nu(hr);f=(Dr|0)==(Pr|0)?e:Dr;break e;break}case 104:{P=e+2|0;ct(Er,13774,13);D=Ca(P,i,Er,r)|0;Nu(Er);f=(D|0)==(P|0)?e:D;break e;break}case 115:{C=e+2|0;ct(Ar,13788,5);I=Ca(C,i,Ar,r)|0;Nu(Ar);f=(I|0)==(C|0)?e:I;break e;break}case 116:{L=e+2|0;ct(N,13794,14);x=Ca(L,i,N,r)|0;Nu(N);f=(x|0)==(L|0)?e:x;break e;break}case 105:{H=e+2|0;ct(B,13809,0);U=Ca(H,i,B,r)|0;Nu(B);f=(U|0)==(H|0)?e:U;break e;break}case 106:{Y=e+2|0;ct(K,13810,1);z=Ca(Y,i,K,r)|0;Nu(K);f=(z|0)==(Y|0)?e:z;break e;break}case 108:{V=e+2|0;ct(ee,13812,1);W=Ca(V,i,ee,r)|0;Nu(ee);f=(W|0)==(V|0)?e:W;break e;break}case 109:{j=e+2|0;ct(le,13814,2);X=Ca(j,i,le,r)|0;Nu(le);f=(X|0)==(j|0)?e:X;break e;break}case 120:{G=e+2|0;ct(ce,13817,2);q=Ca(G,i,ce,r)|0;Nu(ce);f=(q|0)==(G|0)?e:q;break e;break}case 121:{J=e+2|0;ct(we,13820,3);Z=Ca(J,i,we,r)|0;Nu(we);f=(Z|0)==(J|0)?e:Z;break e;break}case 110:{Q=e+2|0;ct(Ee,13824,8);$=Ca(Q,i,Ee,r)|0;Nu(Ee);f=($|0)==(Q|0)?e:$;break e;break}case 111:{ie=e+2|0;ct(ye,13833,17);re=Ca(ie,i,ye,r)|0;Nu(ye);f=(re|0)==(ie|0)?e:re;break e;break}case 102:{fe=e+2|0;i:do{if((ai-fe|0)>>>0>8){ae=e+10|0;ne=c[fe>>0]|0;te=e;Lr=M;jr=fe;while(1){if(!(uc(ne<<24>>24)|0)){a=fe;break i}se=c[jr>>0]|0;ue=c[te+3>>0]|0;c[Lr>>0]=(((ue<<24>>24)+-48|0)>>>0<10?208:169)+(ue&255)+(((se+-48|0)>>>0<10?0:9)+se<<4);be=jr+2|0;ke=Lr+1|0;de=c[be>>0]|0;if((be|0)==(ae|0)){g=ke;y=de;xr=Lr;break}else{oe=jr;ne=de;Lr=ke;jr=be;te=oe}}if(y<<24>>24==69){if((M|0)!=(g|0)&M>>>0<xr>>>0){h=M;ve=xr;do{_e=c[h>>0]|0;c[h>>0]=c[ve>>0]|0;c[ve>>0]=_e;h=h+1|0;ve=ve+-1|0}while(h>>>0<ve>>>0)}Zr=Wr;$r=Zr+24|0;do{c[Zr>>0]=0;Zr=Zr+1|0}while((Zr|0)<($r|0));v[Gr>>3]=+_[M>>2];me=So(Wr,24,13851,Gr)|0;if(me>>>0>23)a=fe;else{ct(Ce,Wr,me);Zt(R,Ce);pe=r+4|0;Se=k[pe>>2]|0;ge=k[r+8>>2]|0;if(Se>>>0<ge>>>0){Nt(Se,R);k[pe>>2]=(k[pe>>2]|0)+24}else{Fe=k[r>>2]|0;Ae=Se-Fe|0;Te=(Ae|0)/24|0;Oe=Te+1|0;if((Ae|0)<-24)gc(r);Re=(ge-Fe|0)/24|0;if(Re>>>0<1073741823){Ne=Re<<1;n=Ne>>>0<Oe>>>0?Oe:Ne}else n=2147483647;pt(Gr,n,Te,r+12|0);Pe=Gr+8|0;De=k[Pe>>2]|0;Nt(De,R);k[Pe>>2]=De+24;Bn(r,Gr);lt(Gr)}Wo(R);Nu(Ce);a=e+11|0}}else a=fe}else a=fe}while(0);f=(a|0)==(fe|0)?e:a;break e;break}case 100:{Le=e+2|0;i:do{if((ai-Le|0)>>>0>16){xe=e+18|0;Be=c[Le>>0]|0;Ye=e;Br=M;Kr=Le;while(1){if(!(uc(Be<<24>>24)|0)){b=Le;break i}Ue=c[Kr>>0]|0;Ve=c[Ye+3>>0]|0;c[Br>>0]=(((Ve<<24>>24)+-48|0)>>>0<10?208:169)+(Ve&255)+(((Ue+-48|0)>>>0<10?0:9)+Ue<<4);je=Kr+2|0;Ke=Br+1|0;Xe=c[je>>0]|0;if((je|0)==(xe|0)){F=Ke;A=Xe;Hr=Br;break}else{ze=Kr;Be=Xe;Br=Ke;Kr=je;Ye=ze}}if(A<<24>>24==69){if((M|0)!=(F|0)&M>>>0<Hr>>>0){d=M;Je=Hr;do{Ge=c[d>>0]|0;c[d>>0]=c[Je>>0]|0;c[Je>>0]=Ge;d=d+1|0;Je=Je+-1|0}while(d>>>0<Je>>>0)}Zr=Wr;$r=Zr+32|0;do{c[Zr>>0]=0;Zr=Zr+1|0}while((Zr|0)<($r|0));v[qr>>3]=+v[M>>3];Ze=So(Wr,32,13855,qr)|0;if(Ze>>>0>31)b=Le;else{ct(Ce,Wr,Ze);Zt(R,Ce);Qe=r+4|0;$e=k[Qe>>2]|0;ii=k[r+8>>2]|0;if($e>>>0<ii>>>0){Nt($e,R);k[Qe>>2]=(k[Qe>>2]|0)+24}else{ri=k[r>>2]|0;fi=$e-ri|0;li=(fi|0)/24|0;ni=li+1|0;if((fi|0)<-24)gc(r);si=(ii-ri|0)/24|0;if(si>>>0<1073741823){ti=si<<1;s=ti>>>0<ni>>>0?ni:ti}else s=2147483647;pt(qr,s,li,r+12|0);oi=qr+8|0;ui=k[oi>>2]|0;Nt(ui,R);k[oi>>2]=ui+24;Bn(r,qr);lt(qr)}Wo(R);Nu(Ce);b=e+19|0}}else b=Le}else b=Le}while(0);f=(b|0)==(Le|0)?e:b;break e;break}case 101:{ci=e+2|0;i:do{if((ai-ci|0)>>>0>20){bi=e+22|0;ki=c[ci>>0]|0;di=e;Ur=M;Xr=ci;while(1){if(!(uc(ki<<24>>24)|0)){E=ci;break i}hi=c[Xr>>0]|0;_i=c[di+3>>0]|0;c[Ur>>0]=(((_i<<24>>24)+-48|0)>>>0<10?208:169)+(_i&255)+(((hi+-48|0)>>>0<10?0:9)+hi<<4);vi=Xr+2|0;Ei=Ur+1|0;mi=c[vi>>0]|0;if((vi|0)==(bi|0)){T=Ei;O=mi;Yr=Ur;break}else{wi=Xr;ki=mi;Ur=Ei;Xr=vi;di=wi}}if(O<<24>>24==69){if((M|0)!=(T|0)&M>>>0<Yr>>>0){w=M;Si=Yr;do{pi=c[w>>0]|0;c[w>>0]=c[Si>>0]|0;c[Si>>0]=pi;w=w+1|0;Si=Si+-1|0}while(w>>>0<Si>>>0)}Zr=Wr;$r=Zr+40|0;do{c[Zr>>0]=0;Zr=Zr+1|0}while((Zr|0)<($r|0));v[Jr>>3]=+v[M>>3];yi=So(Wr,40,13858,Jr)|0;if(yi>>>0>39){E=ci;break}ct(Ce,Wr,yi);Zt(R,Ce);Fi=r+4|0;Ai=k[Fi>>2]|0;Ti=k[r+8>>2]|0;if(Ai>>>0<Ti>>>0){Nt(Ai,R);k[Fi>>2]=(k[Fi>>2]|0)+24}else{Mi=k[r>>2]|0;Ri=Ai-Mi|0;Ni=(Ri|0)/24|0;Pi=Ni+1|0;if((Ri|0)<-24)gc(r);Di=(Ti-Mi|0)/24|0;if(Di>>>0<1073741823){Ci=Di<<1;t=Ci>>>0<Pi>>>0?Pi:Ci}else t=2147483647;pt(Jr,t,Ni,r+12|0);Ii=Jr+8|0;Li=k[Ii>>2]|0;Nt(Li,R);k[Ii>>2]=Li+24;Bn(r,Jr);lt(Jr)}Wo(R);Nu(Ce);E=e+23|0}else E=ci}else E=ci}while(0);f=(E|0)==(ci|0)?e:E;break e;break}case 95:{if((c[e+2>>0]|0)!=90){f=e;break e}xi=e+3|0;Bi=Tr(xi,i,r)|0;if((Bi|0)==(xi|0)|(Bi|0)==(i|0)){f=e;break e}m=Qr;return((c[Bi>>0]|0)==69?Bi+1|0:e)|0}default:{Ui=_r(Oi,i,r)|0;if((Ui|0)==(Oi|0)|(Ui|0)==(i|0)){f=e;break e}if((c[Ui>>0]|0)==69){f=Ui+1|0;break e}if((Ui|0)==(i|0)){f=e;break e}else zr=Ui;while(1){Yi=c[zr>>0]|0;if(((Yi<<24>>24)+-48|0)>>>0>=10){S=Yi;Vr=zr;break}zr=zr+1|0;if((zr|0)==(i|0)){f=e;break e}}if(!((Vr|0)!=(Ui|0)&S<<24>>24==69)){f=e;break e}Vi=k[r+4>>2]|0;if((k[r>>2]|0)==(Vi|0)){f=e;break e}Wi=Vi+-24|0;et(qe,Wi);ji=Mo(qe,0,12688)|0;k[We>>2]=k[ji>>2];k[We+4>>2]=k[ji+4>>2];k[We+8>>2]=k[ji+8>>2];k[ji>>2]=0;k[ji+4>>2]=0;k[ji+8>>2]=0;Ki=Vo(We,12593)|0;k[He>>2]=k[Ki>>2];k[He+4>>2]=k[Ki+4>>2];k[He+8>>2]=k[Ki+8>>2];k[Ki>>2]=0;k[Ki+4>>2]=0;k[Ki+8>>2]=0;Xi=Vr-Ui|0;if(Xi>>>0>4294967279)Ec(ei);if(Xi>>>0<11){c[ei>>0]=Xi<<1;Ir=ei+1|0}else{Gi=Xi+16&-16;qi=Sr(Gi)|0;k[ei+8>>2]=qi;k[ei>>2]=Gi|1;k[ei+4>>2]=Xi;Ir=qi}if((Ui|0)!=(Vr|0)){u=Ui;Cr=Ir;while(1){c[Cr>>0]=c[u>>0]|0;u=u+1|0;if((u|0)==(Vr|0))break;else Cr=Cr+1|0}}c[Ir+Xi>>0]=0;Ji=c[ei>>0]|0;Zi=(Ji&1)==0;Qi=zn(He,Zi?ei+1|0:k[ei+8>>2]|0,Zi?(Ji&255)>>>1:k[ei+4>>2]|0)|0;k[Ie>>2]=k[Qi>>2];k[Ie+4>>2]=k[Qi+4>>2];k[Ie+8>>2]=k[Qi+8>>2];k[Qi>>2]=0;k[Qi+4>>2]=0;k[Qi+8>>2]=0;Zt(Me,Ie);qa(Wi,Me);Wo(Me);Nu(Ie);Nu(ei);Nu(He);Nu(We);Nu(qe);f=Vr+1|0;break e}}}while(0)}else f=e;else f=e}while(0);m=Qr;return f|0}function Tr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0;nr=m;m=m+112|0;if((m|0)>=(p|0))he();qi=nr+96|0;d=nr+84|0;w=nr+72|0;Z=nr+60|0;Fe=nr+48|0;$i=nr+36|0;Qi=nr+24|0;ar=nr+12|0;si=nr;e:do{if((e|0)==(i|0))l=e;else{Fi=r+56|0;Ri=k[Fi>>2]|0;Ii=Ri+1|0;k[Fi>>2]=Ii;Ui=r+61|0;_=c[Ui>>0]|0;if(Ii>>>0>1)c[Ui>>0]=1;A=c[e>>0]|0;i:do{switch(A|0){case 84:case 71:{r:do{if((i-e|0)>2){switch(A|0){case 84:break;case 71:{switch(c[e+1>>0]|0){case 86:{U=e+2|0;Y=yr(U,i,r)|0;if((Y|0)==(U|0)){f=e;break r}V=k[r+4>>2]|0;if((k[r>>2]|0)==(V|0)){f=e;break r}Mo(V+-24|0,0,14521)|0;f=Y;break r;break}case 82:{W=e+2|0;j=yr(W,i,r)|0;if((j|0)==(W|0)){f=e;break r}K=k[r+4>>2]|0;if((k[r>>2]|0)==(K|0)){f=e;break r}Mo(K+-24|0,0,14541)|0;f=j;break r;break}default:{f=e;break r}}break}default:{f=e;break r}}z=e+1|0;switch(c[z>>0]|0){case 86:{fe=e+2|0;le=_r(fe,i,r)|0;if((le|0)==(fe|0)){f=e;break r}be=k[r+4>>2]|0;if((k[r>>2]|0)==(be|0)){f=e;break r}Mo(be+-24|0,0,14370)|0;f=le;break r;break}case 84:{ye=e+2|0;Ae=_r(ye,i,r)|0;if((Ae|0)==(ye|0)){f=e;break r}Ue=k[r+4>>2]|0;if((k[r>>2]|0)==(Ue|0)){f=e;break r}Mo(Ue+-24|0,0,14382)|0;f=Ae;break r;break}case 73:{Je=e+2|0;$e=_r(Je,i,r)|0;if(($e|0)==(Je|0)){f=e;break r}hi=k[r+4>>2]|0;if((k[r>>2]|0)==(hi|0)){f=e;break r}Mo(hi+-24|0,0,14391)|0;f=$e;break r;break}case 83:{vi=e+2|0;Ei=_r(vi,i,r)|0;if((Ei|0)==(vi|0)){f=e;break r}mi=k[r+4>>2]|0;if((k[r>>2]|0)==(mi|0)){f=e;break r}Mo(mi+-24|0,0,14405)|0;f=Ei;break r;break}case 99:{pi=e+2|0;Si=mn(pi,i)|0;if((Si|0)==(pi|0)){f=e;break r}gi=mn(Si,i)|0;if((gi|0)==(Si|0)){f=e;break r}yi=Tr(gi,i,r)|0;if((yi|0)==(gi|0)){f=e;break r}Ai=k[r+4>>2]|0;if((k[r>>2]|0)==(Ai|0)){f=e;break r}Mo(Ai+-24|0,0,14424)|0;f=yi;break r;break}case 67:{Ti=e+2|0;Oi=_r(Ti,i,r)|0;if((Oi|0)==(Ti|0)){f=e;break r}Mi=ys(Oi,i)|0;if((Mi|0)==(Oi|0)|(Mi|0)==(i|0)){f=e;break r}if((c[Mi>>0]|0)!=95){f=e;break r}Ni=Mi+1|0;Pi=_r(Ni,i,r)|0;if((Pi|0)==(Ni|0)){f=e;break r}Di=r+4|0;Ci=k[Di>>2]|0;if(((Ci-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break r}et(qi,Ci+-24|0);Li=k[Di>>2]|0;xi=Li+-24|0;Hi=Li;do{Bi=Hi+-24|0;k[Di>>2]=Bi;Wo(Bi);Hi=k[Di>>2]|0}while((Hi|0)!=(xi|0));Yi=Li+-48|0;zi=Mo(qi,0,14451)|0;k[Z>>2]=k[zi>>2];k[Z+4>>2]=k[zi+4>>2];k[Z+8>>2]=k[zi+8>>2];k[zi>>2]=0;k[zi+4>>2]=0;k[zi+8>>2]=0;Vi=Vo(Z,14476)|0;k[w>>2]=k[Vi>>2];k[w+4>>2]=k[Vi+4>>2];k[w+8>>2]=k[Vi+8>>2];k[Vi>>2]=0;k[Vi+4>>2]=0;k[Vi+8>>2]=0;et(Fe,(k[Di>>2]|0)+-24|0);Wi=c[Fe>>0]|0;v=(Wi&1)==0;E=zn(w,v?Fe+1|0:k[Fe+8>>2]|0,v?(Wi&255)>>>1:k[Fe+4>>2]|0)|0;k[d>>2]=k[E>>2];k[d+4>>2]=k[E+4>>2];k[d+8>>2]=k[E+8>>2];k[E>>2]=0;k[E+4>>2]=0;k[E+8>>2]=0;do{if(!(c[Yi>>0]&1)){c[Yi+1>>0]=0;c[Yi>>0]=0}else{S=Li+-40|0;c[k[S>>2]>>0]=0;g=Li+-44|0;k[g>>2]=0;h=c[Yi>>0]|0;if(!(h&1)){F=h;M=10}else{y=k[Yi>>2]|0;F=y&255;M=(y&-2)+-1|0}if(!(F&1)){T=(F&255)>>>1;if((F&255)<22){O=10;I=T;_i=1}else{O=(T+16&240)+-1|0;I=T;_i=1}}else{O=10;I=0;_i=0}if((O|0)!=(M|0)){if((O|0)==10){P=Yi+1|0;D=k[S>>2]|0;if(_i){rt(P|0,D|0,((F&255)>>>1)+1|0)|0;oa(D)}else{c[P>>0]=c[D>>0]|0;oa(D)}c[Yi>>0]=I<<1;break}R=O+1|0;N=Sr(R)|0;if(!(O>>>0<=M>>>0&(N|0)==0)){if(_i)rt(N|0,Yi+1|0,((F&255)>>>1)+1|0)|0;else{C=k[S>>2]|0;c[N>>0]=c[C>>0]|0;oa(C)}k[Yi>>2]=R|1;k[g>>2]=I;k[S>>2]=N}}}}while(0);k[Yi>>2]=k[d>>2];k[Yi+4>>2]=k[d+4>>2];k[Yi+8>>2]=k[d+8>>2];k[d>>2]=0;k[d+4>>2]=0;k[d+8>>2]=0;Nu(d);Nu(Fe);Nu(w);Nu(Z);Nu(qi);f=Pi;break r;break}default:{L=mn(z,i)|0;if((L|0)==(z|0)){f=e;break r}x=Tr(L,i,r)|0;if((x|0)==(L|0)){f=e;break r}B=k[r+4>>2]|0;if((k[r>>2]|0)==(B|0)){f=e;break r}H=B+-24|0;if((c[e+2>>0]|0)==118){Mo(H,0,14481)|0;f=x;break r}else{Mo(H,0,14499)|0;f=x;break r}}}}else f=e}while(0);a=f;break}default:{X=yr(e,i,r)|0;G=k[r+48>>2]|0;q=k[r+52>>2]|0;if((X|0)==(e|0))a=e;else if((X|0)==(i|0))a=i;else{switch(c[X>>0]|0){case 46:case 69:{a=X;break i;break}default:{}}J=c[Ui>>0]|0;c[Ui>>0]=0;k[$i>>2]=0;k[$i+4>>2]=0;k[$i+8>>2]=0;Q=r+4|0;$=k[Q>>2]|0;r:do{if((k[r>>2]|0)!=($|0)){ee=$+-24|0;ie=c[ee>>0]|0;re=(ie&1)==0;if(re)ae=(ie&255)>>>1;else ae=k[$+-20>>2]|0;if(ae){if(!(c[r+60>>0]|0)){if(re){ne=(ie&255)>>>1;se=ee+1|0}else{ne=k[$+-20>>2]|0;se=k[$+-16>>2]|0}if((c[se+(ne+-1)>>0]|0)==62){if(re){n=(ie&255)>>>1;te=ee+1|0}else{n=k[$+-20>>2]|0;te=k[$+-16>>2]|0}if((c[te+(n+-2)>>0]|0)==45){Ce=$;er=X}else{if(re){s=(ie&255)>>>1;oe=ee+1|0}else{s=k[$+-20>>2]|0;oe=k[$+-16>>2]|0}if((c[oe+(s+-2)>>0]|0)==62){Ce=$;er=X}else{ue=_r(X,i,r)|0;if((ue|0)==(X|0))break;ce=k[Q>>2]|0;if(((ce-(k[r>>2]|0)|0)/24|0)>>>0<2)break;ke=ce+-24|0;k[Qi>>2]=k[ke>>2];k[Qi+4>>2]=k[ke+4>>2];k[Qi+8>>2]=k[ke+8>>2];k[ke>>2]=0;k[ke+4>>2]=0;k[ke+8>>2]=0;de=ce+-12|0;f:do{if(!(c[$i>>0]&1)){c[$i+1>>0]=0;c[$i>>0]=0}else{we=$i+8|0;_e=k[we>>2]|0;c[_e>>0]=0;ve=$i+4|0;k[ve>>2]=0;Ee=k[$i>>2]|0;Ji=(Ee&-2)+-1|0;me=Ee&255;do{if(!(me&1)){pe=Ee>>>1&127;if((me&255)<22){rt($i+1|0,_e|0,(Ee>>>1&127)+1|0)|0;oa(_e);b=pe;break}Se=pe+16&240;Zi=Se+-1|0;if((Zi|0)==(Ji|0))break f;ge=Sr(Se)|0;if(Zi>>>0<=Ji>>>0&(ge|0)==0)break f;rt(ge|0,$i+1|0,(Ee>>>1&127)+1|0)|0;k[$i>>2]=Se|1;k[ve>>2]=pe;k[we>>2]=ge;break f}else{c[$i+1>>0]=0;oa(_e);b=0}}while(0);c[$i>>0]=b<<1}}while(0);k[$i>>2]=k[de>>2];k[$i+4>>2]=k[de+4>>2];k[$i+8>>2]=k[de+8>>2];k[de>>2]=0;k[de+4>>2]=0;k[de+8>>2]=0;Te=c[$i>>0]|0;if(!(((Te&1)==0?(Te&255)>>>1:k[$i+4>>2]|0)|0))vn(Qi,32);Oe=k[Q>>2]|0;Me=Oe+-24|0;Ne=Oe;do{Re=Ne+-24|0;k[Q>>2]=Re;Wo(Re);Ne=k[Q>>2]|0}while((Ne|0)!=(Me|0));Pe=c[Qi>>0]|0;De=(Pe&1)==0;Kl(Oe+-48|0,0,De?Qi+1|0:k[Qi+8>>2]|0,De?(Pe&255)>>>1:k[Qi+4>>2]|0)|0;Nu(Qi);Ce=k[Q>>2]|0;er=ue}}}else{Ce=$;er=X}}else{Ce=$;er=X}vn(Ce+-24|0,40);if((er|0)==(i|0))lr=105;else if((c[er>>0]|0)==118){bi=k[r>>2]|0;ki=k[Q>>2]|0;fr=er+1|0}else lr=105;f:do{if((lr|0)==105){Ie=ar+4|0;Le=si+8|0;xe=si+1|0;Be=si+4|0;He=ar+8|0;Ye=ar+1|0;ze=ar+4|0;Ve=ar+8|0;ji=1;rr=er;while(1){We=k[Q>>2]|0;je=k[r>>2]|0;ir=rr;while(1){Ke=(We-je|0)/24|0;Xe=_r(ir,i,r)|0;We=k[Q>>2]|0;je=k[r>>2]|0;Ge=(We-je|0)/24|0;if((Xe|0)==(ir|0)){bi=je;ki=We;fr=ir;break f}if(Ge>>>0>Ke>>>0){t=Ke;o=Xe;u=Ge;break}else ir=Xe}k[ar>>2]=0;k[ze>>2]=0;k[Ve>>2]=0;if(t>>>0<u>>>0){Xi=t;do{qe=c[ar>>0]|0;if(((qe&1)==0?(qe&255)>>>1:k[Ie>>2]|0)|0)Vo(ar,12690)|0;et(si,(k[r>>2]|0)+(Xi*24|0)|0);Ze=c[si>>0]|0;Qe=(Ze&1)==0;zn(ar,Qe?xe:k[Le>>2]|0,Qe?(Ze&255)>>>1:k[Be>>2]|0)|0;Nu(si);Xi=Xi+1|0}while(Xi>>>0<u>>>0)}if(t>>>0<u>>>0){Gi=t;do{ei=k[Q>>2]|0;ii=ei+-24|0;fi=ei;do{ri=fi+-24|0;k[Q>>2]=ri;Wo(ri);fi=k[Q>>2]|0}while((fi|0)!=(ii|0));Gi=Gi+1|0}while(Gi>>>0<u>>>0)}ai=c[ar>>0]|0;li=k[Ie>>2]|0;if(!(((ai&1)==0?(ai&255)>>>1:li)|0))Ki=ji;else{ni=k[Q>>2]|0;if((k[r>>2]|0)==(ni|0))break;if(ji){ti=ni;oi=ai;ci=li}else{Vo(ni+-24|0,12690)|0;ti=k[Q>>2]|0;oi=c[ar>>0]|0;ci=k[Ie>>2]|0}ui=(oi&1)==0;zn(ti+-24|0,ui?Ye:k[He>>2]|0,ui?(oi&255)>>>1:ci)|0;Ki=0}Nu(ar);ji=Ki;rr=o}Nu(ar);break r}}while(0);if((bi|0)!=(ki|0)){vn(ki+-24|0,41);if(G&1)Vo((k[Q>>2]|0)+-24|0,12643)|0;if(G&2)Vo((k[Q>>2]|0)+-24|0,12650)|0;if(G&4)Vo((k[Q>>2]|0)+-24|0,12660)|0;switch(q|0){case 1:{Vo((k[Q>>2]|0)+-24|0,12693)|0;break}case 2:{Vo((k[Q>>2]|0)+-24|0,12696)|0;break}default:{}}di=c[$i>>0]|0;wi=(di&1)==0;zn((k[Q>>2]|0)+-24|0,wi?$i+1|0:k[$i+8>>2]|0,wi?(di&255)>>>1:k[$i+4>>2]|0)|0;Nu($i);c[Ui>>0]=J;a=fr;break i}}}}while(0);Nu($i);c[Ui>>0]=_;k[Fi>>2]=Ri;l=e;break e}}}}while(0);c[Ui>>0]=_;k[Fi>>2]=Ri;l=a}}while(0);m=nr;return l|0}function Or(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0.0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0,kr=0,hr=0,dr=0,wr=0,_r=0,vr=0,Er=0,mr=0,pr=0,yr=0,Fr=0,Ar=0;Ar=m;m=m+304|0;if((m|0)>=(p|0))he();li=Ar+16|0;nr=Ar+8|0;ar=Ar+33|0;sr=Ar;w=Ar+32|0;if((k[e+76>>2]|0)>-1)Pe=Cb(e)|0;else Pe=0;Be=c[i>>0]|0;e:do{if(!(Be<<24>>24))Mi=0;else{ze=e+4|0;Ve=e+100|0;Ke=e+108|0;E=e+8|0;A=ar+10|0;R=ar+33|0;D=nr+4|0;I=ar+46|0;B=ar+94|0;X=Be;yi=0;Ri=i;ji=0;Gi=0;tr=0;i:while(1){r:do{if(!(ib(X&255)|0)){Ie=(c[Ri>>0]|0)==37;f:do{if(Ie){Le=Ri+1|0;xe=c[Le>>0]|0;a:do{switch(xe<<24>>24){case 37:{break f;break}case 42:{ti=0;Ii=Ri+2|0;break}default:{pi=(xe&255)+-48|0;if(pi>>>0<10)if((c[Ri+2>>0]|0)==36){k[li>>2]=k[r>>2];oi=pi;while(1){We=(k[li>>2]|0)+(4-1)&~(4-1);je=k[We>>2]|0;k[li>>2]=We+4;if(oi>>>0>1)oi=oi+-1|0;else{a=je;break}}ti=a;Ii=Ri+3|0;break a}Xe=(k[r>>2]|0)+(4-1)&~(4-1);Ge=k[Xe>>2]|0;k[r>>2]=Xe+4;ti=Ge;Ii=Le}}}while(0);qe=c[Ii>>0]|0;Je=qe&255;if((Je+-48|0)>>>0<10){Qe=Je;xi=Ii;pr=0;while(1){Ze=(pr*10|0)+-48+Qe|0;$e=xi+1|0;ei=c[$e>>0]|0;Qe=ei&255;if((Qe+-48|0)>>>0>=10){l=ei;Li=$e;mr=Ze;break}else{xi=$e;pr=Ze}}}else{l=qe;Li=Ii;mr=0}if(l<<24>>24==109){S=Li+1|0;y=c[S>>0]|0;ii=(ti|0)!=0&1;Bi=S;Ji=0;ur=0}else{y=l;ii=0;Bi=Li;Ji=Gi;ur=tr}g=Bi+1|0;switch(y&255|0){case 104:{F=(c[g>>0]|0)==104;Hi=F?Bi+2|0:g;lr=F?-2:-1;break}case 108:{T=(c[g>>0]|0)==108;Hi=T?Bi+2|0:g;lr=T?3:1;break}case 106:{Hi=g;lr=3;break}case 116:case 122:{Hi=g;lr=1;break}case 76:{Hi=g;lr=2;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{Hi=Bi;lr=0;break}default:{ri=ii;Ai=yi;ir=Ji;_r=ur;Fr=152;break i}}O=h[Hi>>0]|0;M=(O&47|0)==3;f=M?O|32:O;d=M?1:lr;switch(f|0){case 99:{Ki=ji;yr=(mr|0)<1?1:mr;break}case 91:{Ki=ji;yr=mr;break}case 110:{if(!ti){Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r}switch(d|0){case-2:{c[ti>>0]=ji;Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r;break}case-1:{b[ti>>1]=ji;Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r;break}case 0:{k[ti>>2]=ji;Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r;break}case 1:{k[ti>>2]=ji;Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r;break}case 3:{N=ti;k[N>>2]=ji;k[N+4>>2]=((ji|0)<0)<<31>>31;Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r;break}default:{Ti=yi;Ci=Hi;Xi=ji;er=Ji;wr=ur;break r}}break}default:{Ro(e,0);do{P=k[ze>>2]|0;if(P>>>0<(k[Ve>>2]|0)>>>0){k[ze>>2]=P+1;C=h[P>>0]|0}else C=rn(e)|0}while((ib(C)|0)!=0);o=k[ze>>2]|0;if(!(k[Ve>>2]|0))x=o;else{L=o+-1|0;k[ze>>2]=L;x=L}Ki=(k[Ke>>2]|0)+ji+x-(k[E>>2]|0)|0;yr=mr}}Ro(e,yr);H=k[ze>>2]|0;U=k[Ve>>2]|0;if(H>>>0<U>>>0){k[ze>>2]=H+1;z=U}else{if((rn(e)|0)<0){ri=ii;Ai=yi;ir=Ji;_r=ur;Fr=152;break i}z=k[Ve>>2]|0}if(z)k[ze>>2]=(k[ze>>2]|0)+-1;a:do{switch(f|0){case 91:case 99:case 115:{V=(f|0)==99;l:do{if((f&239|0)==99){ut(ar|0,-1,257)|0;c[ar>>0]=0;if((f|0)==115){c[R>>0]=0;c[A>>0]=0;c[A+1>>0]=0;c[A+2>>0]=0;c[A+3>>0]=0;c[A+4>>0]=0;Wi=Hi}else Wi=Hi}else{W=Hi+1|0;j=(c[W>>0]|0)==94;mi=j&1;K=j?W:Hi;Ui=j?Hi+2|0:W;ut(ar|0,j&1|0,257)|0;c[ar>>0]=0;switch(c[Ui>>0]|0){case 45:{G=(mi^1)&255;c[I>>0]=G;t=G;zi=K+2|0;break}case 93:{q=(mi^1)&255;c[B>>0]=q;t=q;zi=K+2|0;break}default:{t=(mi^1)&255;zi=Ui}}Yi=zi;while(1){J=c[Yi>>0]|0;n:do{switch(J<<24>>24){case 0:{ri=ii;Ai=yi;ir=Ji;_r=ur;Fr=152;break i;break}case 93:{Wi=Yi;break l;break}case 45:{Z=Yi+1|0;Q=c[Z>>0]|0;switch(Q<<24>>24){case 93:case 0:{ie=45;Vi=Yi;break n;break}default:{}}$=c[Yi+-1>>0]|0;if(($&255)<(Q&255)){si=$&255;do{si=si+1|0;c[ar+si>>0]=t;ee=c[Z>>0]|0}while((si|0)<(ee&255|0));ie=ee;Vi=Z}else{ie=Q;Vi=Z}break}default:{ie=J;Vi=Yi}}}while(0);c[ar+((ie&255)+1)>>0]=t;Yi=Vi+1|0}}}while(0);re=V?yr+1|0:31;fe=(d|0)==1;ae=(ii|0)!=0;l:do{if(fe){if(ae){le=Sr(re<<2)|0;if(!le){ri=ii;Ai=yi;ir=0;_r=le;Fr=152;break i}else cr=le}else cr=ti;k[nr>>2]=0;k[D>>2]=0;ui=0;Si=re;br=cr;n:while(1){se=(br|0)==0;bi=ui;while(1){s:while(1){te=k[ze>>2]|0;if(te>>>0<(k[Ve>>2]|0)>>>0){k[ze>>2]=te+1;oe=h[te>>0]|0}else oe=rn(e)|0;if(!(c[ar+(oe+1)>>0]|0)){ki=bi;kr=br;break n}c[w>>0]=oe;switch(ml(sr,w,1,nr)|0){case-1:{ri=ii;Ai=yi;ir=0;_r=br;Fr=152;break i;break}case-2:break;default:break s}}if(se)hi=bi;else{k[br+(bi<<2)>>2]=k[sr>>2];hi=bi+1|0}if(ae&(hi|0)==(Si|0))break;else bi=hi}ue=Si<<1|1;ce=Os(br,ue<<2)|0;if(!ce){ri=ii;Ai=yi;ir=0;_r=br;Fr=152;break i}ci=Si;Si=ue;br=ce;ui=ci}if(!(Oc(nr)|0)){ri=ii;Ai=yi;ir=0;_r=kr;Fr=152;break i}else{Ei=ki;Qi=0;hr=kr}}else{if(ae){be=Sr(re)|0;if(!be){ri=ii;Ai=yi;ir=0;_r=0;Fr=152;break i}else{wi=0;gi=re;Zi=be}while(1){di=wi;do{ke=k[ze>>2]|0;if(ke>>>0<(k[Ve>>2]|0)>>>0){k[ze>>2]=ke+1;de=h[ke>>0]|0}else de=rn(e)|0;if(!(c[ar+(de+1)>>0]|0)){Ei=di;Qi=Zi;hr=0;break l}c[Zi+di>>0]=de;di=di+1|0}while((di|0)!=(gi|0));we=gi<<1|1;_e=Os(Zi,we)|0;if(!_e){ri=ii;Ai=yi;ir=Zi;_r=0;Fr=152;break i}else{_i=gi;gi=we;Zi=_e;wi=_i}}}if(!ti){ge=z;while(1){Se=k[ze>>2]|0;if(Se>>>0<ge>>>0){k[ze>>2]=Se+1;ye=h[Se>>0]|0}else ye=rn(e)|0;if(!(c[ar+(ye+1)>>0]|0)){Ei=0;Qi=0;hr=0;break l}ge=k[Ve>>2]|0}}else{me=z;vi=0;while(1){ve=k[ze>>2]|0;if(ve>>>0<me>>>0){k[ze>>2]=ve+1;pe=h[ve>>0]|0}else pe=rn(e)|0;if(!(c[ar+(pe+1)>>0]|0)){Ei=vi;Qi=ti;hr=0;break l}c[ti+vi>>0]=pe;me=k[Ve>>2]|0;vi=vi+1|0}}}}while(0);u=k[ze>>2]|0;if(!(k[Ve>>2]|0))Ae=u;else{Fe=u+-1|0;k[ze>>2]=Fe;Ae=Fe}Te=Ae-(k[E>>2]|0)+(k[Ke>>2]|0)|0;if(!Te){ai=ii;Oi=yi;fr=Qi;Er=hr;break i}if(!((Te|0)==(yr|0)|V^1)){ai=ii;Oi=yi;fr=Qi;Er=hr;break i}do{if(ae)if(fe){k[ti>>2]=hr;break}else{k[ti>>2]=Qi;break}}while(0);if(V){Di=Wi;$i=Qi;dr=hr}else{if(hr)k[hr+(Ei<<2)>>2]=0;if(!Qi){Di=Wi;$i=0;dr=hr;break a}c[Qi+Ei>>0]=0;Di=Wi;$i=Qi;dr=hr}break}case 120:case 88:case 112:{ni=16;Fr=134;break}case 111:{ni=8;Fr=134;break}case 117:case 100:{ni=10;Fr=134;break}case 105:{ni=0;Fr=134;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{Re=+gr(e,d,0);if((k[Ke>>2]|0)==((k[E>>2]|0)-(k[ze>>2]|0)|0)){ai=ii;Oi=yi;fr=Ji;Er=ur;break i}if(!ti){Di=Hi;$i=Ji;dr=ur}else switch(d|0){case 0:{_[ti>>2]=Re;Di=Hi;$i=Ji;dr=ur;break a;break}case 1:{v[ti>>3]=Re;Di=Hi;$i=Ji;dr=ur;break a;break}case 2:{v[ti>>3]=Re;Di=Hi;$i=Ji;dr=ur;break a;break}default:{Di=Hi;$i=Ji;dr=ur;break a}}break}default:{Di=Hi;$i=Ji;dr=ur}}}while(0);a:do{if((Fr|0)==134){Fr=0;Oe=ua(e,ni,0,-1,-1)|0;if((k[Ke>>2]|0)==((k[E>>2]|0)-(k[ze>>2]|0)|0)){ai=ii;Oi=yi;fr=Ji;Er=ur;break i}if((ti|0)!=0&(f|0)==112){k[ti>>2]=Oe;Di=Hi;$i=Ji;dr=ur;break}if(!ti){Di=Hi;$i=Ji;dr=ur}else switch(d|0){case-2:{c[ti>>0]=Oe;Di=Hi;$i=Ji;dr=ur;break a;break}case-1:{b[ti>>1]=Oe;Di=Hi;$i=Ji;dr=ur;break a;break}case 0:{k[ti>>2]=Oe;Di=Hi;$i=Ji;dr=ur;break a;break}case 1:{k[ti>>2]=Oe;Di=Hi;$i=Ji;dr=ur;break a;break}case 3:{Me=ti;k[Me>>2]=Oe;k[Me+4>>2]=Y;Di=Hi;$i=Ji;dr=ur;break a;break}default:{Di=Hi;$i=Ji;dr=ur;break a}}}}while(0);Ti=((ti|0)!=0&1)+yi|0;Ci=Di;Xi=(k[Ke>>2]|0)+Ki+(k[ze>>2]|0)-(k[E>>2]|0)|0;er=$i;wr=dr;break r}}while(0);He=Ri+(Ie&1)|0;Ro(e,0);Ue=k[ze>>2]|0;if(Ue>>>0<(k[Ve>>2]|0)>>>0){k[ze>>2]=Ue+1;Ye=h[Ue>>0]|0}else Ye=rn(e)|0;if((Ye|0)!=(h[He>>0]|0)){n=Ye;Fi=yi;qi=Gi;or=tr;Fr=21;break i}Ti=yi;Ci=He;Xi=ji+1|0;er=Gi;wr=tr}else{Ni=Ri;while(1){ne=Ni+1|0;if(!(ib(h[ne>>0]|0)|0)){Pi=Ni;break}else Ni=ne}Ro(e,0);do{Ee=k[ze>>2]|0;if(Ee>>>0<(k[Ve>>2]|0)>>>0){k[ze>>2]=Ee+1;Ne=h[Ee>>0]|0}else Ne=rn(e)|0}while((ib(Ne)|0)!=0);s=k[ze>>2]|0;if(!(k[Ve>>2]|0))Ce=s;else{De=s+-1|0;k[ze>>2]=De;Ce=De}Ti=yi;Ci=Pi;Xi=(k[Ke>>2]|0)+ji+Ce-(k[E>>2]|0)|0;er=Gi;wr=tr}}while(0);Ri=Ci+1|0;X=c[Ri>>0]|0;if(!(X<<24>>24)){Mi=Ti;break e}else{yi=Ti;ji=Xi;Gi=er;tr=wr}}if((Fr|0)==21){if(k[Ve>>2]|0)k[ze>>2]=(k[ze>>2]|0)+-1;if((Fi|0)!=0|(n|0)>-1){Mi=Fi;break}else{fi=0;rr=qi;vr=or;Fr=153}}else if((Fr|0)==152)if(!Ai){fi=ri;rr=ir;vr=_r;Fr=153}else{ai=ri;Oi=Ai;fr=ir;Er=_r}if((Fr|0)==153){ai=fi;Oi=-1;fr=rr;Er=vr}if(!ai)Mi=Oi;else{oa(fr);oa(Er);Mi=Oi}}}while(0);if(Pe)Db(e);m=Ar;return Mi|0}function Mr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0;Ki=m;m=m+128|0;if((m|0)>=(p|0))he();Pi=Ki+104|0;w=Ki+80|0;_=Ki+64|0;oe=Ki+40|0;Ke=Ki+24|0;Wi=Ki+12|0;ti=Ki;e:do{if((e|0)==(i|0))f=e;else{hi=c[e>>0]|0;mi=hi<<24>>24;switch(mi|0){case 68:case 67:{i:do{if((i-e|0)>1){N=r+4|0;L=k[N>>2]|0;if((k[r>>2]|0)==(L|0))o=e;else switch(mi|0){case 67:{switch(c[e+1>>0]|0){case 53:case 51:case 50:case 49:break;default:{o=e;break i}}Ua(_,L+-24|0);Zt(w,_);ue=k[N>>2]|0;ve=k[r+8>>2]|0;if(ue>>>0<ve>>>0){Nt(ue,w);k[N>>2]=(k[N>>2]|0)+24}else{Ve=k[r>>2]|0;Xe=ue-Ve|0;Ze=(Xe|0)/24|0;ei=Ze+1|0;if((Xe|0)<-24)gc(r);ni=(ve-Ve|0)/24|0;if(ni>>>0<1073741823){si=ni<<1;a=si>>>0<ei>>>0?ei:si}else a=2147483647;pt(Pi,a,Ze,r+12|0);oi=Pi+8|0;ui=k[oi>>2]|0;Nt(ui,w);k[oi>>2]=ui+24;Bn(r,Pi);lt(Pi)}Wo(w);Nu(_);c[r+60>>0]=1;o=e+2|0;break i;break}case 68:{switch(c[e+1>>0]|0){case 53:case 50:case 49:case 48:break;default:{o=e;break i}}Ua(Wi,L+-24|0);ci=Mo(Wi,0,12902)|0;k[Ke>>2]=k[ci>>2];k[Ke+4>>2]=k[ci+4>>2];k[Ke+8>>2]=k[ci+8>>2];k[ci>>2]=0;k[ci+4>>2]=0;k[ci+8>>2]=0;Zt(oe,Ke);bi=k[N>>2]|0;ki=k[r+8>>2]|0;if(bi>>>0<ki>>>0){Nt(bi,oe);k[N>>2]=(k[N>>2]|0)+24}else{di=k[r>>2]|0;wi=bi-di|0;_i=(wi|0)/24|0;vi=_i+1|0;if((wi|0)<-24)gc(r);Ei=(ki-di|0)/24|0;if(Ei>>>0<1073741823){pi=Ei<<1;s=pi>>>0<vi>>>0?vi:pi}else s=2147483647;pt(Pi,s,_i,r+12|0);Si=Pi+8|0;gi=k[Si>>2]|0;Nt(gi,oe);k[Si>>2]=gi+24;Bn(r,Pi);lt(Pi)}Wo(oe);Nu(Ke);Nu(Wi);c[r+60>>0]=1;o=e+2|0;break i;break}default:{o=e;break i}}}else o=e}while(0);f=o;break e;break}case 85:{i:do{if((i-e|0)>2&hi<<24>>24==85){switch(c[e+1>>0]|0){case 116:{ct(_,12904,8);Zt(w,_);yi=r+4|0;Fi=k[yi>>2]|0;Ai=k[r+8>>2]|0;if(Fi>>>0<Ai>>>0){Nt(Fi,w);k[yi>>2]=(k[yi>>2]|0)+24}else{Ti=k[r>>2]|0;Oi=Fi-Ti|0;Mi=(Oi|0)/24|0;v=Mi+1|0;if((Oi|0)<-24)gc(r);E=(Ai-Ti|0)/24|0;if(E>>>0<1073741823){S=E<<1;l=S>>>0<v>>>0?v:S}else l=2147483647;pt(Pi,l,Mi,r+12|0);g=Pi+8|0;y=k[g>>2]|0;Nt(y,w);k[g>>2]=y+24;Bn(r,Pi);lt(Pi)}Wo(w);Nu(_);F=e+2|0;if((F|0)==(i|0)){A=k[yi>>2]|0;T=A+-24|0;M=A;while(1){O=M+-24|0;k[yi>>2]=O;Wo(O);M=k[yi>>2]|0;if((M|0)==(T|0)){u=e;break i}}}if(((c[F>>0]|0)+-48|0)>>>0<10){R=e+3|0;r:do{if((R|0)==(i|0))Ui=i;else{Yi=R;while(1){if(((c[Yi>>0]|0)+-48|0)>>>0>=10){Ui=Yi;break r}Yi=Yi+1|0;if((Yi|0)==(i|0)){Ui=i;break}}}}while(0);Wl((k[yi>>2]|0)+-24|0,F,Ui);Ii=Ui}else Ii=F;vn((k[yi>>2]|0)+-24|0,39);if((Ii|0)!=(i|0))if((c[Ii>>0]|0)==95){u=Ii+1|0;break i}P=k[yi>>2]|0;D=P+-24|0;I=P;while(1){C=I+-24|0;k[yi>>2]=C;Wo(C);I=k[yi>>2]|0;if((I|0)==(D|0)){u=e;break i}}break}case 108:break;default:{u=e;break i}}ct(Ke,12913,9);Zt(oe,Ke);x=r+4|0;B=k[x>>2]|0;H=k[r+8>>2]|0;if(B>>>0<H>>>0){Nt(B,oe);k[x>>2]=(k[x>>2]|0)+24}else{U=k[r>>2]|0;Y=B-U|0;z=(Y|0)/24|0;V=z+1|0;if((Y|0)<-24)gc(r);W=(H-U|0)/24|0;if(W>>>0<1073741823){j=W<<1;n=j>>>0<V>>>0?V:j}else n=2147483647;pt(Pi,n,z,r+12|0);K=Pi+8|0;X=k[K>>2]|0;Nt(X,oe);k[K>>2]=X+24;Bn(r,Pi);lt(Pi)}Wo(oe);Nu(Ke);G=e+2|0;do{if((c[G>>0]|0)==118){vn((k[x>>2]|0)+-24|0,41);Bi=e+3|0}else{q=_r(G,i,r)|0;J=k[x>>2]|0;if((q|0)==(G|0)){Z=J+-24|0;$=J;while(1){Q=$+-24|0;k[x>>2]=Q;Wo(Q);$=k[x>>2]|0;if(($|0)==(Z|0)){u=e;break i}}}if(((J-(k[r>>2]|0)|0)/24|0)>>>0<2){u=e;break i}et(Wi,J+-24|0);ee=k[x>>2]|0;ie=ee+-24|0;fe=ee;do{re=fe+-24|0;k[x>>2]=re;Wo(re);fe=k[x>>2]|0}while((fe|0)!=(ie|0));ae=c[Wi>>0]|0;le=(ae&1)==0;ne=Wi+8|0;se=Wi+1|0;te=Wi+4|0;zn(ee+-48|0,le?se:k[ne>>2]|0,le?(ae&255)>>>1:k[te>>2]|0)|0;ce=ti+4|0;be=ti+8|0;d=ae;Li=q;while(1){ke=_r(Li,i,r)|0;de=k[x>>2]|0;if((ke|0)==(Li|0)){b=de;xi=Li;ji=79;break}if(((de-(k[r>>2]|0)|0)/24|0)>>>0<2){ji=113;break}et(ti,de+-24|0);r:do{if(!(d&1)){c[se>>0]=0;c[Wi>>0]=0}else{we=k[ne>>2]|0;c[we>>0]=0;k[te>>2]=0;_e=k[Wi>>2]|0;Di=(_e&-2)+-1|0;Ee=_e&255;do{if(!(Ee&1)){me=_e>>>1&127;if((Ee&255)<22){rt(se|0,we|0,(_e>>>1&127)+1|0)|0;oa(we);h=me;break}pe=me+16&240;Ci=pe+-1|0;if((Ci|0)==(Di|0))break r;Se=Sr(pe)|0;if(Ci>>>0<=Di>>>0&(Se|0)==0)break r;rt(Se|0,se|0,(_e>>>1&127)+1|0)|0;k[Wi>>2]=pe|1;k[te>>2]=me;k[ne>>2]=Se;break r}else{c[se>>0]=0;oa(we);h=0}}while(0);c[Wi>>0]=h<<1}}while(0);k[Wi>>2]=k[ti>>2];k[Wi+4>>2]=k[ti+4>>2];k[Wi+8>>2]=k[ti+8>>2];k[ti>>2]=0;k[ce>>2]=0;k[be>>2]=0;Nu(ti);ge=k[x>>2]|0;ye=ge+-24|0;Ae=ge;do{Fe=Ae+-24|0;k[x>>2]=Fe;Wo(Fe);Ae=k[x>>2]|0}while((Ae|0)!=(ye|0));Te=c[Wi>>0]|0;Oe=(Te&1)==0;Me=Oe?(Te&255)>>>1:k[te>>2]|0;if(!Me){d=Te;Li=ke;continue}Vo(ge+-48|0,12690)|0;zn((k[x>>2]|0)+-24|0,Oe?se:k[ne>>2]|0,Me)|0;d=Te;Li=ke}if((ji|0)==79){Vo(b+-24|0,12593)|0;Nu(Wi);Bi=xi;break}else if((ji|0)==113){Nu(Wi);u=e;break i}}}while(0);if((Bi|0)!=(i|0))if((c[Bi>>0]|0)==69){Ce=Bi+1|0;if((Ce|0)==(i|0)){Ie=k[x>>2]|0;Le=Ie+-24|0;Be=Ie;while(1){xe=Be+-24|0;k[x>>2]=xe;Wo(xe);Be=k[x>>2]|0;if((Be|0)==(Le|0)){u=e;break i}}}if(((c[Ce>>0]|0)+-48|0)>>>0<10){He=Bi+2|0;r:do{if((He|0)==(i|0))zi=i;else{Vi=He;while(1){if(((c[Vi>>0]|0)+-48|0)>>>0>=10){zi=Vi;break r}Vi=Vi+1|0;if((Vi|0)==(i|0)){zi=i;break}}}}while(0);Ue=k[x>>2]|0;Ye=Ue+-24|0;ze=c[Ye>>0]|0;if(!(ze&1)){Ge=10;qe=(ze&255)>>>1;Je=ze}else{We=k[Ye>>2]|0;Ge=(We&-2)+-1|0;qe=k[Ue+-20>>2]|0;Je=We&255}je=zi-Ce|0;if((zi|0)==(Ce|0))Hi=Ce;else{if((Ge-qe|0)>>>0<je>>>0){gn(Ye,Ge,qe+je-Ge|0,qe,7,je);Ri=k[Ue+-16>>2]|0}else{if(!(Je&1))Qe=Ye+1|0;else Qe=k[Ue+-16>>2]|0;if((qe|0)==7)Ri=Qe;else{oo(Qe+(je+7)|0,Qe+7|0,qe+-7|0)|0;Ri=Qe}}$e=qe+je|0;if(!(c[Ye>>0]&1))c[Ye>>0]=$e<<1;else k[Ue+-20>>2]=$e;c[Ri+$e>>0]=0;if((Ce|0)==(zi|0))Hi=zi;else{t=Ce;Ni=Ri+7|0;while(1){c[Ni>>0]=c[t>>0]|0;t=t+1|0;if((t|0)==(zi|0)){Hi=zi;break}else Ni=Ni+1|0}}}}else Hi=Ce;if((Hi|0)!=(i|0))if((c[Hi>>0]|0)==95){u=Hi+1|0;break}ii=k[x>>2]|0;ri=ii+-24|0;ai=ii;while(1){fi=ai+-24|0;k[x>>2]=fi;Wo(fi);ai=k[x>>2]|0;if((ai|0)==(ri|0)){u=e;break i}}}Re=k[x>>2]|0;Ne=Re+-24|0;De=Re;do{Pe=De+-24|0;k[x>>2]=Pe;Wo(Pe);De=k[x>>2]|0}while((De|0)!=(Ne|0));u=e}else u=e}while(0);f=u;break e;break}case 57:case 56:case 55:case 54:case 53:case 52:case 51:case 50:case 49:{li=ya(e,i,r)|0;m=Ki;return li|0}default:{f=Er(e,i,r)|0;break e}}}}while(0);m=Ki;return f|0}function Rr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0.0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0.0,w=0.0,_=0.0,E=0.0,S=0.0,g=0.0,y=0,F=0.0,A=0.0,T=0.0,O=0.0,M=0,R=0.0,N=0,P=0.0,D=0.0,C=0,I=0.0,L=0,x=0,B=0.0,H=0,U=0,Y=0,z=0,V=0,W=0.0,j=0,K=0.0,X=0,G=0.0,q=0,J=0.0,Z=0,ee=0.0,ie=0.0,re=0,fe=0.0,ae=0.0,le=0,ne=0.0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0.0,ve=0,Ee=0.0,me=0,pe=0.0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0.0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0.0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0.0,qe=0,Je=0,Ze=0.0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0,Ci=0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0,ir=0,rr=0,fr=0.0,ar=0,lr=0,nr=0,sr=0,tr=0.0,or=0.0,ur=0.0,cr=0.0,br=0.0,kr=0,hr=0,dr=0.0,wr=0.0,_r=0.0,vr=0.0,Er=0.0,mr=0.0,pr=0,Sr=0,gr=0,yr=0;pr=m;m=m+16|0;if((m|0)>=(p|0))he();Qe=pr;a=e+4|0;l=k[a>>2]|0;X=e+8|0;Me=k[X>>2]|0;Le=(Me|0)<(l|0)?Me:l;e:do{if((l|0)<2|(Me|0)<2)f=-1;else{ze=i+8|0;if((k[ze>>2]|0)==(Me|0)){s=i+4|0;if((k[s>>2]|0)==(Le|0)){y=r+4|0;if((k[y>>2]|0)==(Le|0)){L=bo(Le,Le)|0;H=L+4|0;if((k[H>>2]|0)==(Le|0)){Z=L+8|0;if((k[Z>>2]|0)==(Le|0)){oe=(l|0)<(Me|0);ue=k[a>>2]|0;ve=k[X>>2]|0;if(oe){if((Le|0)!=(ue|0)){jc(L)|0;f=-1;break}ge=k[L>>2]|0;if((Le|0)>0){$e=(Le|0)==0;Re=(ve|0)>0;ci=0;er=ge;while(1){Pe=ce(ci,ve)|0;if(!$e){Ti=0;rr=er;while(1){if((Ti|0)<(ci|0)){De=ge+((ce(Ti,Le)|0)+ci<<3)|0;v[rr>>3]=+v[De>>3]}else{Ce=k[e>>2]|0;v[rr>>3]=0.0;if(Re){Ie=0.0;pi=Ce+(Pe<<3)|0;gi=Ce+((ce(Ti,ve)|0)<<3)|0;Ci=0;while(1){Ie=Ie+ +v[pi>>3]*+v[gi>>3];v[rr>>3]=Ie;Ci=Ci+1|0;if((Ci|0)>=(ve|0))break;else{pi=pi+8|0;gi=gi+8|0}}}}Ti=Ti+1|0;if((Ti|0)==(Le|0))break;else rr=rr+8|0}}ci=ci+1|0;if((ci|0)>=(Le|0))break;else er=er+(Le<<3)|0}}}else{if((Le|0)!=(ve|0)){jc(L)|0;f=-1;break}xe=k[L>>2]|0;if((Le|0)>0){ei=(Le|0)==0;Be=(ue|0)>0;ui=0;$i=xe;while(1){if(!ei){Ai=0;ir=$i;while(1){if((Ai|0)<(ui|0)){He=xe+((ce(Ai,Le)|0)+ui<<3)|0;v[ir>>3]=+v[He>>3]}else{Ue=k[e>>2]|0;v[ir>>3]=0.0;if(Be){Ye=0.0;Si=Ue+(ui<<3)|0;yi=Ue+(Ai<<3)|0;Ii=0;while(1){Ye=Ye+ +v[Si>>3]*+v[yi>>3];v[ir>>3]=Ye;Ii=Ii+1|0;if((Ii|0)>=(ue|0))break;else{Si=Si+(Le<<3)|0;yi=yi+(Le<<3)|0}}}}Ai=Ai+1|0;if((Ai|0)==(Le|0))break;else ir=ir+8|0}}ui=ui+1|0;if((ui|0)>=(Le|0))break;else $i=$i+(Le<<3)|0}}}do{if((Le|0)>=2)if((k[y>>2]|0)==(Le|0)){Ve=Uo(Le)|0;if(Ve){We=Le+-1|0;k[Qe+4>>2]=We;k[Qe>>2]=(k[Ve>>2]|0)+8;if((Ra(L,r,Qe)|0)<0){fb(Ve)|0;break}je=k[Ve>>2]|0;v[je>>3]=0.0;if((We|0)>0){ai=(Le|0)==0;ni=We;do{Oi=ni;while(1){if((Oi|0)<=0){Mi=Oi;break}Ge=+Q(+ +v[je+(Oi<<3)>>3]);qe=Oi+-1|0;Je=k[r>>2]|0;n=+Q(+ +v[Je+(qe<<3)>>3]);if(Ge>(n+ +Q(+ +v[Je+(Oi<<3)>>3]))*1.0e-06)Oi=qe;else{Mi=Oi;break}}gr=ni;ni=ni+-1|0;i:do{if((Mi|0)!=(gr|0)){t=je+(gr<<3)|0;o=je+(Mi+1<<3)|0;u=(Mi|0)<(gr|0);Fi=0;do{if((Fi|0)>99)break i;Fi=Fi+1|0;c=k[r>>2]|0;b=c+(ni<<3)|0;h=c+(gr<<3)|0;d=+v[h>>3];w=(+v[b>>3]-d)*.5;_=+v[t>>3];E=_*_;S=+$(+(E+w*w));if(u){Li=Mi;wr=+v[c+(Mi<<3)>>3]-d+E/(w+(w<0.0?-S:S));Er=+v[o>>3];while(1){g=+Q(+wr);do{if(!(g>=+Q(+Er))){T=-wr/Er;O=1.0/+$(+(T*T+1.0));Ze=T*O;fr=O}else{if(!(g>1.0e-16)){Ze=1.0;fr=0.0;break}F=-Er/wr;A=1.0/+$(+(F*F+1.0));Ze=A;fr=F*A}}while(0);M=c+(Li<<3)|0;R=+v[M>>3];Sr=Li;Li=Li+1|0;N=c+(Li<<3)|0;P=+v[N>>3];D=R-P;C=je+(Li<<3)|0;I=fr*(fr*D+Ze*2.0*+v[C>>3]);v[M>>3]=R-I;v[N>>3]=P+I;if((Sr|0)>(Mi|0)){x=je+(Sr<<3)|0;v[x>>3]=Ze*+v[x>>3]-Er*fr}B=+v[C>>3];v[C>>3]=B+fr*(Ze*D-fr*2.0*B);U=ce(Sr,Le)|0;Y=ce(Li,Le)|0;if(ai){_r=wr;mr=Er}else{z=k[L>>2]|0;ki=0;do{V=z+(ki+U<<3)|0;W=+v[V>>3];j=z+(ki+Y<<3)|0;K=+v[j>>3];v[V>>3]=Ze*W-fr*K;v[j>>3]=fr*W+Ze*K;ki=ki+1|0}while((ki|0)!=(Le|0));_r=W;mr=K}if((Sr|0)<(ni|0)){G=+v[C>>3];q=je+(Sr+2<<3)|0;J=+v[q>>3];v[q>>3]=Ze*J;dr=G;vr=-(fr*J)}else{dr=_r;vr=mr}if((Li|0)>=(gr|0))break;else{wr=dr;Er=vr}}}ee=+Q(+ +v[t>>3]);ie=+Q(+ +v[b>>3])}while(ee>(ie+ +Q(+ +v[h>>3]))*1.0e-06)}}while(0)}while((gr|0)>1)}if(We){Ke=k[r>>2]|0;Xe=k[L>>2]|0;ii=(Le|0)==0;Bi=0;do{re=Ke+(Bi<<3)|0;fe=+v[re>>3];yr=Bi;Bi=Bi+1|0;if((Bi|0)<(Le|0)){ti=yr;_i=Bi;cr=fe;while(1){ae=+v[Ke+(_i<<3)>>3];le=ae>cr;br=le?ae:cr;oi=le?_i:ti;_i=_i+1|0;if((_i|0)>=(Le|0)){si=oi;ur=br;break}else{ti=oi;cr=br}}}else{si=yr;ur=fe}v[Ke+(si<<3)>>3]=fe;v[re>>3]=ur;if(!ii){mi=0;kr=Xe+((ce(si,Le)|0)<<3)|0;hr=Xe+((ce(yr,Le)|0)<<3)|0;while(1){ne=+v[kr>>3];v[kr>>3]=+v[hr>>3];v[hr>>3]=ne;mi=mi+1|0;if((mi|0)==(Le|0))break;else{kr=kr+8|0;hr=hr+8|0}}}}while((Bi|0)!=(We|0))}fb(Ve)|0;i:do{if(oe){se=k[a>>2]|0;te=k[X>>2]|0;do{if(!((se|0)<1|(te|0)<1)){if((k[H>>2]|0)!=(se|0))break;if((k[Z>>2]|0)!=(se|0))break;if((k[s>>2]|0)!=(se|0))break;if((k[ze>>2]|0)!=(te|0))break;if((k[y>>2]|0)!=(se|0))break;be=k[i>>2]|0;r:do{if((se|0)>0){ke=k[r>>2]|0;fi=(te|0)==0;ri=(se|0)==0;hi=0;Ui=be;while(1){_e=+v[ke+(hi<<3)>>3];if(_e<1.0e-16){bi=hi;Hi=Ui;break r}Ee=1.0/+$(+ +Q(+_e));me=ce(hi,se)|0;if(!fi){Ri=0;Yi=Ui;while(1){if(ri)tr=0.0;else{xi=0;Wi=(k[L>>2]|0)+(me<<3)|0;Xi=(k[e>>2]|0)+(Ri<<3)|0;or=0.0;while(1){pe=or+ +v[Wi>>3]*+v[Xi>>3];xi=xi+1|0;if((xi|0)==(se|0)){tr=pe;break}else{Wi=Wi+8|0;Xi=Xi+(te<<3)|0;or=pe}}}v[Yi>>3]=Ee*tr;Ri=Ri+1|0;if((Ri|0)==(te|0))break;else Yi=Yi+8|0}}ar=Ui+(te<<3)|0;Se=hi+1|0;if((Se|0)<(se|0)){hi=Se;Ui=ar}else{bi=Se;Hi=ar;break}}}else{bi=0;Hi=be}}while(0);nr=(te|0)>0?te:0;if((bi|0)>=(se|0))break i;de=k[r>>2]|0;we=(te|0)>0;vi=bi;zi=Hi;while(1){v[de+(vi<<3)>>3]=0.0;if(we){Pi=0;Vi=zi;while(1){v[Vi>>3]=0.0;Pi=Pi+1|0;if((Pi|0)>=(te|0))break;else Vi=Vi+8|0}}vi=vi+1|0;if((vi|0)>=(se|0))break i;else zi=zi+(nr<<3)|0}}}while(0);jc(L)|0;f=-1;break e}else{ye=k[i>>2]|0;Fe=(l|0)>(Me|0)?Me:l;r:do{if((Le|0)>0){Ae=k[r>>2]|0;li=(Fe|0)==0;wi=0;ji=k[L>>2]|0;qi=ye;while(1){if(+v[Ae+(wi<<3)>>3]<1.0e-16){di=wi;Gi=qi;break r}if(!li){Ni=0;Ki=ji;Ji=qi;while(1){v[Ji>>3]=+v[Ki>>3];Ni=Ni+1|0;if((Ni|0)==(Fe|0))break;else{Ki=Ki+8|0;Ji=Ji+8|0}}}ji=ji+(Fe<<3)|0;lr=qi+(Fe<<3)|0;Ne=wi+1|0;if((Ne|0)>=(Le|0)){di=Ne;Gi=lr;break}else{wi=Ne;qi=lr}}}else{di=0;Gi=ye}}while(0);sr=(Fe|0)>0?Fe:0;if((di|0)<(Le|0)){Te=k[r>>2]|0;Oe=(Le|0)>0;Ei=di;Zi=Gi;while(1){v[Te+(Ei<<3)>>3]=0.0;if(Oe){Di=0;Qi=Zi;while(1){v[Qi>>3]=0.0;Di=Di+1|0;if((Di|0)>=(Le|0))break;else Qi=Qi+8|0}}Ei=Ei+1|0;if((Ei|0)>=(Le|0))break;else Zi=Zi+(sr<<3)|0}}}}while(0);jc(L)|0;f=0;break e}}}while(0);jc(L)|0;f=-1;break}}jc(L)|0;f=-1}else f=-1}else f=-1}else f=-1}}while(0);m=pr;return f|0}function Nr(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0.0,n=0.0,s=0,t=0,o=0,u=0,c=0,b=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0.0,Z=0,Q=0,$=0.0,ee=0.0,ie=0.0,re=0,fe=0.0,ae=0.0,le=0,ne=0,se=0,te=0.0,oe=0,ue=0,ce=0,be=0,ke=0.0,de=0,we=0.0,_e=0.0,ve=0,Ee=0,me=0,pe=0.0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0.0,Oe=0,Me=0.0,Re=0.0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0.0,Je=0.0,Ze=0.0,Qe=0.0,$e=0.0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0.0,Ni=0.0,Pi=0.0,Di=0.0,Ci=0.0,Ii=0,Li=0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0,zi=0,Vi=0,Wi=0,ji=0,Ki=0,Xi=0,Gi=0,qi=0,Ji=0,Zi=0,Qi=0,$i=0,er=0.0,ir=0.0,rr=0,fr=0,ar=0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0;cr=m;m=m+80|0;if((m|0)>=(p|0))he();or=cr+32|0;tr=cr+24|0;sr=cr;lr=cr+52|0;Qi=cr+40|0;nr=cr+64|0;E=e+44|0;k[E>>2]=0;S=e+7062388|0;Z=k[S>>2]|0;e:do{if((Z|0)==4){li=e+7062396|0;ni=k[li>>2]|0;do{if((ni|0)>0){s=4;fr=ni+-1|0}else{hi=e+16|0;Ei=k[hi>>2]|0;g=e+7062400|0;R=(k[g>>2]|0)+Ei|0;r=(R|0)>255?255:R;k[lr>>2]=r;L=e+7062404|0;Y=Ei-(k[L>>2]|0)|0;ar=(Y|0)<0?0:Y;k[lr+4>>2]=ar;k[lr+8>>2]=Ei;Q=e+36|0;re=e+40|0;le=e+4|0;ue=e+12|0;de=e+20|0;ve=e+4834144|0;Ee=e+15416|0;ye=e+15408|0;Fe=e+7062384|0;Oe=e+24|0;Pe=e+32|0;Ce=e+7062416|0;Be=e+48|0;ze=e+7062424|0;Ii=0;do{if((lf(i,k[Q>>2]|0,k[re>>2]|0,k[le>>2]|0,k[e>>2]|0,k[ue>>2]|0,k[lr+(Ii<<2)>>2]|0,k[de>>2]|0,ve,0)|0)<0){f=-1;break e}if((wa(k[Q>>2]|0,k[re>>2]|0,ve,k[de>>2]|0,1e6,70,1.0,Ee,ye)|0)<0){f=-1;break e}if((Xa(i,k[Q>>2]|0,k[re>>2]|0,k[le>>2]|0,Ee,k[ye>>2]|0,k[Fe>>2]|0,k[de>>2]|0,k[Oe>>2]|0,(k[Pe>>2]|0)+184|0,+v[Ce>>3],Be,E,k[ze>>2]|0)|0)<0){f=-1;break e}k[Qi+(Ii<<2)>>2]=k[E>>2];Ii=Ii+1|0}while((Ii|0)<3);if((k[e>>2]|0)==1){si=k[Qi+4>>2]|0;ti=k[Qi+8>>2]|0;oi=k[Qi>>2]|0;k[sr>>2]=ar;k[sr+4>>2]=si;k[sr+8>>2]=Ei;k[sr+12>>2]=ti;k[sr+16>>2]=r;k[sr+20>>2]=oi;Yl(3,4153,sr);ui=oi;ci=ti}else{ui=k[Qi>>2]|0;ci=k[Qi+8>>2]|0}w=k[Qi+4>>2]|0;if((ui|0)>(ci|0)|(w|0)>(ci|0)){mi=(ui|0)>=(w|0)?r:ar;k[hi>>2]=mi;pi=mi-Ei|0;if((pi|0)>0){k[g>>2]=pi;rr=1}else{k[g>>2]=1;rr=0-pi|0}k[L>>2]=rr;if((k[e>>2]|0)==1){k[tr>>2]=mi;Yl(3,4229,tr)}s=k[S>>2]|0;fr=k[e+7062392>>2]|0;break}bi=k[g>>2]|0;ki=k[L>>2]|0;do{if((bi|0)<(ki|0)){di=bi+1|0;k[g>>2]=di;_i=di}else if((bi|0)>(ki|0)){k[L>>2]=ki+1;_i=bi;break}else{wi=bi+1|0;k[g>>2]=wi;k[L>>2]=ki+1;_i=wi;break}}while(0);if((_i+Ei|0)>254){k[g>>2]=1;vi=1}else vi=_i;if((Ei|0)<=(vi|0))k[L>>2]=1;k[li>>2]=k[e+7062392>>2];ur=47;break e}}while(0);k[li>>2]=fr;y=s;ur=30}else{y=Z;ur=30}}while(0);e:do{if((ur|0)==30){i:do{switch(y|0){case 3:{F=e+7062408|0;A=Ga(k[F>>2]|0,i,9,-7)|0;if((A|0)<0){f=A;break e}T=k[F>>2]|0;O=e+4834144|0;M=lf(k[T>>2]|0,k[T+8>>2]|0,k[T+12>>2]|0,5,k[e>>2]|0,k[e+12>>2]|0,0,0,O,k[T+4>>2]|0)|0;if((M|0)<0){f=M;break e}t=e+36|0;o=e+40|0;u=e+20|0;d=O;break}case 2:case 1:{N=e+7062396|0;P=k[N>>2]|0;if((P|0)>0){k[N>>2]=P+-1;ur=44;break i}D=k[e+7062408>>2]|0;if((y|0)==1)$i=gu(D,i,nr)|0;else $i=Fl(D,i,nr)|0;if(($i|0)<0){f=$i;break e}C=e+16|0;if((k[e>>2]|0)==1){I=h[nr>>0]|0;if((k[C>>2]|0)!=(I|0)){k[or>>2]=(k[S>>2]|0)==1?4281:4288;k[or+4>>2]=I;Yl(3,4293,or)}}k[C>>2]=h[nr>>0];k[N>>2]=k[e+7062392>>2];ur=44;break}default:ur=44}}while(0);if((ur|0)==44){x=e+36|0;B=e+40|0;H=e+20|0;U=e+4834144|0;if((lf(i,k[x>>2]|0,k[B>>2]|0,k[e+4>>2]|0,k[e>>2]|0,k[e+12>>2]|0,k[e+16>>2]|0,k[H>>2]|0,U,0)|0)<0){f=-1;break}else{t=x;o=B;u=H;d=U}}z=e+15416|0;V=e+15408|0;if((wa(k[t>>2]|0,k[o>>2]|0,d,k[u>>2]|0,1e6,70,1.0,z,V)|0)<0)f=-1;else if((Xa(i,k[t>>2]|0,k[o>>2]|0,k[e+4>>2]|0,z,k[V>>2]|0,k[e+7062384>>2]|0,k[u>>2]|0,k[e+24>>2]|0,(k[e+32>>2]|0)+184|0,+v[e+7062416>>3],e+48|0,E,k[e+7062424>>2]|0)|0)<0)f=-1;else ur=47}}while(0);e:do{if((ur|0)==47){W=e+28|0;if((k[W>>2]|0)==1){Ol(e);f=0;break}j=e+4818296|0;K=e+24|0;_=k[j>>2]|0;if((_|0)>0){Li=0;do{X=k[E>>2]|0;G=e+4818304+(Li*264|0)+56|0;q=e+4818304+(Li*264|0)+64|0;if((X|0)>0){J=+(k[e+4818304+(Li*264|0)>>2]|0);Oi=-1;Ui=0;er=.5;while(1){$=+(k[e+48+(Ui<<8)>>2]|0);ee=J/$;if(ee<.7|ee>1.43){Mi=Oi;ir=er}else{ie=+v[e+48+(Ui<<8)+56>>3]-+v[G>>3];fe=+v[e+48+(Ui<<8)+64>>3]-+v[q>>3];ae=(ie*ie+fe*fe)/$;if(ae<er){Mi=Ui;ir=ae}else{Mi=Oi;ir=er}}Ui=Ui+1|0;if((Ui|0)>=(X|0)){Ti=Mi;break}else{Oi=Mi;er=ir}}}else Ti=-1;i:do{if((Ti|0)>-1){ne=k[K>>2]|0;switch(ne|0){case 2:case 1:case 0:break;case 4:case 3:{me=e+48+(Ti<<8)+40|0;pe=+v[e+4818304+(Li*264|0)+40>>3];if(+v[me>>3]<pe){c=e+4818304+(Li*264|0)+48|0;b=e+48+(Ti<<8)+48|0}else{Se=e+48+(Ti<<8)+48|0;ge=e+4818304+(Li*264|0)+48|0;if(+v[Se>>3]<+v[ge>>3]){c=ge;b=Se}else break i}v[me>>3]=pe;k[e+48+(Ti<<8)+8>>2]=k[e+4818304+(Li*264|0)+8>>2];v[b>>3]=+v[c>>3];k[e+48+(Ti<<8)+12>>2]=k[e+4818304+(Li*264|0)+12>>2];yi=-1;Ci=1.0e8;zi=0;while(1){Ni=0.0;Zi=0;while(1){Ae=(Zi+zi|0)%4|0;Te=+v[e+4818304+(Li*264|0)+168+(Zi<<4)>>3]-+v[e+48+(Ti<<8)+168+(Ae<<4)>>3];Me=+v[e+4818304+(Li*264|0)+168+(Zi<<4)+8>>3]-+v[e+48+(Ti<<8)+168+(Ae<<4)+8>>3];Re=Ni+(Te*Te+Me*Me);Zi=Zi+1|0;if((Zi|0)==4){l=Re;break}else Ni=Re}Ne=l<Ci;Fi=Ne?zi:yi;zi=zi+1|0;if((zi|0)==4){Ai=Fi;break}else{yi=Fi;Ci=Ne?l:Ci}}De=4-Ai|0;k[e+48+(Ti<<8)+20>>2]=(De+(k[e+4818304+(Li*264|0)+20>>2]|0)|0)%4|0;k[e+48+(Ti<<8)+24>>2]=(De+(k[e+4818304+(Li*264|0)+24>>2]|0)|0)%4|0;break i;break}default:{f=-1;break e}}se=e+48+(Ti<<8)+32|0;te=+v[e+4818304+(Li*264|0)+32>>3];if(+v[se>>3]<te){v[se>>3]=te;oe=k[e+4818304+(Li*264|0)+4>>2]|0;k[e+48+(Ti<<8)+4>>2]=oe;ce=e+4818304+(Li*264|0)+16|0;ri=-1;Pi=1.0e8;Yi=0;while(1){Ri=0.0;Ji=0;while(1){be=(Ji+Yi|0)%4|0;ke=+v[e+4818304+(Li*264|0)+168+(Ji<<4)>>3]-+v[e+48+(Ti<<8)+168+(be<<4)>>3];we=+v[e+4818304+(Li*264|0)+168+(Ji<<4)+8>>3]-+v[e+48+(Ti<<8)+168+(be<<4)+8>>3];_e=Ri+(ke*ke+we*we);Ji=Ji+1|0;if((Ji|0)==4){n=_e;break}else Ri=_e}if(n<Pi){Si=(4-Yi+(k[ce>>2]|0)|0)%4|0;Di=n}else{Si=ri;Di=Pi}Yi=Yi+1|0;if((Yi|0)==4){gi=Si;break}else{ri=Si;Pi=Di}}k[e+48+(Ti<<8)+16>>2]=gi;if(ne>>>0<2){k[e+48+(Ti<<8)+8>>2]=oe;v[e+48+(Ti<<8)+40>>3]=te;k[e+48+(Ti<<8)+20>>2]=gi;break}else{k[e+48+(Ti<<8)+12>>2]=oe;v[e+48+(Ti<<8)+48>>3]=te;k[e+48+(Ti<<8)+24>>2]=gi;break}}}}while(0);Li=Li+1|0}while((Li|0)<(_|0))}Ol(e);if((k[j>>2]|0)>0){xi=0;Wi=0;while(1){Ie=e+4818304+(xi*264|0)|0;Le=e+4818304+(xi*264|0)+256|0;xe=(k[Le>>2]|0)+1|0;k[Le>>2]=xe;if((xe|0)<4){if((xi|0)!=(Wi|0))rt(e+4818304+(Wi*264|0)|0,Ie|0,264)|0;ji=Wi+1|0}else ji=Wi;xi=xi+1|0;if((xi|0)>=(k[j>>2]|0)){Vi=ji;break}else Wi=ji}}else Vi=0;k[j>>2]=Vi;He=k[E>>2]|0;i:do{if((He|0)>0){fi=He;Bi=0;while(1){Ue=e+48+(Bi<<8)|0;Ye=k[e+48+(Bi<<8)+4>>2]|0;if((Ye|0)>=0){Ve=k[j>>2]|0;r:do{if((Ve|0)>0){Xi=0;while(1){if((k[e+4818304+(Xi*264|0)+4>>2]|0)==(Ye|0)){Ki=Xi;break r}We=Xi+1|0;if((We|0)<(Ve|0))Xi=We;else{Ki=We;break}}}else Ki=0}while(0);if((Ki|0)==(Ve|0)){if((Ve|0)==60){a=fi;break i}k[j>>2]=Ve+1}rt(e+4818304+(Ki*264|0)|0,Ue|0,256)|0;k[e+4818304+(Ki*264|0)+256>>2]=1}Bi=Bi+1|0;je=k[E>>2]|0;if((Bi|0)>=(je|0)){a=je;break}else fi=je}}else a=He}while(0);if((k[W>>2]|0)==2)f=0;else if((k[j>>2]|0)>0){Ge=a;Hi=0;while(1){Ke=e+4818304+(Hi*264|0)+56|0;Xe=e+4818304+(Hi*264|0)+64|0;i:do{if((Ge|0)>0){qe=+(k[e+4818304+(Hi*264|0)>>2]|0);qi=0;while(1){Je=+(k[e+48+(qi<<8)>>2]|0);Ze=qe/Je;if(!(Ze<.7|Ze>1.43)){Qe=+v[e+48+(qi<<8)+56>>3]-+v[Ke>>3];$e=+v[e+48+(qi<<8)+64>>3]-+v[Xe>>3];if((Qe*Qe+$e*$e)/Je<.5){Gi=qi;break i}}ei=qi+1|0;if((ei|0)<(Ge|0))qi=ei;else{Gi=ei;break}}}else Gi=0}while(0);if((Gi|0)==(Ge|0)){rt(e+48+(Ge<<8)|0,e+4818304+(Hi*264|0)|0,256)|0;ii=(k[E>>2]|0)+1|0;k[E>>2]=ii;ai=ii}else ai=Ge;Hi=Hi+1|0;if((Hi|0)>=(k[j>>2]|0)){f=0;break}else Ge=ai}}else f=0}}while(0);m=cr;return f|0}function Pr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+144|0;if((m|0)>=(p|0))he();oi=yi+132|0;bi=yi+120|0;t=yi+108|0;ki=yi+96|0;o=yi+84|0;ui=yi+72|0;hi=yi+60|0;$=yi+48|0;di=yi+36|0;De=yi+24|0;wi=yi+12|0;He=yi;Ve=i;e:do{if((Ve-e|0)>2){if((c[e>>0]|0)==103){F=(c[e+1>>0]|0)==115;ci=F;_i=F?e+2|0:e}else{ci=0;_i=e}N=Va(_i,i,r)|0;if((N|0)!=(_i|0)){if(!ci){f=N;break}G=k[r+4>>2]|0;if((k[r>>2]|0)==(G|0)){f=e;break}Mo(G+-24|0,0,12876)|0;f=N;break}if((Ve-_i|0)>2)if((c[_i>>0]|0)==115)if((c[_i+1>>0]|0)==114){Ce=_i+2|0;if((c[Ce>>0]|0)==78){Ie=_i+3|0;Le=da(Ie,i,r)|0;if((Le|0)==(Ie|0)|(Le|0)==(i|0)){f=e;break}xe=ta(Le,i,r)|0;a=r+4|0;do{if((xe|0)==(Le|0)){l=r;Ei=Le}else{Be=k[a>>2]|0;if(((Be-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break e}et(oi,Be+-24|0);Ue=k[a>>2]|0;Ye=Ue+-24|0;We=Ue;do{ze=We+-24|0;k[a>>2]=ze;Wo(ze);We=k[a>>2]|0}while((We|0)!=(Ye|0));je=c[oi>>0]|0;Ke=(je&1)==0;zn(Ue+-48|0,Ke?oi+1|0:k[oi+8>>2]|0,Ke?(je&255)>>>1:k[oi+4>>2]|0)|0;if((xe|0)!=(i|0)){Nu(oi);l=r;Ei=xe;break}Xe=k[a>>2]|0;Ge=Xe+-24|0;Je=Xe;do{qe=Je+-24|0;k[a>>2]=qe;Wo(qe);Je=k[a>>2]|0}while((Je|0)!=(Ge|0));Nu(oi);f=e;break e}}while(0);Ze=t+8|0;Qe=t+1|0;$e=t+4|0;if((c[Ei>>0]|0)==69)vi=Ei;else{mi=Ei;while(1){ei=xl(mi,i,r)|0;if((ei|0)==(mi|0)|(ei|0)==(i|0)){f=e;break e}ii=k[a>>2]|0;if(((ii-(k[l>>2]|0)|0)/24|0)>>>0<2){f=e;break e}et(bi,ii+-24|0);ri=k[a>>2]|0;fi=ri+-24|0;li=ri;do{ai=li+-24|0;k[a>>2]=ai;Wo(ai);li=k[a>>2]|0}while((li|0)!=(fi|0));ni=Mo(bi,0,12876)|0;k[t>>2]=k[ni>>2];k[t+4>>2]=k[ni+4>>2];k[t+8>>2]=k[ni+8>>2];k[ni>>2]=0;k[ni+4>>2]=0;k[ni+8>>2]=0;si=c[t>>0]|0;ti=(si&1)==0;zn(ri+-48|0,ti?Qe:k[Ze>>2]|0,ti?(si&255)>>>1:k[$e>>2]|0)|0;Nu(t);Nu(bi);if((c[ei>>0]|0)==69){vi=ei;break}else mi=ei}}u=vi+1|0;b=Va(u,i,r)|0;if((b|0)==(u|0)){h=k[a>>2]|0;if((k[l>>2]|0)==(h|0)){f=e;break}d=h+-24|0;_=h;while(1){w=_+-24|0;k[a>>2]=w;Wo(w);_=k[a>>2]|0;if((_|0)==(d|0)){f=e;break e}}}v=k[a>>2]|0;if(((v-(k[l>>2]|0)|0)/24|0)>>>0<2){f=e;break}et(ki,v+-24|0);E=k[a>>2]|0;S=E+-24|0;y=E;do{g=y+-24|0;k[a>>2]=g;Wo(g);y=k[a>>2]|0}while((y|0)!=(S|0));A=Mo(ki,0,12876)|0;k[o>>2]=k[A>>2];k[o+4>>2]=k[A+4>>2];k[o+8>>2]=k[A+8>>2];k[A>>2]=0;k[A+4>>2]=0;k[A+8>>2]=0;T=c[o>>0]|0;O=(T&1)==0;zn(E+-48|0,O?o+1|0:k[o+8>>2]|0,O?(T&255)>>>1:k[o+4>>2]|0)|0;Nu(o);Nu(ki);f=b;break}M=da(Ce,i,r)|0;if((M|0)!=(Ce|0)){R=ta(M,i,r)|0;if((R|0)==(M|0))pi=M;else{P=r+4|0;D=k[P>>2]|0;if(((D-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break}et(ui,D+-24|0);C=k[P>>2]|0;I=C+-24|0;x=C;do{L=x+-24|0;k[P>>2]=L;Wo(L);x=k[P>>2]|0}while((x|0)!=(I|0));B=c[ui>>0]|0;H=(B&1)==0;zn(C+-48|0,H?ui+1|0:k[ui+8>>2]|0,H?(B&255)>>>1:k[ui+4>>2]|0)|0;Nu(ui);pi=R}U=Va(pi,i,r)|0;if((U|0)==(pi|0)){Y=r+4|0;z=k[Y>>2]|0;if((k[r>>2]|0)==(z|0)){f=e;break}V=z+-24|0;j=z;while(1){W=j+-24|0;k[Y>>2]=W;Wo(W);j=k[Y>>2]|0;if((j|0)==(V|0)){f=e;break e}}}K=r+4|0;X=k[K>>2]|0;if(((X-(k[r>>2]|0)|0)/24|0)>>>0<2){f=e;break}et(hi,X+-24|0);q=k[K>>2]|0;J=q+-24|0;Q=q;do{Z=Q+-24|0;k[K>>2]=Z;Wo(Z);Q=k[K>>2]|0}while((Q|0)!=(J|0));ee=Mo(hi,0,12876)|0;k[$>>2]=k[ee>>2];k[$+4>>2]=k[ee+4>>2];k[$+8>>2]=k[ee+8>>2];k[ee>>2]=0;k[ee+4>>2]=0;k[ee+8>>2]=0;ie=c[$>>0]|0;re=(ie&1)==0;zn(q+-48|0,re?$+1|0:k[$+8>>2]|0,re?(ie&255)>>>1:k[$+4>>2]|0)|0;Nu($);Nu(hi);f=U;break}fe=xl(Ce,i,r)|0;if((fe|0)==(Ce|0)|(fe|0)==(i|0))f=e;else{if(ci){ae=r+4|0;le=k[ae>>2]|0;if((k[r>>2]|0)==(le|0)){f=e;break}Mo(le+-24|0,0,12876)|0;n=ae;s=r}else{n=r+4|0;s=r}ne=De+8|0;se=De+1|0;te=De+4|0;if((c[fe>>0]|0)==69)Si=fe;else{gi=fe;while(1){oe=xl(gi,i,r)|0;if((oe|0)==(gi|0)|(oe|0)==(i|0)){f=e;break e}ue=k[n>>2]|0;if(((ue-(k[s>>2]|0)|0)/24|0)>>>0<2){f=e;break e}et(di,ue+-24|0);ce=k[n>>2]|0;be=ce+-24|0;de=ce;do{ke=de+-24|0;k[n>>2]=ke;Wo(ke);de=k[n>>2]|0}while((de|0)!=(be|0));we=Mo(di,0,12876)|0;k[De>>2]=k[we>>2];k[De+4>>2]=k[we+4>>2];k[De+8>>2]=k[we+8>>2];k[we>>2]=0;k[we+4>>2]=0;k[we+8>>2]=0;_e=c[De>>0]|0;ve=(_e&1)==0;zn(ce+-48|0,ve?se:k[ne>>2]|0,ve?(_e&255)>>>1:k[te>>2]|0)|0;Nu(De);Nu(di);if((c[oe>>0]|0)==69){Si=oe;break}else gi=oe}}Ee=Si+1|0;me=Va(Ee,i,r)|0;if((me|0)==(Ee|0)){pe=k[n>>2]|0;if((k[s>>2]|0)==(pe|0)){f=e;break}Se=pe+-24|0;ye=pe;while(1){ge=ye+-24|0;k[n>>2]=ge;Wo(ge);ye=k[n>>2]|0;if((ye|0)==(Se|0)){f=e;break e}}}Fe=k[n>>2]|0;if(((Fe-(k[s>>2]|0)|0)/24|0)>>>0<2)f=e;else{et(wi,Fe+-24|0);Ae=k[n>>2]|0;Te=Ae+-24|0;Me=Ae;do{Oe=Me+-24|0;k[n>>2]=Oe;Wo(Oe);Me=k[n>>2]|0}while((Me|0)!=(Te|0));Re=Mo(wi,0,12876)|0;k[He>>2]=k[Re>>2];k[He+4>>2]=k[Re+4>>2];k[He+8>>2]=k[Re+8>>2];k[Re>>2]=0;k[Re+4>>2]=0;k[Re+8>>2]=0;Ne=c[He>>0]|0;Pe=(Ne&1)==0;zn(Ae+-48|0,Pe?He+1|0:k[He+8>>2]|0,Pe?(Ne&255)>>>1:k[He+4>>2]|0)|0;Nu(He);Nu(wi);f=me}}}else f=e;else f=e;else f=e}else f=e}while(0);m=yi;return f|0}function Dr(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+176|0;if((m|0)>=(p|0))he();gi=Ri+144|0;d=Ri+120|0;w=Ri+96|0;ke=Ri+72|0;je=Ri+48|0;Je=Ri+24|0;ei=Ri;e:do{if((i-e|0)>1)if((c[e>>0]|0)==83){O=e+1|0;P=c[O>>0]|0;B=P<<24>>24;switch(B|0){case 97:{yo(d,12787);W=r+4|0;q=k[W>>2]|0;ae=k[r+8>>2]|0;if(q>>>0<ae>>>0){Nt(q,d);k[W>>2]=(k[W>>2]|0)+24}else{Ie=k[r>>2]|0;Be=q-Ie|0;Ve=(Be|0)/24|0;We=Ve+1|0;if((Be|0)<-24)gc(r);Ke=(ae-Ie|0)/24|0;if(Ke>>>0<1073741823){Xe=Ke<<1;a=Xe>>>0<We>>>0?We:Xe}else a=2147483647;pt(gi,a,Ve,r+12|0);Ge=gi+8|0;qe=k[Ge>>2]|0;Nt(qe,d);k[Ge>>2]=qe+24;Bn(r,gi);lt(gi)}Wo(d);f=e+2|0;break e;break}case 98:{go(w,12802);Ze=r+4|0;Qe=k[Ze>>2]|0;$e=k[r+8>>2]|0;if(Qe>>>0<$e>>>0){Nt(Qe,w);k[Ze>>2]=(k[Ze>>2]|0)+24}else{ii=k[r>>2]|0;ri=Qe-ii|0;fi=(ri|0)/24|0;ai=fi+1|0;if((ri|0)<-24)gc(r);li=($e-ii|0)/24|0;if(li>>>0<1073741823){ni=li<<1;l=ni>>>0<ai>>>0?ai:ni}else l=2147483647;pt(gi,l,fi,r+12|0);si=gi+8|0;ti=k[si>>2]|0;Nt(ti,w);k[si>>2]=ti+24;Bn(r,gi);lt(gi)}Wo(w);f=e+2|0;break e;break}case 115:{To(ke,12820);oi=r+4|0;ui=k[oi>>2]|0;ci=k[r+8>>2]|0;if(ui>>>0<ci>>>0){Nt(ui,ke);k[oi>>2]=(k[oi>>2]|0)+24}else{bi=k[r>>2]|0;ki=ui-bi|0;hi=(ki|0)/24|0;di=hi+1|0;if((ki|0)<-24)gc(r);wi=(ci-bi|0)/24|0;if(wi>>>0<1073741823){_i=wi<<1;n=_i>>>0<di>>>0?di:_i}else n=2147483647;pt(gi,n,hi,r+12|0);vi=gi+8|0;Ei=k[vi>>2]|0;Nt(Ei,ke);k[vi>>2]=Ei+24;Bn(r,gi);lt(gi)}Wo(ke);f=e+2|0;break e;break}case 105:{Ao(je,12832);mi=r+4|0;pi=k[mi>>2]|0;Si=k[r+8>>2]|0;if(pi>>>0<Si>>>0){Nt(pi,je);k[mi>>2]=(k[mi>>2]|0)+24}else{_=k[r>>2]|0;v=pi-_|0;E=(v|0)/24|0;S=E+1|0;if((v|0)<-24)gc(r);g=(Si-_|0)/24|0;if(g>>>0<1073741823){y=g<<1;s=y>>>0<S>>>0?S:y}else s=2147483647;pt(gi,s,E,r+12|0);F=gi+8|0;A=k[F>>2]|0;Nt(A,je);k[F>>2]=A+24;Bn(r,gi);lt(gi)}Wo(je);f=e+2|0;break e;break}case 111:{Ao(Je,12845);T=r+4|0;M=k[T>>2]|0;R=k[r+8>>2]|0;if(M>>>0<R>>>0){Nt(M,Je);k[T>>2]=(k[T>>2]|0)+24}else{N=k[r>>2]|0;D=M-N|0;C=(D|0)/24|0;I=C+1|0;if((D|0)<-24)gc(r);L=(R-N|0)/24|0;if(L>>>0<1073741823){x=L<<1;t=x>>>0<I>>>0?I:x}else t=2147483647;pt(gi,t,C,r+12|0);H=gi+8|0;U=k[H>>2]|0;Nt(U,Je);k[H>>2]=U+24;Bn(r,gi);lt(gi)}Wo(Je);f=e+2|0;break e;break}case 100:{Fo(ei,12858);Y=r+4|0;z=k[Y>>2]|0;V=k[r+8>>2]|0;if(z>>>0<V>>>0){Nt(z,ei);k[Y>>2]=(k[Y>>2]|0)+24}else{j=k[r>>2]|0;K=z-j|0;X=(K|0)/24|0;G=X+1|0;if((K|0)<-24)gc(r);J=(V-j|0)/24|0;if(J>>>0<1073741823){Z=J<<1;o=Z>>>0<G>>>0?G:Z}else o=2147483647;pt(gi,o,X,r+12|0);Q=gi+8|0;$=k[Q>>2]|0;Nt($,ei);k[Q>>2]=$+24;Bn(r,gi);lt(gi)}Wo(ei);f=e+2|0;break e;break}case 95:{ee=k[r+16>>2]|0;if((ee|0)==(k[r+20>>2]|0)){f=e;break e}ie=k[ee>>2]|0;re=k[ee+4>>2]|0;fe=r+4|0;le=r+8|0;ne=r+12|0;se=gi+8|0;i:do{if((ie|0)!=(re|0)){oe=ie;while(1){te=k[fe>>2]|0;if((te|0)==(k[le>>2]|0)){ue=te-(k[r>>2]|0)|0;ce=(ue|0)/24|0;be=ce+1|0;if((ue|0)<-24)break;if(ce>>>0<1073741823){de=ce<<1;u=de>>>0<be>>>0?be:de}else u=2147483647;pt(gi,u,ce,ne);we=k[se>>2]|0;Lt(we,oe);Lt(we+12|0,oe+12|0);k[se>>2]=we+24;Bn(r,gi);lt(gi)}else{Lt(te,oe);Lt(te+12|0,oe+12|0);k[fe>>2]=(k[fe>>2]|0)+24}oe=oe+24|0;if((oe|0)==(re|0))break i}gc(r)}}while(0);f=e+2|0;break e;break}default:{if((B+-48|0)>>>0<10)ve=P;else{if(!(Eb(B)|0)){f=e;break e}ve=c[O>>0]|0}_e=ve<<24>>24;yi=_e+-48|0;Ee=e+2|0;if((Ee|0)==(i|0)){f=e;break e}Ai=yi>>>0<10?yi:_e+-55|0;Oi=Ee;while(1){me=c[Oi>>0]|0;pe=me<<24>>24;if((pe+-48|0)>>>0<10)Fe=me;else{Se=(Eb(pe)|0)==0;ge=c[Oi>>0]|0;if(Se){h=ge;Ti=Ai;Mi=Oi;break}else Fe=ge}ye=Fe<<24>>24;Fi=ye+-48|0;Oi=Oi+1|0;if((Oi|0)==(i|0)){f=e;break e}else Ai=(Fi>>>0<10?Fi:ye+-55|0)+(Ai*36|0)|0}if(h<<24>>24!=95){f=e;break e}Ae=Ti+1|0;Te=k[r+16>>2]|0;if(Ae>>>0>=(k[r+20>>2]|0)-Te>>4>>>0){f=e;break e}Oe=k[Te+(Ae<<4)>>2]|0;Me=k[Te+(Ae<<4)+4>>2]|0;Re=r+4|0;Ne=r+8|0;Pe=r+12|0;De=gi+8|0;i:do{if((Oe|0)!=(Me|0)){Le=Oe;while(1){Ce=k[Re>>2]|0;if((Ce|0)==(k[Ne>>2]|0)){xe=Ce-(k[r>>2]|0)|0;He=(xe|0)/24|0;Ue=He+1|0;if((xe|0)<-24)break;if(He>>>0<1073741823){Ye=He<<1;b=Ye>>>0<Ue>>>0?Ue:Ye}else b=2147483647;pt(gi,b,He,Pe);ze=k[De>>2]|0;Lt(ze,Le);Lt(ze+12|0,Le+12|0);k[De>>2]=ze+24;Bn(r,gi);lt(gi)}else{Lt(Ce,Le);Lt(Ce+12|0,Le+12|0);k[Re>>2]=(k[Re>>2]|0)+24}Le=Le+24|0;if((Le|0)==(Me|0))break i}gc(r)}}while(0);f=Mi+1|0;break e}}}else f=e;else f=e}while(0);m=Ri;return f|0}function Cr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0.0,n=0.0,s=0.0,t=0.0,o=0,u=0.0,c=0.0,b=0.0,h=0.0,d=0.0,w=0.0,_=0.0,E=0.0,S=0.0,g=0.0,y=0.0,F=0.0,A=0.0,T=0.0,O=0,M=0,R=0,N=0,P=0,D=0,C=0.0,I=0.0,L=0.0,x=0.0,B=0.0,H=0.0,U=0.0,Y=0.0,z=0.0,V=0.0,W=0.0,j=0.0,K=0.0,X=0.0,G=0.0,q=0.0,J=0.0,Z=0.0,Q=0.0,ee=0.0,ie=0.0,re=0.0,fe=0.0,ae=0.0,le=0.0,ne=0.0,se=0.0,te=0.0,oe=0.0,ue=0.0,ce=0.0,be=0.0,ke=0.0,de=0.0,we=0.0,_e=0.0,ve=0.0,Ee=0.0,me=0,pe=0.0,Se=0.0,ge=0.0,ye=0.0,Fe=0.0,Ae=0.0,Te=0.0,Oe=0.0,Me=0.0,Re=0.0,Ne=0.0,Pe=0.0,De=0.0,Ce=0.0,Ie=0.0,Le=0.0,xe=0.0,Be=0.0,He=0,Ue=0,Ye=0,ze=0.0,Ve=0.0,We=0.0,je=0.0,Ke=0.0,Xe=0.0,Ge=0.0,qe=0.0,Je=0.0,Ze=0.0,Qe=0,$e=0.0,ei=0.0,ii=0.0,ri=0.0,fi=0,ai=0.0,li=0.0,ni=0.0,si=0.0,ti=0,oi=0,ui=0.0,ci=0,bi=0.0,ki=0.0,hi=0.0,di=0,wi=0.0,_i=0.0,vi=0,Ei=0.0,mi=0.0,pi=0.0,Si=0.0,gi=0.0,yi=0.0,Fi=0,Ai=0.0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0.0,Di=0.0,Ci=0.0,Ii=0.0,Li=0.0,xi=0,Bi=0,Hi=0,Ui=0,Yi=0.0,zi=0.0,Vi=0.0,Wi=0.0,ji=0.0,Ki=0.0,Xi=0.0,Gi=0.0,qi=0.0,Ji=0.0,Zi=0.0,Qi=0.0,$i=0.0,er=0.0,ir=0.0,rr=0.0,fr=0.0,ar=0.0,lr=0,nr=0,sr=0,tr=0,or=0,ur=0,cr=0,br=0;br=m;m=m+64|0;if((m|0)>=(p|0))he();sr=br+48|0;cr=br+40|0;ur=br+32|0;or=br+24|0;tr=br+16|0;nr=br+8|0;lr=br;e:do{if((f|0)<4)o=-1;else{Hi=0;while(1){if((Hi|0)>=(f|0))break;if(+v[r+(Hi*24|0)+16>>3]!=0.0){o=-1;break e}else Hi=Hi+1|0}if(+v[e>>3]==0.0)o=-1;else if(+v[e+32>>3]!=0.0)o=-1;else{N=e+40|0;if(+v[N>>3]==0.0)o=-1;else if(+v[e+64>>3]!=0.0)o=-1;else if(+v[e+72>>3]!=0.0)o=-1;else if(+v[e+80>>3]!=1.0)o=-1;else if(+v[e+24>>3]!=0.0)o=-1;else if(+v[e+56>>3]!=0.0)o=-1;else if(+v[e+88>>3]!=0.0)o=-1;else{Qe=f<<1;fi=bo(Qe,8)|0;if(!fi){Yl(3,5124,lr);o=-1;break}ci=bo(Qe,1)|0;if(!ci){jc(fi)|0;Yl(3,5150,nr);o=-1;break}if(f){di=k[fi>>2]|0;vi=k[ci>>2]|0;Ui=0;do{Fi=r+(Ui*24|0)|0;Ti=Ui<<4;v[di+(Ti<<3)>>3]=+v[Fi>>3];Oi=r+(Ui*24|0)+8|0;v[di+((Ti|1)<<3)>>3]=+v[Oi>>3];v[di+((Ti|2)<<3)>>3]=1.0;v[di+((Ti|3)<<3)>>3]=0.0;v[di+((Ti|4)<<3)>>3]=0.0;v[di+((Ti|5)<<3)>>3]=0.0;Mi=i+(Ui<<4)|0;v[di+((Ti|6)<<3)>>3]=-(+v[Fi>>3]*+v[Mi>>3]);v[di+((Ti|7)<<3)>>3]=-(+v[Oi>>3]*+v[Mi>>3]);v[di+((Ti|8)<<3)>>3]=0.0;v[di+((Ti|9)<<3)>>3]=0.0;v[di+((Ti|10)<<3)>>3]=0.0;v[di+((Ti|11)<<3)>>3]=+v[Fi>>3];v[di+((Ti|12)<<3)>>3]=+v[Oi>>3];v[di+((Ti|13)<<3)>>3]=1.0;Ri=i+(Ui<<4)+8|0;v[di+((Ti|14)<<3)>>3]=-(+v[Fi>>3]*+v[Ri>>3]);v[di+((Ti|15)<<3)>>3]=-(+v[Oi>>3]*+v[Ri>>3]);Ni=Ui<<1;v[vi+(Ni<<3)>>3]=+v[Mi>>3];v[vi+((Ni|1)<<3)>>3]=+v[Ri>>3];Ui=Ui+1|0}while((Ui|0)!=(f|0))}O=jo(fi)|0;if(!O){jc(fi)|0;jc(ci)|0;Yl(3,5176,tr);o=-1;break}M=Xo(O,fi)|0;if(!M){jc(fi)|0;jc(ci)|0;jc(O)|0;Yl(3,5202,or);o=-1;break}R=Xo(O,ci)|0;if(!R){jc(fi)|0;jc(ci)|0;jc(O)|0;jc(M)|0;Yl(3,5228,ur);o=-1;break}if((Pa(M)|0)<0){jc(fi)|0;jc(ci)|0;jc(O)|0;jc(M)|0;jc(R)|0;Yl(3,5254,cr);o=-1;break}P=Xo(M,R)|0;if(!P){jc(fi)|0;jc(ci)|0;jc(O)|0;jc(M)|0;jc(R)|0;Yl(3,5280,sr);o=-1;break}D=k[P>>2]|0;C=+v[D+48>>3];I=+v[e+48>>3];L=+v[N>>3];x=(+v[D+24>>3]-C*I)/L;B=+v[e+16>>3];H=+v[e+8>>3];U=+v[e>>3];Y=(+v[D>>3]-C*B-x*H)/U;z=+v[D+56>>3];V=(+v[D+32>>3]-I*z)/L;W=(+v[D+8>>3]-B*z-H*V)/U;j=(+v[D+40>>3]-I)/L;K=(+v[D+16>>3]-B-H*j)/U;jc(fi)|0;jc(ci)|0;jc(O)|0;jc(M)|0;jc(R)|0;jc(P)|0;X=+$(+(C*C+(x*x+Y*Y)));G=+$(+(z*z+(V*V+W*W)));q=Y/X;J=x/X;Z=C/X;Q=W/G;ee=V/G;ie=z/G;re=(X+G)*.5;fe=K/re;ae=1.0/re;if(ae<0.0){g=-J;le=-ie;ne=-ee;se=-Z;oe=-Q;ue=-q;Yi=-fe;zi=-ae}else{g=J;le=ie;ne=ee;se=Z;oe=Q;ue=q;Yi=fe;zi=j/re}te=le*g-ne*se;ce=oe*se-le*ue;be=ne*ue-oe*g;ke=+$(+(be*be+(te*te+ce*ce)));do{if(ke==0.0){y=g;wi=le;_i=ne;Ei=se;pi=oe;Si=ue}else{de=te/ke;we=ce/ke;_e=be/ke;ve=le*se+(ne*g+oe*ue);Pi=ve<0.0?-ve:ve;Ee=(+$(+(Pi+1.0))+ +$(+(1.0-Pi)))*.5;if(ue*we-g*de!=0.0){xi=0;Vi=ue;Wi=g;ji=se;qi=de;Qi=we;rr=_e}else{me=ue*_e-se*de!=0.0;xi=me?1:2;Vi=me?ue:se;Wi=me?se:g;ji=me?g:ue;qi=me?de:_e;Qi=me?_e:we;rr=me?we:de}pe=Vi*Qi;Se=Wi*qi;ge=pe-Se;if(ge==0.0){y=g;wi=le;_i=ne;Ei=se;pi=oe;Si=ue;break}ye=(Wi*rr-ji*Qi)/ge;Fe=Ee*Qi/ge;Ae=Se-pe;Te=(Vi*rr-ji*qi)/Ae;Oe=Ee*qi/Ae;Me=ye*ye+Te*Te+1.0;Re=ye*Fe+Te*Oe;Ne=Re*Re-Me*(Fe*Fe+Oe*Oe+-1.0);if(Ne<0.0){y=g;wi=le;_i=ne;Ei=se;pi=oe;Si=ue;break}Pe=+$(+Ne);De=(Pe-Re)/Me;Ce=Fe+ye*De;Ie=Oe+Te*De;Le=(-Re-Pe)/Me;xe=Fe+ye*Le;Be=Oe+Te*Le;He=(xi|0)==1;$i=He?Qi:rr;fr=He?rr:Qi;S=He?De:Ie;A=He?Ie:De;T=He?Le:Be;c=He?Be:Le;Ue=(xi|0)==2&(He^1);Ji=Ue?qi:$i;er=Ue?$i:qi;F=Ue?A:Ce;t=Ue?Ce:A;u=Ue?c:xe;l=Ue?xe:c;if(oe*fr-ne*er!=0.0){Bi=0;Ki=oe;Xi=ne;Gi=le;Zi=er;ir=fr;ar=Ji}else{Ye=oe*Ji-le*er!=0.0;Bi=Ye?1:2;Ki=Ye?oe:le;Xi=Ye?le:ne;Gi=Ye?ne:oe;Zi=Ye?er:Ji;ir=Ye?Ji:fr;ar=Ye?fr:er}ze=Ki*ir;Ve=Xi*Zi;We=ze-Ve;if(We==0.0){y=g;wi=le;_i=ne;Ei=se;pi=oe;Si=ue;break}je=(Xi*ar-Gi*ir)/We;Ke=Ee*ir/We;Xe=Ve-ze;Ge=(Ki*ar-Gi*Zi)/Xe;qe=Ee*Zi/Xe;Je=je*je+Ge*Ge+1.0;Ze=je*Ke+Ge*qe;$e=Ze*Ze-Je*(Ke*Ke+qe*qe+-1.0);if($e<0.0){y=g;wi=le;_i=ne;Ei=se;pi=oe;Si=ue;break}ei=+$(+$e);ii=(ei-Ze)/Je;ri=Ke+je*ii;ai=qe+Ge*ii;li=(-Ze-ei)/Je;ni=Ke+je*li;si=qe+Ge*li;ti=(Bi|0)==1;b=ti?ii:ai;d=ti?ai:ii;w=ti?li:si;E=ti?si:li;oi=(Bi|0)==2&(ti^1);h=oi?d:ri;n=oi?ri:d;_=oi?E:ni;s=oi?ni:E;ui=t*n+(S*b+F*h);Di=ui<0.0?-ui:ui;bi=t*s+(S*w+F*_);Ci=bi<0.0?-bi:bi;ki=l*n+(T*b+u*h);Ii=ki<0.0?-ki:ki;hi=l*s+(T*w+u*_);Li=hi<0.0?-hi:hi;if(Di<Ci)if(Di<Ii){if(Di<Li){y=S;wi=n;_i=b;Ei=t;pi=h;Si=F;break}y=T;wi=s;_i=w;Ei=l;pi=_;Si=u;break}else{if(Ii<Li){y=T;wi=n;_i=b;Ei=l;pi=h;Si=u;break}y=T;wi=s;_i=w;Ei=l;pi=_;Si=u;break}else if(Ci<Ii){if(Ci<Li){y=S;wi=s;_i=w;Ei=t;pi=_;Si=F;break}y=T;wi=s;_i=w;Ei=l;pi=_;Si=u;break}else{if(Ii<Li){y=T;wi=n;_i=b;Ei=l;pi=h;Si=u;break}y=T;wi=s;_i=w;Ei=l;pi=_;Si=u;break}}}while(0);mi=wi*y-_i*Ei;gi=pi*Ei-wi*Si;yi=_i*Si-pi*y;Ai=+$(+(yi*yi+(mi*mi+gi*gi)));v[a>>3]=Si;v[a+32>>3]=y;v[a+64>>3]=Ei;v[a+8>>3]=pi;v[a+40>>3]=_i;v[a+72>>3]=wi;v[a+16>>3]=mi/Ai;v[a+48>>3]=gi/Ai;v[a+80>>3]=yi/Ai;v[a+24>>3]=Yi;v[a+56>>3]=zi;v[a+88>>3]=ae;o=0}}}}while(0);m=br;return o|0}function Ir(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0.0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0.0,N=0,P=0,D=0,C=0,I=0.0,L=0.0,x=0.0,B=0.0,H=0.0,U=0,Y=0.0,z=0,V=0.0,W=0.0,j=0.0,K=0.0,X=0.0,G=0.0,q=0,J=0.0,Z=0.0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0.0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0.0,_e=0.0,ve=0.0,Ee=0.0,me=0.0,pe=0.0,Se=0.0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0;li=m;m=m+208|0;if((m|0)>=(p|0))he();ei=li+200|0;$e=li+192|0;Ze=li+96|0;Qe=li;s=f+4|0;t=k[s>>2]|0;M=f+112|0;q=f+120|0;if((t|0)>0){se=k[f>>2]|0;oe=(r|0)>0;ue=(r|0)>0;ge=0;do{if(!(k[se+(ge*320|0)+4>>2]|0)){if(oe){F=k[se+(ge*320|0)>>2]|0;Te=0;He=-1;while(1){if((k[i+(Te<<8)+8>>2]|0)==(F|0)){R=+v[i+(Te<<8)+40>>3];if(R<+v[M>>3])Ue=He;else if((He|0)==-1)Ue=Te;else if(+v[i+(He<<8)+40>>3]<R)Ue=Te;else Ue=He}else Ue=He;Te=Te+1|0;if((Te|0)>=(r|0)){Be=Ue;break}else He=Ue}}else Be=-1;k[se+(ge*320|0)+304>>2]=Be;if((Be|0)>-1)k[i+(Be<<8)+16>>2]=k[i+(Be<<8)+20>>2]}else{b=se+(ge*320|0)+312|0;E=se+(ge*320|0)|0;if(ue){Me=0;ze=-1;while(1){re=k[i+(Me<<8)+12>>2]|0;if(!re){fe=i+(Me<<8)+248|0;ae=k[fe>>2]|0;le=k[fe+4>>2]|0;if((ae|0)==0&(le|0)==0)ai=19;else{ne=b;if((ae|0)==(k[ne>>2]|0)?(le|0)==(k[ne+4>>2]|0):0)ai=20;else Ve=ze}}else ai=19;if((ai|0)==19){ai=0;if((re|0)==(k[E>>2]|0))ai=20;else Ve=ze}if((ai|0)==20){ai=0;te=+v[i+(Me<<8)+48>>3];if(te<+v[q>>3])Ve=ze;else if((ze|0)==-1)Ve=Me;else if(+v[i+(ze<<8)+48>>3]<te)Ve=Me;else Ve=ze}Me=Me+1|0;if((Me|0)>=(r|0)){Ye=Ve;break}else ze=Ve}}else Ye=-1;k[se+(ge*320|0)+304>>2]=Ye;if((Ye|0)>-1)k[i+(Ye<<8)+16>>2]=k[i+(Ye<<8)+24>>2]}ge=ge+1|0}while((ge|0)<(t|0))}if((t|0)>0){ye=0;je=0;Ge=0;ri=0;while(1){ce=k[f>>2]|0;be=k[ce+(ye*320|0)+304>>2]|0;do{if((be|0)<0){Xe=je;Je=Ge;fi=ri}else{ke=i+(be<<8)|0;if(+_l(e,ke,+v[ce+(ye*320|0)+8>>3],Qe)>4.0){k[(k[f>>2]|0)+(ye*320|0)+304>>2]=-1;de=i+(be<<8)+236|0;if(k[de>>2]|0){Xe=je;Je=Ge;fi=ri;break}k[de>>2]=7;Xe=je;Je=Ge;fi=ri;break}n=k[ke>>2]|0;if((ri|0)==0|(Ge|0)<(n|0)){Re=0;do{v[Ze+(Re<<5)>>3]=+v[Qe+(Re<<5)>>3];v[Ze+(Re<<5)+8>>3]=+v[Qe+(Re<<5)+8>>3];v[Ze+(Re<<5)+16>>3]=+v[Qe+(Re<<5)+16>>3];v[Ze+(Re<<5)+24>>3]=+v[Qe+(Re<<5)+24>>3];Re=Re+1|0}while((Re|0)!=3);Ke=ye;qe=n}else{Ke=je;qe=Ge}Xe=Ke;Je=qe;fi=ri+1|0}}while(0);ye=ye+1|0;if((ye|0)>=(k[s>>2]|0)){We=Xe;ii=fi;break}else{je=Xe;Ge=Je;ri=fi}}}else{We=0;ii=0}do{if(!ii)ai=38;else if((ii|0)<(k[f+128>>2]|0))ai=38;else{Ys(Ze,(k[f>>2]|0)+(We*320|0)+112|0,Qe)|0;o=ii<<2;u=Sr(ii<<6)|0;if(!u){Yl(3,5471,$e);ji(1)}c=Sr(ii*96|0)|0;if(!c){Yl(3,5471,ei);ji(1)}h=k[s>>2]|0;if((h|0)>0){d=k[f>>2]|0;Fe=0;Ne=0;while(1){w=k[d+(Fe*320|0)+304>>2]|0;if((w|0)<0)Pe=Ne;else{_=k[i+(w<<8)+16>>2]|0;S=(4-_|0)%4|0;g=Ne<<3;v[u+(g<<3)>>3]=+v[i+(w<<8)+168+(S<<4)>>3];v[u+((g|1)<<3)>>3]=+v[i+(w<<8)+168+(S<<4)+8>>3];y=(5-_|0)%4|0;v[u+((g|2)<<3)>>3]=+v[i+(w<<8)+168+(y<<4)>>3];v[u+((g|3)<<3)>>3]=+v[i+(w<<8)+168+(y<<4)+8>>3];A=(6-_|0)%4|0;v[u+((g|4)<<3)>>3]=+v[i+(w<<8)+168+(A<<4)>>3];v[u+((g|5)<<3)>>3]=+v[i+(w<<8)+168+(A<<4)+8>>3];T=(7-_|0)%4|0;v[u+((g|6)<<3)>>3]=+v[i+(w<<8)+168+(T<<4)>>3];v[u+((g|7)<<3)>>3]=+v[i+(w<<8)+168+(T<<4)+8>>3];O=Ne*12|0;v[c+(O<<3)>>3]=+v[d+(Fe*320|0)+208>>3];v[c+((O|1)<<3)>>3]=+v[d+(Fe*320|0)+216>>3];v[c+((O|2)<<3)>>3]=+v[d+(Fe*320|0)+224>>3];v[c+((O|3)<<3)>>3]=+v[d+(Fe*320|0)+232>>3];v[c+(O+4<<3)>>3]=+v[d+(Fe*320|0)+240>>3];v[c+(O+5<<3)>>3]=+v[d+(Fe*320|0)+248>>3];v[c+(O+6<<3)>>3]=+v[d+(Fe*320|0)+256>>3];v[c+(O+7<<3)>>3]=+v[d+(Fe*320|0)+264>>3];v[c+(O+8<<3)>>3]=+v[d+(Fe*320|0)+272>>3];v[c+(O+9<<3)>>3]=+v[d+(Fe*320|0)+280>>3];N=k[f>>2]|0;v[c+(O+10<<3)>>3]=+v[N+(Fe*320|0)+288>>3];v[c+(O+11<<3)>>3]=+v[N+(Fe*320|0)+296>>3];Pe=Ne+1|0}Fe=Fe+1|0;if((Fe|0)>=(h|0))break;else Ne=Pe}}P=f+104|0;D=(a|0)!=0;if(!(k[P>>2]|0)){C=f+8|0;I=+$l(e,Qe,u,c,o,C);if(D&I>=20.0){_u(k[e>>2]|0,.8)|0;L=+Ql(e,Qe,u,c,o,C);if(!(L>=20.0))we=L;else{_u(k[e>>2]|0,.6)|0;x=+Ql(e,Qe,u,c,o,C);if(!(x>=20.0))we=x;else{_u(k[e>>2]|0,.4)|0;B=+Ql(e,Qe,u,c,o,C);if(!(B>=20.0))we=B;else{_u(k[e>>2]|0,0.0)|0;we=+Ql(e,Qe,u,c,o,C)}}}}else we=I;oa(c);oa(u);Se=we}else{H=+$l(e,Qe,u,c,o,Ze);U=f+8|0;Y=+$l(e,U,u,c,o,U);z=H<Y;do{if(D){if(z){De=0;do{v[f+8+(De<<5)>>3]=+v[Ze+(De<<5)>>3];v[f+8+(De<<5)+8>>3]=+v[Ze+(De<<5)+8>>3];v[f+8+(De<<5)+16>>3]=+v[Ze+(De<<5)+16>>3];v[f+8+(De<<5)+24>>3]=+v[Ze+(De<<5)+24>>3];De=De+1|0}while((De|0)!=3);_e=H}else _e=Y;if(!(_e>=20.0))pe=_e;else{_u(k[e>>2]|0,.8)|0;V=+Ql(e,Qe,u,c,o,Ze);W=+Ql(e,U,u,c,o,U);if(V<W){Ce=0;do{v[f+8+(Ce<<5)>>3]=+v[Ze+(Ce<<5)>>3];v[f+8+(Ce<<5)+8>>3]=+v[Ze+(Ce<<5)+8>>3];v[f+8+(Ce<<5)+16>>3]=+v[Ze+(Ce<<5)+16>>3];v[f+8+(Ce<<5)+24>>3]=+v[Ze+(Ce<<5)+24>>3];Ce=Ce+1|0}while((Ce|0)!=3);ve=V}else ve=W;if(!(ve>=20.0))pe=ve;else{_u(k[e>>2]|0,.6)|0;j=+Ql(e,Qe,u,c,o,Ze);K=+Ql(e,U,u,c,o,U);if(j<K){Ie=0;do{v[f+8+(Ie<<5)>>3]=+v[Ze+(Ie<<5)>>3];v[f+8+(Ie<<5)+8>>3]=+v[Ze+(Ie<<5)+8>>3];v[f+8+(Ie<<5)+16>>3]=+v[Ze+(Ie<<5)+16>>3];v[f+8+(Ie<<5)+24>>3]=+v[Ze+(Ie<<5)+24>>3];Ie=Ie+1|0}while((Ie|0)!=3);Ee=j}else Ee=K;if(!(Ee>=20.0))pe=Ee;else{_u(k[e>>2]|0,.4)|0;X=+Ql(e,Qe,u,c,o,Ze);G=+Ql(e,U,u,c,o,U);if(X<G){Le=0;do{v[f+8+(Le<<5)>>3]=+v[Ze+(Le<<5)>>3];v[f+8+(Le<<5)+8>>3]=+v[Ze+(Le<<5)+8>>3];v[f+8+(Le<<5)+16>>3]=+v[Ze+(Le<<5)+16>>3];v[f+8+(Le<<5)+24>>3]=+v[Ze+(Le<<5)+24>>3];Le=Le+1|0}while((Le|0)!=3);me=X}else me=G;if(!(me>=20.0))pe=me;else{_u(k[e>>2]|0,0.0)|0;J=+Ql(e,Qe,u,c,o,Ze);Z=+Ql(e,U,u,c,o,U);if(J<Z)xe=0;else{pe=Z;break}do{v[f+8+(xe<<5)>>3]=+v[Ze+(xe<<5)>>3];v[f+8+(xe<<5)+8>>3]=+v[Ze+(xe<<5)+8>>3];v[f+8+(xe<<5)+16>>3]=+v[Ze+(xe<<5)+16>>3];v[f+8+(xe<<5)+24>>3]=+v[Ze+(xe<<5)+24>>3];xe=xe+1|0}while((xe|0)!=3);pe=J}}}}}else if(z){Oe=0;do{v[f+8+(Oe<<5)>>3]=+v[Ze+(Oe<<5)>>3];v[f+8+(Oe<<5)+8>>3]=+v[Ze+(Oe<<5)+8>>3];v[f+8+(Oe<<5)+16>>3]=+v[Ze+(Oe<<5)+16>>3];v[f+8+(Oe<<5)+24>>3]=+v[Ze+(Oe<<5)+24>>3];Oe=Oe+1|0}while((Oe|0)!=3);pe=H}else pe=Y}while(0);oa(c);oa(u);Se=pe}if(Se<20.0){k[P>>2]=1;l=Se;break}k[P>>2]=0;Q=k[s>>2]|0;if((Q|0)>0){$=k[f>>2]|0;Ae=0;do{ee=k[$+(Ae*320|0)+304>>2]|0;if((ee|0)>=0){ie=i+(ee<<8)+236|0;if(!(k[ie>>2]|0))k[ie>>2]=8}Ae=Ae+1|0}while((Ae|0)<(Q|0));l=Se}else l=Se}}while(0);if((ai|0)==38){k[f+104>>2]=0;l=-1.0}m=li;return+l}function Lr(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0;di=m;m=m+16|0;if((m|0)>=(p|0))he();a=di+8|0;l=di+4|0;Q=di;k[l>>2]=e;do{if(e>>>0<212){Ce=ws(3520,3712,l,a)|0;r=k[Ce>>2]|0}else{Ve=(e>>>0)/210|0;Ge=Ve*210|0;k[Q>>2]=e-Ge;d=(ws(3712,3904,Q,a)|0)-3712>>2;ti=d;ui=Ve;ci=(k[3712+(d<<2)>>2]|0)+Ge|0;e:while(1){oi=5;while(1){if(oi>>>0>=47){si=211;hi=8;break}z=k[3520+(oi<<2)>>2]|0;X=(ci>>>0)/(z>>>0)|0;if(X>>>0<z>>>0){ki=ci;hi=106;break e}if((ci|0)==(ce(X,z)|0))break;else oi=oi+1|0}i:do{if((hi|0)==8)while(1){hi=0;_e=(ci>>>0)/(si>>>0)|0;if(_e>>>0<si>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(_e,si)|0))break i;Oe=si+10|0;Me=(ci>>>0)/(Oe>>>0)|0;if(Me>>>0<Oe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Me,Oe)|0))break i;Re=si+12|0;Ne=(ci>>>0)/(Re>>>0)|0;if(Ne>>>0<Re>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Ne,Re)|0))break i;Pe=si+16|0;De=(ci>>>0)/(Pe>>>0)|0;if(De>>>0<Pe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(De,Pe)|0))break i;Ie=si+18|0;Le=(ci>>>0)/(Ie>>>0)|0;if(Le>>>0<Ie>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Le,Ie)|0))break i;xe=si+22|0;Be=(ci>>>0)/(xe>>>0)|0;if(Be>>>0<xe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Be,xe)|0))break i;He=si+28|0;Ue=(ci>>>0)/(He>>>0)|0;if(Ue>>>0<He>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Ue,He)|0))break i;Ye=si+30|0;ze=(ci>>>0)/(Ye>>>0)|0;if(ze>>>0<Ye>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ze,Ye)|0))break i;We=si+36|0;je=(ci>>>0)/(We>>>0)|0;if(je>>>0<We>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(je,We)|0))break i;Ke=si+40|0;Xe=(ci>>>0)/(Ke>>>0)|0;if(Xe>>>0<Ke>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Xe,Ke)|0))break i;qe=si+42|0;Je=(ci>>>0)/(qe>>>0)|0;if(Je>>>0<qe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Je,qe)|0))break i;Ze=si+46|0;Qe=(ci>>>0)/(Ze>>>0)|0;if(Qe>>>0<Ze>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Qe,Ze)|0))break i;$e=si+52|0;ei=(ci>>>0)/($e>>>0)|0;if(ei>>>0<$e>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ei,$e)|0))break i;ii=si+58|0;ri=(ci>>>0)/(ii>>>0)|0;if(ri>>>0<ii>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ri,ii)|0))break i;fi=si+60|0;ai=(ci>>>0)/(fi>>>0)|0;if(ai>>>0<fi>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ai,fi)|0))break i;li=si+66|0;ni=(ci>>>0)/(li>>>0)|0;if(ni>>>0<li>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ni,li)|0))break i;n=si+70|0;s=(ci>>>0)/(n>>>0)|0;if(s>>>0<n>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(s,n)|0))break i;t=si+72|0;o=(ci>>>0)/(t>>>0)|0;if(o>>>0<t>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(o,t)|0))break i;u=si+78|0;c=(ci>>>0)/(u>>>0)|0;if(c>>>0<u>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(c,u)|0))break i;b=si+82|0;h=(ci>>>0)/(b>>>0)|0;if(h>>>0<b>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(h,b)|0))break i;w=si+88|0;_=(ci>>>0)/(w>>>0)|0;if(_>>>0<w>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(_,w)|0))break i;v=si+96|0;E=(ci>>>0)/(v>>>0)|0;if(E>>>0<v>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(E,v)|0))break i;S=si+100|0;g=(ci>>>0)/(S>>>0)|0;if(g>>>0<S>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(g,S)|0))break i;y=si+102|0;F=(ci>>>0)/(y>>>0)|0;if(F>>>0<y>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(F,y)|0))break i;A=si+106|0;T=(ci>>>0)/(A>>>0)|0;if(T>>>0<A>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(T,A)|0))break i;O=si+108|0;M=(ci>>>0)/(O>>>0)|0;if(M>>>0<O>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(M,O)|0))break i;R=si+112|0;N=(ci>>>0)/(R>>>0)|0;if(N>>>0<R>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(N,R)|0))break i;P=si+120|0;D=(ci>>>0)/(P>>>0)|0;if(D>>>0<P>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(D,P)|0))break i;C=si+126|0;I=(ci>>>0)/(C>>>0)|0;if(I>>>0<C>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(I,C)|0))break i;L=si+130|0;x=(ci>>>0)/(L>>>0)|0;if(x>>>0<L>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(x,L)|0))break i;B=si+136|0;H=(ci>>>0)/(B>>>0)|0;if(H>>>0<B>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(H,B)|0))break i;U=si+138|0;Y=(ci>>>0)/(U>>>0)|0;if(Y>>>0<U>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Y,U)|0))break i;V=si+142|0;W=(ci>>>0)/(V>>>0)|0;if(W>>>0<V>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(W,V)|0))break i;j=si+148|0;K=(ci>>>0)/(j>>>0)|0;if(K>>>0<j>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(K,j)|0))break i;G=si+150|0;q=(ci>>>0)/(G>>>0)|0;if(q>>>0<G>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(q,G)|0))break i;J=si+156|0;Z=(ci>>>0)/(J>>>0)|0;if(Z>>>0<J>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Z,J)|0))break i;$=si+162|0;ee=(ci>>>0)/($>>>0)|0;if(ee>>>0<$>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ee,$)|0))break i;ie=si+166|0;re=(ci>>>0)/(ie>>>0)|0;if(re>>>0<ie>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(re,ie)|0))break i;fe=si+168|0;ae=(ci>>>0)/(fe>>>0)|0;if(ae>>>0<fe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ae,fe)|0))break i;le=si+172|0;ne=(ci>>>0)/(le>>>0)|0;if(ne>>>0<le>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ne,le)|0))break i;se=si+178|0;te=(ci>>>0)/(se>>>0)|0;if(te>>>0<se>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(te,se)|0))break i;oe=si+180|0;ue=(ci>>>0)/(oe>>>0)|0;if(ue>>>0<oe>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ue,oe)|0))break i;be=si+186|0;ke=(ci>>>0)/(be>>>0)|0;if(ke>>>0<be>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ke,be)|0))break i;de=si+190|0;we=(ci>>>0)/(de>>>0)|0;if(we>>>0<de>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(we,de)|0))break i;ve=si+192|0;Ee=(ci>>>0)/(ve>>>0)|0;if(Ee>>>0<ve>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Ee,ve)|0))break i;me=si+196|0;pe=(ci>>>0)/(me>>>0)|0;if(pe>>>0<me>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(pe,me)|0))break i;Se=si+198|0;ge=(ci>>>0)/(Se>>>0)|0;if(ge>>>0<Se>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(ge,Se)|0))break i;ye=si+208|0;Fe=(ci>>>0)/(ye>>>0)|0;if(Fe>>>0<ye>>>0){bi=ci;hi=105;break e}if((ci|0)==(ce(Fe,ye)|0))break;else{si=si+210|0;hi=8}}}while(0);Ae=ti+1|0;Te=(Ae|0)==48;i=Te?0:Ae;f=(Te&1)+ui|0;ti=i;ui=f;ci=(k[3712+(i<<2)>>2]|0)+(f*210|0)|0}if((hi|0)==105){k[l>>2]=bi;r=bi;break}else if((hi|0)==106){k[l>>2]=ki;r=ki;break}}}while(0);m=di;return r|0}function xr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}He=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(He<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ie=(He|0)>1;ze=(k[a+4>>2]|0)+C|0;Qe=1;ni=e+C|0;ki=t+(C<<1)|0;wi=f+C|0;Ai=0;i:while(1){if(ie){We=ze;Xe=1;ti=ni;di=ki;vi=wi;Oi=Ai;while(1){do{if((h[ti>>0]|0)>(h[vi>>0]|0)){c[We>>0]=-1;ve=b[di+(B<<1)>>1]|0;if(ve<<16>>16>0){b[di>>1]=ve;ye=(ve<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Qe;k[a+1310736+(ye+-1<<2)>>2]=Qe;Mi=Oi;break}Oe=b[di+(n<<1)>>1]|0;Me=Oe<<16>>16;Re=b[di+(s<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[di>>1]=Re;M=Ne*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Xe;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Qe;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Xe|0))k[I>>2]=Xe;k[a+1310736+(M+-1<<2)>>2]=Qe;Mi=Oi;break}L=b[di+-2>>1]|0;if(L<<16>>16>0){b[di>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Xe;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Qe;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Xe|0)){Mi=Oi;break}k[z>>2]=Xe;Mi=Oi;break}else{V=Oi+1|0;if((Oi|0)>32767)break i;b[di>>1]=V;k[a+1179664+(Oi<<2)>>2]=V<<16>>16;W=Oi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Xe;k[a+1310736+(W+2<<2)>>2]=Qe;k[a+1310736+(W+3<<2)>>2]=Xe;k[a+1310736+(W+4<<2)>>2]=Xe;k[a+1310736+(W+5<<2)>>2]=Qe;k[a+1310736+(W+6<<2)>>2]=Qe;Mi=V;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[di>>1]=Ce;if((Oi|0)>0){ri=0;mi=N;while(1){if((k[mi>>2]|0)==(De|0))k[mi>>2]=Ce;ri=ri+1|0;if((ri|0)>=(Oi|0)){Ie=Ce;break}else mi=mi+4|0}}else Ie=Ce}else{b[di>>1]=De;if((De|0)<(Ce|0)&(Oi|0)>0){fi=0;pi=N;while(1){if((k[pi>>2]|0)==(Ce|0))k[pi>>2]=De;fi=fi+1|0;if((fi|0)>=(Oi|0)){Ie=De;break}else pi=pi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Xe;Ue=a+1310736+(Le+-5<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+Qe;k[a+1310736+(Le+-1<<2)>>2]=Qe;Mi=Oi;break}Ye=b[di+-2>>1]|0;if(Ye<<16>>16<=0){b[di>>1]=Oe;y=Me*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Xe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Qe;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Xe|0))k[O>>2]=Xe;k[a+1310736+(y+-1<<2)>>2]=Qe;Mi=Oi;break}u=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ye<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[di>>1]=d;if((Oi|0)>0){ai=0;Si=N;while(1){if((k[Si>>2]|0)==(u|0))k[Si>>2]=d;ai=ai+1|0;if((ai|0)>=(Oi|0)){w=d;break}else Si=Si+4|0}}else w=d}else{b[di>>1]=u;if((u|0)<(d|0)&(Oi|0)>0){li=0;gi=N;while(1){if((k[gi>>2]|0)==(d|0))k[gi>>2]=u;li=li+1|0;if((li|0)>=(Oi|0)){w=u;break}else gi=gi+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Xe;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Qe;Mi=Oi}else{b[di>>1]=0;c[We>>0]=0;Mi=Oi}}while(0);Xe=Xe+1|0;j=ti+1|0;K=vi+1|0;X=di+2|0;G=We+1|0;if((Xe|0)>=(He|0)){Ve=G;si=j;hi=X;_i=K;Ti=Mi;break}else{We=G;ti=j;di=X;vi=K;Oi=Mi}}}else{Ve=ze;si=ni;hi=ki;_i=wi;Ti=Ai}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Fi=Ti;Ri=52;break e}else{ze=Ve+2|0;ni=si+2|0;ki=hi+4|0;wi=_i+2|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){q=a+12|0;if((Fi|0)<1)$e=1;else{Ge=1;ei=1;yi=N;while(1){J=k[yi>>2]|0;if((J|0)==(Ge|0)){Z=ei;ii=ei+1|0}else{Z=k[a+1179664+(J+-1<<2)>>2]|0;ii=ei}k[yi>>2]=Z;if((Ge|0)<(Fi|0)){Ge=Ge+1|0;ei=ii;yi=yi+4|0}else{$e=ii;break}}}Q=a+8|0;$=$e+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(q|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if(($e|0)>1){qe=0;do{ee=qe<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[Q>>2]|0))}if((Fi|0)>0){Je=0;do{re=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;fe=Je*7|0;ae=a+12+(re<<2)|0;k[ae>>2]=(k[ae>>2]|0)+(k[a+1310736+(fe<<2)>>2]|0);le=re<<1;ne=a+655376+(le<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(fe+1<<2)>>2]|0);se=a+655376+((le|1)<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(fe+2<<2)>>2]|0);te=re<<2;oe=a+131084+(te<<2)|0;ue=k[a+1310736+(fe+3<<2)>>2]|0;if((k[oe>>2]|0)>(ue|0))k[oe>>2]=ue;be=a+131084+((te|1)<<2)|0;ke=k[a+1310736+(fe+4<<2)>>2]|0;if((k[be>>2]|0)<(ke|0))k[be>>2]=ke;de=a+131084+((te|2)<<2)|0;we=k[a+1310736+(fe+5<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((te|3)<<2)|0;Ee=k[a+1310736+(fe+6<<2)>>2]|0;if((k[_e>>2]|0)<(Ee|0))k[_e>>2]=Ee;Je=Je+1|0}while((Je|0)<(Fi|0))}if((k[Q>>2]|0)>0){Ze=0;do{me=a+12+(Ze<<2)|0;pe=Ze<<1;Se=a+655376+(pe<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[me>>2]|0);ge=a+655376+((pe|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[Q>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Br(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}He=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(He<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ie=(He|0)>1;ze=(k[a+4>>2]|0)+C|0;Qe=1;ni=e+C|0;ki=t+(C<<1)|0;wi=f+C|0;Ai=0;i:while(1){if(ie){We=ze;Xe=1;ti=ni;di=ki;vi=wi;Oi=Ai;while(1){do{if((h[ti>>0]|0)>(h[vi>>0]|0)){b[di>>1]=0;c[We>>0]=0;Mi=Oi}else{c[We>>0]=-1;ve=b[di+(B<<1)>>1]|0;if(ve<<16>>16>0){b[di>>1]=ve;ye=(ve<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Qe;k[a+1310736+(ye+-1<<2)>>2]=Qe;Mi=Oi;break}Oe=b[di+(n<<1)>>1]|0;Me=Oe<<16>>16;Re=b[di+(s<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[di>>1]=Re;M=Ne*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Xe;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Qe;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Xe|0))k[I>>2]=Xe;k[a+1310736+(M+-1<<2)>>2]=Qe;Mi=Oi;break}L=b[di+-2>>1]|0;if(L<<16>>16>0){b[di>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Xe;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Qe;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Xe|0)){Mi=Oi;break}k[z>>2]=Xe;Mi=Oi;break}else{V=Oi+1|0;if((Oi|0)>32767)break i;b[di>>1]=V;k[a+1179664+(Oi<<2)>>2]=V<<16>>16;W=Oi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Xe;k[a+1310736+(W+2<<2)>>2]=Qe;k[a+1310736+(W+3<<2)>>2]=Xe;k[a+1310736+(W+4<<2)>>2]=Xe;k[a+1310736+(W+5<<2)>>2]=Qe;k[a+1310736+(W+6<<2)>>2]=Qe;Mi=V;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[di>>1]=Ce;if((Oi|0)>0){ri=0;mi=N;while(1){if((k[mi>>2]|0)==(De|0))k[mi>>2]=Ce;ri=ri+1|0;if((ri|0)>=(Oi|0)){Ie=Ce;break}else mi=mi+4|0}}else Ie=Ce}else{b[di>>1]=De;if((De|0)<(Ce|0)&(Oi|0)>0){fi=0;pi=N;while(1){if((k[pi>>2]|0)==(Ce|0))k[pi>>2]=De;fi=fi+1|0;if((fi|0)>=(Oi|0)){Ie=De;break}else pi=pi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Xe;Ue=a+1310736+(Le+-5<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+Qe;k[a+1310736+(Le+-1<<2)>>2]=Qe;Mi=Oi;break}Ye=b[di+-2>>1]|0;if(Ye<<16>>16<=0){b[di>>1]=Oe;y=Me*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Xe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Qe;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Xe|0))k[O>>2]=Xe;k[a+1310736+(y+-1<<2)>>2]=Qe;Mi=Oi;break}u=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ye<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[di>>1]=d;if((Oi|0)>0){ai=0;Si=N;while(1){if((k[Si>>2]|0)==(u|0))k[Si>>2]=d;ai=ai+1|0;if((ai|0)>=(Oi|0)){w=d;break}else Si=Si+4|0}}else w=d}else{b[di>>1]=u;if((u|0)<(d|0)&(Oi|0)>0){li=0;gi=N;while(1){if((k[gi>>2]|0)==(d|0))k[gi>>2]=u;li=li+1|0;if((li|0)>=(Oi|0)){w=u;break}else gi=gi+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Xe;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Qe;Mi=Oi}}while(0);Xe=Xe+1|0;j=ti+1|0;K=vi+1|0;X=di+2|0;G=We+1|0;if((Xe|0)>=(He|0)){Ve=G;si=j;hi=X;_i=K;Ti=Mi;break}else{We=G;ti=j;di=X;vi=K;Oi=Mi}}}else{Ve=ze;si=ni;hi=ki;_i=wi;Ti=Ai}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Fi=Ti;Ri=52;break e}else{ze=Ve+2|0;ni=si+2|0;ki=hi+4|0;wi=_i+2|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){q=a+12|0;if((Fi|0)<1)$e=1;else{Ge=1;ei=1;yi=N;while(1){J=k[yi>>2]|0;if((J|0)==(Ge|0)){Z=ei;ii=ei+1|0}else{Z=k[a+1179664+(J+-1<<2)>>2]|0;ii=ei}k[yi>>2]=Z;if((Ge|0)<(Fi|0)){Ge=Ge+1|0;ei=ii;yi=yi+4|0}else{$e=ii;break}}}Q=a+8|0;$=$e+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(q|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if(($e|0)>1){qe=0;do{ee=qe<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[Q>>2]|0))}if((Fi|0)>0){Je=0;do{re=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;fe=Je*7|0;ae=a+12+(re<<2)|0;k[ae>>2]=(k[ae>>2]|0)+(k[a+1310736+(fe<<2)>>2]|0);le=re<<1;ne=a+655376+(le<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(fe+1<<2)>>2]|0);se=a+655376+((le|1)<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(fe+2<<2)>>2]|0);te=re<<2;oe=a+131084+(te<<2)|0;ue=k[a+1310736+(fe+3<<2)>>2]|0;if((k[oe>>2]|0)>(ue|0))k[oe>>2]=ue;be=a+131084+((te|1)<<2)|0;ke=k[a+1310736+(fe+4<<2)>>2]|0;if((k[be>>2]|0)<(ke|0))k[be>>2]=ke;de=a+131084+((te|2)<<2)|0;we=k[a+1310736+(fe+5<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((te|3)<<2)|0;Ee=k[a+1310736+(fe+6<<2)>>2]|0;if((k[_e>>2]|0)<(Ee|0))k[_e>>2]=Ee;Je=Je+1|0}while((Je|0)<(Fi|0))}if((k[Q>>2]|0)>0){Ze=0;do{me=a+12+(Ze<<2)|0;pe=Ze<<1;Se=a+655376+(pe<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[me>>2]|0);ge=a+655376+((pe|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[me>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[Q>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Hr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0;Di=m;m=m+16|0;if((m|0)>=(p|0))he();pi=Di;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Je=0;hi=j;wi=j+((ce(_e,o)|0)<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(o|0))break;else{hi=hi+2|0;wi=wi+2|0}}}E=f*3|0;y=o+-1|0;if((r|0)>1){Ze=0;di=j;_i=j+(y<<1)|0;while(1){b[_i>>1]=0;b[di>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{di=di+(o<<1)|0;_i=_i+(o<<1)|0}}}z=a+1179664|0;K=o+1|0;Q=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){Se=(y|0)>1;Xe=(k[a+4>>2]|0)+K|0;fi=1;ci=e+((i<<2)+4)|0;vi=j+(K<<1)|0;Oi=0;i:while(1){if(Se){qe=Xe;Qe=1;ki=ci;mi=vi;Ri=Oi;while(1){Oe=h[ki>>0]|0;De=h[ki+1>>0]|0;do{if(((Oe&248)+12+(Oe<<5&224)+(De>>>3&24)+(De<<2&248)|0)>(E|0)){c[qe>>0]=-1;Ce=b[mi+(Q<<1)>>1]|0;if(Ce<<16>>16>0){b[mi>>1]=Ce;Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Qe;Be=a+1310736+(Ie+-5<<2)|0;k[Be>>2]=(k[Be>>2]|0)+fi;k[a+1310736+(Ie+-1<<2)>>2]=fi;Ni=Ri;break}He=b[mi+(s<<1)>>1]|0;Ue=He<<16>>16;Ye=b[mi+(t<<1)>>1]|0;ze=Ye<<16>>16;Ve=Ye<<16>>16>0;if(He<<16>>16<=0){if(Ve){b[mi>>1]=Ye;x=ze*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Qe;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+fi;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)<(Qe|0))k[Y>>2]=Qe;k[a+1310736+(x+-1<<2)>>2]=fi;Ni=Ri;break}V=b[mi+-2>>1]|0;if(V<<16>>16>0){b[mi>>1]=V;W=(V<<16>>16)*7|0;X=a+1310736+(W+-7<<2)|0;k[X>>2]=(k[X>>2]|0)+1;G=a+1310736+(W+-6<<2)|0;k[G>>2]=(k[G>>2]|0)+Qe;q=a+1310736+(W+-5<<2)|0;k[q>>2]=(k[q>>2]|0)+fi;J=a+1310736+(W+-3<<2)|0;if((k[J>>2]|0)>=(Qe|0)){Ni=Ri;break}k[J>>2]=Qe;Ni=Ri;break}else{Z=Ri+1|0;if((Ri|0)>32767)break i;b[mi>>1]=Z;k[a+1179664+(Ri<<2)>>2]=Z<<16>>16;$=Ri*7|0;k[a+1310736+($<<2)>>2]=1;k[a+1310736+($+1<<2)>>2]=Qe;k[a+1310736+($+2<<2)>>2]=fi;k[a+1310736+($+3<<2)>>2]=Qe;k[a+1310736+($+4<<2)>>2]=Qe;k[a+1310736+($+5<<2)>>2]=fi;k[a+1310736+($+6<<2)>>2]=fi;Ni=Z;break}}if(Ve){We=k[a+1179664+(Ue+-1<<2)>>2]|0;je=k[a+1179664+(ze+-1<<2)>>2]|0;if((We|0)>(je|0)){b[mi>>1]=je;if((Ri|0)>0){si=0;Si=z;while(1){if((k[Si>>2]|0)==(We|0))k[Si>>2]=je;si=si+1|0;if((si|0)>=(Ri|0)){Ke=je;break}else Si=Si+4|0}}else Ke=je}else{b[mi>>1]=We;if((We|0)<(je|0)&(Ri|0)>0){ti=0;gi=z;while(1){if((k[gi>>2]|0)==(je|0))k[gi>>2]=We;ti=ti+1|0;if((ti|0)>=(Ri|0)){Ke=We;break}else gi=gi+4|0}}else Ke=We}d=(Ke<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Qe;S=a+1310736+(d+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+fi;k[a+1310736+(d+-1<<2)>>2]=fi;Ni=Ri;break}g=b[mi+-2>>1]|0;if(g<<16>>16<=0){b[mi>>1]=He;P=Ue*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+Qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+fi;L=a+1310736+(P+-4<<2)|0;if((k[L>>2]|0)>(Qe|0))k[L>>2]=Qe;k[a+1310736+(P+-1<<2)>>2]=fi;Ni=Ri;break}F=k[a+1179664+(Ue+-1<<2)>>2]|0;A=k[a+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((F|0)>(A|0)){b[mi>>1]=A;if((Ri|0)>0){oi=0;yi=z;while(1){if((k[yi>>2]|0)==(F|0))k[yi>>2]=A;oi=oi+1|0;if((oi|0)>=(Ri|0)){T=A;break}else yi=yi+4|0}}else T=A}else{b[mi>>1]=F;if((F|0)<(A|0)&(Ri|0)>0){ui=0;Fi=z;while(1){if((k[Fi>>2]|0)==(A|0))k[Fi>>2]=F;ui=ui+1|0;if((ui|0)>=(Ri|0)){T=F;break}else Fi=Fi+4|0}}else T=F}O=(T<<16>>16)*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+fi;Ni=Ri}else{b[mi>>1]=0;c[qe>>0]=0;Ni=Ri}}while(0);Qe=Qe+1|0;ee=ki+4|0;ie=mi+2|0;re=qe+1|0;if((Qe|0)>=(y|0)){Ge=re;bi=ee;Ei=ie;Mi=Ni;break}else{qe=re;ki=ee;mi=ie;Ri=Ni}}}else{Ge=Xe;bi=ci;Ei=vi;Mi=Oi}fi=fi+1|0;if((fi|0)>=(_e|0)){Ti=Mi;Pi=52;break e}else{Xe=Ge+2|0;ci=bi+n|0;vi=Ei+4|0;Oi=Mi}}Yl(3,3904,pi);l=-1}else{Ti=0;Pi=52}}while(0);if((Pi|0)==52){fe=a+12|0;if((Ti|0)<1)ai=1;else{$e=1;li=1;Ai=z;while(1){ae=k[Ai>>2]|0;if((ae|0)==($e|0)){le=li;ni=li+1|0}else{le=k[a+1179664+(ae+-1<<2)>>2]|0;ni=li}k[Ai>>2]=le;if(($e|0)<(Ti|0)){$e=$e+1|0;li=ni;Ai=Ai+4|0}else{ai=ni;break}}}ne=a+8|0;se=ai+-1|0;k[ne>>2]=se;if(!se)l=0;else{ut(fe|0,0,se<<2|0)|0;ut(a+655376|0,0,se<<4|0)|0;if((ai|0)>1){ei=0;do{te=ei<<2;k[a+131084+(te<<2)>>2]=o;k[a+131084+((te|1)<<2)>>2]=0;k[a+131084+((te|2)<<2)>>2]=u;k[a+131084+((te|3)<<2)>>2]=0;ei=ei+1|0}while((ei|0)<(k[ne>>2]|0))}if((Ti|0)>0){ii=0;do{oe=(k[a+1179664+(ii<<2)>>2]|0)+-1|0;ue=ii*7|0;be=a+12+(oe<<2)|0;k[be>>2]=(k[be>>2]|0)+(k[a+1310736+(ue<<2)>>2]|0);ke=oe<<1;de=a+655376+(ke<<3)|0;v[de>>3]=+v[de>>3]+ +(k[a+1310736+(ue+1<<2)>>2]|0);we=a+655376+((ke|1)<<3)|0;v[we>>3]=+v[we>>3]+ +(k[a+1310736+(ue+2<<2)>>2]|0);ve=oe<<2;Ee=a+131084+(ve<<2)|0;me=k[a+1310736+(ue+3<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ve|1)<<2)|0;ge=k[a+1310736+(ue+4<<2)>>2]|0;if((k[pe>>2]|0)<(ge|0))k[pe>>2]=ge;ye=a+131084+((ve|2)<<2)|0;Fe=k[a+1310736+(ue+5<<2)>>2]|0;if((k[ye>>2]|0)>(Fe|0))k[ye>>2]=Fe;Ae=a+131084+((ve|3)<<2)|0;Te=k[a+1310736+(ue+6<<2)>>2]|0;if((k[Ae>>2]|0)<(Te|0))k[Ae>>2]=Te;ii=ii+1|0}while((ii|0)<(Ti|0))}if((k[ne>>2]|0)>0){ri=0;do{Me=a+12+(ri<<2)|0;Re=ri<<1;Ne=a+655376+(Re<<3)|0;v[Ne>>3]=+v[Ne>>3]/+(k[Me>>2]|0);Pe=a+655376+((Re|1)<<3)|0;v[Pe>>3]=+v[Pe>>3]/+(k[Me>>2]|0);ri=ri+1|0}while((ri|0)<(k[ne>>2]|0));l=0}else l=0}}m=Di;return l|0}function Ur(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0;Di=m;m=m+16|0;if((m|0)>=(p|0))he();pi=Di;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Je=0;hi=j;wi=j+((ce(_e,o)|0)<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(o|0))break;else{hi=hi+2|0;wi=wi+2|0}}}E=f*3|0;y=o+-1|0;if((r|0)>1){Ze=0;di=j;_i=j+(y<<1)|0;while(1){b[_i>>1]=0;b[di>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{di=di+(o<<1)|0;_i=_i+(o<<1)|0}}}z=a+1179664|0;K=o+1|0;Q=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){Se=(y|0)>1;Xe=(k[a+4>>2]|0)+K|0;fi=1;ci=e+((i<<2)+4)|0;vi=j+(K<<1)|0;Oi=0;i:while(1){if(Se){qe=Xe;Qe=1;ki=ci;mi=vi;Ri=Oi;while(1){Oe=h[ki>>0]|0;De=h[ki+1>>0]|0;do{if(((Oe&248)+12+(Oe<<5&224)+(De>>>3&24)+(De<<2&248)|0)>(E|0)){b[mi>>1]=0;c[qe>>0]=0;Ni=Ri}else{c[qe>>0]=-1;Ce=b[mi+(Q<<1)>>1]|0;if(Ce<<16>>16>0){b[mi>>1]=Ce;Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Qe;Be=a+1310736+(Ie+-5<<2)|0;k[Be>>2]=(k[Be>>2]|0)+fi;k[a+1310736+(Ie+-1<<2)>>2]=fi;Ni=Ri;break}He=b[mi+(s<<1)>>1]|0;Ue=He<<16>>16;Ye=b[mi+(t<<1)>>1]|0;ze=Ye<<16>>16;Ve=Ye<<16>>16>0;if(He<<16>>16<=0){if(Ve){b[mi>>1]=Ye;x=ze*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Qe;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+fi;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)<(Qe|0))k[Y>>2]=Qe;k[a+1310736+(x+-1<<2)>>2]=fi;Ni=Ri;break}V=b[mi+-2>>1]|0;if(V<<16>>16>0){b[mi>>1]=V;W=(V<<16>>16)*7|0;X=a+1310736+(W+-7<<2)|0;k[X>>2]=(k[X>>2]|0)+1;G=a+1310736+(W+-6<<2)|0;k[G>>2]=(k[G>>2]|0)+Qe;q=a+1310736+(W+-5<<2)|0;k[q>>2]=(k[q>>2]|0)+fi;J=a+1310736+(W+-3<<2)|0;if((k[J>>2]|0)>=(Qe|0)){Ni=Ri;break}k[J>>2]=Qe;Ni=Ri;break}else{Z=Ri+1|0;if((Ri|0)>32767)break i;b[mi>>1]=Z;k[a+1179664+(Ri<<2)>>2]=Z<<16>>16;$=Ri*7|0;k[a+1310736+($<<2)>>2]=1;k[a+1310736+($+1<<2)>>2]=Qe;k[a+1310736+($+2<<2)>>2]=fi;k[a+1310736+($+3<<2)>>2]=Qe;k[a+1310736+($+4<<2)>>2]=Qe;k[a+1310736+($+5<<2)>>2]=fi;k[a+1310736+($+6<<2)>>2]=fi;Ni=Z;break}}if(Ve){We=k[a+1179664+(Ue+-1<<2)>>2]|0;je=k[a+1179664+(ze+-1<<2)>>2]|0;if((We|0)>(je|0)){b[mi>>1]=je;if((Ri|0)>0){si=0;Si=z;while(1){if((k[Si>>2]|0)==(We|0))k[Si>>2]=je;si=si+1|0;if((si|0)>=(Ri|0)){Ke=je;break}else Si=Si+4|0}}else Ke=je}else{b[mi>>1]=We;if((We|0)<(je|0)&(Ri|0)>0){ti=0;gi=z;while(1){if((k[gi>>2]|0)==(je|0))k[gi>>2]=We;ti=ti+1|0;if((ti|0)>=(Ri|0)){Ke=We;break}else gi=gi+4|0}}else Ke=We}d=(Ke<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Qe;S=a+1310736+(d+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+fi;k[a+1310736+(d+-1<<2)>>2]=fi;Ni=Ri;break}g=b[mi+-2>>1]|0;if(g<<16>>16<=0){b[mi>>1]=He;P=Ue*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+Qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+fi;L=a+1310736+(P+-4<<2)|0;if((k[L>>2]|0)>(Qe|0))k[L>>2]=Qe;k[a+1310736+(P+-1<<2)>>2]=fi;Ni=Ri;break}F=k[a+1179664+(Ue+-1<<2)>>2]|0;A=k[a+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((F|0)>(A|0)){b[mi>>1]=A;if((Ri|0)>0){oi=0;yi=z;while(1){if((k[yi>>2]|0)==(F|0))k[yi>>2]=A;oi=oi+1|0;if((oi|0)>=(Ri|0)){T=A;break}else yi=yi+4|0}}else T=A}else{b[mi>>1]=F;if((F|0)<(A|0)&(Ri|0)>0){ui=0;Fi=z;while(1){if((k[Fi>>2]|0)==(A|0))k[Fi>>2]=F;ui=ui+1|0;if((ui|0)>=(Ri|0)){T=F;break}else Fi=Fi+4|0}}else T=F}O=(T<<16>>16)*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+fi;Ni=Ri}}while(0);Qe=Qe+1|0;ee=ki+4|0;ie=mi+2|0;re=qe+1|0;if((Qe|0)>=(y|0)){Ge=re;bi=ee;Ei=ie;Mi=Ni;break}else{qe=re;ki=ee;mi=ie;Ri=Ni}}}else{Ge=Xe;bi=ci;Ei=vi;Mi=Oi}fi=fi+1|0;if((fi|0)>=(_e|0)){Ti=Mi;Pi=52;break e}else{Xe=Ge+2|0;ci=bi+n|0;vi=Ei+4|0;Oi=Mi}}Yl(3,3904,pi);l=-1}else{Ti=0;Pi=52}}while(0);if((Pi|0)==52){fe=a+12|0;if((Ti|0)<1)ai=1;else{$e=1;li=1;Ai=z;while(1){ae=k[Ai>>2]|0;if((ae|0)==($e|0)){le=li;ni=li+1|0}else{le=k[a+1179664+(ae+-1<<2)>>2]|0;ni=li}k[Ai>>2]=le;if(($e|0)<(Ti|0)){$e=$e+1|0;li=ni;Ai=Ai+4|0}else{ai=ni;break}}}ne=a+8|0;se=ai+-1|0;k[ne>>2]=se;if(!se)l=0;else{ut(fe|0,0,se<<2|0)|0;ut(a+655376|0,0,se<<4|0)|0;if((ai|0)>1){ei=0;do{te=ei<<2;k[a+131084+(te<<2)>>2]=o;k[a+131084+((te|1)<<2)>>2]=0;k[a+131084+((te|2)<<2)>>2]=u;k[a+131084+((te|3)<<2)>>2]=0;ei=ei+1|0}while((ei|0)<(k[ne>>2]|0))}if((Ti|0)>0){ii=0;do{oe=(k[a+1179664+(ii<<2)>>2]|0)+-1|0;ue=ii*7|0;be=a+12+(oe<<2)|0;k[be>>2]=(k[be>>2]|0)+(k[a+1310736+(ue<<2)>>2]|0);ke=oe<<1;de=a+655376+(ke<<3)|0;v[de>>3]=+v[de>>3]+ +(k[a+1310736+(ue+1<<2)>>2]|0);we=a+655376+((ke|1)<<3)|0;v[we>>3]=+v[we>>3]+ +(k[a+1310736+(ue+2<<2)>>2]|0);ve=oe<<2;Ee=a+131084+(ve<<2)|0;me=k[a+1310736+(ue+3<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ve|1)<<2)|0;ge=k[a+1310736+(ue+4<<2)>>2]|0;if((k[pe>>2]|0)<(ge|0))k[pe>>2]=ge;ye=a+131084+((ve|2)<<2)|0;Fe=k[a+1310736+(ue+5<<2)>>2]|0;if((k[ye>>2]|0)>(Fe|0))k[ye>>2]=Fe;Ae=a+131084+((ve|3)<<2)|0;Te=k[a+1310736+(ue+6<<2)>>2]|0;if((k[Ae>>2]|0)<(Te|0))k[Ae>>2]=Te;ii=ii+1|0}while((ii|0)<(Ti|0))}if((k[ne>>2]|0)>0){ri=0;do{Me=a+12+(ri<<2)|0;Re=ri<<1;Ne=a+655376+(Re<<3)|0;v[Ne>>3]=+v[Ne>>3]/+(k[Me>>2]|0);Pe=a+655376+((Re|1)<<3)|0;v[Pe>>3]=+v[Pe>>3]/+(k[Me>>2]|0);ri=ri+1|0}while((ri|0)<(k[ne>>2]|0));l=0}else l=0}}m=Di;return l|0}function Yr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0;Di=m;m=m+16|0;if((m|0)>=(p|0))he();pi=Di;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Je=0;hi=j;wi=j+((ce(_e,o)|0)<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(o|0))break;else{hi=hi+2|0;wi=wi+2|0}}}E=f*3|0;y=o+-1|0;if((r|0)>1){Ze=0;di=j;_i=j+(y<<1)|0;while(1){b[_i>>1]=0;b[di>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{di=di+(o<<1)|0;_i=_i+(o<<1)|0}}}z=a+1179664|0;K=o+1|0;Q=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){Se=(y|0)>1;Xe=(k[a+4>>2]|0)+K|0;fi=1;ci=e+((i<<2)+4)|0;vi=j+(K<<1)|0;Oi=0;i:while(1){if(Se){qe=Xe;Qe=1;ki=ci;mi=vi;Ri=Oi;while(1){Oe=h[ki>>0]|0;De=h[ki+1>>0]|0;do{if(((Oe&248)+10+(Oe<<5&224)+(De>>>3&28)+(De<<3&248)|0)>(E|0)){c[qe>>0]=-1;Ce=b[mi+(Q<<1)>>1]|0;if(Ce<<16>>16>0){b[mi>>1]=Ce;Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Qe;Be=a+1310736+(Ie+-5<<2)|0;k[Be>>2]=(k[Be>>2]|0)+fi;k[a+1310736+(Ie+-1<<2)>>2]=fi;Ni=Ri;break}He=b[mi+(s<<1)>>1]|0;Ue=He<<16>>16;Ye=b[mi+(t<<1)>>1]|0;ze=Ye<<16>>16;Ve=Ye<<16>>16>0;if(He<<16>>16<=0){if(Ve){b[mi>>1]=Ye;x=ze*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Qe;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+fi;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)<(Qe|0))k[Y>>2]=Qe;k[a+1310736+(x+-1<<2)>>2]=fi;Ni=Ri;break}V=b[mi+-2>>1]|0;if(V<<16>>16>0){b[mi>>1]=V;W=(V<<16>>16)*7|0;X=a+1310736+(W+-7<<2)|0;k[X>>2]=(k[X>>2]|0)+1;G=a+1310736+(W+-6<<2)|0;k[G>>2]=(k[G>>2]|0)+Qe;q=a+1310736+(W+-5<<2)|0;k[q>>2]=(k[q>>2]|0)+fi;J=a+1310736+(W+-3<<2)|0;if((k[J>>2]|0)>=(Qe|0)){Ni=Ri;break}k[J>>2]=Qe;Ni=Ri;break}else{Z=Ri+1|0;if((Ri|0)>32767)break i;b[mi>>1]=Z;k[a+1179664+(Ri<<2)>>2]=Z<<16>>16;$=Ri*7|0;k[a+1310736+($<<2)>>2]=1;k[a+1310736+($+1<<2)>>2]=Qe;k[a+1310736+($+2<<2)>>2]=fi;k[a+1310736+($+3<<2)>>2]=Qe;k[a+1310736+($+4<<2)>>2]=Qe;k[a+1310736+($+5<<2)>>2]=fi;k[a+1310736+($+6<<2)>>2]=fi;Ni=Z;break}}if(Ve){We=k[a+1179664+(Ue+-1<<2)>>2]|0;je=k[a+1179664+(ze+-1<<2)>>2]|0;if((We|0)>(je|0)){b[mi>>1]=je;if((Ri|0)>0){si=0;Si=z;while(1){if((k[Si>>2]|0)==(We|0))k[Si>>2]=je;si=si+1|0;if((si|0)>=(Ri|0)){Ke=je;break}else Si=Si+4|0}}else Ke=je}else{b[mi>>1]=We;if((We|0)<(je|0)&(Ri|0)>0){ti=0;gi=z;while(1){if((k[gi>>2]|0)==(je|0))k[gi>>2]=We;ti=ti+1|0;if((ti|0)>=(Ri|0)){Ke=We;break}else gi=gi+4|0}}else Ke=We}d=(Ke<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Qe;S=a+1310736+(d+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+fi;k[a+1310736+(d+-1<<2)>>2]=fi;Ni=Ri;break}g=b[mi+-2>>1]|0;if(g<<16>>16<=0){b[mi>>1]=He;P=Ue*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+Qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+fi;L=a+1310736+(P+-4<<2)|0;if((k[L>>2]|0)>(Qe|0))k[L>>2]=Qe;k[a+1310736+(P+-1<<2)>>2]=fi;Ni=Ri;break}F=k[a+1179664+(Ue+-1<<2)>>2]|0;A=k[a+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((F|0)>(A|0)){b[mi>>1]=A;if((Ri|0)>0){oi=0;yi=z;while(1){if((k[yi>>2]|0)==(F|0))k[yi>>2]=A;oi=oi+1|0;if((oi|0)>=(Ri|0)){T=A;break}else yi=yi+4|0}}else T=A}else{b[mi>>1]=F;if((F|0)<(A|0)&(Ri|0)>0){ui=0;Fi=z;while(1){if((k[Fi>>2]|0)==(A|0))k[Fi>>2]=F;ui=ui+1|0;if((ui|0)>=(Ri|0)){T=F;break}else Fi=Fi+4|0}}else T=F}O=(T<<16>>16)*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+fi;Ni=Ri}else{b[mi>>1]=0;c[qe>>0]=0;Ni=Ri}}while(0);Qe=Qe+1|0;ee=ki+4|0;ie=mi+2|0;re=qe+1|0;if((Qe|0)>=(y|0)){Ge=re;bi=ee;Ei=ie;Mi=Ni;break}else{qe=re;ki=ee;mi=ie;Ri=Ni}}}else{Ge=Xe;bi=ci;Ei=vi;Mi=Oi}fi=fi+1|0;if((fi|0)>=(_e|0)){Ti=Mi;Pi=52;break e}else{Xe=Ge+2|0;ci=bi+n|0;vi=Ei+4|0;Oi=Mi}}Yl(3,3904,pi);l=-1}else{Ti=0;Pi=52}}while(0);if((Pi|0)==52){fe=a+12|0;if((Ti|0)<1)ai=1;else{$e=1;li=1;Ai=z;while(1){ae=k[Ai>>2]|0;if((ae|0)==($e|0)){le=li;ni=li+1|0}else{le=k[a+1179664+(ae+-1<<2)>>2]|0;ni=li}k[Ai>>2]=le;if(($e|0)<(Ti|0)){$e=$e+1|0;li=ni;Ai=Ai+4|0}else{ai=ni;break}}}ne=a+8|0;se=ai+-1|0;k[ne>>2]=se;if(!se)l=0;else{ut(fe|0,0,se<<2|0)|0;ut(a+655376|0,0,se<<4|0)|0;if((ai|0)>1){ei=0;do{te=ei<<2;k[a+131084+(te<<2)>>2]=o;k[a+131084+((te|1)<<2)>>2]=0;k[a+131084+((te|2)<<2)>>2]=u;k[a+131084+((te|3)<<2)>>2]=0;ei=ei+1|0}while((ei|0)<(k[ne>>2]|0))}if((Ti|0)>0){ii=0;do{oe=(k[a+1179664+(ii<<2)>>2]|0)+-1|0;ue=ii*7|0;be=a+12+(oe<<2)|0;k[be>>2]=(k[be>>2]|0)+(k[a+1310736+(ue<<2)>>2]|0);ke=oe<<1;de=a+655376+(ke<<3)|0;v[de>>3]=+v[de>>3]+ +(k[a+1310736+(ue+1<<2)>>2]|0);we=a+655376+((ke|1)<<3)|0;v[we>>3]=+v[we>>3]+ +(k[a+1310736+(ue+2<<2)>>2]|0);ve=oe<<2;Ee=a+131084+(ve<<2)|0;me=k[a+1310736+(ue+3<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ve|1)<<2)|0;ge=k[a+1310736+(ue+4<<2)>>2]|0;if((k[pe>>2]|0)<(ge|0))k[pe>>2]=ge;ye=a+131084+((ve|2)<<2)|0;Fe=k[a+1310736+(ue+5<<2)>>2]|0;if((k[ye>>2]|0)>(Fe|0))k[ye>>2]=Fe;Ae=a+131084+((ve|3)<<2)|0;Te=k[a+1310736+(ue+6<<2)>>2]|0;if((k[Ae>>2]|0)<(Te|0))k[Ae>>2]=Te;ii=ii+1|0}while((ii|0)<(Ti|0))}if((k[ne>>2]|0)>0){ri=0;do{Me=a+12+(ri<<2)|0;Re=ri<<1;Ne=a+655376+(Re<<3)|0;v[Ne>>3]=+v[Ne>>3]/+(k[Me>>2]|0);Pe=a+655376+((Re|1)<<3)|0;v[Pe>>3]=+v[Pe>>3]/+(k[Me>>2]|0);ri=ri+1|0}while((ri|0)<(k[ne>>2]|0));l=0}else l=0}}m=Di;return l|0}function zr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0,Di=0;Di=m;m=m+16|0;if((m|0)>=(p|0))he();pi=Di;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Je=0;hi=j;wi=j+((ce(_e,o)|0)<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(o|0))break;else{hi=hi+2|0;wi=wi+2|0}}}E=f*3|0;y=o+-1|0;if((r|0)>1){Ze=0;di=j;_i=j+(y<<1)|0;while(1){b[_i>>1]=0;b[di>>1]=0;Ze=Ze+1|0;if((Ze|0)>=(u|0))break;else{di=di+(o<<1)|0;_i=_i+(o<<1)|0}}}z=a+1179664|0;K=o+1|0;Q=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){Se=(y|0)>1;Xe=(k[a+4>>2]|0)+K|0;fi=1;ci=e+((i<<2)+4)|0;vi=j+(K<<1)|0;Oi=0;i:while(1){if(Se){qe=Xe;Qe=1;ki=ci;mi=vi;Ri=Oi;while(1){Oe=h[ki>>0]|0;De=h[ki+1>>0]|0;do{if(((Oe&248)+10+(Oe<<5&224)+(De>>>3&28)+(De<<3&248)|0)>(E|0)){b[mi>>1]=0;c[qe>>0]=0;Ni=Ri}else{c[qe>>0]=-1;Ce=b[mi+(Q<<1)>>1]|0;if(Ce<<16>>16>0){b[mi>>1]=Ce;Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Qe;Be=a+1310736+(Ie+-5<<2)|0;k[Be>>2]=(k[Be>>2]|0)+fi;k[a+1310736+(Ie+-1<<2)>>2]=fi;Ni=Ri;break}He=b[mi+(s<<1)>>1]|0;Ue=He<<16>>16;Ye=b[mi+(t<<1)>>1]|0;ze=Ye<<16>>16;Ve=Ye<<16>>16>0;if(He<<16>>16<=0){if(Ve){b[mi>>1]=Ye;x=ze*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Qe;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+fi;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)<(Qe|0))k[Y>>2]=Qe;k[a+1310736+(x+-1<<2)>>2]=fi;Ni=Ri;break}V=b[mi+-2>>1]|0;if(V<<16>>16>0){b[mi>>1]=V;W=(V<<16>>16)*7|0;X=a+1310736+(W+-7<<2)|0;k[X>>2]=(k[X>>2]|0)+1;G=a+1310736+(W+-6<<2)|0;k[G>>2]=(k[G>>2]|0)+Qe;q=a+1310736+(W+-5<<2)|0;k[q>>2]=(k[q>>2]|0)+fi;J=a+1310736+(W+-3<<2)|0;if((k[J>>2]|0)>=(Qe|0)){Ni=Ri;break}k[J>>2]=Qe;Ni=Ri;break}else{Z=Ri+1|0;if((Ri|0)>32767)break i;b[mi>>1]=Z;k[a+1179664+(Ri<<2)>>2]=Z<<16>>16;$=Ri*7|0;k[a+1310736+($<<2)>>2]=1;k[a+1310736+($+1<<2)>>2]=Qe;k[a+1310736+($+2<<2)>>2]=fi;k[a+1310736+($+3<<2)>>2]=Qe;k[a+1310736+($+4<<2)>>2]=Qe;k[a+1310736+($+5<<2)>>2]=fi;k[a+1310736+($+6<<2)>>2]=fi;Ni=Z;break}}if(Ve){We=k[a+1179664+(Ue+-1<<2)>>2]|0;je=k[a+1179664+(ze+-1<<2)>>2]|0;if((We|0)>(je|0)){b[mi>>1]=je;if((Ri|0)>0){si=0;Si=z;while(1){if((k[Si>>2]|0)==(We|0))k[Si>>2]=je;si=si+1|0;if((si|0)>=(Ri|0)){Ke=je;break}else Si=Si+4|0}}else Ke=je}else{b[mi>>1]=We;if((We|0)<(je|0)&(Ri|0)>0){ti=0;gi=z;while(1){if((k[gi>>2]|0)==(je|0))k[gi>>2]=We;ti=ti+1|0;if((ti|0)>=(Ri|0)){Ke=We;break}else gi=gi+4|0}}else Ke=We}d=(Ke<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Qe;S=a+1310736+(d+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+fi;k[a+1310736+(d+-1<<2)>>2]=fi;Ni=Ri;break}g=b[mi+-2>>1]|0;if(g<<16>>16<=0){b[mi>>1]=He;P=Ue*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+Qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+fi;L=a+1310736+(P+-4<<2)|0;if((k[L>>2]|0)>(Qe|0))k[L>>2]=Qe;k[a+1310736+(P+-1<<2)>>2]=fi;Ni=Ri;break}F=k[a+1179664+(Ue+-1<<2)>>2]|0;A=k[a+1179664+((g<<16>>16)+-1<<2)>>2]|0;if((F|0)>(A|0)){b[mi>>1]=A;if((Ri|0)>0){oi=0;yi=z;while(1){if((k[yi>>2]|0)==(F|0))k[yi>>2]=A;oi=oi+1|0;if((oi|0)>=(Ri|0)){T=A;break}else yi=yi+4|0}}else T=A}else{b[mi>>1]=F;if((F|0)<(A|0)&(Ri|0)>0){ui=0;Fi=z;while(1){if((k[Fi>>2]|0)==(A|0))k[Fi>>2]=F;ui=ui+1|0;if((ui|0)>=(Ri|0)){T=F;break}else Fi=Fi+4|0}}else T=F}O=(T<<16>>16)*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+fi;Ni=Ri}}while(0);Qe=Qe+1|0;ee=ki+4|0;ie=mi+2|0;re=qe+1|0;if((Qe|0)>=(y|0)){Ge=re;bi=ee;Ei=ie;Mi=Ni;break}else{qe=re;ki=ee;mi=ie;Ri=Ni}}}else{Ge=Xe;bi=ci;Ei=vi;Mi=Oi}fi=fi+1|0;if((fi|0)>=(_e|0)){Ti=Mi;Pi=52;break e}else{Xe=Ge+2|0;ci=bi+n|0;vi=Ei+4|0;Oi=Mi}}Yl(3,3904,pi);l=-1}else{Ti=0;Pi=52}}while(0);if((Pi|0)==52){fe=a+12|0;if((Ti|0)<1)ai=1;else{$e=1;li=1;Ai=z;while(1){ae=k[Ai>>2]|0;if((ae|0)==($e|0)){le=li;ni=li+1|0}else{le=k[a+1179664+(ae+-1<<2)>>2]|0;ni=li}k[Ai>>2]=le;if(($e|0)<(Ti|0)){$e=$e+1|0;li=ni;Ai=Ai+4|0}else{ai=ni;break}}}ne=a+8|0;se=ai+-1|0;k[ne>>2]=se;if(!se)l=0;else{ut(fe|0,0,se<<2|0)|0;ut(a+655376|0,0,se<<4|0)|0;if((ai|0)>1){ei=0;do{te=ei<<2;k[a+131084+(te<<2)>>2]=o;k[a+131084+((te|1)<<2)>>2]=0;k[a+131084+((te|2)<<2)>>2]=u;k[a+131084+((te|3)<<2)>>2]=0;ei=ei+1|0}while((ei|0)<(k[ne>>2]|0))}if((Ti|0)>0){ii=0;do{oe=(k[a+1179664+(ii<<2)>>2]|0)+-1|0;ue=ii*7|0;be=a+12+(oe<<2)|0;k[be>>2]=(k[be>>2]|0)+(k[a+1310736+(ue<<2)>>2]|0);ke=oe<<1;de=a+655376+(ke<<3)|0;v[de>>3]=+v[de>>3]+ +(k[a+1310736+(ue+1<<2)>>2]|0);we=a+655376+((ke|1)<<3)|0;v[we>>3]=+v[we>>3]+ +(k[a+1310736+(ue+2<<2)>>2]|0);ve=oe<<2;Ee=a+131084+(ve<<2)|0;me=k[a+1310736+(ue+3<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ve|1)<<2)|0;ge=k[a+1310736+(ue+4<<2)>>2]|0;if((k[pe>>2]|0)<(ge|0))k[pe>>2]=ge;ye=a+131084+((ve|2)<<2)|0;Fe=k[a+1310736+(ue+5<<2)>>2]|0;if((k[ye>>2]|0)>(Fe|0))k[ye>>2]=Fe;Ae=a+131084+((ve|3)<<2)|0;Te=k[a+1310736+(ue+6<<2)>>2]|0;if((k[Ae>>2]|0)<(Te|0))k[Ae>>2]=Te;ii=ii+1|0}while((ii|0)<(Ti|0))}if((k[ne>>2]|0)>0){ri=0;do{Me=a+12+(ri<<2)|0;Re=ri<<1;Ne=a+655376+(Re<<3)|0;v[Ne>>3]=+v[Ne>>3]/+(k[Me>>2]|0);Pe=a+655376+((Re|1)<<3)|0;v[Pe>>3]=+v[Pe>>3]/+(k[Me>>2]|0);ri=ri+1|0}while((ri|0)<(k[ne>>2]|0));l=0}else l=0}}m=Di;return l|0}function Vr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0;Pi=m;m=m+16|0;if((m|0)>=(p|0))he();mi=Pi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){qe=0;ki=W;di=W+((ce(_e,o)|0)<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(o|0))break;else{ki=ki+2|0;di=di+2|0}}}_=f*3|0;g=o+-1|0;if((r|0)>1){Je=0;hi=W;wi=W+(g<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{hi=hi+(o<<1)|0;wi=wi+(o<<1)|0}}}U=a+1179664|0;j=o+1|0;Z=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){pe=(g|0)>1;Ke=(k[a+4>>2]|0)+j|0;ri=1;ui=e+((i<<2)+4)|0;_i=W+(j<<1)|0;Ti=0;i:while(1){if(pe){Ge=Ke;Ze=1;bi=ui;Ei=_i;Mi=Ti;while(1){Te=h[bi>>0]|0;do{if(((Te&240)+24+(Te<<4&240)+((h[bi+1>>0]|0)&240)|0)>(_|0)){c[Ge>>0]=-1;Ne=b[Ei+(Z<<1)>>1]|0;if(Ne<<16>>16>0){b[Ei>>1]=Ne;Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ze;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+ri;k[a+1310736+(Pe+-1<<2)>>2]=ri;Ri=Mi;break}Le=b[Ei+(s<<1)>>1]|0;xe=Le<<16>>16;Be=b[Ei+(t<<1)>>1]|0;He=Be<<16>>16;Ue=Be<<16>>16>0;if(Le<<16>>16<=0){if(Ue){b[Ei>>1]=Be;I=He*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ri;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Ze|0))k[H>>2]=Ze;k[a+1310736+(I+-1<<2)>>2]=ri;Ri=Mi;break}Y=b[Ei+-2>>1]|0;if(Y<<16>>16>0){b[Ei>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;K=a+1310736+(z+-6<<2)|0;k[K>>2]=(k[K>>2]|0)+Ze;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ri;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Ze|0)){Ri=Mi;break}k[G>>2]=Ze;Ri=Mi;break}else{q=Mi+1|0;if((Mi|0)>32767)break i;b[Ei>>1]=q;k[a+1179664+(Mi<<2)>>2]=q<<16>>16;J=Mi*7|0;k[a+1310736+(J<<2)>>2]=1;k[a+1310736+(J+1<<2)>>2]=Ze;k[a+1310736+(J+2<<2)>>2]=ri;k[a+1310736+(J+3<<2)>>2]=Ze;k[a+1310736+(J+4<<2)>>2]=Ze;k[a+1310736+(J+5<<2)>>2]=ri;k[a+1310736+(J+6<<2)>>2]=ri;Ri=q;break}}if(Ue){Ye=k[a+1179664+(xe+-1<<2)>>2]|0;ze=k[a+1179664+(He+-1<<2)>>2]|0;if((Ye|0)>(ze|0)){b[Ei>>1]=ze;if((Mi|0)>0){ni=0;pi=U;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=ze;ni=ni+1|0;if((ni|0)>=(Mi|0)){Ve=ze;break}else pi=pi+4|0}}else Ve=ze}else{b[Ei>>1]=Ye;if((Ye|0)<(ze|0)&(Mi|0)>0){si=0;Si=U;while(1){if((k[Si>>2]|0)==(ze|0))k[Si>>2]=Ye;si=si+1|0;if((si|0)>=(Mi|0)){Ve=Ye;break}else Si=Si+4|0}}else Ve=Ye}We=(Ve<<16>>16)*7|0;je=a+1310736+(We+-7<<2)|0;k[je>>2]=(k[je>>2]|0)+1;d=a+1310736+(We+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;w=a+1310736+(We+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ri;k[a+1310736+(We+-1<<2)>>2]=ri;Ri=Mi;break}E=b[Ei+-2>>1]|0;if(E<<16>>16<=0){b[Ei>>1]=Le;R=xe*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ri;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Ze|0))k[C>>2]=Ze;k[a+1310736+(R+-1<<2)>>2]=ri;Ri=Mi;break}S=k[a+1179664+(xe+-1<<2)>>2]|0;y=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(y|0)){b[Ei>>1]=y;if((Mi|0)>0){ti=0;gi=U;while(1){if((k[gi>>2]|0)==(S|0))k[gi>>2]=y;ti=ti+1|0;if((ti|0)>=(Mi|0)){F=y;break}else gi=gi+4|0}}else F=y}else{b[Ei>>1]=S;if((S|0)<(y|0)&(Mi|0)>0){oi=0;yi=U;while(1){if((k[yi>>2]|0)==(y|0))k[yi>>2]=S;oi=oi+1|0;if((oi|0)>=(Mi|0)){F=S;break}else yi=yi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ri;Ri=Mi}else{b[Ei>>1]=0;c[Ge>>0]=0;Ri=Mi}}while(0);Ze=Ze+1|0;Q=bi+4|0;$=Ei+2|0;ee=Ge+1|0;if((Ze|0)>=(g|0)){Xe=ee;ci=Q;vi=$;Oi=Ri;break}else{Ge=ee;bi=Q;Ei=$;Mi=Ri}}}else{Xe=Ke;ci=ui;vi=_i;Oi=Ti}ri=ri+1|0;if((ri|0)>=(_e|0)){Ai=Oi;Ni=52;break e}else{Ke=Xe+2|0;ui=ci+n|0;_i=vi+4|0;Ti=Oi}}Yl(3,3904,mi);l=-1}else{Ai=0;Ni=52}}while(0);if((Ni|0)==52){ie=a+12|0;if((Ai|0)<1)fi=1;else{Qe=1;ai=1;Fi=U;while(1){re=k[Fi>>2]|0;if((re|0)==(Qe|0)){fe=ai;li=ai+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;li=ai}k[Fi>>2]=fe;if((Qe|0)<(Ai|0)){Qe=Qe+1|0;ai=li;Fi=Fi+4|0}else{fi=li;break}}}ae=a+8|0;le=fi+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((fi|0)>1){$e=0;do{ne=$e<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;$e=$e+1|0}while(($e|0)<(k[ae>>2]|0))}if((Ai|0)>0){ei=0;do{se=(k[a+1179664+(ei<<2)>>2]|0)+-1|0;te=ei*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;ei=ei+1|0}while((ei|0)<(Ai|0))}if((k[ae>>2]|0)>0){ii=0;do{Ae=a+12+(ii<<2)|0;Oe=ii<<1;Me=a+655376+(Oe<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);Re=a+655376+((Oe|1)<<3)|0;v[Re>>3]=+v[Re>>3]/+(k[Ae>>2]|0);ii=ii+1|0}while((ii|0)<(k[ae>>2]|0));l=0}else l=0}}m=Pi;return l|0}function Wr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0,Pi=0;Pi=m;m=m+16|0;if((m|0)>=(p|0))he();mi=Pi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){qe=0;ki=W;di=W+((ce(_e,o)|0)<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(o|0))break;else{ki=ki+2|0;di=di+2|0}}}_=f*3|0;g=o+-1|0;if((r|0)>1){Je=0;hi=W;wi=W+(g<<1)|0;while(1){b[wi>>1]=0;b[hi>>1]=0;Je=Je+1|0;if((Je|0)>=(u|0))break;else{hi=hi+(o<<1)|0;wi=wi+(o<<1)|0}}}U=a+1179664|0;j=o+1|0;Z=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){pe=(g|0)>1;Ke=(k[a+4>>2]|0)+j|0;ri=1;ui=e+((i<<2)+4)|0;_i=W+(j<<1)|0;Ti=0;i:while(1){if(pe){Ge=Ke;Ze=1;bi=ui;Ei=_i;Mi=Ti;while(1){Te=h[bi>>0]|0;do{if(((Te&240)+24+(Te<<4&240)+((h[bi+1>>0]|0)&240)|0)>(_|0)){b[Ei>>1]=0;c[Ge>>0]=0;Ri=Mi}else{c[Ge>>0]=-1;Ne=b[Ei+(Z<<1)>>1]|0;if(Ne<<16>>16>0){b[Ei>>1]=Ne;Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ze;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+ri;k[a+1310736+(Pe+-1<<2)>>2]=ri;Ri=Mi;break}Le=b[Ei+(s<<1)>>1]|0;xe=Le<<16>>16;Be=b[Ei+(t<<1)>>1]|0;He=Be<<16>>16;Ue=Be<<16>>16>0;if(Le<<16>>16<=0){if(Ue){b[Ei>>1]=Be;I=He*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ri;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Ze|0))k[H>>2]=Ze;k[a+1310736+(I+-1<<2)>>2]=ri;Ri=Mi;break}Y=b[Ei+-2>>1]|0;if(Y<<16>>16>0){b[Ei>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;K=a+1310736+(z+-6<<2)|0;k[K>>2]=(k[K>>2]|0)+Ze;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ri;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Ze|0)){Ri=Mi;break}k[G>>2]=Ze;Ri=Mi;break}else{q=Mi+1|0;if((Mi|0)>32767)break i;b[Ei>>1]=q;k[a+1179664+(Mi<<2)>>2]=q<<16>>16;J=Mi*7|0;k[a+1310736+(J<<2)>>2]=1;k[a+1310736+(J+1<<2)>>2]=Ze;k[a+1310736+(J+2<<2)>>2]=ri;k[a+1310736+(J+3<<2)>>2]=Ze;k[a+1310736+(J+4<<2)>>2]=Ze;k[a+1310736+(J+5<<2)>>2]=ri;k[a+1310736+(J+6<<2)>>2]=ri;Ri=q;break}}if(Ue){Ye=k[a+1179664+(xe+-1<<2)>>2]|0;ze=k[a+1179664+(He+-1<<2)>>2]|0;if((Ye|0)>(ze|0)){b[Ei>>1]=ze;if((Mi|0)>0){ni=0;pi=U;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=ze;ni=ni+1|0;if((ni|0)>=(Mi|0)){Ve=ze;break}else pi=pi+4|0}}else Ve=ze}else{b[Ei>>1]=Ye;if((Ye|0)<(ze|0)&(Mi|0)>0){si=0;Si=U;while(1){if((k[Si>>2]|0)==(ze|0))k[Si>>2]=Ye;si=si+1|0;if((si|0)>=(Mi|0)){Ve=Ye;break}else Si=Si+4|0}}else Ve=Ye}We=(Ve<<16>>16)*7|0;je=a+1310736+(We+-7<<2)|0;k[je>>2]=(k[je>>2]|0)+1;d=a+1310736+(We+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;w=a+1310736+(We+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ri;k[a+1310736+(We+-1<<2)>>2]=ri;Ri=Mi;break}E=b[Ei+-2>>1]|0;if(E<<16>>16<=0){b[Ei>>1]=Le;R=xe*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ri;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Ze|0))k[C>>2]=Ze;k[a+1310736+(R+-1<<2)>>2]=ri;Ri=Mi;break}S=k[a+1179664+(xe+-1<<2)>>2]|0;y=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(y|0)){b[Ei>>1]=y;if((Mi|0)>0){ti=0;gi=U;while(1){if((k[gi>>2]|0)==(S|0))k[gi>>2]=y;ti=ti+1|0;if((ti|0)>=(Mi|0)){F=y;break}else gi=gi+4|0}}else F=y}else{b[Ei>>1]=S;if((S|0)<(y|0)&(Mi|0)>0){oi=0;yi=U;while(1){if((k[yi>>2]|0)==(y|0))k[yi>>2]=S;oi=oi+1|0;if((oi|0)>=(Mi|0)){F=S;break}else yi=yi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ri;Ri=Mi}}while(0);Ze=Ze+1|0;Q=bi+4|0;$=Ei+2|0;ee=Ge+1|0;if((Ze|0)>=(g|0)){Xe=ee;ci=Q;vi=$;Oi=Ri;break}else{Ge=ee;bi=Q;Ei=$;Mi=Ri}}}else{Xe=Ke;ci=ui;vi=_i;Oi=Ti}ri=ri+1|0;if((ri|0)>=(_e|0)){Ai=Oi;Ni=52;break e}else{Ke=Xe+2|0;ui=ci+n|0;_i=vi+4|0;Ti=Oi}}Yl(3,3904,mi);l=-1}else{Ai=0;Ni=52}}while(0);if((Ni|0)==52){ie=a+12|0;if((Ai|0)<1)fi=1;else{Qe=1;ai=1;Fi=U;while(1){re=k[Fi>>2]|0;if((re|0)==(Qe|0)){fe=ai;li=ai+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;li=ai}k[Fi>>2]=fe;if((Qe|0)<(Ai|0)){Qe=Qe+1|0;ai=li;Fi=Fi+4|0}else{fi=li;break}}}ae=a+8|0;le=fi+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((fi|0)>1){$e=0;do{ne=$e<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;$e=$e+1|0}while(($e|0)<(k[ae>>2]|0))}if((Ai|0)>0){ei=0;do{se=(k[a+1179664+(ei<<2)>>2]|0)+-1|0;te=ei*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;ei=ei+1|0}while((ei|0)<(Ai|0))}if((k[ae>>2]|0)>0){ii=0;do{Ae=a+12+(ii<<2)|0;Oe=ii<<1;Me=a+655376+(Oe<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);Re=a+655376+((Oe|1)<<3)|0;v[Re>>3]=+v[Re>>3]/+(k[Ae>>2]|0);ii=ii+1|0}while((ii|0)<(k[ae>>2]|0));l=0}else l=0}}m=Pi;return l|0}function jr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}Y=a+1179664|0;K=o+1|0;J=0-o|0;s=1-o|0;t=~o;n=(i*3|0)+12|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i*6|0)+6)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+1>>0]|0)+(h[ci>>0]|0)+(h[ci+2>>0]|0)|0)>(_|0)){c[Xe>>0]=-1;Re=b[vi+(J<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}U=b[vi+-2>>1]|0;if(U<<16>>16>0){b[vi>>1]=U;z=(U<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{q=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=q;k[a+1179664+(Oi<<2)>>2]=q<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=q;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=Y;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=Y;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=Y;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=Y;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}else{b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+6|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=Y;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Kr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}Y=a+1179664|0;K=o+1|0;J=0-o|0;s=1-o|0;t=~o;n=(i*3|0)+12|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i*6|0)+6)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+1>>0]|0)+(h[ci>>0]|0)+(h[ci+2>>0]|0)|0)>(_|0)){b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}else{c[Xe>>0]=-1;Re=b[vi+(J<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}U=b[vi+-2>>1]|0;if(U<<16>>16>0){b[vi>>1]=U;z=(U<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{q=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=q;k[a+1179664+(Oi<<2)>>2]=q<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=q;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=Y;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=Y;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=Y;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=Y;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+6|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=Y;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Xr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}U=a+1179664|0;K=o+1|0;q=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i<<3)+8)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+2>>0]|0)+(h[ci+1>>0]|0)+(h[ci+3>>0]|0)|0)>(_|0)){c[Xe>>0]=-1;Re=b[vi+(q<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}Y=b[vi+-2>>1]|0;if(Y<<16>>16>0){b[vi>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{J=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=J;k[a+1179664+(Oi<<2)>>2]=J<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=J;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=U;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=U;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=U;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=U;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}else{b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+8|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=U;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Gr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}U=a+1179664|0;K=o+1|0;q=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i<<3)+8)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+2>>0]|0)+(h[ci+1>>0]|0)+(h[ci+3>>0]|0)|0)>(_|0)){b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}else{c[Xe>>0]=-1;Re=b[vi+(q<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}Y=b[vi+-2>>1]|0;if(Y<<16>>16>0){b[vi>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{J=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=J;k[a+1179664+(Oi<<2)>>2]=J<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=J;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=U;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=U;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=U;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=U;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+8|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=U;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function qr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}Y=a+1179664|0;K=o+1|0;J=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i<<3)+8)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+1>>0]|0)+(h[ci>>0]|0)+(h[ci+2>>0]|0)|0)>(_|0)){c[Xe>>0]=-1;Re=b[vi+(J<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}U=b[vi+-2>>1]|0;if(U<<16>>16>0){b[vi>>1]=U;z=(U<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{q=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=q;k[a+1179664+(Oi<<2)>>2]=q<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=q;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=Y;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=Y;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=Y;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=Y;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}else{b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+8|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=Y;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Jr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0,Ni=0;Ni=m;m=m+16|0;if((m|0)>=(p|0))he();Ei=Ni;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Ge=0;bi=j;hi=j+((ce(_e,o)|0)<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(o|0))break;else{bi=bi+2|0;hi=hi+2|0}}}_=f*3|0;y=o+-1|0;if((r|0)>1){qe=0;ki=j;di=j+(y<<1)|0;while(1){b[di>>1]=0;b[ki>>1]=0;qe=qe+1|0;if((qe|0)>=(u|0))break;else{ki=ki+(o<<1)|0;di=di+(o<<1)|0}}}Y=a+1179664|0;K=o+1|0;J=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((_e|0)>1){pe=(y|0)>1;je=(k[a+4>>2]|0)+K|0;ii=1;oi=e+((i<<3)+8)|0;wi=j+(K<<1)|0;Ai=0;i:while(1){if(pe){Xe=je;Je=1;ci=oi;vi=wi;Oi=Ai;while(1){do{if(((h[ci+1>>0]|0)+(h[ci>>0]|0)+(h[ci+2>>0]|0)|0)>(_|0)){b[vi>>1]=0;c[Xe>>0]=0;Mi=Oi}else{c[Xe>>0]=-1;Re=b[vi+(J<<1)>>1]|0;if(Re<<16>>16>0){b[vi>>1]=Re;Ne=(Re<<16>>16)*7|0;Pe=a+1310736+(Ne+-7<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+1;De=a+1310736+(Ne+-6<<2)|0;k[De>>2]=(k[De>>2]|0)+Je;Ce=a+1310736+(Ne+-5<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+ii;k[a+1310736+(Ne+-1<<2)>>2]=ii;Mi=Oi;break}Ie=b[vi+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=b[vi+(t<<1)>>1]|0;Be=xe<<16>>16;He=xe<<16>>16>0;if(Ie<<16>>16<=0){if(He){b[vi>>1]=xe;I=Be*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;x=a+1310736+(I+-6<<2)|0;k[x>>2]=(k[x>>2]|0)+Je;B=a+1310736+(I+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ii;H=a+1310736+(I+-3<<2)|0;if((k[H>>2]|0)<(Je|0))k[H>>2]=Je;k[a+1310736+(I+-1<<2)>>2]=ii;Mi=Oi;break}U=b[vi+-2>>1]|0;if(U<<16>>16>0){b[vi>>1]=U;z=(U<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;X=a+1310736+(z+-5<<2)|0;k[X>>2]=(k[X>>2]|0)+ii;G=a+1310736+(z+-3<<2)|0;if((k[G>>2]|0)>=(Je|0)){Mi=Oi;break}k[G>>2]=Je;Mi=Oi;break}else{q=Oi+1|0;if((Oi|0)>32767)break i;b[vi>>1]=q;k[a+1179664+(Oi<<2)>>2]=q<<16>>16;Z=Oi*7|0;k[a+1310736+(Z<<2)>>2]=1;k[a+1310736+(Z+1<<2)>>2]=Je;k[a+1310736+(Z+2<<2)>>2]=ii;k[a+1310736+(Z+3<<2)>>2]=Je;k[a+1310736+(Z+4<<2)>>2]=Je;k[a+1310736+(Z+5<<2)>>2]=ii;k[a+1310736+(Z+6<<2)>>2]=ii;Mi=q;break}}if(He){Ue=k[a+1179664+(Le+-1<<2)>>2]|0;Ye=k[a+1179664+(Be+-1<<2)>>2]|0;if((Ue|0)>(Ye|0)){b[vi>>1]=Ye;if((Oi|0)>0){li=0;mi=Y;while(1){if((k[mi>>2]|0)==(Ue|0))k[mi>>2]=Ye;li=li+1|0;if((li|0)>=(Oi|0)){ze=Ye;break}else mi=mi+4|0}}else ze=Ye}else{b[vi>>1]=Ue;if((Ue|0)<(Ye|0)&(Oi|0)>0){ni=0;pi=Y;while(1){if((k[pi>>2]|0)==(Ye|0))k[pi>>2]=Ue;ni=ni+1|0;if((ni|0)>=(Oi|0)){ze=Ue;break}else pi=pi+4|0}}else ze=Ue}Ve=(ze<<16>>16)*7|0;We=a+1310736+(Ve+-7<<2)|0;k[We>>2]=(k[We>>2]|0)+1;d=a+1310736+(Ve+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+Je;w=a+1310736+(Ve+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ii;k[a+1310736+(Ve+-1<<2)>>2]=ii;Mi=Oi;break}E=b[vi+-2>>1]|0;if(E<<16>>16<=0){b[vi>>1]=Ie;R=Le*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Je;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+ii;C=a+1310736+(R+-4<<2)|0;if((k[C>>2]|0)>(Je|0))k[C>>2]=Je;k[a+1310736+(R+-1<<2)>>2]=ii;Mi=Oi;break}S=k[a+1179664+(Le+-1<<2)>>2]|0;g=k[a+1179664+((E<<16>>16)+-1<<2)>>2]|0;if((S|0)>(g|0)){b[vi>>1]=g;if((Oi|0)>0){si=0;Si=Y;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=g;si=si+1|0;if((si|0)>=(Oi|0)){F=g;break}else Si=Si+4|0}}else F=g}else{b[vi>>1]=S;if((S|0)<(g|0)&(Oi|0)>0){ti=0;gi=Y;while(1){if((k[gi>>2]|0)==(g|0))k[gi>>2]=S;ti=ti+1|0;if((ti|0)>=(Oi|0)){F=S;break}else gi=gi+4|0}}else F=S}A=(F<<16>>16)*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+Je;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+ii;Mi=Oi}}while(0);Je=Je+1|0;Q=ci+8|0;$=vi+2|0;ee=Xe+1|0;if((Je|0)>=(y|0)){Ke=ee;ui=Q;_i=$;Ti=Mi;break}else{Xe=ee;ci=Q;vi=$;Oi=Mi}}}else{Ke=je;ui=oi;_i=wi;Ti=Ai}ii=ii+1|0;if((ii|0)>=(_e|0)){Fi=Ti;Ri=52;break e}else{je=Ke+2|0;oi=ui+n|0;wi=_i+4|0;Ai=Ti}}Yl(3,3904,Ei);l=-1}else{Fi=0;Ri=52}}while(0);if((Ri|0)==52){ie=a+12|0;if((Fi|0)<1)ri=1;else{Ze=1;fi=1;yi=Y;while(1){re=k[yi>>2]|0;if((re|0)==(Ze|0)){fe=fi;ai=fi+1|0}else{fe=k[a+1179664+(re+-1<<2)>>2]|0;ai=fi}k[yi>>2]=fe;if((Ze|0)<(Fi|0)){Ze=Ze+1|0;fi=ai;yi=yi+4|0}else{ri=ai;break}}}ae=a+8|0;le=ri+-1|0;k[ae>>2]=le;if(!le)l=0;else{ut(ie|0,0,le<<2|0)|0;ut(a+655376|0,0,le<<4|0)|0;if((ri|0)>1){Qe=0;do{ne=Qe<<2;k[a+131084+(ne<<2)>>2]=o;k[a+131084+((ne|1)<<2)>>2]=0;k[a+131084+((ne|2)<<2)>>2]=u;k[a+131084+((ne|3)<<2)>>2]=0;Qe=Qe+1|0}while((Qe|0)<(k[ae>>2]|0))}if((Fi|0)>0){$e=0;do{se=(k[a+1179664+($e<<2)>>2]|0)+-1|0;te=$e*7|0;oe=a+12+(se<<2)|0;k[oe>>2]=(k[oe>>2]|0)+(k[a+1310736+(te<<2)>>2]|0);ue=se<<1;be=a+655376+(ue<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(te+1<<2)>>2]|0);ke=a+655376+((ue|1)<<3)|0;v[ke>>3]=+v[ke>>3]+ +(k[a+1310736+(te+2<<2)>>2]|0);de=se<<2;we=a+131084+(de<<2)|0;ve=k[a+1310736+(te+3<<2)>>2]|0;if((k[we>>2]|0)>(ve|0))k[we>>2]=ve;Ee=a+131084+((de|1)<<2)|0;me=k[a+1310736+(te+4<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Se=a+131084+((de|2)<<2)|0;ge=k[a+1310736+(te+5<<2)>>2]|0;if((k[Se>>2]|0)>(ge|0))k[Se>>2]=ge;ye=a+131084+((de|3)<<2)|0;Fe=k[a+1310736+(te+6<<2)>>2]|0;if((k[ye>>2]|0)<(Fe|0))k[ye>>2]=Fe;$e=$e+1|0}while(($e|0)<(Fi|0))}if((k[ae>>2]|0)>0){ei=0;do{Ae=a+12+(ei<<2)|0;Te=ei<<1;Oe=a+655376+(Te<<3)|0;v[Oe>>3]=+v[Oe>>3]/+(k[Ae>>2]|0);Me=a+655376+((Te|1)<<3)|0;v[Me>>3]=+v[Me>>3]/+(k[Ae>>2]|0);ei=ei+1|0}while((ei|0)<(k[ae>>2]|0));l=0}else l=0}}m=Ni;return l|0}function Zr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Xe=0;ci=t;ki=t+((ce(o,i)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ci=ci+2|0;ki=ki+2|0}}}Ue=f*3|0;u=i+-1|0;if((r|0)>0){Ge=0;bi=t;hi=t+(u<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(r|0))break;else{bi=bi+(i<<1)|0;hi=hi+(i<<1)|0}}}D=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;We=(k[a+4>>2]|0)+x|0;ei=1;ti=e+(x<<1)|0;di=t+(x<<1)|0;Fi=0;i:while(1){if(ae){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){ue=h[ui>>0]|0;Te=h[ui+1>>0]|0;do{if(((ue&248)+12+(ue<<5&224)+(Te>>>3&24)+(Te<<2&248)|0)>(Ue|0)){c[Ke>>0]=-1;Oe=b[_i+(U<<1)>>1]|0;if(Oe<<16>>16>0){b[_i>>1]=Oe;Me=(Oe<<16>>16)*7|0;Re=a+1310736+(Me+-7<<2)|0;k[Re>>2]=(k[Re>>2]|0)+1;Ne=a+1310736+(Me+-6<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+qe;Pe=a+1310736+(Me+-5<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+ei;k[a+1310736+(Me+-1<<2)>>2]=ei;Oi=Ti;break}De=b[_i+(n<<1)>>1]|0;Ce=De<<16>>16;Ie=b[_i+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=Ie<<16>>16>0;if(De<<16>>16<=0){if(xe){b[_i>>1]=Ie;C=Le*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;B=a+1310736+(C+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ei;H=a+1310736+(C+-3<<2)|0;if((k[H>>2]|0)<(qe|0))k[H>>2]=qe;k[a+1310736+(C+-1<<2)>>2]=ei;Oi=Ti;break}Y=b[_i+-2>>1]|0;if(Y<<16>>16>0){b[_i>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+qe;j=a+1310736+(z+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+ei;K=a+1310736+(z+-3<<2)|0;if((k[K>>2]|0)>=(qe|0)){Oi=Ti;break}k[K>>2]=qe;Oi=Ti;break}else{X=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=X;k[a+1179664+(Ti<<2)>>2]=X<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=X;break}}if(xe){Be=k[a+1179664+(Ce+-1<<2)>>2]|0;He=k[a+1179664+(Le+-1<<2)>>2]|0;if((Be|0)>(He|0)){b[_i>>1]=He;if((Ti|0)>0){ai=0;Ei=D;while(1){if((k[Ei>>2]|0)==(Be|0))k[Ei>>2]=He;ai=ai+1|0;if((ai|0)>=(Ti|0)){Ye=He;break}else Ei=Ei+4|0}}else Ye=He}else{b[_i>>1]=Be;if((Be|0)<(He|0)&(Ti|0)>0){li=0;mi=D;while(1){if((k[mi>>2]|0)==(He|0))k[mi>>2]=Be;li=li+1|0;if((li|0)>=(Ti|0)){Ye=Be;break}else mi=mi+4|0}}else Ye=Be}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;d=a+1310736+(ze+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+qe;w=a+1310736+(ze+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ei;k[a+1310736+(ze+-1<<2)>>2]=ei;Oi=Ti;break}_=b[_i+-2>>1]|0;if(_<<16>>16<=0){b[_i>>1]=De;O=Ce*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+ei;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(qe|0))k[P>>2]=qe;k[a+1310736+(O+-1<<2)>>2]=ei;Oi=Ti;break}E=k[a+1179664+(Ce+-1<<2)>>2]|0;S=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(S|0)){b[_i>>1]=S;if((Ti|0)>0){ni=0;pi=D;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=S;ni=ni+1|0;if((ni|0)>=(Ti|0)){g=S;break}else pi=pi+4|0}}else g=S}else{b[_i>>1]=E;if((E|0)<(S|0)&(Ti|0)>0){si=0;Si=D;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=E;si=si+1|0;if((si|0)>=(Ti|0)){g=E;break}else Si=Si+4|0}}else g=E}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+qe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+ei;Oi=Ti}else{b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(u|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(o|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+4|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=D;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=i;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=r;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{le=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;ne=Qe*7|0;se=a+12+(le<<2)|0;k[se>>2]=(k[se>>2]|0)+(k[a+1310736+(ne<<2)>>2]|0);te=le<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ne+1<<2)>>2]|0);be=a+655376+((te|1)<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(ne+2<<2)>>2]|0);ke=le<<2;de=a+131084+(ke<<2)|0;we=k[a+1310736+(ne+3<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((ke|1)<<2)|0;ve=k[a+1310736+(ne+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ke|2)<<2)|0;me=k[a+1310736+(ne+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ke|3)<<2)|0;Se=k[a+1310736+(ne+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function Qr(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Xe=0;ci=t;ki=t+((ce(o,i)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ci=ci+2|0;ki=ki+2|0}}}Ue=f*3|0;u=i+-1|0;if((r|0)>0){Ge=0;bi=t;hi=t+(u<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(r|0))break;else{bi=bi+(i<<1)|0;hi=hi+(i<<1)|0}}}D=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;We=(k[a+4>>2]|0)+x|0;ei=1;ti=e+(x<<1)|0;di=t+(x<<1)|0;Fi=0;i:while(1){if(ae){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){ue=h[ui>>0]|0;Te=h[ui+1>>0]|0;do{if(((ue&248)+12+(ue<<5&224)+(Te>>>3&24)+(Te<<2&248)|0)>(Ue|0)){b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}else{c[Ke>>0]=-1;Oe=b[_i+(U<<1)>>1]|0;if(Oe<<16>>16>0){b[_i>>1]=Oe;Me=(Oe<<16>>16)*7|0;Re=a+1310736+(Me+-7<<2)|0;k[Re>>2]=(k[Re>>2]|0)+1;Ne=a+1310736+(Me+-6<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+qe;Pe=a+1310736+(Me+-5<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+ei;k[a+1310736+(Me+-1<<2)>>2]=ei;Oi=Ti;break}De=b[_i+(n<<1)>>1]|0;Ce=De<<16>>16;Ie=b[_i+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=Ie<<16>>16>0;if(De<<16>>16<=0){if(xe){b[_i>>1]=Ie;C=Le*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;B=a+1310736+(C+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ei;H=a+1310736+(C+-3<<2)|0;if((k[H>>2]|0)<(qe|0))k[H>>2]=qe;k[a+1310736+(C+-1<<2)>>2]=ei;Oi=Ti;break}Y=b[_i+-2>>1]|0;if(Y<<16>>16>0){b[_i>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+qe;j=a+1310736+(z+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+ei;K=a+1310736+(z+-3<<2)|0;if((k[K>>2]|0)>=(qe|0)){Oi=Ti;break}k[K>>2]=qe;Oi=Ti;break}else{X=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=X;k[a+1179664+(Ti<<2)>>2]=X<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=X;break}}if(xe){Be=k[a+1179664+(Ce+-1<<2)>>2]|0;He=k[a+1179664+(Le+-1<<2)>>2]|0;if((Be|0)>(He|0)){b[_i>>1]=He;if((Ti|0)>0){ai=0;Ei=D;while(1){if((k[Ei>>2]|0)==(Be|0))k[Ei>>2]=He;ai=ai+1|0;if((ai|0)>=(Ti|0)){Ye=He;break}else Ei=Ei+4|0}}else Ye=He}else{b[_i>>1]=Be;if((Be|0)<(He|0)&(Ti|0)>0){li=0;mi=D;while(1){if((k[mi>>2]|0)==(He|0))k[mi>>2]=Be;li=li+1|0;if((li|0)>=(Ti|0)){Ye=Be;break}else mi=mi+4|0}}else Ye=Be}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;d=a+1310736+(ze+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+qe;w=a+1310736+(ze+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ei;k[a+1310736+(ze+-1<<2)>>2]=ei;Oi=Ti;break}_=b[_i+-2>>1]|0;if(_<<16>>16<=0){b[_i>>1]=De;O=Ce*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+ei;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(qe|0))k[P>>2]=qe;k[a+1310736+(O+-1<<2)>>2]=ei;Oi=Ti;break}E=k[a+1179664+(Ce+-1<<2)>>2]|0;S=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(S|0)){b[_i>>1]=S;if((Ti|0)>0){ni=0;pi=D;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=S;ni=ni+1|0;if((ni|0)>=(Ti|0)){g=S;break}else pi=pi+4|0}}else g=S}else{b[_i>>1]=E;if((E|0)<(S|0)&(Ti|0)>0){si=0;Si=D;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=E;si=si+1|0;if((si|0)>=(Ti|0)){g=E;break}else Si=Si+4|0}}else g=E}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+qe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+ei;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(u|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(o|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+4|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=D;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=i;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=r;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{le=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;ne=Qe*7|0;se=a+12+(le<<2)|0;k[se>>2]=(k[se>>2]|0)+(k[a+1310736+(ne<<2)>>2]|0);te=le<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ne+1<<2)>>2]|0);be=a+655376+((te|1)<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(ne+2<<2)>>2]|0);ke=le<<2;de=a+131084+(ke<<2)|0;we=k[a+1310736+(ne+3<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((ke|1)<<2)|0;ve=k[a+1310736+(ne+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ke|2)<<2)|0;me=k[a+1310736+(ne+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ke|3)<<2)|0;Se=k[a+1310736+(ne+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function $r(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Xe=0;ci=t;ki=t+((ce(o,i)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ci=ci+2|0;ki=ki+2|0}}}Ue=f*3|0;u=i+-1|0;if((r|0)>0){Ge=0;bi=t;hi=t+(u<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(r|0))break;else{bi=bi+(i<<1)|0;hi=hi+(i<<1)|0}}}D=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;We=(k[a+4>>2]|0)+x|0;ei=1;ti=e+(x<<1)|0;di=t+(x<<1)|0;Fi=0;i:while(1){if(ae){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){ue=h[ui>>0]|0;Te=h[ui+1>>0]|0;do{if(((ue&248)+10+(ue<<5&224)+(Te>>>3&28)+(Te<<3&248)|0)>(Ue|0)){c[Ke>>0]=-1;Oe=b[_i+(U<<1)>>1]|0;if(Oe<<16>>16>0){b[_i>>1]=Oe;Me=(Oe<<16>>16)*7|0;Re=a+1310736+(Me+-7<<2)|0;k[Re>>2]=(k[Re>>2]|0)+1;Ne=a+1310736+(Me+-6<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+qe;Pe=a+1310736+(Me+-5<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+ei;k[a+1310736+(Me+-1<<2)>>2]=ei;Oi=Ti;break}De=b[_i+(n<<1)>>1]|0;Ce=De<<16>>16;Ie=b[_i+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=Ie<<16>>16>0;if(De<<16>>16<=0){if(xe){b[_i>>1]=Ie;C=Le*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;B=a+1310736+(C+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ei;H=a+1310736+(C+-3<<2)|0;if((k[H>>2]|0)<(qe|0))k[H>>2]=qe;k[a+1310736+(C+-1<<2)>>2]=ei;Oi=Ti;break}Y=b[_i+-2>>1]|0;if(Y<<16>>16>0){b[_i>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+qe;j=a+1310736+(z+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+ei;K=a+1310736+(z+-3<<2)|0;if((k[K>>2]|0)>=(qe|0)){Oi=Ti;break}k[K>>2]=qe;Oi=Ti;break}else{X=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=X;k[a+1179664+(Ti<<2)>>2]=X<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=X;break}}if(xe){Be=k[a+1179664+(Ce+-1<<2)>>2]|0;He=k[a+1179664+(Le+-1<<2)>>2]|0;if((Be|0)>(He|0)){b[_i>>1]=He;if((Ti|0)>0){ai=0;Ei=D;while(1){if((k[Ei>>2]|0)==(Be|0))k[Ei>>2]=He;ai=ai+1|0;if((ai|0)>=(Ti|0)){Ye=He;break}else Ei=Ei+4|0}}else Ye=He}else{b[_i>>1]=Be;if((Be|0)<(He|0)&(Ti|0)>0){li=0;mi=D;while(1){if((k[mi>>2]|0)==(He|0))k[mi>>2]=Be;li=li+1|0;if((li|0)>=(Ti|0)){Ye=Be;break}else mi=mi+4|0}}else Ye=Be}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;d=a+1310736+(ze+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+qe;w=a+1310736+(ze+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ei;k[a+1310736+(ze+-1<<2)>>2]=ei;Oi=Ti;break}_=b[_i+-2>>1]|0;if(_<<16>>16<=0){b[_i>>1]=De;O=Ce*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+ei;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(qe|0))k[P>>2]=qe;k[a+1310736+(O+-1<<2)>>2]=ei;Oi=Ti;break}E=k[a+1179664+(Ce+-1<<2)>>2]|0;S=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(S|0)){b[_i>>1]=S;if((Ti|0)>0){ni=0;pi=D;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=S;ni=ni+1|0;if((ni|0)>=(Ti|0)){g=S;break}else pi=pi+4|0}}else g=S}else{b[_i>>1]=E;if((E|0)<(S|0)&(Ti|0)>0){si=0;Si=D;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=E;si=si+1|0;if((si|0)>=(Ti|0)){g=E;break}else Si=Si+4|0}}else g=E}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+qe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+ei;Oi=Ti}else{b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(u|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(o|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+4|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=D;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=i;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=r;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{le=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;ne=Qe*7|0;se=a+12+(le<<2)|0;k[se>>2]=(k[se>>2]|0)+(k[a+1310736+(ne<<2)>>2]|0);te=le<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ne+1<<2)>>2]|0);be=a+655376+((te|1)<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(ne+2<<2)>>2]|0);ke=le<<2;de=a+131084+(ke<<2)|0;we=k[a+1310736+(ne+3<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((ke|1)<<2)|0;ve=k[a+1310736+(ne+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ke|2)<<2)|0;me=k[a+1310736+(ne+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ke|3)<<2)|0;Se=k[a+1310736+(ne+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function ef(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Xe=0;ci=t;ki=t+((ce(o,i)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(i|0))break;else{ci=ci+2|0;ki=ki+2|0}}}Ue=f*3|0;u=i+-1|0;if((r|0)>0){Ge=0;bi=t;hi=t+(u<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(r|0))break;else{bi=bi+(i<<1)|0;hi=hi+(i<<1)|0}}}D=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;We=(k[a+4>>2]|0)+x|0;ei=1;ti=e+(x<<1)|0;di=t+(x<<1)|0;Fi=0;i:while(1){if(ae){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){ue=h[ui>>0]|0;Te=h[ui+1>>0]|0;do{if(((ue&248)+10+(ue<<5&224)+(Te>>>3&28)+(Te<<3&248)|0)>(Ue|0)){b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}else{c[Ke>>0]=-1;Oe=b[_i+(U<<1)>>1]|0;if(Oe<<16>>16>0){b[_i>>1]=Oe;Me=(Oe<<16>>16)*7|0;Re=a+1310736+(Me+-7<<2)|0;k[Re>>2]=(k[Re>>2]|0)+1;Ne=a+1310736+(Me+-6<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+qe;Pe=a+1310736+(Me+-5<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+ei;k[a+1310736+(Me+-1<<2)>>2]=ei;Oi=Ti;break}De=b[_i+(n<<1)>>1]|0;Ce=De<<16>>16;Ie=b[_i+(s<<1)>>1]|0;Le=Ie<<16>>16;xe=Ie<<16>>16>0;if(De<<16>>16<=0){if(xe){b[_i>>1]=Ie;C=Le*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;B=a+1310736+(C+-5<<2)|0;k[B>>2]=(k[B>>2]|0)+ei;H=a+1310736+(C+-3<<2)|0;if((k[H>>2]|0)<(qe|0))k[H>>2]=qe;k[a+1310736+(C+-1<<2)>>2]=ei;Oi=Ti;break}Y=b[_i+-2>>1]|0;if(Y<<16>>16>0){b[_i>>1]=Y;z=(Y<<16>>16)*7|0;V=a+1310736+(z+-7<<2)|0;k[V>>2]=(k[V>>2]|0)+1;W=a+1310736+(z+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+qe;j=a+1310736+(z+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+ei;K=a+1310736+(z+-3<<2)|0;if((k[K>>2]|0)>=(qe|0)){Oi=Ti;break}k[K>>2]=qe;Oi=Ti;break}else{X=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=X;k[a+1179664+(Ti<<2)>>2]=X<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=X;break}}if(xe){Be=k[a+1179664+(Ce+-1<<2)>>2]|0;He=k[a+1179664+(Le+-1<<2)>>2]|0;if((Be|0)>(He|0)){b[_i>>1]=He;if((Ti|0)>0){ai=0;Ei=D;while(1){if((k[Ei>>2]|0)==(Be|0))k[Ei>>2]=He;ai=ai+1|0;if((ai|0)>=(Ti|0)){Ye=He;break}else Ei=Ei+4|0}}else Ye=He}else{b[_i>>1]=Be;if((Be|0)<(He|0)&(Ti|0)>0){li=0;mi=D;while(1){if((k[mi>>2]|0)==(He|0))k[mi>>2]=Be;li=li+1|0;if((li|0)>=(Ti|0)){Ye=Be;break}else mi=mi+4|0}}else Ye=Be}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;d=a+1310736+(ze+-6<<2)|0;k[d>>2]=(k[d>>2]|0)+qe;w=a+1310736+(ze+-5<<2)|0;k[w>>2]=(k[w>>2]|0)+ei;k[a+1310736+(ze+-1<<2)>>2]=ei;Oi=Ti;break}_=b[_i+-2>>1]|0;if(_<<16>>16<=0){b[_i>>1]=De;O=Ce*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+qe;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+ei;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(qe|0))k[P>>2]=qe;k[a+1310736+(O+-1<<2)>>2]=ei;Oi=Ti;break}E=k[a+1179664+(Ce+-1<<2)>>2]|0;S=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(S|0)){b[_i>>1]=S;if((Ti|0)>0){ni=0;pi=D;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=S;ni=ni+1|0;if((ni|0)>=(Ti|0)){g=S;break}else pi=pi+4|0}}else g=S}else{b[_i>>1]=E;if((E|0)<(S|0)&(Ti|0)>0){si=0;Si=D;while(1){if((k[Si>>2]|0)==(S|0))k[Si>>2]=E;si=si+1|0;if((si|0)>=(Ti|0)){g=E;break}else Si=Si+4|0}}else g=E}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+qe;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+ei;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(u|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(o|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+4|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=D;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=i;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=r;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{le=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;ne=Qe*7|0;se=a+12+(le<<2)|0;k[se>>2]=(k[se>>2]|0)+(k[a+1310736+(ne<<2)>>2]|0);te=le<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ne+1<<2)>>2]|0);be=a+655376+((te|1)<<3)|0;v[be>>3]=+v[be>>3]+ +(k[a+1310736+(ne+2<<2)>>2]|0);ke=le<<2;de=a+131084+(ke<<2)|0;we=k[a+1310736+(ne+3<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((ke|1)<<2)|0;ve=k[a+1310736+(ne+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ke|2)<<2)|0;me=k[a+1310736+(ne+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ke|3)<<2)|0;Se=k[a+1310736+(ne+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function rf(e,i,r,f,a,l,n,s,t,o,u,b,d,w,_,E,S,g,y){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;s=s|0;t=t|0;o=+o;u=u|0;b=b|0;d=d|0;w=w|0;_=_|0;E=E|0;S=S|0;g=g|0;y=y|0;var F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0;pi=m;m=m+12448|0;if((m|0)>=(p|0))he();Qe=pi+12440|0;Ze=pi+8|0;De=pi;mi=pi+12312|0;ii=pi+24|0;do{if((r+-2|0)>>>0<3){if((S|0)!=2830){$=S&255;if((mr(i,2,$,$*3|0,f,a,l,n,s,t,o,ii)|0)<0){k[w>>2]=-1;$e=-6;break}ee=ka(ii,$,w,_,E,S,g)|0;if(!y){$e=ee;break}ie=y;k[ie>>2]=0;k[ie+4>>2]=0;$e=ee;break}if((mr(i,2,14,42,f,a,l,n,s,t,.875,ii)|0)<0){k[w>>2]=-1;$e=-6;break}k[Ze>>2]=0;k[Ze+4>>2]=182;k[Ze+8>>2]=195;k[Ze+12>>2]=13;ue=c[ii+(k[Ze>>2]|0)>>0]|0;T=(ue&255)>0?ue:0;wi=(ue&255)<255?ue:-1;U=c[ii+(k[Ze+4>>2]|0)>>0]|0;O=(U&255)>(T&255)?U:T;_i=(U&255)<(wi&255)?U:wi;Q=c[ii+(k[Ze+8>>2]|0)>>0]|0;M=(Q&255)>(O&255)?Q:O;vi=(Q&255)<(_i&255)?Q:_i;le=c[ii+(k[Ze+12>>2]|0)>>0]|0;ne=((le&255)>(M&255)?le:M)&255;se=((le&255)<(vi&255)?le:vi)&255;e:do{if((ne-se|0)<30){k[_>>2]=0;v[E>>3]=-1.0;A=-2;q=0;J=0}else{te=(ne+se|0)>>>1;c[Qe>>0]=(h[ii+(k[Ze>>2]|0)>>0]|0)>>>0<te>>>0&1;c[Qe+1>>0]=(h[ii+(k[Ze+4>>2]|0)>>0]|0)>>>0<te>>>0&1;c[Qe+2>>0]=(h[ii+(k[Ze+8>>2]|0)>>0]|0)>>>0<te>>>0&1;c[Qe+3>>0]=(h[ii+(k[Ze+12>>2]|0)>>0]|0)>>>0<te>>>0&1;fi=0;while(1){oe=fi+1|0;if((c[Qe+fi>>0]|0)==1)if((c[Qe+((oe|0)%4|0)>>0]|0)==1)if(!(c[Qe+((fi+2|0)%4|0)>>0]|0)){ri=fi;break}if((oe|0)<4)fi=oe;else{ri=oe;break}}switch(ri|0){case 4:{k[_>>2]=0;v[E>>3]=-1.0;A=-3;q=0;J=0;break e;break}case 0:{_e=119;Ce=255;ui=0;while(1){ci=ui+-3|0;ce=(ui&-2|0)==12;be=ui*14|0;ve=_e;Ie=Ce;ai=0;while(1){if((ai+-3|ci)>>>0<8){Se=ve;Ue=Ie}else{ke=ai&-2;if((ai|ui)>>>0<2){Se=ve;Ue=Ie}else if(ce&((ke|0)==0|(ke|0)==12)){Se=ve;Ue=Ie}else{de=(h[ii+(ai+be)>>0]|0)-te|0;c[mi+ve>>0]=de>>>31;we=(de|0)>-1?de:0-de|0;Se=ve+-1|0;Ue=(we|0)<(Ie|0)?we:Ie}}ai=ai+1|0;if((ai|0)==14){ge=Se;Ye=Ue;break}else{ve=Se;Ie=Ue}}R=ui+1|0;if((R|0)==14){He=Ye;break}else{_e=ge;Ce=Ye;ui=R}}break}case 1:{ye=119;ze=255;li=0;while(1){ni=li+-3|0;N=li&-2;P=(N|0)==0;D=(N|0)==12;Fe=ye;Ve=ze;bi=13;while(1){if((bi+-3|ni)>>>0<8){Ae=Fe;We=Ve}else{C=(bi&-2|0)==12;if(P&C){Ae=Fe;We=Ve}else if(D&(bi>>>0<2|C)){Ae=Fe;We=Ve}else{I=(h[ii+((bi*14|0)+li)>>0]|0)-te|0;c[mi+Fe>>0]=I>>>31;L=(I|0)>-1?I:0-I|0;Ae=Fe+-1|0;We=(L|0)<(Ve|0)?L:Ve}}if((bi|0)>0){Fe=Ae;Ve=We;bi=bi+-1|0}else{Te=Ae;je=We;break}}x=li+1|0;if((x|0)==14){He=je;break}else{ye=Te;ze=je;li=x}}break}case 2:{Oe=119;Ke=255;ki=13;while(1){hi=ki+-3|0;Ei=ki>>>0<2|(ki&-2|0)==12;B=ki*14|0;Me=Oe;Xe=Ke;si=13;while(1){if((si+-3|hi)>>>0<8){Re=Me;Ge=Xe}else if((si|ki)>>>0<2|Ei&(si&-2|0)==12){Re=Me;Ge=Xe}else{H=(h[ii+(si+B)>>0]|0)-te|0;c[mi+Me>>0]=H>>>31;Y=(H|0)>-1?H:0-H|0;Re=Me+-1|0;Ge=(Y|0)<(Xe|0)?Y:Xe}if((si|0)>0){Me=Re;Xe=Ge;si=si+-1|0}else{Ne=Re;qe=Ge;break}}if((ki|0)>0){Oe=Ne;Ke=qe;ki=ki+-1|0}else{He=qe;break}}break}case 3:{Pe=119;Je=255;ti=13;while(1){oi=ti+-3|0;z=ti&-2;V=(z|0)==12;W=(z|0)==0;Ee=Pe;Le=Je;di=0;while(1){if((di+-3|oi)>>>0<8){me=Ee;xe=Le}else if(V&di>>>0<2|(di|ti)>>>0<2){me=Ee;xe=Le}else if(W&(di&-2|0)==12){me=Ee;xe=Le}else{j=(h[ii+((di*14|0)+ti)>>0]|0)-te|0;c[mi+Ee>>0]=j>>>31;K=(j|0)>-1?j:0-j|0;me=Ee+-1|0;xe=(K|0)<(Le|0)?K:Le}di=di+1|0;if((di|0)==14){pe=me;Be=xe;break}else{Ee=me;Le=xe}}if((ti|0)>0){Pe=pe;Je=Be;ti=ti+-1|0}else{He=Be;break}}break}default:He=255}k[_>>2]=ri;v[E>>3]=(He|0)>30?1.0:+(He|0)/30.0;X=ha(2830,0,0,mi,De)|0;if((X|0)<0){A=-4;q=0;J=0}else{if(g)k[g>>2]=X;G=De;A=0;q=k[G>>2]|0;J=k[G+4>>2]|0}}}while(0);if((A|0)<0){k[w>>2]=-1;$e=A;break}if((q|0)==-1&(J|0)==-1){k[w>>2]=-1;$e=-5;break}k[w>>2]=(q&-32768|0)==0&0==0?q&32767:0;if(!y)$e=0;else{Z=y;k[Z>>2]=q;k[Z+4>>2]=J;$e=0}}else $e=1}while(0);e:do{switch(r|0){case 0:case 1:case 3:case 4:{if(!e){k[u>>2]=-1;ei=-1;break e}re=e+28|0;fe=k[re>>2]|0;ae=fe<<2;switch(r|0){case 0:case 3:{if((mr(i,0,fe,ae,f,a,l,n,s,t,o,ii)|0)<0){k[u>>2]=-1;ei=-6;break e}else{ei=_a(e,0,ii,k[re>>2]|0,u,b,d)|0;break e}break}default:if((mr(i,1,fe,ae,f,a,l,n,s,t,o,ii)|0)<0){k[u>>2]=-1;ei=-6;break e}else{ei=_a(e,1,ii,k[re>>2]|0,u,b,d)|0;break e}}break}default:ei=1}}while(0);if(($e|0)==1)F=ei;else if((ei|0)==1)F=$e;else F=(ei&$e|0)<0?ei:0;m=pi;return F|0}function ff(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0;Mi=m;m=m+16|0;if((m|0)>=(p|0))he();_i=Mi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ke=0;ui=t;bi=t+((ce(o,i)|0)<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(i|0))break;else{ui=ui+2|0;bi=bi+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Xe=0;ci=t;ki=t+(u<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(r|0))break;else{ci=ci+(i<<1)|0;ki=ki+(i<<1)|0}}}C=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){fe=(u|0)>1;Ve=(k[a+4>>2]|0)+x|0;$e=1;si=e+(x<<1)|0;hi=t+(x<<1)|0;yi=0;i:while(1){if(fe){je=Ve;Ge=1;oi=si;wi=hi;Ai=yi;while(1){oe=h[oi>>0]|0;do{if(((oe&240)+24+(oe<<4&240)+((h[oi+1>>0]|0)&240)|0)>(Be|0)){c[je>>0]=-1;Ae=b[wi+(U<<1)>>1]|0;if(Ae<<16>>16>0){b[wi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Ge;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+$e;k[a+1310736+(Te+-1<<2)>>2]=$e;Ti=Ai;break}Ne=b[wi+(n<<1)>>1]|0;Pe=Ne<<16>>16;De=b[wi+(s<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[wi>>1]=De;P=Ce*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Ge;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+$e;B=a+1310736+(P+-3<<2)|0;if((k[B>>2]|0)<(Ge|0))k[B>>2]=Ge;k[a+1310736+(P+-1<<2)>>2]=$e;Ti=Ai;break}H=b[wi+-2>>1]|0;if(H<<16>>16>0){b[wi>>1]=H;Y=(H<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(Y+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Ge;W=a+1310736+(Y+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+$e;j=a+1310736+(Y+-3<<2)|0;if((k[j>>2]|0)>=(Ge|0)){Ti=Ai;break}k[j>>2]=Ge;Ti=Ai;break}else{K=Ai+1|0;if((Ai|0)>32767)break i;b[wi>>1]=K;k[a+1179664+(Ai<<2)>>2]=K<<16>>16;X=Ai*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Ge;k[a+1310736+(X+2<<2)>>2]=$e;k[a+1310736+(X+3<<2)>>2]=Ge;k[a+1310736+(X+4<<2)>>2]=Ge;k[a+1310736+(X+5<<2)>>2]=$e;k[a+1310736+(X+6<<2)>>2]=$e;Ti=K;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[wi>>1]=xe;if((Ai|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=xe;fi=fi+1|0;if((fi|0)>=(Ai|0)){He=xe;break}else vi=vi+4|0}}else He=xe}else{b[wi>>1]=Le;if((Le|0)<(xe|0)&(Ai|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Le;ai=ai+1|0;if((ai|0)>=(Ai|0)){He=Le;break}else Ei=Ei+4|0}}else He=Le}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+Ge;d=a+1310736+(Ue+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+$e;k[a+1310736+(Ue+-1<<2)>>2]=$e;Ti=Ai;break}w=b[wi+-2>>1]|0;if(w<<16>>16<=0){b[wi>>1]=Ne;T=Pe*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ge;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+$e;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Ge|0))k[N>>2]=Ge;k[a+1310736+(T+-1<<2)>>2]=$e;Ti=Ai;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[wi>>1]=E;if((Ai|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(_|0))k[mi>>2]=E;li=li+1|0;if((li|0)>=(Ai|0)){S=E;break}else mi=mi+4|0}}else S=E}else{b[wi>>1]=_;if((_|0)<(E|0)&(Ai|0)>0){ni=0;pi=C;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ai|0)){S=_;break}else pi=pi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Ge;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+$e;Ti=Ai}else{b[wi>>1]=0;c[je>>0]=0;Ti=Ai}}while(0);Ge=Ge+1|0;G=oi+2|0;q=wi+2|0;J=je+1|0;if((Ge|0)>=(u|0)){We=J;ti=G;di=q;Fi=Ti;break}else{je=J;oi=G;wi=q;Ai=Ti}}}else{We=Ve;ti=si;di=hi;Fi=yi}$e=$e+1|0;if(($e|0)>=(o|0)){gi=Fi;Oi=52;break e}else{Ve=We+2|0;si=ti+4|0;hi=di+4|0;yi=Fi}}Yl(3,3904,_i);l=-1}else{gi=0;Oi=52}}while(0);if((Oi|0)==52){Z=a+12|0;if((gi|0)<1)ei=1;else{qe=1;ii=1;Si=C;while(1){Q=k[Si>>2]|0;if((Q|0)==(qe|0)){$=ii;ri=ii+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ri=ii}k[Si>>2]=$;if((qe|0)<(gi|0)){qe=qe+1|0;ii=ri;Si=Si+4|0}else{ei=ri;break}}}ee=a+8|0;ie=ei+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((ei|0)>1){Je=0;do{re=Je<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(k[ee>>2]|0))}if((gi|0)>0){Ze=0;do{ae=(k[a+1179664+(Ze<<2)>>2]|0)+-1|0;le=Ze*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((se|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;de=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((be|1)<<2)|0;_e=k[a+1310736+(le+4<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;ve=a+131084+((be|2)<<2)|0;Ee=k[a+1310736+(le+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|3)<<2)|0;pe=k[a+1310736+(le+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Ze=Ze+1|0}while((Ze|0)<(gi|0))}if((k[ee>>2]|0)>0){Qe=0;do{Se=a+12+(Qe<<2)|0;ge=Qe<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Qe=Qe+1|0}while((Qe|0)<(k[ee>>2]|0));l=0}else l=0}}m=Mi;return l|0}function af(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0;Mi=m;m=m+16|0;if((m|0)>=(p|0))he();_i=Mi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ke=0;ui=t;bi=t+((ce(o,i)|0)<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(i|0))break;else{ui=ui+2|0;bi=bi+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Xe=0;ci=t;ki=t+(u<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(r|0))break;else{ci=ci+(i<<1)|0;ki=ki+(i<<1)|0}}}C=a+1179664|0;x=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){fe=(u|0)>1;Ve=(k[a+4>>2]|0)+x|0;$e=1;si=e+(x<<1)|0;hi=t+(x<<1)|0;yi=0;i:while(1){if(fe){je=Ve;Ge=1;oi=si;wi=hi;Ai=yi;while(1){oe=h[oi>>0]|0;do{if(((oe&240)+24+(oe<<4&240)+((h[oi+1>>0]|0)&240)|0)>(Be|0)){b[wi>>1]=0;c[je>>0]=0;Ti=Ai}else{c[je>>0]=-1;Ae=b[wi+(U<<1)>>1]|0;if(Ae<<16>>16>0){b[wi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Ge;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+$e;k[a+1310736+(Te+-1<<2)>>2]=$e;Ti=Ai;break}Ne=b[wi+(n<<1)>>1]|0;Pe=Ne<<16>>16;De=b[wi+(s<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[wi>>1]=De;P=Ce*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Ge;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+$e;B=a+1310736+(P+-3<<2)|0;if((k[B>>2]|0)<(Ge|0))k[B>>2]=Ge;k[a+1310736+(P+-1<<2)>>2]=$e;Ti=Ai;break}H=b[wi+-2>>1]|0;if(H<<16>>16>0){b[wi>>1]=H;Y=(H<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(Y+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Ge;W=a+1310736+(Y+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+$e;j=a+1310736+(Y+-3<<2)|0;if((k[j>>2]|0)>=(Ge|0)){Ti=Ai;break}k[j>>2]=Ge;Ti=Ai;break}else{K=Ai+1|0;if((Ai|0)>32767)break i;b[wi>>1]=K;k[a+1179664+(Ai<<2)>>2]=K<<16>>16;X=Ai*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Ge;k[a+1310736+(X+2<<2)>>2]=$e;k[a+1310736+(X+3<<2)>>2]=Ge;k[a+1310736+(X+4<<2)>>2]=Ge;k[a+1310736+(X+5<<2)>>2]=$e;k[a+1310736+(X+6<<2)>>2]=$e;Ti=K;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[wi>>1]=xe;if((Ai|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=xe;fi=fi+1|0;if((fi|0)>=(Ai|0)){He=xe;break}else vi=vi+4|0}}else He=xe}else{b[wi>>1]=Le;if((Le|0)<(xe|0)&(Ai|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Le;ai=ai+1|0;if((ai|0)>=(Ai|0)){He=Le;break}else Ei=Ei+4|0}}else He=Le}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+Ge;d=a+1310736+(Ue+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+$e;k[a+1310736+(Ue+-1<<2)>>2]=$e;Ti=Ai;break}w=b[wi+-2>>1]|0;if(w<<16>>16<=0){b[wi>>1]=Ne;T=Pe*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ge;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+$e;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Ge|0))k[N>>2]=Ge;k[a+1310736+(T+-1<<2)>>2]=$e;Ti=Ai;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[wi>>1]=E;if((Ai|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(_|0))k[mi>>2]=E;li=li+1|0;if((li|0)>=(Ai|0)){S=E;break}else mi=mi+4|0}}else S=E}else{b[wi>>1]=_;if((_|0)<(E|0)&(Ai|0)>0){ni=0;pi=C;while(1){if((k[pi>>2]|0)==(E|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ai|0)){S=_;break}else pi=pi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Ge;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+$e;Ti=Ai}}while(0);Ge=Ge+1|0;G=oi+2|0;q=wi+2|0;J=je+1|0;if((Ge|0)>=(u|0)){We=J;ti=G;di=q;Fi=Ti;break}else{je=J;oi=G;wi=q;Ai=Ti}}}else{We=Ve;ti=si;di=hi;Fi=yi}$e=$e+1|0;if(($e|0)>=(o|0)){gi=Fi;Oi=52;break e}else{Ve=We+2|0;si=ti+4|0;hi=di+4|0;yi=Fi}}Yl(3,3904,_i);l=-1}else{gi=0;Oi=52}}while(0);if((Oi|0)==52){Z=a+12|0;if((gi|0)<1)ei=1;else{qe=1;ii=1;Si=C;while(1){Q=k[Si>>2]|0;if((Q|0)==(qe|0)){$=ii;ri=ii+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ri=ii}k[Si>>2]=$;if((qe|0)<(gi|0)){qe=qe+1|0;ii=ri;Si=Si+4|0}else{ei=ri;break}}}ee=a+8|0;ie=ei+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((ei|0)>1){Je=0;do{re=Je<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;Je=Je+1|0}while((Je|0)<(k[ee>>2]|0))}if((gi|0)>0){Ze=0;do{ae=(k[a+1179664+(Ze<<2)>>2]|0)+-1|0;le=Ze*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((se|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;de=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((be|1)<<2)|0;_e=k[a+1310736+(le+4<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;ve=a+131084+((be|2)<<2)|0;Ee=k[a+1310736+(le+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|3)<<2)|0;pe=k[a+1310736+(le+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Ze=Ze+1|0}while((Ze|0)<(gi|0))}if((k[ee>>2]|0)>0){Qe=0;do{Se=a+12+(Qe<<2)|0;ge=Qe<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Qe=Qe+1|0}while((Qe|0)<(k[ee>>2]|0));l=0}else l=0}}m=Mi;return l|0}function lf(e,i,r,f,a,l,n,s,t,o){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;s=s|0;t=t|0;o=o|0;var u=0;e:do{switch(a|0){case 0:{switch(l|0){case 1:{if(o){u=Ff(e,i,r,o,t)|0;break e}switch(s|0){case 0:{if(f>>>0<2){u=Xf(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=qf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=jf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=sa(e,i,r,n,t)|0;break e;break}case 8:{u=la(e,i,r,n,t)|0;break e;break}case 7:{u=fa(e,i,r,n,t)|0;break e;break}case 9:{u=If(e,i,r,n,t)|0;break e;break}case 10:{u=Df(e,i,r,n,t)|0;break e;break}case 11:{u=Vf(e,i,r,n,t)|0;break e;break}default:ji(0)}break}case 1:{if(f>>>0<2){u=xf(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=Yf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=Hf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=ia(e,i,r,n,t)|0;break e;break}case 8:{u=$f(e,i,r,n,t)|0;break e;break}case 7:{u=Zf(e,i,r,n,t)|0;break e;break}case 9:{u=Mf(e,i,r,n,t)|0;break e;break}case 10:{u=Tf(e,i,r,n,t)|0;break e;break}case 11:{u=Rf(e,i,r,n,t)|0;break e;break}default:ji(0)}break}default:ji(0)}break}case 0:{if(o){u=yf(e,i,r,o,t)|0;break e}switch(s|0){case 0:{if(f>>>0<2){u=Kf(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=Gf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=Wf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=na(e,i,r,n,t)|0;break e;break}case 8:{u=aa(e,i,r,n,t)|0;break e;break}case 7:{u=ra(e,i,r,n,t)|0;break e;break}case 9:{u=Cf(e,i,r,n,t)|0;break e;break}case 10:{u=Pf(e,i,r,n,t)|0;break e;break}case 11:{u=zf(e,i,r,n,t)|0;break e;break}default:ji(0)}break}case 1:{if(f>>>0<2){u=Lf(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=Uf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=Bf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=ea(e,i,r,n,t)|0;break e;break}case 8:{u=Qf(e,i,r,n,t)|0;break e;break}case 7:{u=Jf(e,i,r,n,t)|0;break e;break}case 9:{u=Of(e,i,r,n,t)|0;break e;break}case 10:{u=Af(e,i,r,n,t)|0;break e;break}case 11:{u=Nf(e,i,r,n,t)|0;break e;break}default:ji(0)}break}default:ji(0)}break}default:ji(0)}break}case 1:{switch(l|0){case 1:{if(o){u=Br(e,i,r,o,t)|0;break e}switch(s|0){case 0:{if(f>>>0<2){u=of(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=cf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=sf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=gf(e,i,r,n,t)|0;break e;break}case 8:{u=pf(e,i,r,n,t)|0;break e;break}case 7:{u=Ef(e,i,r,n,t)|0;break e;break}case 9:{u=ef(e,i,r,n,t)|0;break e;break}case 10:{u=Qr(e,i,r,n,t)|0;break e;break}case 11:{u=af(e,i,r,n,t)|0;break e;break}default:ji(0)}break}case 1:{if(f>>>0<2){u=Kr(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=Jr(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=Gr(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=_f(e,i,r,n,t)|0;break e;break}case 8:{u=hf(e,i,r,n,t)|0;break e;break}case 7:{u=kf(e,i,r,n,t)|0;break e;break}case 9:{u=zr(e,i,r,n,t)|0;break e;break}case 10:{u=Ur(e,i,r,n,t)|0;break e;break}case 11:{u=Wr(e,i,r,n,t)|0;break e;break}default:ji(0)}break}default:ji(0)}break}case 0:{if(o){u=xr(e,i,r,o,t)|0;break e}switch(s|0){case 0:{if(f>>>0<2){u=tf(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=uf(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=nf(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=Sf(e,i,r,n,t)|0;break e;break}case 8:{u=mf(e,i,r,n,t)|0;break e;break}case 7:{u=vf(e,i,r,n,t)|0;break e;break}case 9:{u=$r(e,i,r,n,t)|0;break e;break}case 10:{u=Zr(e,i,r,n,t)|0;break e;break}case 11:{u=ff(e,i,r,n,t)|0;break e;break}default:ji(0)}break}case 1:{if(f>>>0<2){u=jr(e,i,r,n,t)|0;break e}if((f&-2|0)==2){u=qr(e,i,r,n,t)|0;break e}if((f&-3|0)==4){u=Xr(e,i,r,n,t)|0;break e}switch(f|0){case 5:case 12:case 13:case 14:{u=wf(e,i,r,n,t)|0;break e;break}case 8:{u=df(e,i,r,n,t)|0;break e;break}case 7:{u=bf(e,i,r,n,t)|0;break e;break}case 9:{u=Yr(e,i,r,n,t)|0;break e;break}case 10:{u=Hr(e,i,r,n,t)|0;break e;break}case 11:{u=Vr(e,i,r,n,t)|0;break e;break}default:ji(0)}break}default:ji(0)}break}default:ji(0)}break}default:ji(0)}}while(0);return u|0}function nf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;x=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;ze=(k[a+4>>2]|0)+x|0;Qe=1;ni=e+(x<<2)|0;ki=t+(x<<1)|0;gi=0;i:while(1){if(ae){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+2>>0]|0)+(h[ti+1>>0]|0)+(h[ti+3>>0]|0)|0)>(Be|0)){c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;B=a+1310736+(P+-3<<2)|0;if((k[B>>2]|0)<(Xe|0))k[B>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}else{b[di>>1]=0;c[We>>0]=0;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+4|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+8|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;le=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(le+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(le+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function sf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;x=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ae=(u|0)>1;ze=(k[a+4>>2]|0)+x|0;Qe=1;ni=e+(x<<2)|0;ki=t+(x<<1)|0;gi=0;i:while(1){if(ae){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+2>>0]|0)+(h[ti+1>>0]|0)+(h[ti+3>>0]|0)|0)>(Be|0)){b[di>>1]=0;c[We>>0]=0;Ai=Fi}else{c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;B=a+1310736+(P+-3<<2)|0;if((k[B>>2]|0)<(Xe|0))k[B>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+4|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+8|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;le=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(le+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(le+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function tf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;B=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){le=(u|0)>1;ze=(k[a+4>>2]|0)+B|0;Qe=1;ni=e+(B*3|0)|0;ki=t+(B<<1)|0;gi=0;i:while(1){if(le){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+1>>0]|0)+(h[ti>>0]|0)+(h[ti+2>>0]|0)|0)>(Be|0)){c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;x=a+1310736+(P+-3<<2)|0;if((k[x>>2]|0)<(Xe|0))k[x>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}else{b[di>>1]=0;c[We>>0]=0;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+3|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+6|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(ae+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(ae+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function of(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;B=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){le=(u|0)>1;ze=(k[a+4>>2]|0)+B|0;Qe=1;ni=e+(B*3|0)|0;ki=t+(B<<1)|0;gi=0;i:while(1){if(le){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+1>>0]|0)+(h[ti>>0]|0)+(h[ti+2>>0]|0)|0)>(Be|0)){b[di>>1]=0;c[We>>0]=0;Ai=Fi}else{c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;x=a+1310736+(P+-3<<2)|0;if((k[x>>2]|0)<(Xe|0))k[x>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+3|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+6|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(ae+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(ae+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function uf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;B=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){le=(u|0)>1;ze=(k[a+4>>2]|0)+B|0;Qe=1;ni=e+(B<<2)|0;ki=t+(B<<1)|0;gi=0;i:while(1){if(le){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+1>>0]|0)+(h[ti>>0]|0)+(h[ti+2>>0]|0)|0)>(Be|0)){c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;x=a+1310736+(P+-3<<2)|0;if((k[x>>2]|0)<(Xe|0))k[x>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}else{b[di>>1]=0;c[We>>0]=0;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+4|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+8|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(ae+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(ae+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function cf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0;Oi=m;m=m+16|0;if((m|0)>=(p|0))he();wi=Oi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){je=0;oi=t;ci=t+((ce(o,i)|0)<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(i|0))break;else{oi=oi+2|0;ci=ci+2|0}}}Be=f*3|0;u=i+-1|0;if((r|0)>0){Ke=0;ui=t;bi=t+(u<<1)|0;while(1){b[bi>>1]=0;b[ui>>1]=0;Ke=Ke+1|0;if((Ke|0)>=(r|0))break;else{ui=ui+(i<<1)|0;bi=bi+(i<<1)|0}}}C=a+1179664|0;B=i+1|0;Y=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){le=(u|0)>1;ze=(k[a+4>>2]|0)+B|0;Qe=1;ni=e+(B<<2)|0;ki=t+(B<<1)|0;gi=0;i:while(1){if(le){We=ze;Xe=1;ti=ni;di=ki;Fi=gi;while(1){do{if(((h[ti+1>>0]|0)+(h[ti>>0]|0)+(h[ti+2>>0]|0)|0)>(Be|0)){b[di>>1]=0;c[We>>0]=0;Ai=Fi}else{c[We>>0]=-1;Fe=b[di+(Y<<1)>>1]|0;if(Fe<<16>>16>0){b[di>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+Xe;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+Qe;k[a+1310736+(Ae+-1<<2)>>2]=Qe;Ai=Fi;break}Re=b[di+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[di+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[di>>1]=Pe;P=De*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;I=a+1310736+(P+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+Xe;L=a+1310736+(P+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Qe;x=a+1310736+(P+-3<<2)|0;if((k[x>>2]|0)<(Xe|0))k[x>>2]=Xe;k[a+1310736+(P+-1<<2)>>2]=Qe;Ai=Fi;break}H=b[di+-2>>1]|0;if(H<<16>>16>0){b[di>>1]=H;U=(H<<16>>16)*7|0;z=a+1310736+(U+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;V=a+1310736+(U+-6<<2)|0;k[V>>2]=(k[V>>2]|0)+Xe;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Qe;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(Xe|0)){Ai=Fi;break}k[j>>2]=Xe;Ai=Fi;break}else{K=Fi+1|0;if((Fi|0)>32767)break i;b[di>>1]=K;k[a+1179664+(Fi<<2)>>2]=K<<16>>16;X=Fi*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=Xe;k[a+1310736+(X+2<<2)>>2]=Qe;k[a+1310736+(X+3<<2)>>2]=Xe;k[a+1310736+(X+4<<2)>>2]=Xe;k[a+1310736+(X+5<<2)>>2]=Qe;k[a+1310736+(X+6<<2)>>2]=Qe;Ai=K;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[di>>1]=Le;if((Fi|0)>0){ri=0;_i=C;while(1){if((k[_i>>2]|0)==(Ie|0))k[_i>>2]=Le;ri=ri+1|0;if((ri|0)>=(Fi|0)){xe=Le;break}else _i=_i+4|0}}else xe=Le}else{b[di>>1]=Ie;if((Ie|0)<(Le|0)&(Fi|0)>0){fi=0;vi=C;while(1){if((k[vi>>2]|0)==(Le|0))k[vi>>2]=Ie;fi=fi+1|0;if((fi|0)>=(Fi|0)){xe=Ie;break}else vi=vi+4|0}}else xe=Ie}He=(xe<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+Xe;d=a+1310736+(He+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Qe;k[a+1310736+(He+-1<<2)>>2]=Qe;Ai=Fi;break}w=b[di+-2>>1]|0;if(w<<16>>16<=0){b[di>>1]=Re;T=Ne*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Xe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+Qe;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(Xe|0))k[N>>2]=Xe;k[a+1310736+(T+-1<<2)>>2]=Qe;Ai=Fi;break}_=k[a+1179664+(Ne+-1<<2)>>2]|0;E=k[a+1179664+((w<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[di>>1]=E;if((Fi|0)>0){ai=0;Ei=C;while(1){if((k[Ei>>2]|0)==(_|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(Fi|0)){S=E;break}else Ei=Ei+4|0}}else S=E}else{b[di>>1]=_;if((_|0)<(E|0)&(Fi|0)>0){li=0;mi=C;while(1){if((k[mi>>2]|0)==(E|0))k[mi>>2]=_;li=li+1|0;if((li|0)>=(Fi|0)){S=_;break}else mi=mi+4|0}}else S=_}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Qe;Ai=Fi}}while(0);Xe=Xe+1|0;G=ti+4|0;q=di+2|0;J=We+1|0;if((Xe|0)>=(u|0)){Ve=J;si=G;hi=q;yi=Ai;break}else{We=J;ti=G;di=q;Fi=Ai}}}else{Ve=ze;si=ni;hi=ki;yi=gi}Qe=Qe+1|0;if((Qe|0)>=(o|0)){Si=yi;Ti=52;break e}else{ze=Ve+2|0;ni=si+8|0;ki=hi+4|0;gi=yi}}Yl(3,3904,wi);l=-1}else{Si=0;Ti=52}}while(0);if((Ti|0)==52){Z=a+12|0;if((Si|0)<1)$e=1;else{Ge=1;ei=1;pi=C;while(1){Q=k[pi>>2]|0;if((Q|0)==(Ge|0)){$=ei;ii=ei+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;ii=ei}k[pi>>2]=$;if((Ge|0)<(Si|0)){Ge=Ge+1|0;ei=ii;pi=pi+4|0}else{$e=ii;break}}}ee=a+8|0;ie=$e+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if(($e|0)>1){qe=0;do{re=qe<<2;k[a+131084+(re<<2)>>2]=i;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=r;k[a+131084+((re|3)<<2)>>2]=0;qe=qe+1|0}while((qe|0)<(k[ee>>2]|0))}if((Si|0)>0){Je=0;do{fe=(k[a+1179664+(Je<<2)>>2]|0)+-1|0;ae=Je*7|0;ne=a+12+(fe<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;_e=a+131084+((ue|2)<<2)|0;ve=k[a+1310736+(ae+5<<2)>>2]|0;if((k[_e>>2]|0)>(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|3)<<2)|0;me=k[a+1310736+(ae+6<<2)>>2]|0;if((k[Ee>>2]|0)<(me|0))k[Ee>>2]=me;Je=Je+1|0}while((Je|0)<(Si|0))}if((k[ee>>2]|0)>0){Ze=0;do{pe=a+12+(Ze<<2)|0;Se=Ze<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ze=Ze+1|0}while((Ze|0)<(k[ee>>2]|0));l=0}else l=0}}m=Oi;return l|0}function bf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Xe=0;ci=j;ki=j+((ce(_e,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}_=o+-1|0;if((r|0)>1){Ge=0;bi=j;hi=j+(_<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}x=a+1179664|0;Y=o+1|0;G=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){ve=(_|0)>1;We=(k[a+4>>2]|0)+Y|0;ei=1;ti=e+((i<<2)+4)|0;di=j+(Y<<1)|0;Fi=0;i:while(1){if(ve){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui+1>>0]|0|0)>(f|0)){c[Ke>>0]=-1;Te=b[_i+(G<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}B=b[_i+-2>>1]|0;if(B<<16>>16>0){b[_i>>1]=B;H=(B<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{K=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=K;k[a+1179664+(Ti<<2)>>2]=K<<16>>16;X=Ti*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=qe;k[a+1310736+(X+2<<2)>>2]=ei;k[a+1310736+(X+3<<2)>>2]=qe;k[a+1310736+(X+4<<2)>>2]=qe;k[a+1310736+(X+5<<2)>>2]=ei;k[a+1310736+(X+6<<2)>>2]=ei;Oi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=x;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=x;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(E|0)){b[_i>>1]=E;if((Ti|0)>0){ni=0;pi=x;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=E;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=E;break}else pi=pi+4|0}}else S=E}else{b[_i>>1]=w;if((w|0)<(E|0)&(Ti|0)>0){si=0;Si=x;while(1){if((k[Si>>2]|0)==(E|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}else{b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}}while(0);qe=qe+1|0;q=ui+4|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(_|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(_e|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=x;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function kf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Xe=0;ci=j;ki=j+((ce(_e,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}_=o+-1|0;if((r|0)>1){Ge=0;bi=j;hi=j+(_<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}x=a+1179664|0;Y=o+1|0;G=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){ve=(_|0)>1;We=(k[a+4>>2]|0)+Y|0;ei=1;ti=e+((i<<2)+4)|0;di=j+(Y<<1)|0;Fi=0;i:while(1){if(ve){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui+1>>0]|0|0)>(f|0)){b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}else{c[Ke>>0]=-1;Te=b[_i+(G<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}B=b[_i+-2>>1]|0;if(B<<16>>16>0){b[_i>>1]=B;H=(B<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{K=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=K;k[a+1179664+(Ti<<2)>>2]=K<<16>>16;X=Ti*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=qe;k[a+1310736+(X+2<<2)>>2]=ei;k[a+1310736+(X+3<<2)>>2]=qe;k[a+1310736+(X+4<<2)>>2]=qe;k[a+1310736+(X+5<<2)>>2]=ei;k[a+1310736+(X+6<<2)>>2]=ei;Oi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=x;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=x;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(E|0)){b[_i>>1]=E;if((Ti|0)>0){ni=0;pi=x;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=E;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=E;break}else pi=pi+4|0}}else S=E}else{b[_i>>1]=w;if((w|0)<(E|0)&(Ti|0)>0){si=0;Si=x;while(1){if((k[Si>>2]|0)==(E|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}}while(0);qe=qe+1|0;q=ui+4|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(_|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(_e|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=x;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function hf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Xe=0;ci=j;ki=j+((ce(_e,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}E=o+-1|0;if((r|0)>1){Ge=0;bi=j;hi=j+(E<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}x=a+1179664|0;z=o+1|0;G=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){ve=(E|0)>1;We=(k[a+4>>2]|0)+z|0;ei=1;ti=e+((i<<2)+4)|0;di=j+(z<<1)|0;Fi=0;i:while(1){if(ve){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui>>0]|0|0)>(f|0)){b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}else{c[Ke>>0]=-1;Te=b[_i+(G<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}B=b[_i+-2>>1]|0;if(B<<16>>16>0){b[_i>>1]=B;H=(B<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;Y=a+1310736+(H+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{K=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=K;k[a+1179664+(Ti<<2)>>2]=K<<16>>16;X=Ti*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=qe;k[a+1310736+(X+2<<2)>>2]=ei;k[a+1310736+(X+3<<2)>>2]=qe;k[a+1310736+(X+4<<2)>>2]=qe;k[a+1310736+(X+5<<2)>>2]=ei;k[a+1310736+(X+6<<2)>>2]=ei;Oi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=x;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=x;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[_i>>1]=_;if((Ti|0)>0){ni=0;pi=x;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=_;break}else pi=pi+4|0}}else S=_}else{b[_i>>1]=w;if((w|0)<(_|0)&(Ti|0)>0){si=0;Si=x;while(1){if((k[Si>>2]|0)==(_|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}}while(0);qe=qe+1|0;q=ui+4|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(E|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(_e|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=x;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function df(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;j=k[a>>2]|0;_e=u+-1|0;if((i|0)>1){Xe=0;ci=j;ki=j+((ce(_e,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}E=o+-1|0;if((r|0)>1){Ge=0;bi=j;hi=j+(E<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}x=a+1179664|0;z=o+1|0;G=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((_e|0)>1){ve=(E|0)>1;We=(k[a+4>>2]|0)+z|0;ei=1;ti=e+((i<<2)+4)|0;di=j+(z<<1)|0;Fi=0;i:while(1){if(ve){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui>>0]|0|0)>(f|0)){c[Ke>>0]=-1;Te=b[_i+(G<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}B=b[_i+-2>>1]|0;if(B<<16>>16>0){b[_i>>1]=B;H=(B<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;Y=a+1310736+(H+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{K=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=K;k[a+1179664+(Ti<<2)>>2]=K<<16>>16;X=Ti*7|0;k[a+1310736+(X<<2)>>2]=1;k[a+1310736+(X+1<<2)>>2]=qe;k[a+1310736+(X+2<<2)>>2]=ei;k[a+1310736+(X+3<<2)>>2]=qe;k[a+1310736+(X+4<<2)>>2]=qe;k[a+1310736+(X+5<<2)>>2]=ei;k[a+1310736+(X+6<<2)>>2]=ei;Oi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=x;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=x;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[_i>>1]=_;if((Ti|0)>0){ni=0;pi=x;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=_;break}else pi=pi+4|0}}else S=_}else{b[_i>>1]=w;if((w|0)<(_|0)&(Ti|0)>0){si=0;Si=x;while(1){if((k[Si>>2]|0)==(_|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}else{b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}}while(0);qe=qe+1|0;q=ui+4|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(E|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(_e|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=x;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;we=k[a+1310736+(le+4<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function wf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;K=k[a>>2]|0;ve=u+-1|0;if((i|0)>1){Xe=0;ci=K;ki=K+((ce(ve,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}E=o+-1|0;if((r|0)>1){Ge=0;bi=K;hi=K+(E<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}B=a+1179664|0;z=o+1|0;X=0-o|0;s=1-o|0;t=~o;n=i+4|0;e:do{if((ve|0)>1){ke=(E|0)>1;We=(k[a+4>>2]|0)+z|0;ei=1;ti=e+((i<<1)+2)|0;di=K+(z<<1)|0;Fi=0;i:while(1){if(ke){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui>>0]|0|0)>(f|0)){c[Ke>>0]=-1;Te=b[_i+(X<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}x=b[_i+-2>>1]|0;if(x<<16>>16>0){b[_i>>1]=x;H=(x<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;Y=a+1310736+(H+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{j=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=j;k[a+1179664+(Ti<<2)>>2]=j<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=j;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=B;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=B;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[_i>>1]=_;if((Ti|0)>0){ni=0;pi=B;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=_;break}else pi=pi+4|0}}else S=_}else{b[_i>>1]=w;if((w|0)<(_|0)&(Ti|0)>0){si=0;Si=B;while(1){if((k[Si>>2]|0)==(_|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}else{b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(E|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(ve|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=B;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;de=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(de|0))k[be>>2]=de;we=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(le+4<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function _f(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0,Oi=0,Mi=0,Ri=0;Ri=m;m=m+16|0;if((m|0)>=(p|0))he();vi=Ri;o=(i|0)/2|0;u=(r|0)/2|0;K=k[a>>2]|0;ve=u+-1|0;if((i|0)>1){Xe=0;ci=K;ki=K+((ce(ve,o)|0)<<1)|0;while(1){b[ki>>1]=0;b[ci>>1]=0;Xe=Xe+1|0;if((Xe|0)>=(o|0))break;else{ci=ci+2|0;ki=ki+2|0}}}E=o+-1|0;if((r|0)>1){Ge=0;bi=K;hi=K+(E<<1)|0;while(1){b[hi>>1]=0;b[bi>>1]=0;Ge=Ge+1|0;if((Ge|0)>=(u|0))break;else{bi=bi+(o<<1)|0;hi=hi+(o<<1)|0}}}B=a+1179664|0;z=o+1|0;X=0-o|0;s=1-o|0;t=~o;n=i+4|0;e:do{if((ve|0)>1){ke=(E|0)>1;We=(k[a+4>>2]|0)+z|0;ei=1;ti=e+((i<<1)+2)|0;di=K+(z<<1)|0;Fi=0;i:while(1){if(ke){Ke=We;qe=1;ui=ti;_i=di;Ti=Fi;while(1){do{if((h[ui>>0]|0|0)>(f|0)){b[_i>>1]=0;c[Ke>>0]=0;Oi=Ti}else{c[Ke>>0]=-1;Te=b[_i+(X<<1)>>1]|0;if(Te<<16>>16>0){b[_i>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+ei;k[a+1310736+(Oe+-1<<2)>>2]=ei;Oi=Ti;break}Pe=b[_i+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[_i+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[_i>>1]=Ce;P=Ie*7|0;D=a+1310736+(P+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(P+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+qe;I=a+1310736+(P+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+ei;L=a+1310736+(P+-3<<2)|0;if((k[L>>2]|0)<(qe|0))k[L>>2]=qe;k[a+1310736+(P+-1<<2)>>2]=ei;Oi=Ti;break}x=b[_i+-2>>1]|0;if(x<<16>>16>0){b[_i>>1]=x;H=(x<<16>>16)*7|0;U=a+1310736+(H+-7<<2)|0;k[U>>2]=(k[U>>2]|0)+1;Y=a+1310736+(H+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+qe;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+ei;W=a+1310736+(H+-3<<2)|0;if((k[W>>2]|0)>=(qe|0)){Oi=Ti;break}k[W>>2]=qe;Oi=Ti;break}else{j=Ti+1|0;if((Ti|0)>32767)break i;b[_i>>1]=j;k[a+1179664+(Ti<<2)>>2]=j<<16>>16;G=Ti*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=qe;k[a+1310736+(G+2<<2)>>2]=ei;k[a+1310736+(G+3<<2)>>2]=qe;k[a+1310736+(G+4<<2)>>2]=qe;k[a+1310736+(G+5<<2)>>2]=ei;k[a+1310736+(G+6<<2)>>2]=ei;Oi=j;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[_i>>1]=Be;if((Ti|0)>0){ai=0;Ei=B;while(1){if((k[Ei>>2]|0)==(xe|0))k[Ei>>2]=Be;ai=ai+1|0;if((ai|0)>=(Ti|0)){He=Be;break}else Ei=Ei+4|0}}else He=Be}else{b[_i>>1]=xe;if((xe|0)<(Be|0)&(Ti|0)>0){li=0;mi=B;while(1){if((k[mi>>2]|0)==(Be|0))k[mi>>2]=xe;li=li+1|0;if((li|0)>=(Ti|0)){He=xe;break}else mi=mi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+qe;Ve=a+1310736+(Ue+-5<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+ei;k[a+1310736+(Ue+-1<<2)>>2]=ei;Oi=Ti;break}d=b[_i+-2>>1]|0;if(d<<16>>16<=0){b[_i>>1]=Pe;T=De*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(T+-5<<2)|0;k[R>>2]=(k[R>>2]|0)+ei;N=a+1310736+(T+-4<<2)|0;if((k[N>>2]|0)>(qe|0))k[N>>2]=qe;k[a+1310736+(T+-1<<2)>>2]=ei;Oi=Ti;break}w=k[a+1179664+(De+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[_i>>1]=_;if((Ti|0)>0){ni=0;pi=B;while(1){if((k[pi>>2]|0)==(w|0))k[pi>>2]=_;ni=ni+1|0;if((ni|0)>=(Ti|0)){S=_;break}else pi=pi+4|0}}else S=_}else{b[_i>>1]=w;if((w|0)<(_|0)&(Ti|0)>0){si=0;Si=B;while(1){if((k[Si>>2]|0)==(_|0))k[Si>>2]=w;si=si+1|0;if((si|0)>=(Ti|0)){S=w;break}else Si=Si+4|0}}else S=w}g=(S<<16>>16)*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+ei;Oi=Ti}}while(0);qe=qe+1|0;q=ui+2|0;J=_i+2|0;Z=Ke+1|0;if((qe|0)>=(E|0)){je=Z;oi=q;wi=J;Ai=Oi;break}else{Ke=Z;ui=q;_i=J;Ti=Oi}}}else{je=We;oi=ti;wi=di;Ai=Fi}ei=ei+1|0;if((ei|0)>=(ve|0)){yi=Ai;Mi=52;break e}else{We=je+2|0;ti=oi+n|0;di=wi+4|0;Fi=Ai}}Yl(3,3904,vi);l=-1}else{yi=0;Mi=52}}while(0);if((Mi|0)==52){Q=a+12|0;if((yi|0)<1)ii=1;else{Je=1;ri=1;gi=B;while(1){$=k[gi>>2]|0;if(($|0)==(Je|0)){ee=ri;fi=ri+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;fi=ri}k[gi>>2]=ee;if((Je|0)<(yi|0)){Je=Je+1|0;ri=fi;gi=gi+4|0}else{ii=fi;break}}}ie=a+8|0;re=ii+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((ii|0)>1){Ze=0;do{fe=Ze<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ze=Ze+1|0}while((Ze|0)<(k[ie>>2]|0))}if((yi|0)>0){Qe=0;do{ae=(k[a+1179664+(Qe<<2)>>2]|0)+-1|0;le=Qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);se=ae<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);ue=ae<<2;be=a+131084+(ue<<2)|0;de=k[a+1310736+(le+3<<2)>>2]|0;if((k[be>>2]|0)>(de|0))k[be>>2]=de;we=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(le+4<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(le+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(le+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Qe=Qe+1|0}while((Qe|0)<(yi|0))}if((k[ie>>2]|0)>0){$e=0;do{ge=a+12+($e<<2)|0;ye=$e<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);$e=$e+1|0}while(($e|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ri;return l|0}function vf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ee=(Be|0)>1;Ye=(k[a+4>>2]|0)+C|0;Ze=1;li=e+(C<<1)|0;bi=t+(C<<1)|0;Si=0;i:while(1){if(ee){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si+1>>0]|0|0)>(f|0)){c[Ve>>0]=-1;pe=b[hi+(x<<1)>>1]|0;if(pe<<16>>16>0){b[hi>>1]=pe;ge=(pe<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Ke|0))k[I>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;B=(L<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(B+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(B+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(B+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}else{b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}}while(0);Ke=Ke+1|0;j=si+2|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+4|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ie=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{ve=a+12+(Je<<2)|0;Ee=Je<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);Se=a+655376+((Ee|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[ve>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Ef(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ee=(Be|0)>1;Ye=(k[a+4>>2]|0)+C|0;Ze=1;li=e+(C<<1)|0;bi=t+(C<<1)|0;Si=0;i:while(1){if(ee){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si+1>>0]|0|0)>(f|0)){b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}else{c[Ve>>0]=-1;pe=b[hi+(x<<1)>>1]|0;if(pe<<16>>16>0){b[hi>>1]=pe;ge=(pe<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Ke|0))k[I>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;B=(L<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(B+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(B+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(B+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}}while(0);Ke=Ke+1|0;j=si+2|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+4|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ie=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{ve=a+12+(Je<<2)|0;Ee=Je<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);Se=a+655376+((Ee|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[ve>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function mf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ie=(Be|0)>1;Ye=(k[a+4>>2]|0)+C|0;Ze=1;li=e+(C<<1)|0;bi=t+(C<<1)|0;Si=0;i:while(1){if(ie){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si>>0]|0|0)>(f|0)){c[Ve>>0]=-1;ve=b[hi+(B<<1)>>1]|0;if(ve<<16>>16>0){b[hi>>1]=ve;ge=(ve<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Ke|0))k[I>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}else{b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}}while(0);Ke=Ke+1|0;j=si+2|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+4|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ee=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ee<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{Ee=a+12+(Je<<2)|0;me=Je<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function pf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ie=(Be|0)>1;Ye=(k[a+4>>2]|0)+C|0;Ze=1;li=e+(C<<1)|0;bi=t+(C<<1)|0;Si=0;i:while(1){if(ie){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si>>0]|0|0)>(f|0)){b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}else{c[Ve>>0]=-1;ve=b[hi+(B<<1)>>1]|0;if(ve<<16>>16>0){b[hi>>1]=ve;ge=(ve<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;I=a+1310736+(M+-3<<2)|0;if((k[I>>2]|0)<(Ke|0))k[I>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}}while(0);Ke=Ke+1|0;j=si+2|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+4|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ee=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ee<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{Ee=a+12+(Je<<2)|0;me=Je<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Sf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;I=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ee=(Be|0)>1;Ye=(k[a+4>>2]|0)+I|0;Ze=1;li=e+I|0;bi=t+(I<<1)|0;Si=0;i:while(1){if(ee){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si>>0]|0|0)>(f|0)){c[Ve>>0]=-1;de=b[hi+(B<<1)>>1]|0;if(de<<16>>16>0){b[hi>>1]=de;ge=(de<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;C=a+1310736+(M+-3<<2)|0;if((k[C>>2]|0)<(Ke|0))k[C>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}else{b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}}while(0);Ke=Ke+1|0;j=si+1|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+2|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ie=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(re+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{Ee=a+12+(Je<<2)|0;me=Je<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function gf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){We=0;ti=t;ui=t+((ce(o,i)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(i|0))break;else{ti=ti+2|0;ui=ui+2|0}}}Be=i+-1|0;if((r|0)>0){je=0;oi=t;ci=t+(Be<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(r|0))break;else{oi=oi+(i<<1)|0;ci=ci+(i<<1)|0}}}N=a+1179664|0;I=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){ee=(Be|0)>1;Ye=(k[a+4>>2]|0)+I|0;Ze=1;li=e+I|0;bi=t+(I<<1)|0;Si=0;i:while(1){if(ee){Ve=Ye;Ke=1;si=li;hi=bi;yi=Si;while(1){do{if((h[si>>0]|0|0)>(f|0)){b[hi>>1]=0;c[Ve>>0]=0;Fi=yi}else{c[Ve>>0]=-1;de=b[hi+(B<<1)>>1]|0;if(de<<16>>16>0){b[hi>>1]=de;ge=(de<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+Ke;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ze;k[a+1310736+(ge+-1<<2)>>2]=Ze;Fi=yi;break}Te=b[hi+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[hi+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[hi>>1]=Me;M=Re*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;P=a+1310736+(M+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(M+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ze;C=a+1310736+(M+-3<<2)|0;if((k[C>>2]|0)<(Ke|0))k[C>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}L=b[hi+-2>>1]|0;if(L<<16>>16>0){b[hi>>1]=L;x=(L<<16>>16)*7|0;H=a+1310736+(x+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;U=a+1310736+(x+-6<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(x+-5<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ze;z=a+1310736+(x+-3<<2)|0;if((k[z>>2]|0)>=(Ke|0)){Fi=yi;break}k[z>>2]=Ke;Fi=yi;break}else{V=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=V;k[a+1179664+(yi<<2)>>2]=V<<16>>16;W=yi*7|0;k[a+1310736+(W<<2)>>2]=1;k[a+1310736+(W+1<<2)>>2]=Ke;k[a+1310736+(W+2<<2)>>2]=Ze;k[a+1310736+(W+3<<2)>>2]=Ke;k[a+1310736+(W+4<<2)>>2]=Ke;k[a+1310736+(W+5<<2)>>2]=Ze;k[a+1310736+(W+6<<2)>>2]=Ze;Fi=V;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[hi>>1]=De;if((yi|0)>0){ii=0;wi=N;while(1){if((k[wi>>2]|0)==(Pe|0))k[wi>>2]=De;ii=ii+1|0;if((ii|0)>=(yi|0)){Ce=De;break}else wi=wi+4|0}}else Ce=De}else{b[hi>>1]=Pe;if((Pe|0)<(De|0)&(yi|0)>0){ri=0;_i=N;while(1){if((k[_i>>2]|0)==(De|0))k[_i>>2]=Pe;ri=ri+1|0;if((ri|0)>=(yi|0)){Ce=Pe;break}else _i=_i+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;xe=a+1310736+(Ie+-6<<2)|0;k[xe>>2]=(k[xe>>2]|0)+Ke;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ze;k[a+1310736+(Ie+-1<<2)>>2]=Ze;Fi=yi;break}Ue=b[hi+-2>>1]|0;if(Ue<<16>>16<=0){b[hi>>1]=Te;y=Oe*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Ze;O=a+1310736+(y+-4<<2)|0;if((k[O>>2]|0)>(Ke|0))k[O>>2]=Ke;k[a+1310736+(y+-1<<2)>>2]=Ze;Fi=yi;break}u=k[a+1179664+(Oe+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((u|0)>(d|0)){b[hi>>1]=d;if((yi|0)>0){fi=0;vi=N;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=d;fi=fi+1|0;if((fi|0)>=(yi|0)){w=d;break}else vi=vi+4|0}}else w=d}else{b[hi>>1]=u;if((u|0)<(d|0)&(yi|0)>0){ai=0;Ei=N;while(1){if((k[Ei>>2]|0)==(d|0))k[Ei>>2]=u;ai=ai+1|0;if((ai|0)>=(yi|0)){w=u;break}else Ei=Ei+4|0}}else w=u}_=(w<<16>>16)*7|0;E=a+1310736+(_+-7<<2)|0;k[E>>2]=(k[E>>2]|0)+1;S=a+1310736+(_+-6<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;g=a+1310736+(_+-5<<2)|0;k[g>>2]=(k[g>>2]|0)+Ze;Fi=yi}}while(0);Ke=Ke+1|0;j=si+1|0;K=hi+2|0;X=Ve+1|0;if((Ke|0)>=(Be|0)){ze=X;ni=j;ki=K;gi=Fi;break}else{Ve=X;si=j;hi=K;yi=Fi}}}else{ze=Ye;ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(o|0)){pi=gi;Ai=52;break e}else{Ye=ze+2|0;li=ni+2|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){G=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=N;while(1){q=k[mi>>2]|0;if((q|0)==(Xe|0)){J=$e;ei=$e+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;ei=$e}k[mi>>2]=J;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}Z=a+8|0;Q=Qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((Qe|0)>1){Ge=0;do{$=Ge<<2;k[a+131084+($<<2)>>2]=i;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=r;k[a+131084+(($|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[Z>>2]|0))}if((pi|0)>0){qe=0;do{ie=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;re=qe*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(re+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[Z>>2]|0)>0){Je=0;do{Ee=a+12+(Je<<2)|0;me=Je<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Je=Je+1|0}while((Je|0)<(k[Z>>2]|0));l=0}else l=0}}m=Ti;return l|0}function yf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0;Ai=m;m=m+16|0;if((m|0)>=(p|0))he();hi=Ai;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(xe<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){G=(xe|0)>1;Xe=1;ii=e+D|0;ti=t+(D<<1)|0;ci=f+D|0;pi=0;i:while(1){if(G){ze=1;fi=ii;ui=ti;ki=ci;gi=pi;while(1){do{if((h[fi>>0]|0)>(h[ki>>0]|0)){ne=b[ui+(x<<1)>>1]|0;if(ne<<16>>16>0){b[ui>>1]=ne;ve=(ne<<16>>16)*7|0;Se=a+1310736+(ve+-7<<2)|0;k[Se>>2]=(k[Se>>2]|0)+1;ge=a+1310736+(ve+-6<<2)|0;k[ge>>2]=(k[ge>>2]|0)+ze;ye=a+1310736+(ve+-5<<2)|0;k[ye>>2]=(k[ye>>2]|0)+Xe;k[a+1310736+(ve+-1<<2)>>2]=Xe;yi=gi;break}Fe=b[ui+(n<<1)>>1]|0;Ae=Fe<<16>>16;Te=b[ui+(s<<1)>>1]|0;Oe=Te<<16>>16;Me=Te<<16>>16>0;if(Fe<<16>>16<=0){if(Me){b[ui>>1]=Te;T=Oe*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+ze;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Xe;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(ze|0))k[P>>2]=ze;k[a+1310736+(T+-1<<2)>>2]=Xe;yi=gi;break}C=b[ui+-2>>1]|0;if(C<<16>>16>0){b[ui>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+ze;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Xe;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(ze|0)){yi=gi;break}k[U>>2]=ze;yi=gi;break}else{Y=gi+1|0;if((gi|0)>32767)break i;b[ui>>1]=Y;k[a+1179664+(gi<<2)>>2]=Y<<16>>16;z=gi*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=ze;k[a+1310736+(z+2<<2)>>2]=Xe;k[a+1310736+(z+3<<2)>>2]=ze;k[a+1310736+(z+4<<2)>>2]=ze;k[a+1310736+(z+5<<2)>>2]=Xe;k[a+1310736+(z+6<<2)>>2]=Xe;yi=Y;break}}if(Me){Re=k[a+1179664+(Ae+-1<<2)>>2]|0;Ne=k[a+1179664+(Oe+-1<<2)>>2]|0;if((Re|0)>(Ne|0)){b[ui>>1]=Ne;if((gi|0)>0){Ze=0;di=R;while(1){if((k[di>>2]|0)==(Re|0))k[di>>2]=Ne;Ze=Ze+1|0;if((Ze|0)>=(gi|0)){Pe=Ne;break}else di=di+4|0}}else Pe=Ne}else{b[ui>>1]=Re;if((Re|0)<(Ne|0)&(gi|0)>0){Qe=0;wi=R;while(1){if((k[wi>>2]|0)==(Ne|0))k[wi>>2]=Re;Qe=Qe+1|0;if((Qe|0)>=(gi|0)){Pe=Re;break}else wi=wi+4|0}}else Pe=Re}De=(Pe<<16>>16)*7|0;Ce=a+1310736+(De+-7<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+1;Ie=a+1310736+(De+-6<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+ze;Le=a+1310736+(De+-5<<2)|0;k[Le>>2]=(k[Le>>2]|0)+Xe;k[a+1310736+(De+-1<<2)>>2]=Xe;yi=gi;break}Be=b[ui+-2>>1]|0;if(Be<<16>>16<=0){b[ui>>1]=Fe;S=Ae*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+ze;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(ze|0))k[A>>2]=ze;k[a+1310736+(S+-1<<2)>>2]=Xe;yi=gi;break}He=k[a+1179664+(Ae+-1<<2)>>2]|0;u=k[a+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((He|0)>(u|0)){b[ui>>1]=u;if((gi|0)>0){$e=0;_i=R;while(1){if((k[_i>>2]|0)==(He|0))k[_i>>2]=u;$e=$e+1|0;if(($e|0)>=(gi|0)){c=u;break}else _i=_i+4|0}}else c=u}else{b[ui>>1]=He;if((He|0)<(u|0)&(gi|0)>0){ei=0;vi=R;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=He;ei=ei+1|0;if((ei|0)>=(gi|0)){c=He;break}else vi=vi+4|0}}else c=He}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+ze;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Xe;yi=gi}else{b[ui>>1]=0;yi=gi}}while(0);ze=ze+1|0;V=fi+1|0;W=ki+1|0;j=ui+2|0;if((ze|0)>=(xe|0)){ri=V;oi=j;bi=W;Si=yi;break}else{fi=V;ui=j;ki=W;gi=yi}}}else{ri=ii;oi=ti;bi=ci;Si=pi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){mi=Si;Fi=52;break e}else{ii=ri+2|0;ti=oi+4|0;ci=bi+2|0;pi=Si}}Yl(3,3904,hi);l=-1}else{mi=0;Fi=52}}while(0);if((Fi|0)==52){K=a+12|0;if((mi|0)<1)Ge=1;else{Ve=1;qe=1;Ei=R;while(1){X=k[Ei>>2]|0;if((X|0)==(Ve|0)){q=qe;Je=qe+1|0}else{q=k[a+1179664+(X+-1<<2)>>2]|0;Je=qe}k[Ei>>2]=q;if((Ve|0)<(mi|0)){Ve=Ve+1|0;qe=Je;Ei=Ei+4|0}else{Ge=Je;break}}}J=a+8|0;Z=Ge+-1|0;k[J>>2]=Z;if(!Z)l=0;else{ut(K|0,0,Z<<2|0)|0;ut(a+655376|0,0,Z<<4|0)|0;if((Ge|0)>1){We=0;do{Q=We<<2;k[a+131084+(Q<<2)>>2]=i;k[a+131084+((Q|1)<<2)>>2]=0;k[a+131084+((Q|2)<<2)>>2]=r;k[a+131084+((Q|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[J>>2]|0))}if((mi|0)>0){je=0;do{$=(k[a+1179664+(je<<2)>>2]|0)+-1|0;ee=je*7|0;ie=a+12+($<<2)|0;k[ie>>2]=(k[ie>>2]|0)+(k[a+1310736+(ee<<2)>>2]|0);re=$<<1;fe=a+655376+(re<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+(ee+1<<2)>>2]|0);ae=a+655376+((re|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+(ee+2<<2)>>2]|0);le=$<<2;se=a+131084+(le<<2)|0;te=k[a+1310736+(ee+3<<2)>>2]|0;if((k[se>>2]|0)>(te|0))k[se>>2]=te;oe=a+131084+((le|1)<<2)|0;ue=k[a+1310736+(ee+4<<2)>>2]|0;if((k[oe>>2]|0)<(ue|0))k[oe>>2]=ue;be=a+131084+((le|2)<<2)|0;ke=k[a+1310736+(ee+5<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((le|3)<<2)|0;we=k[a+1310736+(ee+6<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;je=je+1|0}while((je|0)<(mi|0))}if((k[J>>2]|0)>0){Ke=0;do{_e=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[J>>2]|0));l=0}else l=0}}m=Ai;return l|0}function Ff(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0;Ai=m;m=m+16|0;if((m|0)>=(p|0))he();hi=Ai;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(xe<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){G=(xe|0)>1;Xe=1;ii=e+D|0;ti=t+(D<<1)|0;ci=f+D|0;pi=0;i:while(1){if(G){ze=1;fi=ii;ui=ti;ki=ci;gi=pi;while(1){do{if((h[fi>>0]|0)>(h[ki>>0]|0)){b[ui>>1]=0;yi=gi}else{ne=b[ui+(x<<1)>>1]|0;if(ne<<16>>16>0){b[ui>>1]=ne;ve=(ne<<16>>16)*7|0;Se=a+1310736+(ve+-7<<2)|0;k[Se>>2]=(k[Se>>2]|0)+1;ge=a+1310736+(ve+-6<<2)|0;k[ge>>2]=(k[ge>>2]|0)+ze;ye=a+1310736+(ve+-5<<2)|0;k[ye>>2]=(k[ye>>2]|0)+Xe;k[a+1310736+(ve+-1<<2)>>2]=Xe;yi=gi;break}Fe=b[ui+(n<<1)>>1]|0;Ae=Fe<<16>>16;Te=b[ui+(s<<1)>>1]|0;Oe=Te<<16>>16;Me=Te<<16>>16>0;if(Fe<<16>>16<=0){if(Me){b[ui>>1]=Te;T=Oe*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+ze;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Xe;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(ze|0))k[P>>2]=ze;k[a+1310736+(T+-1<<2)>>2]=Xe;yi=gi;break}C=b[ui+-2>>1]|0;if(C<<16>>16>0){b[ui>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+ze;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Xe;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(ze|0)){yi=gi;break}k[U>>2]=ze;yi=gi;break}else{Y=gi+1|0;if((gi|0)>32767)break i;b[ui>>1]=Y;k[a+1179664+(gi<<2)>>2]=Y<<16>>16;z=gi*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=ze;k[a+1310736+(z+2<<2)>>2]=Xe;k[a+1310736+(z+3<<2)>>2]=ze;k[a+1310736+(z+4<<2)>>2]=ze;k[a+1310736+(z+5<<2)>>2]=Xe;k[a+1310736+(z+6<<2)>>2]=Xe;yi=Y;break}}if(Me){Re=k[a+1179664+(Ae+-1<<2)>>2]|0;Ne=k[a+1179664+(Oe+-1<<2)>>2]|0;if((Re|0)>(Ne|0)){b[ui>>1]=Ne;if((gi|0)>0){Ze=0;di=R;while(1){if((k[di>>2]|0)==(Re|0))k[di>>2]=Ne;Ze=Ze+1|0;if((Ze|0)>=(gi|0)){Pe=Ne;break}else di=di+4|0}}else Pe=Ne}else{b[ui>>1]=Re;if((Re|0)<(Ne|0)&(gi|0)>0){Qe=0;wi=R;while(1){if((k[wi>>2]|0)==(Ne|0))k[wi>>2]=Re;Qe=Qe+1|0;if((Qe|0)>=(gi|0)){Pe=Re;break}else wi=wi+4|0}}else Pe=Re}De=(Pe<<16>>16)*7|0;Ce=a+1310736+(De+-7<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+1;Ie=a+1310736+(De+-6<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+ze;Le=a+1310736+(De+-5<<2)|0;k[Le>>2]=(k[Le>>2]|0)+Xe;k[a+1310736+(De+-1<<2)>>2]=Xe;yi=gi;break}Be=b[ui+-2>>1]|0;if(Be<<16>>16<=0){b[ui>>1]=Fe;S=Ae*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+ze;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Xe;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(ze|0))k[A>>2]=ze;k[a+1310736+(S+-1<<2)>>2]=Xe;yi=gi;break}He=k[a+1179664+(Ae+-1<<2)>>2]|0;u=k[a+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((He|0)>(u|0)){b[ui>>1]=u;if((gi|0)>0){$e=0;_i=R;while(1){if((k[_i>>2]|0)==(He|0))k[_i>>2]=u;$e=$e+1|0;if(($e|0)>=(gi|0)){c=u;break}else _i=_i+4|0}}else c=u}else{b[ui>>1]=He;if((He|0)<(u|0)&(gi|0)>0){ei=0;vi=R;while(1){if((k[vi>>2]|0)==(u|0))k[vi>>2]=He;ei=ei+1|0;if((ei|0)>=(gi|0)){c=He;break}else vi=vi+4|0}}else c=He}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+ze;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Xe;yi=gi}}while(0);ze=ze+1|0;V=fi+1|0;W=ki+1|0;j=ui+2|0;if((ze|0)>=(xe|0)){ri=V;oi=j;bi=W;Si=yi;break}else{fi=V;ui=j;ki=W;gi=yi}}}else{ri=ii;oi=ti;bi=ci;Si=pi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){mi=Si;Fi=52;break e}else{ii=ri+2|0;ti=oi+4|0;ci=bi+2|0;pi=Si}}Yl(3,3904,hi);l=-1}else{mi=0;Fi=52}}while(0);if((Fi|0)==52){K=a+12|0;if((mi|0)<1)Ge=1;else{Ve=1;qe=1;Ei=R;while(1){X=k[Ei>>2]|0;if((X|0)==(Ve|0)){q=qe;Je=qe+1|0}else{q=k[a+1179664+(X+-1<<2)>>2]|0;Je=qe}k[Ei>>2]=q;if((Ve|0)<(mi|0)){Ve=Ve+1|0;qe=Je;Ei=Ei+4|0}else{Ge=Je;break}}}J=a+8|0;Z=Ge+-1|0;k[J>>2]=Z;if(!Z)l=0;else{ut(K|0,0,Z<<2|0)|0;ut(a+655376|0,0,Z<<4|0)|0;if((Ge|0)>1){We=0;do{Q=We<<2;k[a+131084+(Q<<2)>>2]=i;k[a+131084+((Q|1)<<2)>>2]=0;k[a+131084+((Q|2)<<2)>>2]=r;k[a+131084+((Q|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[J>>2]|0))}if((mi|0)>0){je=0;do{$=(k[a+1179664+(je<<2)>>2]|0)+-1|0;ee=je*7|0;ie=a+12+($<<2)|0;k[ie>>2]=(k[ie>>2]|0)+(k[a+1310736+(ee<<2)>>2]|0);re=$<<1;fe=a+655376+(re<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+(ee+1<<2)>>2]|0);ae=a+655376+((re|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+(ee+2<<2)>>2]|0);le=$<<2;se=a+131084+(le<<2)|0;te=k[a+1310736+(ee+3<<2)>>2]|0;if((k[se>>2]|0)>(te|0))k[se>>2]=te;oe=a+131084+((le|1)<<2)|0;ue=k[a+1310736+(ee+4<<2)>>2]|0;if((k[oe>>2]|0)<(ue|0))k[oe>>2]=ue;be=a+131084+((le|2)<<2)|0;ke=k[a+1310736+(ee+5<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((le|3)<<2)|0;we=k[a+1310736+(ee+6<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;je=je+1|0}while((je|0)<(mi|0))}if((k[J>>2]|0)>0){Ke=0;do{_e=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[_e>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[J>>2]|0));l=0}else l=0}}m=Ai;return l|0}function Af(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){We=0;ti=V;ui=V+((ce(de,o)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(o|0))break;else{ti=ti+2|0;ui=ui+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){je=0;oi=V;ci=V+(S<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{oi=oi+(o<<1)|0;ci=ci+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){se=(S|0)>1;Ze=1;li=e+((i<<2)+4)|0;bi=V+(o+1<<1)|0;Si=0;i:while(1){if(se){Ke=1;si=li;hi=bi;yi=Si;while(1){we=h[si>>0]|0;Oe=h[si+1>>0]|0;do{if(((we&248)+12+(we<<5&224)+(Oe>>>3&24)+(Oe<<2&248)|0)>(w|0)){Me=b[hi+(X<<1)>>1]|0;if(Me<<16>>16>0){b[hi>>1]=Me;Re=(Me<<16>>16)*7|0;Ne=a+1310736+(Re+-7<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+1;Pe=a+1310736+(Re+-6<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+Ke;De=a+1310736+(Re+-5<<2)|0;k[De>>2]=(k[De>>2]|0)+Ze;k[a+1310736+(Re+-1<<2)>>2]=Ze;Fi=yi;break}Ce=b[hi+(s<<1)>>1]|0;Ie=Ce<<16>>16;Le=b[hi+(t<<1)>>1]|0;xe=Le<<16>>16;Be=Le<<16>>16>0;if(Ce<<16>>16<=0){if(Be){b[hi>>1]=Le;C=xe*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+Ke;x=a+1310736+(C+-5<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(C+-3<<2)|0;if((k[B>>2]|0)<(Ke|0))k[B>>2]=Ke;k[a+1310736+(C+-1<<2)>>2]=Ze;Fi=yi;break}U=b[hi+-2>>1]|0;if(U<<16>>16>0){b[hi>>1]=U;Y=(U<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;W=a+1310736+(Y+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Ke;j=a+1310736+(Y+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+Ze;K=a+1310736+(Y+-3<<2)|0;if((k[K>>2]|0)>=(Ke|0)){Fi=yi;break}k[K>>2]=Ke;Fi=yi;break}else{G=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=G;k[a+1179664+(yi<<2)>>2]=G<<16>>16;q=yi*7|0;k[a+1310736+(q<<2)>>2]=1;k[a+1310736+(q+1<<2)>>2]=Ke;k[a+1310736+(q+2<<2)>>2]=Ze;k[a+1310736+(q+3<<2)>>2]=Ke;k[a+1310736+(q+4<<2)>>2]=Ke;k[a+1310736+(q+5<<2)>>2]=Ze;k[a+1310736+(q+6<<2)>>2]=Ze;Fi=G;break}}if(Be){He=k[a+1179664+(Ie+-1<<2)>>2]|0;Ue=k[a+1179664+(xe+-1<<2)>>2]|0;if((He|0)>(Ue|0)){b[hi>>1]=Ue;if((yi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(He|0))k[wi>>2]=Ue;ii=ii+1|0;if((ii|0)>=(yi|0)){Ye=Ue;break}else wi=wi+4|0}}else Ye=Ue}else{b[hi>>1]=He;if((He|0)<(Ue|0)&(yi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(Ue|0))k[_i>>2]=He;ri=ri+1|0;if((ri|0)>=(yi|0)){Ye=He;break}else _i=_i+4|0}}else Ye=He}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;c=a+1310736+(ze+-6<<2)|0;k[c>>2]=(k[c>>2]|0)+Ke;d=a+1310736+(ze+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;k[a+1310736+(ze+-1<<2)>>2]=Ze;Fi=yi;break}_=b[hi+-2>>1]|0;if(_<<16>>16<=0){b[hi>>1]=Ce;M=Ie*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;N=a+1310736+(M+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(M+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(M+-4<<2)|0;if((k[D>>2]|0)>(Ke|0))k[D>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}E=k[a+1179664+(Ie+-1<<2)>>2]|0;g=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(g|0)){b[hi>>1]=g;if((yi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=g;fi=fi+1|0;if((fi|0)>=(yi|0)){y=g;break}else vi=vi+4|0}}else y=g}else{b[hi>>1]=E;if((E|0)<(g|0)&(yi|0)>0){ai=0;Ei=H;while(1){if((k[Ei>>2]|0)==(g|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(yi|0)){y=E;break}else Ei=Ei+4|0}}else y=E}F=(y<<16>>16)*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ke;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;Fi=yi}else{b[hi>>1]=0;Fi=yi}}while(0);Ke=Ke+1|0;J=si+4|0;Z=hi+2|0;if((Ke|0)>=(S|0)){ni=J;ki=Z;gi=Fi;break}else{si=J;hi=Z;yi=Fi}}}else{ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(de|0)){pi=gi;Ai=52;break e}else{li=ni+n|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){Q=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=H;while(1){$=k[mi>>2]|0;if(($|0)==(Xe|0)){ee=$e;ei=$e+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;ei=$e}k[mi>>2]=ee;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}ie=a+8|0;re=Qe+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((Qe|0)>1){Ge=0;do{fe=Ge<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[ie>>2]|0))}if((pi|0)>0){qe=0;do{ae=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;le=qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);te=ae<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((te|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;_e=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(_e|0))k[ke>>2]=_e;ve=a+131084+((be|1)<<2)|0;Ee=k[a+1310736+(le+4<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|2)<<2)|0;pe=k[a+1310736+(le+5<<2)>>2]|0;if((k[me>>2]|0)>(pe|0))k[me>>2]=pe;Se=a+131084+((be|3)<<2)|0;ge=k[a+1310736+(le+6<<2)>>2]|0;if((k[Se>>2]|0)<(ge|0))k[Se>>2]=ge;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[ie>>2]|0)>0){Je=0;do{ye=a+12+(Je<<2)|0;Fe=Je<<1;Ae=a+655376+(Fe<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ye>>2]|0);Te=a+655376+((Fe|1)<<3)|0;v[Te>>3]=+v[Te>>3]/+(k[ye>>2]|0);Je=Je+1|0}while((Je|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Tf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){We=0;ti=V;ui=V+((ce(de,o)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(o|0))break;else{ti=ti+2|0;ui=ui+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){je=0;oi=V;ci=V+(S<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{oi=oi+(o<<1)|0;ci=ci+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){se=(S|0)>1;Ze=1;li=e+((i<<2)+4)|0;bi=V+(o+1<<1)|0;Si=0;i:while(1){if(se){Ke=1;si=li;hi=bi;yi=Si;while(1){we=h[si>>0]|0;Oe=h[si+1>>0]|0;do{if(((we&248)+12+(we<<5&224)+(Oe>>>3&24)+(Oe<<2&248)|0)>(w|0)){b[hi>>1]=0;Fi=yi}else{Me=b[hi+(X<<1)>>1]|0;if(Me<<16>>16>0){b[hi>>1]=Me;Re=(Me<<16>>16)*7|0;Ne=a+1310736+(Re+-7<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+1;Pe=a+1310736+(Re+-6<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+Ke;De=a+1310736+(Re+-5<<2)|0;k[De>>2]=(k[De>>2]|0)+Ze;k[a+1310736+(Re+-1<<2)>>2]=Ze;Fi=yi;break}Ce=b[hi+(s<<1)>>1]|0;Ie=Ce<<16>>16;Le=b[hi+(t<<1)>>1]|0;xe=Le<<16>>16;Be=Le<<16>>16>0;if(Ce<<16>>16<=0){if(Be){b[hi>>1]=Le;C=xe*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+Ke;x=a+1310736+(C+-5<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(C+-3<<2)|0;if((k[B>>2]|0)<(Ke|0))k[B>>2]=Ke;k[a+1310736+(C+-1<<2)>>2]=Ze;Fi=yi;break}U=b[hi+-2>>1]|0;if(U<<16>>16>0){b[hi>>1]=U;Y=(U<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;W=a+1310736+(Y+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Ke;j=a+1310736+(Y+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+Ze;K=a+1310736+(Y+-3<<2)|0;if((k[K>>2]|0)>=(Ke|0)){Fi=yi;break}k[K>>2]=Ke;Fi=yi;break}else{G=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=G;k[a+1179664+(yi<<2)>>2]=G<<16>>16;q=yi*7|0;k[a+1310736+(q<<2)>>2]=1;k[a+1310736+(q+1<<2)>>2]=Ke;k[a+1310736+(q+2<<2)>>2]=Ze;k[a+1310736+(q+3<<2)>>2]=Ke;k[a+1310736+(q+4<<2)>>2]=Ke;k[a+1310736+(q+5<<2)>>2]=Ze;k[a+1310736+(q+6<<2)>>2]=Ze;Fi=G;break}}if(Be){He=k[a+1179664+(Ie+-1<<2)>>2]|0;Ue=k[a+1179664+(xe+-1<<2)>>2]|0;if((He|0)>(Ue|0)){b[hi>>1]=Ue;if((yi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(He|0))k[wi>>2]=Ue;ii=ii+1|0;if((ii|0)>=(yi|0)){Ye=Ue;break}else wi=wi+4|0}}else Ye=Ue}else{b[hi>>1]=He;if((He|0)<(Ue|0)&(yi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(Ue|0))k[_i>>2]=He;ri=ri+1|0;if((ri|0)>=(yi|0)){Ye=He;break}else _i=_i+4|0}}else Ye=He}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;c=a+1310736+(ze+-6<<2)|0;k[c>>2]=(k[c>>2]|0)+Ke;d=a+1310736+(ze+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;k[a+1310736+(ze+-1<<2)>>2]=Ze;Fi=yi;break}_=b[hi+-2>>1]|0;if(_<<16>>16<=0){b[hi>>1]=Ce;M=Ie*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;N=a+1310736+(M+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(M+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(M+-4<<2)|0;if((k[D>>2]|0)>(Ke|0))k[D>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}E=k[a+1179664+(Ie+-1<<2)>>2]|0;g=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(g|0)){b[hi>>1]=g;if((yi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=g;fi=fi+1|0;if((fi|0)>=(yi|0)){y=g;break}else vi=vi+4|0}}else y=g}else{b[hi>>1]=E;if((E|0)<(g|0)&(yi|0)>0){ai=0;Ei=H;while(1){if((k[Ei>>2]|0)==(g|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(yi|0)){y=E;break}else Ei=Ei+4|0}}else y=E}F=(y<<16>>16)*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ke;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;Fi=yi}}while(0);Ke=Ke+1|0;J=si+4|0;Z=hi+2|0;if((Ke|0)>=(S|0)){ni=J;ki=Z;gi=Fi;break}else{si=J;hi=Z;yi=Fi}}}else{ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(de|0)){pi=gi;Ai=52;break e}else{li=ni+n|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){Q=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=H;while(1){$=k[mi>>2]|0;if(($|0)==(Xe|0)){ee=$e;ei=$e+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;ei=$e}k[mi>>2]=ee;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}ie=a+8|0;re=Qe+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((Qe|0)>1){Ge=0;do{fe=Ge<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[ie>>2]|0))}if((pi|0)>0){qe=0;do{ae=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;le=qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);te=ae<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((te|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;_e=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(_e|0))k[ke>>2]=_e;ve=a+131084+((be|1)<<2)|0;Ee=k[a+1310736+(le+4<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|2)<<2)|0;pe=k[a+1310736+(le+5<<2)>>2]|0;if((k[me>>2]|0)>(pe|0))k[me>>2]=pe;Se=a+131084+((be|3)<<2)|0;ge=k[a+1310736+(le+6<<2)>>2]|0;if((k[Se>>2]|0)<(ge|0))k[Se>>2]=ge;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[ie>>2]|0)>0){Je=0;do{ye=a+12+(Je<<2)|0;Fe=Je<<1;Ae=a+655376+(Fe<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ye>>2]|0);Te=a+655376+((Fe|1)<<3)|0;v[Te>>3]=+v[Te>>3]/+(k[ye>>2]|0);Je=Je+1|0}while((Je|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Of(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){We=0;ti=V;ui=V+((ce(de,o)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(o|0))break;else{ti=ti+2|0;ui=ui+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){je=0;oi=V;ci=V+(S<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{oi=oi+(o<<1)|0;ci=ci+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){se=(S|0)>1;Ze=1;li=e+((i<<2)+4)|0;bi=V+(o+1<<1)|0;Si=0;i:while(1){if(se){Ke=1;si=li;hi=bi;yi=Si;while(1){we=h[si>>0]|0;Oe=h[si+1>>0]|0;do{if(((we&248)+10+(we<<5&224)+(Oe>>>3&28)+(Oe<<3&248)|0)>(w|0)){Me=b[hi+(X<<1)>>1]|0;if(Me<<16>>16>0){b[hi>>1]=Me;Re=(Me<<16>>16)*7|0;Ne=a+1310736+(Re+-7<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+1;Pe=a+1310736+(Re+-6<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+Ke;De=a+1310736+(Re+-5<<2)|0;k[De>>2]=(k[De>>2]|0)+Ze;k[a+1310736+(Re+-1<<2)>>2]=Ze;Fi=yi;break}Ce=b[hi+(s<<1)>>1]|0;Ie=Ce<<16>>16;Le=b[hi+(t<<1)>>1]|0;xe=Le<<16>>16;Be=Le<<16>>16>0;if(Ce<<16>>16<=0){if(Be){b[hi>>1]=Le;C=xe*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+Ke;x=a+1310736+(C+-5<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(C+-3<<2)|0;if((k[B>>2]|0)<(Ke|0))k[B>>2]=Ke;k[a+1310736+(C+-1<<2)>>2]=Ze;Fi=yi;break}U=b[hi+-2>>1]|0;if(U<<16>>16>0){b[hi>>1]=U;Y=(U<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;W=a+1310736+(Y+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Ke;j=a+1310736+(Y+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+Ze;K=a+1310736+(Y+-3<<2)|0;if((k[K>>2]|0)>=(Ke|0)){Fi=yi;break}k[K>>2]=Ke;Fi=yi;break}else{G=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=G;k[a+1179664+(yi<<2)>>2]=G<<16>>16;q=yi*7|0;k[a+1310736+(q<<2)>>2]=1;k[a+1310736+(q+1<<2)>>2]=Ke;k[a+1310736+(q+2<<2)>>2]=Ze;k[a+1310736+(q+3<<2)>>2]=Ke;k[a+1310736+(q+4<<2)>>2]=Ke;k[a+1310736+(q+5<<2)>>2]=Ze;k[a+1310736+(q+6<<2)>>2]=Ze;Fi=G;break}}if(Be){He=k[a+1179664+(Ie+-1<<2)>>2]|0;Ue=k[a+1179664+(xe+-1<<2)>>2]|0;if((He|0)>(Ue|0)){b[hi>>1]=Ue;if((yi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(He|0))k[wi>>2]=Ue;ii=ii+1|0;if((ii|0)>=(yi|0)){Ye=Ue;break}else wi=wi+4|0}}else Ye=Ue}else{b[hi>>1]=He;if((He|0)<(Ue|0)&(yi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(Ue|0))k[_i>>2]=He;ri=ri+1|0;if((ri|0)>=(yi|0)){Ye=He;break}else _i=_i+4|0}}else Ye=He}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;c=a+1310736+(ze+-6<<2)|0;k[c>>2]=(k[c>>2]|0)+Ke;d=a+1310736+(ze+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;k[a+1310736+(ze+-1<<2)>>2]=Ze;Fi=yi;break}_=b[hi+-2>>1]|0;if(_<<16>>16<=0){b[hi>>1]=Ce;M=Ie*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;N=a+1310736+(M+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(M+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(M+-4<<2)|0;if((k[D>>2]|0)>(Ke|0))k[D>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}E=k[a+1179664+(Ie+-1<<2)>>2]|0;g=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(g|0)){b[hi>>1]=g;if((yi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=g;fi=fi+1|0;if((fi|0)>=(yi|0)){y=g;break}else vi=vi+4|0}}else y=g}else{b[hi>>1]=E;if((E|0)<(g|0)&(yi|0)>0){ai=0;Ei=H;while(1){if((k[Ei>>2]|0)==(g|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(yi|0)){y=E;break}else Ei=Ei+4|0}}else y=E}F=(y<<16>>16)*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ke;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;Fi=yi}else{b[hi>>1]=0;Fi=yi}}while(0);Ke=Ke+1|0;J=si+4|0;Z=hi+2|0;if((Ke|0)>=(S|0)){ni=J;ki=Z;gi=Fi;break}else{si=J;hi=Z;yi=Fi}}}else{ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(de|0)){pi=gi;Ai=52;break e}else{li=ni+n|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){Q=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=H;while(1){$=k[mi>>2]|0;if(($|0)==(Xe|0)){ee=$e;ei=$e+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;ei=$e}k[mi>>2]=ee;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}ie=a+8|0;re=Qe+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((Qe|0)>1){Ge=0;do{fe=Ge<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[ie>>2]|0))}if((pi|0)>0){qe=0;do{ae=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;le=qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);te=ae<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((te|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;_e=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(_e|0))k[ke>>2]=_e;ve=a+131084+((be|1)<<2)|0;Ee=k[a+1310736+(le+4<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|2)<<2)|0;pe=k[a+1310736+(le+5<<2)>>2]|0;if((k[me>>2]|0)>(pe|0))k[me>>2]=pe;Se=a+131084+((be|3)<<2)|0;ge=k[a+1310736+(le+6<<2)>>2]|0;if((k[Se>>2]|0)<(ge|0))k[Se>>2]=ge;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[ie>>2]|0)>0){Je=0;do{ye=a+12+(Je<<2)|0;Fe=Je<<1;Ae=a+655376+(Fe<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ye>>2]|0);Te=a+655376+((Fe|1)<<3)|0;v[Te>>3]=+v[Te>>3]/+(k[ye>>2]|0);Je=Je+1|0}while((Je|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Mf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0,Ti=0;Ti=m;m=m+16|0;if((m|0)>=(p|0))he();di=Ti;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){We=0;ti=V;ui=V+((ce(de,o)|0)<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(o|0))break;else{ti=ti+2|0;ui=ui+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){je=0;oi=V;ci=V+(S<<1)|0;while(1){b[ci>>1]=0;b[oi>>1]=0;je=je+1|0;if((je|0)>=(u|0))break;else{oi=oi+(o<<1)|0;ci=ci+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){se=(S|0)>1;Ze=1;li=e+((i<<2)+4)|0;bi=V+(o+1<<1)|0;Si=0;i:while(1){if(se){Ke=1;si=li;hi=bi;yi=Si;while(1){we=h[si>>0]|0;Oe=h[si+1>>0]|0;do{if(((we&248)+10+(we<<5&224)+(Oe>>>3&28)+(Oe<<3&248)|0)>(w|0)){b[hi>>1]=0;Fi=yi}else{Me=b[hi+(X<<1)>>1]|0;if(Me<<16>>16>0){b[hi>>1]=Me;Re=(Me<<16>>16)*7|0;Ne=a+1310736+(Re+-7<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+1;Pe=a+1310736+(Re+-6<<2)|0;k[Pe>>2]=(k[Pe>>2]|0)+Ke;De=a+1310736+(Re+-5<<2)|0;k[De>>2]=(k[De>>2]|0)+Ze;k[a+1310736+(Re+-1<<2)>>2]=Ze;Fi=yi;break}Ce=b[hi+(s<<1)>>1]|0;Ie=Ce<<16>>16;Le=b[hi+(t<<1)>>1]|0;xe=Le<<16>>16;Be=Le<<16>>16>0;if(Ce<<16>>16<=0){if(Be){b[hi>>1]=Le;C=xe*7|0;I=a+1310736+(C+-7<<2)|0;k[I>>2]=(k[I>>2]|0)+1;L=a+1310736+(C+-6<<2)|0;k[L>>2]=(k[L>>2]|0)+Ke;x=a+1310736+(C+-5<<2)|0;k[x>>2]=(k[x>>2]|0)+Ze;B=a+1310736+(C+-3<<2)|0;if((k[B>>2]|0)<(Ke|0))k[B>>2]=Ke;k[a+1310736+(C+-1<<2)>>2]=Ze;Fi=yi;break}U=b[hi+-2>>1]|0;if(U<<16>>16>0){b[hi>>1]=U;Y=(U<<16>>16)*7|0;z=a+1310736+(Y+-7<<2)|0;k[z>>2]=(k[z>>2]|0)+1;W=a+1310736+(Y+-6<<2)|0;k[W>>2]=(k[W>>2]|0)+Ke;j=a+1310736+(Y+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+Ze;K=a+1310736+(Y+-3<<2)|0;if((k[K>>2]|0)>=(Ke|0)){Fi=yi;break}k[K>>2]=Ke;Fi=yi;break}else{G=yi+1|0;if((yi|0)>32767)break i;b[hi>>1]=G;k[a+1179664+(yi<<2)>>2]=G<<16>>16;q=yi*7|0;k[a+1310736+(q<<2)>>2]=1;k[a+1310736+(q+1<<2)>>2]=Ke;k[a+1310736+(q+2<<2)>>2]=Ze;k[a+1310736+(q+3<<2)>>2]=Ke;k[a+1310736+(q+4<<2)>>2]=Ke;k[a+1310736+(q+5<<2)>>2]=Ze;k[a+1310736+(q+6<<2)>>2]=Ze;Fi=G;break}}if(Be){He=k[a+1179664+(Ie+-1<<2)>>2]|0;Ue=k[a+1179664+(xe+-1<<2)>>2]|0;if((He|0)>(Ue|0)){b[hi>>1]=Ue;if((yi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(He|0))k[wi>>2]=Ue;ii=ii+1|0;if((ii|0)>=(yi|0)){Ye=Ue;break}else wi=wi+4|0}}else Ye=Ue}else{b[hi>>1]=He;if((He|0)<(Ue|0)&(yi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(Ue|0))k[_i>>2]=He;ri=ri+1|0;if((ri|0)>=(yi|0)){Ye=He;break}else _i=_i+4|0}}else Ye=He}ze=(Ye<<16>>16)*7|0;Ve=a+1310736+(ze+-7<<2)|0;k[Ve>>2]=(k[Ve>>2]|0)+1;c=a+1310736+(ze+-6<<2)|0;k[c>>2]=(k[c>>2]|0)+Ke;d=a+1310736+(ze+-5<<2)|0;k[d>>2]=(k[d>>2]|0)+Ze;k[a+1310736+(ze+-1<<2)>>2]=Ze;Fi=yi;break}_=b[hi+-2>>1]|0;if(_<<16>>16<=0){b[hi>>1]=Ce;M=Ie*7|0;R=a+1310736+(M+-7<<2)|0;k[R>>2]=(k[R>>2]|0)+1;N=a+1310736+(M+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(M+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ze;D=a+1310736+(M+-4<<2)|0;if((k[D>>2]|0)>(Ke|0))k[D>>2]=Ke;k[a+1310736+(M+-1<<2)>>2]=Ze;Fi=yi;break}E=k[a+1179664+(Ie+-1<<2)>>2]|0;g=k[a+1179664+((_<<16>>16)+-1<<2)>>2]|0;if((E|0)>(g|0)){b[hi>>1]=g;if((yi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=g;fi=fi+1|0;if((fi|0)>=(yi|0)){y=g;break}else vi=vi+4|0}}else y=g}else{b[hi>>1]=E;if((E|0)<(g|0)&(yi|0)>0){ai=0;Ei=H;while(1){if((k[Ei>>2]|0)==(g|0))k[Ei>>2]=E;ai=ai+1|0;if((ai|0)>=(yi|0)){y=E;break}else Ei=Ei+4|0}}else y=E}F=(y<<16>>16)*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ke;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ze;Fi=yi}}while(0);Ke=Ke+1|0;J=si+4|0;Z=hi+2|0;if((Ke|0)>=(S|0)){ni=J;ki=Z;gi=Fi;break}else{si=J;hi=Z;yi=Fi}}}else{ni=li;ki=bi;gi=Si}Ze=Ze+1|0;if((Ze|0)>=(de|0)){pi=gi;Ai=52;break e}else{li=ni+n|0;bi=ki+4|0;Si=gi}}Yl(3,3904,di);l=-1}else{pi=0;Ai=52}}while(0);if((Ai|0)==52){Q=a+12|0;if((pi|0)<1)Qe=1;else{Xe=1;$e=1;mi=H;while(1){$=k[mi>>2]|0;if(($|0)==(Xe|0)){ee=$e;ei=$e+1|0}else{ee=k[a+1179664+($+-1<<2)>>2]|0;ei=$e}k[mi>>2]=ee;if((Xe|0)<(pi|0)){Xe=Xe+1|0;$e=ei;mi=mi+4|0}else{Qe=ei;break}}}ie=a+8|0;re=Qe+-1|0;k[ie>>2]=re;if(!re)l=0;else{ut(Q|0,0,re<<2|0)|0;ut(a+655376|0,0,re<<4|0)|0;if((Qe|0)>1){Ge=0;do{fe=Ge<<2;k[a+131084+(fe<<2)>>2]=o;k[a+131084+((fe|1)<<2)>>2]=0;k[a+131084+((fe|2)<<2)>>2]=u;k[a+131084+((fe|3)<<2)>>2]=0;Ge=Ge+1|0}while((Ge|0)<(k[ie>>2]|0))}if((pi|0)>0){qe=0;do{ae=(k[a+1179664+(qe<<2)>>2]|0)+-1|0;le=qe*7|0;ne=a+12+(ae<<2)|0;k[ne>>2]=(k[ne>>2]|0)+(k[a+1310736+(le<<2)>>2]|0);te=ae<<1;oe=a+655376+(te<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(le+1<<2)>>2]|0);ue=a+655376+((te|1)<<3)|0;v[ue>>3]=+v[ue>>3]+ +(k[a+1310736+(le+2<<2)>>2]|0);be=ae<<2;ke=a+131084+(be<<2)|0;_e=k[a+1310736+(le+3<<2)>>2]|0;if((k[ke>>2]|0)>(_e|0))k[ke>>2]=_e;ve=a+131084+((be|1)<<2)|0;Ee=k[a+1310736+(le+4<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;me=a+131084+((be|2)<<2)|0;pe=k[a+1310736+(le+5<<2)>>2]|0;if((k[me>>2]|0)>(pe|0))k[me>>2]=pe;Se=a+131084+((be|3)<<2)|0;ge=k[a+1310736+(le+6<<2)>>2]|0;if((k[Se>>2]|0)<(ge|0))k[Se>>2]=ge;qe=qe+1|0}while((qe|0)<(pi|0))}if((k[ie>>2]|0)>0){Je=0;do{ye=a+12+(Je<<2)|0;Fe=Je<<1;Ae=a+655376+(Fe<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ye>>2]|0);Te=a+655376+((Fe|1)<<3)|0;v[Te>>3]=+v[Te>>3]/+(k[ye>>2]|0);Je=Je+1|0}while((Je|0)<(k[ie>>2]|0));l=0}else l=0}}m=Ti;return l|0}function Rf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0;Ai=m;m=m+16|0;if((m|0)>=(p|0))he();hi=Ai;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ve=0;si=V;oi=V+((ce(de,o)|0)<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(o|0))break;else{si=si+2|0;oi=oi+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){We=0;ti=V;ui=V+(S<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ti=ti+(o<<1)|0;ui=ui+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){ne=(S|0)>1;Je=1;ai=e+((i<<2)+4)|0;ci=V+(o+1<<1)|0;pi=0;i:while(1){if(ne){je=1;ni=ai;ki=ci;gi=pi;while(1){we=h[ni>>0]|0;do{if(((we&240)+24+(we<<4&240)+((h[ni+1>>0]|0)&240)|0)>(w|0)){b[ki>>1]=0;yi=gi}else{Te=b[ki+(X<<1)>>1]|0;if(Te<<16>>16>0){b[ki>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+je;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+Je;k[a+1310736+(Oe+-1<<2)>>2]=Je;yi=gi;break}Pe=b[ki+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[ki+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[ki>>1]=Ce;D=Ie*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+je;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Je;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(je|0))k[x>>2]=je;k[a+1310736+(D+-1<<2)>>2]=Je;yi=gi;break}B=b[ki+-2>>1]|0;if(B<<16>>16>0){b[ki>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+je;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(je|0)){yi=gi;break}k[j>>2]=je;yi=gi;break}else{K=gi+1|0;if((gi|0)>32767)break i;b[ki>>1]=K;k[a+1179664+(gi<<2)>>2]=K<<16>>16;G=gi*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=je;k[a+1310736+(G+2<<2)>>2]=Je;k[a+1310736+(G+3<<2)>>2]=je;k[a+1310736+(G+4<<2)>>2]=je;k[a+1310736+(G+5<<2)>>2]=Je;k[a+1310736+(G+6<<2)>>2]=Je;yi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[ki>>1]=Be;if((gi|0)>0){ei=0;di=H;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Be;ei=ei+1|0;if((ei|0)>=(gi|0)){He=Be;break}else di=di+4|0}}else He=Be}else{b[ki>>1]=xe;if((xe|0)<(Be|0)&(gi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(Be|0))k[wi>>2]=xe;ii=ii+1|0;if((ii|0)>=(gi|0)){He=xe;break}else wi=wi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+je;c=a+1310736+(Ue+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+Je;k[a+1310736+(Ue+-1<<2)>>2]=Je;yi=gi;break}d=b[ki+-2>>1]|0;if(d<<16>>16<=0){b[ki>>1]=Pe;O=De*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+je;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Je;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(je|0))k[P>>2]=je;k[a+1310736+(O+-1<<2)>>2]=Je;yi=gi;break}_=k[a+1179664+(De+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[ki>>1]=E;if((gi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=E;ri=ri+1|0;if((ri|0)>=(gi|0)){g=E;break}else _i=_i+4|0}}else g=E}else{b[ki>>1]=_;if((_|0)<(E|0)&(gi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=_;fi=fi+1|0;if((fi|0)>=(gi|0)){g=_;break}else vi=vi+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+je;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Je;yi=gi}}while(0);je=je+1|0;q=ni+4|0;J=ki+2|0;if((je|0)>=(S|0)){li=q;bi=J;Si=yi;break}else{ni=q;ki=J;gi=yi}}}else{li=ai;bi=ci;Si=pi}Je=Je+1|0;if((Je|0)>=(de|0)){mi=Si;Fi=52;break e}else{ai=li+n|0;ci=bi+4|0;pi=Si}}Yl(3,3904,hi);l=-1}else{mi=0;Fi=52}}while(0);if((Fi|0)==52){Z=a+12|0;if((mi|0)<1)Ze=1;else{Ke=1;Qe=1;Ei=H;while(1){Q=k[Ei>>2]|0;if((Q|0)==(Ke|0)){$=Qe;$e=Qe+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;$e=Qe}k[Ei>>2]=$;if((Ke|0)<(mi|0)){Ke=Ke+1|0;Qe=$e;Ei=Ei+4|0}else{Ze=$e;break}}}ee=a+8|0;ie=Ze+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Ze|0)>1){Xe=0;do{re=Xe<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(k[ee>>2]|0))}if((mi|0)>0){Ge=0;do{fe=(k[a+1179664+(Ge<<2)>>2]|0)+-1|0;ae=Ge*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;_e=a+131084+((ue|1)<<2)|0;ve=k[a+1310736+(ae+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(ae+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(ae+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Ge=Ge+1|0}while((Ge|0)<(mi|0))}if((k[ee>>2]|0)>0){qe=0;do{ge=a+12+(qe<<2)|0;ye=qe<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);qe=qe+1|0}while((qe|0)<(k[ee>>2]|0));l=0}else l=0}}m=Ai;return l|0}function Nf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0,Ai=0;Ai=m;m=m+16|0;if((m|0)>=(p|0))he();hi=Ai;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ve=0;si=V;oi=V+((ce(de,o)|0)<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(o|0))break;else{si=si+2|0;oi=oi+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){We=0;ti=V;ui=V+(S<<1)|0;while(1){b[ui>>1]=0;b[ti>>1]=0;We=We+1|0;if((We|0)>=(u|0))break;else{ti=ti+(o<<1)|0;ui=ui+(o<<1)|0}}}H=a+1179664|0;X=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){ne=(S|0)>1;Je=1;ai=e+((i<<2)+4)|0;ci=V+(o+1<<1)|0;pi=0;i:while(1){if(ne){je=1;ni=ai;ki=ci;gi=pi;while(1){we=h[ni>>0]|0;do{if(((we&240)+24+(we<<4&240)+((h[ni+1>>0]|0)&240)|0)>(w|0)){Te=b[ki+(X<<1)>>1]|0;if(Te<<16>>16>0){b[ki>>1]=Te;Oe=(Te<<16>>16)*7|0;Me=a+1310736+(Oe+-7<<2)|0;k[Me>>2]=(k[Me>>2]|0)+1;Re=a+1310736+(Oe+-6<<2)|0;k[Re>>2]=(k[Re>>2]|0)+je;Ne=a+1310736+(Oe+-5<<2)|0;k[Ne>>2]=(k[Ne>>2]|0)+Je;k[a+1310736+(Oe+-1<<2)>>2]=Je;yi=gi;break}Pe=b[ki+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=b[ki+(t<<1)>>1]|0;Ie=Ce<<16>>16;Le=Ce<<16>>16>0;if(Pe<<16>>16<=0){if(Le){b[ki>>1]=Ce;D=Ie*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+je;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+Je;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(je|0))k[x>>2]=je;k[a+1310736+(D+-1<<2)>>2]=Je;yi=gi;break}B=b[ki+-2>>1]|0;if(B<<16>>16>0){b[ki>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+je;W=a+1310736+(U+-5<<2)|0;k[W>>2]=(k[W>>2]|0)+Je;j=a+1310736+(U+-3<<2)|0;if((k[j>>2]|0)>=(je|0)){yi=gi;break}k[j>>2]=je;yi=gi;break}else{K=gi+1|0;if((gi|0)>32767)break i;b[ki>>1]=K;k[a+1179664+(gi<<2)>>2]=K<<16>>16;G=gi*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=je;k[a+1310736+(G+2<<2)>>2]=Je;k[a+1310736+(G+3<<2)>>2]=je;k[a+1310736+(G+4<<2)>>2]=je;k[a+1310736+(G+5<<2)>>2]=Je;k[a+1310736+(G+6<<2)>>2]=Je;yi=K;break}}if(Le){xe=k[a+1179664+(De+-1<<2)>>2]|0;Be=k[a+1179664+(Ie+-1<<2)>>2]|0;if((xe|0)>(Be|0)){b[ki>>1]=Be;if((gi|0)>0){ei=0;di=H;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Be;ei=ei+1|0;if((ei|0)>=(gi|0)){He=Be;break}else di=di+4|0}}else He=Be}else{b[ki>>1]=xe;if((xe|0)<(Be|0)&(gi|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(Be|0))k[wi>>2]=xe;ii=ii+1|0;if((ii|0)>=(gi|0)){He=xe;break}else wi=wi+4|0}}else He=xe}Ue=(He<<16>>16)*7|0;Ye=a+1310736+(Ue+-7<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+1;ze=a+1310736+(Ue+-6<<2)|0;k[ze>>2]=(k[ze>>2]|0)+je;c=a+1310736+(Ue+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+Je;k[a+1310736+(Ue+-1<<2)>>2]=Je;yi=gi;break}d=b[ki+-2>>1]|0;if(d<<16>>16<=0){b[ki>>1]=Pe;O=De*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+je;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Je;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(je|0))k[P>>2]=je;k[a+1310736+(O+-1<<2)>>2]=Je;yi=gi;break}_=k[a+1179664+(De+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[ki>>1]=E;if((gi|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=E;ri=ri+1|0;if((ri|0)>=(gi|0)){g=E;break}else _i=_i+4|0}}else g=E}else{b[ki>>1]=_;if((_|0)<(E|0)&(gi|0)>0){fi=0;vi=H;while(1){if((k[vi>>2]|0)==(E|0))k[vi>>2]=_;fi=fi+1|0;if((fi|0)>=(gi|0)){g=_;break}else vi=vi+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+je;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+Je;yi=gi}else{b[ki>>1]=0;yi=gi}}while(0);je=je+1|0;q=ni+4|0;J=ki+2|0;if((je|0)>=(S|0)){li=q;bi=J;Si=yi;break}else{ni=q;ki=J;gi=yi}}}else{li=ai;bi=ci;Si=pi}Je=Je+1|0;if((Je|0)>=(de|0)){mi=Si;Fi=52;break e}else{ai=li+n|0;ci=bi+4|0;pi=Si}}Yl(3,3904,hi);l=-1}else{mi=0;Fi=52}}while(0);if((Fi|0)==52){Z=a+12|0;if((mi|0)<1)Ze=1;else{Ke=1;Qe=1;Ei=H;while(1){Q=k[Ei>>2]|0;if((Q|0)==(Ke|0)){$=Qe;$e=Qe+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;$e=Qe}k[Ei>>2]=$;if((Ke|0)<(mi|0)){Ke=Ke+1|0;Qe=$e;Ei=Ei+4|0}else{Ze=$e;break}}}ee=a+8|0;ie=Ze+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Ze|0)>1){Xe=0;do{re=Xe<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Xe=Xe+1|0}while((Xe|0)<(k[ee>>2]|0))}if((mi|0)>0){Ge=0;do{fe=(k[a+1179664+(Ge<<2)>>2]|0)+-1|0;ae=Ge*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);se=fe<<1;te=a+655376+(se<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((se|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;_e=a+131084+((ue|1)<<2)|0;ve=k[a+1310736+(ae+4<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ee=a+131084+((ue|2)<<2)|0;me=k[a+1310736+(ae+5<<2)>>2]|0;if((k[Ee>>2]|0)>(me|0))k[Ee>>2]=me;pe=a+131084+((ue|3)<<2)|0;Se=k[a+1310736+(ae+6<<2)>>2]|0;if((k[pe>>2]|0)<(Se|0))k[pe>>2]=Se;Ge=Ge+1|0}while((Ge|0)<(mi|0))}if((k[ee>>2]|0)>0){qe=0;do{ge=a+12+(qe<<2)|0;ye=qe<<1;Fe=a+655376+(ye<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[ge>>2]|0);Ae=a+655376+((ye|1)<<3)|0;v[Ae>>3]=+v[Ae>>3]/+(k[ge>>2]|0);qe=qe+1|0}while((qe|0)<(k[ee>>2]|0));l=0}else l=0}}m=Ai;return l|0}function Pf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){ze=0;ni=t;ti=t+((ce(o,i)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{ni=ni+2|0;ti=ti+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ve=0;si=t;oi=t+(u<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(r|0))break;else{si=si+(i<<1)|0;oi=oi+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;H=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;qe=1;fi=e+(L<<1)|0;ui=t+(L<<1)|0;mi=0;i:while(1){if(Z){We=1;li=fi;bi=ui;Si=mi;while(1){re=h[li>>0]|0;me=h[li+1>>0]|0;do{if(((re&248)+12+(re<<5&224)+(me>>>3&24)+(me<<2&248)|0)>(xe|0)){Fe=b[bi+(H<<1)>>1]|0;if(Fe<<16>>16>0){b[bi>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+We;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+qe;k[a+1310736+(Ae+-1<<2)>>2]=qe;gi=Si;break}Re=b[bi+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[bi+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[bi>>1]=Pe;N=De*7|0;D=a+1310736+(N+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(N+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+We;I=a+1310736+(N+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+qe;x=a+1310736+(N+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(N+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(U+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;W=a+1310736+(U+-3<<2)|0;if((k[W>>2]|0)>=(We|0)){gi=Si;break}k[W>>2]=We;gi=Si;break}else{j=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=j;k[a+1179664+(Si<<2)>>2]=j<<16>>16;K=Si*7|0;k[a+1310736+(K<<2)>>2]=1;k[a+1310736+(K+1<<2)>>2]=We;k[a+1310736+(K+2<<2)>>2]=qe;k[a+1310736+(K+3<<2)>>2]=We;k[a+1310736+(K+4<<2)>>2]=We;k[a+1310736+(K+5<<2)>>2]=qe;k[a+1310736+(K+6<<2)>>2]=qe;gi=j;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[bi>>1]=Le;if((Si|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ie|0))k[hi>>2]=Le;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=Le;break}else hi=hi+4|0}}else Be=Le}else{b[bi>>1]=Ie;if((Ie|0)<(Le|0)&(Si|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(Le|0))k[di>>2]=Ie;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Ie;break}else di=di+4|0}}else Be=Ie}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Re;A=Ne*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+We;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(A+-4<<2)|0;if((k[R>>2]|0)>(We|0))k[R>>2]=We;k[a+1310736+(A+-1<<2)>>2]=qe;gi=Si;break}w=k[a+1179664+(Ne+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[bi>>1]=_;if((Si|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=_;ii=ii+1|0;if((ii|0)>=(Si|0)){E=_;break}else wi=wi+4|0}}else E=_}else{b[bi>>1]=w;if((w|0)<(_|0)&(Si|0)>0){ri=0;_i=P;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=w;ri=ri+1|0;if((ri|0)>=(Si|0)){E=w;break}else _i=_i+4|0}}else E=w}S=(E<<16>>16)*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+We;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;gi=Si}else{b[bi>>1]=0;gi=Si}}while(0);We=We+1|0;X=li+2|0;G=bi+2|0;if((We|0)>=(u|0)){ai=X;ci=G;pi=gi;break}else{li=X;bi=G;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(o|0)){Ei=pi;yi=52;break e}else{fi=ai+4|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){q=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=P;while(1){J=k[vi>>2]|0;if((J|0)==(je|0)){Q=Ze;Qe=Ze+1|0}else{Q=k[a+1179664+(J+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=Q;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}$=a+8|0;ee=Je+-1|0;k[$>>2]=ee;if(!ee)l=0;else{ut(q|0,0,ee<<2|0)|0;ut(a+655376|0,0,ee<<4|0)|0;if((Je|0)>1){Ke=0;do{ie=Ke<<2;k[a+131084+(ie<<2)>>2]=i;k[a+131084+((ie|1)<<2)>>2]=0;k[a+131084+((ie|2)<<2)>>2]=r;k[a+131084+((ie|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[$>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);te=a+655376+((ne|1)<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);oe=fe<<2;ue=a+131084+(oe<<2)|0;be=k[a+1310736+(ae+3<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((oe|1)<<2)|0;de=k[a+1310736+(ae+4<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;we=a+131084+((oe|2)<<2)|0;_e=k[a+1310736+(ae+5<<2)>>2]|0;if((k[we>>2]|0)>(_e|0))k[we>>2]=_e;ve=a+131084+((oe|3)<<2)|0;Ee=k[a+1310736+(ae+6<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[$>>2]|0)>0){Ge=0;do{pe=a+12+(Ge<<2)|0;Se=Ge<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[$>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Df(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){ze=0;ni=t;ti=t+((ce(o,i)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{ni=ni+2|0;ti=ti+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ve=0;si=t;oi=t+(u<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(r|0))break;else{si=si+(i<<1)|0;oi=oi+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;H=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;qe=1;fi=e+(L<<1)|0;ui=t+(L<<1)|0;mi=0;i:while(1){if(Z){We=1;li=fi;bi=ui;Si=mi;while(1){re=h[li>>0]|0;me=h[li+1>>0]|0;do{if(((re&248)+12+(re<<5&224)+(me>>>3&24)+(me<<2&248)|0)>(xe|0)){b[bi>>1]=0;gi=Si}else{Fe=b[bi+(H<<1)>>1]|0;if(Fe<<16>>16>0){b[bi>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+We;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+qe;k[a+1310736+(Ae+-1<<2)>>2]=qe;gi=Si;break}Re=b[bi+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[bi+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[bi>>1]=Pe;N=De*7|0;D=a+1310736+(N+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(N+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+We;I=a+1310736+(N+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+qe;x=a+1310736+(N+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(N+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(U+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;W=a+1310736+(U+-3<<2)|0;if((k[W>>2]|0)>=(We|0)){gi=Si;break}k[W>>2]=We;gi=Si;break}else{j=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=j;k[a+1179664+(Si<<2)>>2]=j<<16>>16;K=Si*7|0;k[a+1310736+(K<<2)>>2]=1;k[a+1310736+(K+1<<2)>>2]=We;k[a+1310736+(K+2<<2)>>2]=qe;k[a+1310736+(K+3<<2)>>2]=We;k[a+1310736+(K+4<<2)>>2]=We;k[a+1310736+(K+5<<2)>>2]=qe;k[a+1310736+(K+6<<2)>>2]=qe;gi=j;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[bi>>1]=Le;if((Si|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ie|0))k[hi>>2]=Le;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=Le;break}else hi=hi+4|0}}else Be=Le}else{b[bi>>1]=Ie;if((Ie|0)<(Le|0)&(Si|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(Le|0))k[di>>2]=Ie;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Ie;break}else di=di+4|0}}else Be=Ie}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Re;A=Ne*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+We;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(A+-4<<2)|0;if((k[R>>2]|0)>(We|0))k[R>>2]=We;k[a+1310736+(A+-1<<2)>>2]=qe;gi=Si;break}w=k[a+1179664+(Ne+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[bi>>1]=_;if((Si|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=_;ii=ii+1|0;if((ii|0)>=(Si|0)){E=_;break}else wi=wi+4|0}}else E=_}else{b[bi>>1]=w;if((w|0)<(_|0)&(Si|0)>0){ri=0;_i=P;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=w;ri=ri+1|0;if((ri|0)>=(Si|0)){E=w;break}else _i=_i+4|0}}else E=w}S=(E<<16>>16)*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+We;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;gi=Si}}while(0);We=We+1|0;X=li+2|0;G=bi+2|0;if((We|0)>=(u|0)){ai=X;ci=G;pi=gi;break}else{li=X;bi=G;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(o|0)){Ei=pi;yi=52;break e}else{fi=ai+4|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){q=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=P;while(1){J=k[vi>>2]|0;if((J|0)==(je|0)){Q=Ze;Qe=Ze+1|0}else{Q=k[a+1179664+(J+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=Q;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}$=a+8|0;ee=Je+-1|0;k[$>>2]=ee;if(!ee)l=0;else{ut(q|0,0,ee<<2|0)|0;ut(a+655376|0,0,ee<<4|0)|0;if((Je|0)>1){Ke=0;do{ie=Ke<<2;k[a+131084+(ie<<2)>>2]=i;k[a+131084+((ie|1)<<2)>>2]=0;k[a+131084+((ie|2)<<2)>>2]=r;k[a+131084+((ie|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[$>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);te=a+655376+((ne|1)<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);oe=fe<<2;ue=a+131084+(oe<<2)|0;be=k[a+1310736+(ae+3<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((oe|1)<<2)|0;de=k[a+1310736+(ae+4<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;we=a+131084+((oe|2)<<2)|0;_e=k[a+1310736+(ae+5<<2)>>2]|0;if((k[we>>2]|0)>(_e|0))k[we>>2]=_e;ve=a+131084+((oe|3)<<2)|0;Ee=k[a+1310736+(ae+6<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[$>>2]|0)>0){Ge=0;do{pe=a+12+(Ge<<2)|0;Se=Ge<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[$>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Cf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){ze=0;ni=t;ti=t+((ce(o,i)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{ni=ni+2|0;ti=ti+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ve=0;si=t;oi=t+(u<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(r|0))break;else{si=si+(i<<1)|0;oi=oi+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;H=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;qe=1;fi=e+(L<<1)|0;ui=t+(L<<1)|0;mi=0;i:while(1){if(Z){We=1;li=fi;bi=ui;Si=mi;while(1){re=h[li>>0]|0;me=h[li+1>>0]|0;do{if(((re&248)+10+(re<<5&224)+(me>>>3&28)+(me<<3&248)|0)>(xe|0)){Fe=b[bi+(H<<1)>>1]|0;if(Fe<<16>>16>0){b[bi>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+We;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+qe;k[a+1310736+(Ae+-1<<2)>>2]=qe;gi=Si;break}Re=b[bi+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[bi+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[bi>>1]=Pe;N=De*7|0;D=a+1310736+(N+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(N+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+We;I=a+1310736+(N+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+qe;x=a+1310736+(N+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(N+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(U+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;W=a+1310736+(U+-3<<2)|0;if((k[W>>2]|0)>=(We|0)){gi=Si;break}k[W>>2]=We;gi=Si;break}else{j=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=j;k[a+1179664+(Si<<2)>>2]=j<<16>>16;K=Si*7|0;k[a+1310736+(K<<2)>>2]=1;k[a+1310736+(K+1<<2)>>2]=We;k[a+1310736+(K+2<<2)>>2]=qe;k[a+1310736+(K+3<<2)>>2]=We;k[a+1310736+(K+4<<2)>>2]=We;k[a+1310736+(K+5<<2)>>2]=qe;k[a+1310736+(K+6<<2)>>2]=qe;gi=j;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[bi>>1]=Le;if((Si|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ie|0))k[hi>>2]=Le;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=Le;break}else hi=hi+4|0}}else Be=Le}else{b[bi>>1]=Ie;if((Ie|0)<(Le|0)&(Si|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(Le|0))k[di>>2]=Ie;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Ie;break}else di=di+4|0}}else Be=Ie}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Re;A=Ne*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+We;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(A+-4<<2)|0;if((k[R>>2]|0)>(We|0))k[R>>2]=We;k[a+1310736+(A+-1<<2)>>2]=qe;gi=Si;break}w=k[a+1179664+(Ne+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[bi>>1]=_;if((Si|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=_;ii=ii+1|0;if((ii|0)>=(Si|0)){E=_;break}else wi=wi+4|0}}else E=_}else{b[bi>>1]=w;if((w|0)<(_|0)&(Si|0)>0){ri=0;_i=P;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=w;ri=ri+1|0;if((ri|0)>=(Si|0)){E=w;break}else _i=_i+4|0}}else E=w}S=(E<<16>>16)*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+We;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;gi=Si}else{b[bi>>1]=0;gi=Si}}while(0);We=We+1|0;X=li+2|0;G=bi+2|0;if((We|0)>=(u|0)){ai=X;ci=G;pi=gi;break}else{li=X;bi=G;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(o|0)){Ei=pi;yi=52;break e}else{fi=ai+4|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){q=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=P;while(1){J=k[vi>>2]|0;if((J|0)==(je|0)){Q=Ze;Qe=Ze+1|0}else{Q=k[a+1179664+(J+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=Q;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}$=a+8|0;ee=Je+-1|0;k[$>>2]=ee;if(!ee)l=0;else{ut(q|0,0,ee<<2|0)|0;ut(a+655376|0,0,ee<<4|0)|0;if((Je|0)>1){Ke=0;do{ie=Ke<<2;k[a+131084+(ie<<2)>>2]=i;k[a+131084+((ie|1)<<2)>>2]=0;k[a+131084+((ie|2)<<2)>>2]=r;k[a+131084+((ie|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[$>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);te=a+655376+((ne|1)<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);oe=fe<<2;ue=a+131084+(oe<<2)|0;be=k[a+1310736+(ae+3<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((oe|1)<<2)|0;de=k[a+1310736+(ae+4<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;we=a+131084+((oe|2)<<2)|0;_e=k[a+1310736+(ae+5<<2)>>2]|0;if((k[we>>2]|0)>(_e|0))k[we>>2]=_e;ve=a+131084+((oe|3)<<2)|0;Ee=k[a+1310736+(ae+6<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[$>>2]|0)>0){Ge=0;do{pe=a+12+(Ge<<2)|0;Se=Ge<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[$>>2]|0));l=0}else l=0}}m=Fi;return l|0}function If(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){ze=0;ni=t;ti=t+((ce(o,i)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(i|0))break;else{ni=ni+2|0;ti=ti+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ve=0;si=t;oi=t+(u<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(r|0))break;else{si=si+(i<<1)|0;oi=oi+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;H=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;qe=1;fi=e+(L<<1)|0;ui=t+(L<<1)|0;mi=0;i:while(1){if(Z){We=1;li=fi;bi=ui;Si=mi;while(1){re=h[li>>0]|0;me=h[li+1>>0]|0;do{if(((re&248)+10+(re<<5&224)+(me>>>3&28)+(me<<3&248)|0)>(xe|0)){b[bi>>1]=0;gi=Si}else{Fe=b[bi+(H<<1)>>1]|0;if(Fe<<16>>16>0){b[bi>>1]=Fe;Ae=(Fe<<16>>16)*7|0;Te=a+1310736+(Ae+-7<<2)|0;k[Te>>2]=(k[Te>>2]|0)+1;Oe=a+1310736+(Ae+-6<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+We;Me=a+1310736+(Ae+-5<<2)|0;k[Me>>2]=(k[Me>>2]|0)+qe;k[a+1310736+(Ae+-1<<2)>>2]=qe;gi=Si;break}Re=b[bi+(n<<1)>>1]|0;Ne=Re<<16>>16;Pe=b[bi+(s<<1)>>1]|0;De=Pe<<16>>16;Ce=Pe<<16>>16>0;if(Re<<16>>16<=0){if(Ce){b[bi>>1]=Pe;N=De*7|0;D=a+1310736+(N+-7<<2)|0;k[D>>2]=(k[D>>2]|0)+1;C=a+1310736+(N+-6<<2)|0;k[C>>2]=(k[C>>2]|0)+We;I=a+1310736+(N+-5<<2)|0;k[I>>2]=(k[I>>2]|0)+qe;x=a+1310736+(N+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(N+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(U+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;W=a+1310736+(U+-3<<2)|0;if((k[W>>2]|0)>=(We|0)){gi=Si;break}k[W>>2]=We;gi=Si;break}else{j=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=j;k[a+1179664+(Si<<2)>>2]=j<<16>>16;K=Si*7|0;k[a+1310736+(K<<2)>>2]=1;k[a+1310736+(K+1<<2)>>2]=We;k[a+1310736+(K+2<<2)>>2]=qe;k[a+1310736+(K+3<<2)>>2]=We;k[a+1310736+(K+4<<2)>>2]=We;k[a+1310736+(K+5<<2)>>2]=qe;k[a+1310736+(K+6<<2)>>2]=qe;gi=j;break}}if(Ce){Ie=k[a+1179664+(Ne+-1<<2)>>2]|0;Le=k[a+1179664+(De+-1<<2)>>2]|0;if((Ie|0)>(Le|0)){b[bi>>1]=Le;if((Si|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ie|0))k[hi>>2]=Le;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=Le;break}else hi=hi+4|0}}else Be=Le}else{b[bi>>1]=Ie;if((Ie|0)<(Le|0)&(Si|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(Le|0))k[di>>2]=Ie;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Ie;break}else di=di+4|0}}else Be=Ie}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Re;A=Ne*7|0;T=a+1310736+(A+-7<<2)|0;k[T>>2]=(k[T>>2]|0)+1;O=a+1310736+(A+-6<<2)|0;k[O>>2]=(k[O>>2]|0)+We;M=a+1310736+(A+-5<<2)|0;k[M>>2]=(k[M>>2]|0)+qe;R=a+1310736+(A+-4<<2)|0;if((k[R>>2]|0)>(We|0))k[R>>2]=We;k[a+1310736+(A+-1<<2)>>2]=qe;gi=Si;break}w=k[a+1179664+(Ne+-1<<2)>>2]|0;_=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((w|0)>(_|0)){b[bi>>1]=_;if((Si|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=_;ii=ii+1|0;if((ii|0)>=(Si|0)){E=_;break}else wi=wi+4|0}}else E=_}else{b[bi>>1]=w;if((w|0)<(_|0)&(Si|0)>0){ri=0;_i=P;while(1){if((k[_i>>2]|0)==(_|0))k[_i>>2]=w;ri=ri+1|0;if((ri|0)>=(Si|0)){E=w;break}else _i=_i+4|0}}else E=w}S=(E<<16>>16)*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+We;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+qe;gi=Si}}while(0);We=We+1|0;X=li+2|0;G=bi+2|0;if((We|0)>=(u|0)){ai=X;ci=G;pi=gi;break}else{li=X;bi=G;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(o|0)){Ei=pi;yi=52;break e}else{fi=ai+4|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){q=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=P;while(1){J=k[vi>>2]|0;if((J|0)==(je|0)){Q=Ze;Qe=Ze+1|0}else{Q=k[a+1179664+(J+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=Q;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}$=a+8|0;ee=Je+-1|0;k[$>>2]=ee;if(!ee)l=0;else{ut(q|0,0,ee<<2|0)|0;ut(a+655376|0,0,ee<<4|0)|0;if((Je|0)>1){Ke=0;do{ie=Ke<<2;k[a+131084+(ie<<2)>>2]=i;k[a+131084+((ie|1)<<2)>>2]=0;k[a+131084+((ie|2)<<2)>>2]=r;k[a+131084+((ie|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[$>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);te=a+655376+((ne|1)<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);oe=fe<<2;ue=a+131084+(oe<<2)|0;be=k[a+1310736+(ae+3<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((oe|1)<<2)|0;de=k[a+1310736+(ae+4<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;we=a+131084+((oe|2)<<2)|0;_e=k[a+1310736+(ae+5<<2)>>2]|0;if((k[we>>2]|0)>(_e|0))k[we>>2]=_e;ve=a+131084+((oe|3)<<2)|0;Ee=k[a+1310736+(ae+6<<2)>>2]|0;if((k[ve>>2]|0)<(Ee|0))k[ve>>2]=Ee;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[$>>2]|0)>0){Ge=0;do{pe=a+12+(Ge<<2)|0;Se=Ge<<1;ge=a+655376+(Se<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[pe>>2]|0);ye=a+655376+((Se|1)<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[pe>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[$>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Lf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=W;ti=W+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=W;oi=W+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}U=a+1179664|0;j=0-o|0;s=1-o|0;t=~o;n=(i*3|0)+12|0;e:do{if((we|0)>1){te=(S|0)>1;qe=1;fi=e+((i*6|0)+6)|0;ui=W+(o+1<<1)|0;mi=0;i:while(1){if(te){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+1>>0]|0)+(h[li>>0]|0)+(h[li+2>>0]|0)|0)>(w|0)){Ae=b[bi+(j<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;H=(B<<16>>16)*7|0;Y=a+1310736+(H+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;K=a+1310736+(H+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=U;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=U;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=U;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=U;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}else{b[bi>>1]=0;gi=Si}}while(0);We=We+1|0;q=li+6|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=U;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function xf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=W;ti=W+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=W;oi=W+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}U=a+1179664|0;j=0-o|0;s=1-o|0;t=~o;n=(i*3|0)+12|0;e:do{if((we|0)>1){te=(S|0)>1;qe=1;fi=e+((i*6|0)+6)|0;ui=W+(o+1<<1)|0;mi=0;i:while(1){if(te){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+1>>0]|0)+(h[li>>0]|0)+(h[li+2>>0]|0)|0)>(w|0)){b[bi>>1]=0;gi=Si}else{Ae=b[bi+(j<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;H=(B<<16>>16)*7|0;Y=a+1310736+(H+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;K=a+1310736+(H+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=U;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=U;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=U;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=U;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}}while(0);We=We+1|0;q=li+6|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=U;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Bf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=V;ti=V+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=V;oi=V+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}H=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((we|0)>1){se=(S|0)>1;qe=1;fi=e+((i<<3)+8)|0;ui=V+(o+1<<1)|0;mi=0;i:while(1){if(se){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+2>>0]|0)+(h[li+1>>0]|0)+(h[li+3>>0]|0)|0)>(w|0)){Ae=b[bi+(W<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;j=a+1310736+(U+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+qe;K=a+1310736+(U+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=H;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=H;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}else{b[bi>>1]=0;gi=Si}}while(0);We=We+1|0;q=li+8|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=H;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;te=a+655376+(ne<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Hf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=V;ti=V+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=V;oi=V+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}H=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((we|0)>1){se=(S|0)>1;qe=1;fi=e+((i<<3)+8)|0;ui=V+(o+1<<1)|0;mi=0;i:while(1){if(se){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+2>>0]|0)+(h[li+1>>0]|0)+(h[li+3>>0]|0)|0)>(w|0)){b[bi>>1]=0;gi=Si}else{Ae=b[bi+(W<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;U=(B<<16>>16)*7|0;Y=a+1310736+(U+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(U+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;j=a+1310736+(U+-5<<2)|0;k[j>>2]=(k[j>>2]|0)+qe;K=a+1310736+(U+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=H;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=H;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=H;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=H;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}}while(0);We=We+1|0;q=li+8|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=H;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;te=a+655376+(ne<<3)|0;v[te>>3]=+v[te>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Uf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=W;ti=W+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=W;oi=W+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}U=a+1179664|0;j=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((we|0)>1){te=(S|0)>1;qe=1;fi=e+((i<<3)+8)|0;ui=W+(o+1<<1)|0;mi=0;i:while(1){if(te){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+1>>0]|0)+(h[li>>0]|0)+(h[li+2>>0]|0)|0)>(w|0)){Ae=b[bi+(j<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;H=(B<<16>>16)*7|0;Y=a+1310736+(H+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;K=a+1310736+(H+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=U;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=U;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=U;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=U;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}else{b[bi>>1]=0;gi=Si}}while(0);We=We+1|0;q=li+8|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=U;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function Yf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0,Fi=0;Fi=m;m=m+16|0;if((m|0)>=(p|0))he();ki=Fi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){ze=0;ni=W;ti=W+((ce(we,o)|0)<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(o|0))break;else{ni=ni+2|0;ti=ti+2|0}}}w=f*3|0;S=o+-1|0;if((r|0)>1){Ve=0;si=W;oi=W+(S<<1)|0;while(1){b[oi>>1]=0;b[si>>1]=0;Ve=Ve+1|0;if((Ve|0)>=(u|0))break;else{si=si+(o<<1)|0;oi=oi+(o<<1)|0}}}U=a+1179664|0;j=0-o|0;s=1-o|0;t=~o;n=(i<<2)+16|0;e:do{if((we|0)>1){te=(S|0)>1;qe=1;fi=e+((i<<3)+8)|0;ui=W+(o+1<<1)|0;mi=0;i:while(1){if(te){We=1;li=fi;bi=ui;Si=mi;while(1){do{if(((h[li+1>>0]|0)+(h[li>>0]|0)+(h[li+2>>0]|0)|0)>(w|0)){b[bi>>1]=0;gi=Si}else{Ae=b[bi+(j<<1)>>1]|0;if(Ae<<16>>16>0){b[bi>>1]=Ae;Te=(Ae<<16>>16)*7|0;Oe=a+1310736+(Te+-7<<2)|0;k[Oe>>2]=(k[Oe>>2]|0)+1;Me=a+1310736+(Te+-6<<2)|0;k[Me>>2]=(k[Me>>2]|0)+We;Re=a+1310736+(Te+-5<<2)|0;k[Re>>2]=(k[Re>>2]|0)+qe;k[a+1310736+(Te+-1<<2)>>2]=qe;gi=Si;break}Ne=b[bi+(s<<1)>>1]|0;Pe=Ne<<16>>16;De=b[bi+(t<<1)>>1]|0;Ce=De<<16>>16;Ie=De<<16>>16>0;if(Ne<<16>>16<=0){if(Ie){b[bi>>1]=De;D=Ce*7|0;C=a+1310736+(D+-7<<2)|0;k[C>>2]=(k[C>>2]|0)+1;I=a+1310736+(D+-6<<2)|0;k[I>>2]=(k[I>>2]|0)+We;L=a+1310736+(D+-5<<2)|0;k[L>>2]=(k[L>>2]|0)+qe;x=a+1310736+(D+-3<<2)|0;if((k[x>>2]|0)<(We|0))k[x>>2]=We;k[a+1310736+(D+-1<<2)>>2]=qe;gi=Si;break}B=b[bi+-2>>1]|0;if(B<<16>>16>0){b[bi>>1]=B;H=(B<<16>>16)*7|0;Y=a+1310736+(H+-7<<2)|0;k[Y>>2]=(k[Y>>2]|0)+1;z=a+1310736+(H+-6<<2)|0;k[z>>2]=(k[z>>2]|0)+We;V=a+1310736+(H+-5<<2)|0;k[V>>2]=(k[V>>2]|0)+qe;K=a+1310736+(H+-3<<2)|0;if((k[K>>2]|0)>=(We|0)){gi=Si;break}k[K>>2]=We;gi=Si;break}else{X=Si+1|0;if((Si|0)>32767)break i;b[bi>>1]=X;k[a+1179664+(Si<<2)>>2]=X<<16>>16;G=Si*7|0;k[a+1310736+(G<<2)>>2]=1;k[a+1310736+(G+1<<2)>>2]=We;k[a+1310736+(G+2<<2)>>2]=qe;k[a+1310736+(G+3<<2)>>2]=We;k[a+1310736+(G+4<<2)>>2]=We;k[a+1310736+(G+5<<2)>>2]=qe;k[a+1310736+(G+6<<2)>>2]=qe;gi=X;break}}if(Ie){Le=k[a+1179664+(Pe+-1<<2)>>2]|0;xe=k[a+1179664+(Ce+-1<<2)>>2]|0;if((Le|0)>(xe|0)){b[bi>>1]=xe;if((Si|0)>0){$e=0;hi=U;while(1){if((k[hi>>2]|0)==(Le|0))k[hi>>2]=xe;$e=$e+1|0;if(($e|0)>=(Si|0)){Be=xe;break}else hi=hi+4|0}}else Be=xe}else{b[bi>>1]=Le;if((Le|0)<(xe|0)&(Si|0)>0){ei=0;di=U;while(1){if((k[di>>2]|0)==(xe|0))k[di>>2]=Le;ei=ei+1|0;if((ei|0)>=(Si|0)){Be=Le;break}else di=di+4|0}}else Be=Le}He=(Be<<16>>16)*7|0;Ue=a+1310736+(He+-7<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+1;Ye=a+1310736+(He+-6<<2)|0;k[Ye>>2]=(k[Ye>>2]|0)+We;c=a+1310736+(He+-5<<2)|0;k[c>>2]=(k[c>>2]|0)+qe;k[a+1310736+(He+-1<<2)>>2]=qe;gi=Si;break}d=b[bi+-2>>1]|0;if(d<<16>>16<=0){b[bi>>1]=Ne;O=Pe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;R=a+1310736+(O+-6<<2)|0;k[R>>2]=(k[R>>2]|0)+We;N=a+1310736+(O+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+qe;P=a+1310736+(O+-4<<2)|0;if((k[P>>2]|0)>(We|0))k[P>>2]=We;k[a+1310736+(O+-1<<2)>>2]=qe;gi=Si;break}_=k[a+1179664+(Pe+-1<<2)>>2]|0;E=k[a+1179664+((d<<16>>16)+-1<<2)>>2]|0;if((_|0)>(E|0)){b[bi>>1]=E;if((Si|0)>0){ii=0;wi=U;while(1){if((k[wi>>2]|0)==(_|0))k[wi>>2]=E;ii=ii+1|0;if((ii|0)>=(Si|0)){g=E;break}else wi=wi+4|0}}else g=E}else{b[bi>>1]=_;if((_|0)<(E|0)&(Si|0)>0){ri=0;_i=U;while(1){if((k[_i>>2]|0)==(E|0))k[_i>>2]=_;ri=ri+1|0;if((ri|0)>=(Si|0)){g=_;break}else _i=_i+4|0}}else g=_}y=(g<<16>>16)*7|0;F=a+1310736+(y+-7<<2)|0;k[F>>2]=(k[F>>2]|0)+1;A=a+1310736+(y+-6<<2)|0;k[A>>2]=(k[A>>2]|0)+We;T=a+1310736+(y+-5<<2)|0;k[T>>2]=(k[T>>2]|0)+qe;gi=Si}}while(0);We=We+1|0;q=li+8|0;J=bi+2|0;if((We|0)>=(S|0)){ai=q;ci=J;pi=gi;break}else{li=q;bi=J;Si=gi}}}else{ai=fi;ci=ui;pi=mi}qe=qe+1|0;if((qe|0)>=(we|0)){Ei=pi;yi=52;break e}else{fi=ai+n|0;ui=ci+4|0;mi=pi}}Yl(3,3904,ki);l=-1}else{Ei=0;yi=52}}while(0);if((yi|0)==52){Z=a+12|0;if((Ei|0)<1)Je=1;else{je=1;Ze=1;vi=U;while(1){Q=k[vi>>2]|0;if((Q|0)==(je|0)){$=Ze;Qe=Ze+1|0}else{$=k[a+1179664+(Q+-1<<2)>>2]|0;Qe=Ze}k[vi>>2]=$;if((je|0)<(Ei|0)){je=je+1|0;Ze=Qe;vi=vi+4|0}else{Je=Qe;break}}}ee=a+8|0;ie=Je+-1|0;k[ee>>2]=ie;if(!ie)l=0;else{ut(Z|0,0,ie<<2|0)|0;ut(a+655376|0,0,ie<<4|0)|0;if((Je|0)>1){Ke=0;do{re=Ke<<2;k[a+131084+(re<<2)>>2]=o;k[a+131084+((re|1)<<2)>>2]=0;k[a+131084+((re|2)<<2)>>2]=u;k[a+131084+((re|3)<<2)>>2]=0;Ke=Ke+1|0}while((Ke|0)<(k[ee>>2]|0))}if((Ei|0)>0){Xe=0;do{fe=(k[a+1179664+(Xe<<2)>>2]|0)+-1|0;ae=Xe*7|0;le=a+12+(fe<<2)|0;k[le>>2]=(k[le>>2]|0)+(k[a+1310736+(ae<<2)>>2]|0);ne=fe<<1;se=a+655376+(ne<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(ae+1<<2)>>2]|0);oe=a+655376+((ne|1)<<3)|0;v[oe>>3]=+v[oe>>3]+ +(k[a+1310736+(ae+2<<2)>>2]|0);ue=fe<<2;be=a+131084+(ue<<2)|0;ke=k[a+1310736+(ae+3<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((ue|1)<<2)|0;_e=k[a+1310736+(ae+4<<2)>>2]|0;if((k[de>>2]|0)<(_e|0))k[de>>2]=_e;ve=a+131084+((ue|2)<<2)|0;Ee=k[a+1310736+(ae+5<<2)>>2]|0;if((k[ve>>2]|0)>(Ee|0))k[ve>>2]=Ee;me=a+131084+((ue|3)<<2)|0;pe=k[a+1310736+(ae+6<<2)>>2]|0;if((k[me>>2]|0)<(pe|0))k[me>>2]=pe;Xe=Xe+1|0}while((Xe|0)<(Ei|0))}if((k[ee>>2]|0)>0){Ge=0;do{Se=a+12+(Ge<<2)|0;ge=Ge<<1;ye=a+655376+(ge<<3)|0;v[ye>>3]=+v[ye>>3]/+(k[Se>>2]|0);Fe=a+655376+((ge|1)<<3)|0;v[Fe>>3]=+v[Fe>>3]/+(k[Se>>2]|0);Ge=Ge+1|0}while((Ge|0)<(k[ee>>2]|0));l=0}else l=0}}m=Fi;return l|0}function zf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ye=0;li=t;si=t+((ce(o,i)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{li=li+2|0;si=si+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){ze=0;ni=t;ti=t+(u<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(r|0))break;else{ni=ni+(i<<1)|0;ti=ti+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Ge=1;ri=e+(L<<1)|0;oi=t+(L<<1)|0;Ei=0;i:while(1){if(Z){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){ie=h[ai>>0]|0;do{if(((ie&240)+24+(ie<<4&240)+((h[ai+1>>0]|0)&240)|0)>(xe|0)){ge=b[ci+(U<<1)>>1]|0;if(ge<<16>>16>0){b[ci>>1]=ge;ye=(ge<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(n<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(s<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;D=a+1310736+(R+-6<<2)|0;k[D>>2]=(k[D>>2]|0)+Ve;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Ge;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(Ve|0))k[I>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}x=b[ci+-2>>1]|0;if(x<<16>>16>0){b[ci>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ve;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Ge;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(Ve|0)){Si=pi;break}k[V>>2]=Ve;Si=pi;break}else{W=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=W;k[a+1179664+(pi<<2)>>2]=W<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=W;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=P;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;Be=a+1310736+(Le+-7<<2)|0;k[Be>>2]=(k[Be>>2]|0)+1;He=a+1310736+(Le+-6<<2)|0;k[He>>2]=(k[He>>2]|0)+Ve;Ue=a+1310736+(Le+-5<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}c=b[ci+-2>>1]|0;if(c<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}d=k[a+1179664+(Me+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ci>>1]=w;if((pi|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(d|0))k[di>>2]=w;ei=ei+1|0;if((ei|0)>=(pi|0)){_=w;break}else di=di+4|0}}else _=w}else{b[ci>>1]=d;if((d|0)<(w|0)&(pi|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=d;ii=ii+1|0;if((ii|0)>=(pi|0)){_=d;break}else wi=wi+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}else{b[ci>>1]=0;Si=pi}}while(0);Ve=Ve+1|0;K=ai+2|0;X=ci+2|0;if((Ve|0)>=(u|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(o|0)){vi=mi;gi=52;break e}else{ri=fi+4|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=P;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Q=a+8|0;$=qe+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((qe|0)>1){je=0;do{ee=je<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Q>>2]|0))}if((vi|0)>0){Ke=0;do{re=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;fe=Ke*7|0;ae=a+12+(re<<2)|0;k[ae>>2]=(k[ae>>2]|0)+(k[a+1310736+(fe<<2)>>2]|0);le=re<<1;ne=a+655376+(le<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(fe+1<<2)>>2]|0);se=a+655376+((le|1)<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(fe+2<<2)>>2]|0);te=re<<2;oe=a+131084+(te<<2)|0;ue=k[a+1310736+(fe+3<<2)>>2]|0;if((k[oe>>2]|0)>(ue|0))k[oe>>2]=ue;be=a+131084+((te|1)<<2)|0;ke=k[a+1310736+(fe+4<<2)>>2]|0;if((k[be>>2]|0)<(ke|0))k[be>>2]=ke;de=a+131084+((te|2)<<2)|0;we=k[a+1310736+(fe+5<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((te|3)<<2)|0;ve=k[a+1310736+(fe+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Q>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Q>>2]|0));l=0}else l=0}}m=yi;return l|0}function Vf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ye=0;li=t;si=t+((ce(o,i)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(i|0))break;else{li=li+2|0;si=si+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){ze=0;ni=t;ti=t+(u<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(r|0))break;else{ni=ni+(i<<1)|0;ti=ti+(i<<1)|0}}}P=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Ge=1;ri=e+(L<<1)|0;oi=t+(L<<1)|0;Ei=0;i:while(1){if(Z){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){ie=h[ai>>0]|0;do{if(((ie&240)+24+(ie<<4&240)+((h[ai+1>>0]|0)&240)|0)>(xe|0)){b[ci>>1]=0;Si=pi}else{ge=b[ci+(U<<1)>>1]|0;if(ge<<16>>16>0){b[ci>>1]=ge;ye=(ge<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(n<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(s<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;D=a+1310736+(R+-6<<2)|0;k[D>>2]=(k[D>>2]|0)+Ve;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Ge;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(Ve|0))k[I>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}x=b[ci+-2>>1]|0;if(x<<16>>16>0){b[ci>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+Ve;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Ge;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(Ve|0)){Si=pi;break}k[V>>2]=Ve;Si=pi;break}else{W=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=W;k[a+1179664+(pi<<2)>>2]=W<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=W;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=P;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=P;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;Be=a+1310736+(Le+-7<<2)|0;k[Be>>2]=(k[Be>>2]|0)+1;He=a+1310736+(Le+-6<<2)|0;k[He>>2]=(k[He>>2]|0)+Ve;Ue=a+1310736+(Le+-5<<2)|0;k[Ue>>2]=(k[Ue>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}c=b[ci+-2>>1]|0;if(c<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}d=k[a+1179664+(Me+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ci>>1]=w;if((pi|0)>0){ei=0;di=P;while(1){if((k[di>>2]|0)==(d|0))k[di>>2]=w;ei=ei+1|0;if((ei|0)>=(pi|0)){_=w;break}else di=di+4|0}}else _=w}else{b[ci>>1]=d;if((d|0)<(w|0)&(pi|0)>0){ii=0;wi=P;while(1){if((k[wi>>2]|0)==(w|0))k[wi>>2]=d;ii=ii+1|0;if((ii|0)>=(pi|0)){_=d;break}else wi=wi+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}}while(0);Ve=Ve+1|0;K=ai+2|0;X=ci+2|0;if((Ve|0)>=(u|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(o|0)){vi=mi;gi=52;break e}else{ri=fi+4|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=P;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Q=a+8|0;$=qe+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((qe|0)>1){je=0;do{ee=je<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Q>>2]|0))}if((vi|0)>0){Ke=0;do{re=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;fe=Ke*7|0;ae=a+12+(re<<2)|0;k[ae>>2]=(k[ae>>2]|0)+(k[a+1310736+(fe<<2)>>2]|0);le=re<<1;ne=a+655376+(le<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(fe+1<<2)>>2]|0);se=a+655376+((le|1)<<3)|0;v[se>>3]=+v[se>>3]+ +(k[a+1310736+(fe+2<<2)>>2]|0);te=re<<2;oe=a+131084+(te<<2)|0;ue=k[a+1310736+(fe+3<<2)>>2]|0;if((k[oe>>2]|0)>(ue|0))k[oe>>2]=ue;be=a+131084+((te|1)<<2)|0;ke=k[a+1310736+(fe+4<<2)>>2]|0;if((k[be>>2]|0)<(ke|0))k[be>>2]=ke;de=a+131084+((te|2)<<2)|0;we=k[a+1310736+(fe+5<<2)>>2]|0;if((k[de>>2]|0)>(we|0))k[de>>2]=we;_e=a+131084+((te|3)<<2)|0;ve=k[a+1310736+(fe+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Q>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Q>>2]|0));l=0}else l=0}}m=yi;return l|0}function Wf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}Le=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L<<2)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+2>>0]|0)+(h[fi+1>>0]|0)+(h[fi+3>>0]|0)|0)>(Le|0)){Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;xe=a+1310736+(Ie+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}else{b[ui>>1]=0;pi=mi}}while(0);ze=ze+1|0;K=fi+4|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+8|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function jf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}Le=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L<<2)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+2>>0]|0)+(h[fi+1>>0]|0)+(h[fi+3>>0]|0)|0)>(Le|0)){b[ui>>1]=0;pi=mi}else{Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;xe=a+1310736+(Ie+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}}while(0);ze=ze+1|0;K=fi+4|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+8|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function Kf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L*3|0)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+1>>0]|0)+(h[fi>>0]|0)+(h[fi+2>>0]|0)|0)>(xe|0)){Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}else{b[ui>>1]=0;pi=mi}}while(0);ze=ze+1|0;K=fi+3|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+6|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function Xf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L*3|0)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+1>>0]|0)+(h[fi>>0]|0)+(h[fi+2>>0]|0)|0)>(xe|0)){b[ui>>1]=0;pi=mi}else{Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}}while(0);ze=ze+1|0;K=fi+3|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+6|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function Gf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L<<2)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+1>>0]|0)+(h[fi>>0]|0)+(h[fi+2>>0]|0)|0)>(xe|0)){Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}else{b[ui>>1]=0;pi=mi}}while(0);ze=ze+1|0;K=fi+4|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+8|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function qf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0;gi=m;m=m+16|0;if((m|0)>=(p|0))he();ci=gi;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){Ue=0;ai=t;ni=t+((ce(o,i)|0)<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(i|0))break;else{ai=ai+2|0;ni=ni+2|0}}}xe=f*3|0;u=i+-1|0;if((r|0)>0){Ye=0;li=t;si=t+(u<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(r|0))break;else{li=li+(i<<1)|0;si=si+(i<<1)|0}}}D=a+1179664|0;L=i+1|0;U=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){Z=(u|0)>1;Xe=1;ii=e+(L<<2)|0;ti=t+(L<<1)|0;vi=0;i:while(1){if(Z){ze=1;fi=ii;ui=ti;mi=vi;while(1){do{if(((h[fi+1>>0]|0)+(h[fi>>0]|0)+(h[fi+2>>0]|0)|0)>(xe|0)){b[ui>>1]=0;pi=mi}else{Se=b[ui+(U<<1)>>1]|0;if(Se<<16>>16>0){b[ui>>1]=Se;ge=(Se<<16>>16)*7|0;ye=a+1310736+(ge+-7<<2)|0;k[ye>>2]=(k[ye>>2]|0)+1;Fe=a+1310736+(ge+-6<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+ze;Ae=a+1310736+(ge+-5<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Xe;k[a+1310736+(ge+-1<<2)>>2]=Xe;pi=mi;break}Te=b[ui+(n<<1)>>1]|0;Oe=Te<<16>>16;Me=b[ui+(s<<1)>>1]|0;Re=Me<<16>>16;Ne=Me<<16>>16>0;if(Te<<16>>16<=0){if(Ne){b[ui>>1]=Me;R=Re*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+ze;C=a+1310736+(R+-5<<2)|0;k[C>>2]=(k[C>>2]|0)+Xe;I=a+1310736+(R+-3<<2)|0;if((k[I>>2]|0)<(ze|0))k[I>>2]=ze;k[a+1310736+(R+-1<<2)>>2]=Xe;pi=mi;break}x=b[ui+-2>>1]|0;if(x<<16>>16>0){b[ui>>1]=x;B=(x<<16>>16)*7|0;H=a+1310736+(B+-7<<2)|0;k[H>>2]=(k[H>>2]|0)+1;Y=a+1310736+(B+-6<<2)|0;k[Y>>2]=(k[Y>>2]|0)+ze;z=a+1310736+(B+-5<<2)|0;k[z>>2]=(k[z>>2]|0)+Xe;V=a+1310736+(B+-3<<2)|0;if((k[V>>2]|0)>=(ze|0)){pi=mi;break}k[V>>2]=ze;pi=mi;break}else{W=mi+1|0;if((mi|0)>32767)break i;b[ui>>1]=W;k[a+1179664+(mi<<2)>>2]=W<<16>>16;j=mi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=ze;k[a+1310736+(j+2<<2)>>2]=Xe;k[a+1310736+(j+3<<2)>>2]=ze;k[a+1310736+(j+4<<2)>>2]=ze;k[a+1310736+(j+5<<2)>>2]=Xe;k[a+1310736+(j+6<<2)>>2]=Xe;pi=W;break}}if(Ne){Pe=k[a+1179664+(Oe+-1<<2)>>2]|0;De=k[a+1179664+(Re+-1<<2)>>2]|0;if((Pe|0)>(De|0)){b[ui>>1]=De;if((mi|0)>0){Ze=0;bi=D;while(1){if((k[bi>>2]|0)==(Pe|0))k[bi>>2]=De;Ze=Ze+1|0;if((Ze|0)>=(mi|0)){Ce=De;break}else bi=bi+4|0}}else Ce=De}else{b[ui>>1]=Pe;if((Pe|0)<(De|0)&(mi|0)>0){Qe=0;ki=D;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Pe;Qe=Qe+1|0;if((Qe|0)>=(mi|0)){Ce=Pe;break}else ki=ki+4|0}}else Ce=Pe}Ie=(Ce<<16>>16)*7|0;Le=a+1310736+(Ie+-7<<2)|0;k[Le>>2]=(k[Le>>2]|0)+1;Be=a+1310736+(Ie+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+ze;He=a+1310736+(Ie+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Xe;k[a+1310736+(Ie+-1<<2)>>2]=Xe;pi=mi;break}c=b[ui+-2>>1]|0;if(c<<16>>16<=0){b[ui>>1]=Te;F=Oe*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+ze;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Xe;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(ze|0))k[M>>2]=ze;k[a+1310736+(F+-1<<2)>>2]=Xe;pi=mi;break}d=k[a+1179664+(Oe+-1<<2)>>2]|0;w=k[a+1179664+((c<<16>>16)+-1<<2)>>2]|0;if((d|0)>(w|0)){b[ui>>1]=w;if((mi|0)>0){$e=0;hi=D;while(1){if((k[hi>>2]|0)==(d|0))k[hi>>2]=w;$e=$e+1|0;if(($e|0)>=(mi|0)){_=w;break}else hi=hi+4|0}}else _=w}else{b[ui>>1]=d;if((d|0)<(w|0)&(mi|0)>0){ei=0;di=D;while(1){if((k[di>>2]|0)==(w|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(mi|0)){_=d;break}else di=di+4|0}}else _=d}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+ze;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Xe;pi=mi}}while(0);ze=ze+1|0;K=fi+4|0;X=ui+2|0;if((ze|0)>=(u|0)){ri=K;oi=X;Ei=pi;break}else{fi=K;ui=X;mi=pi}}}else{ri=ii;oi=ti;Ei=vi}Xe=Xe+1|0;if((Xe|0)>=(o|0)){_i=Ei;Si=52;break e}else{ii=ri+8|0;ti=oi+4|0;vi=Ei}}Yl(3,3904,ci);l=-1}else{_i=0;Si=52}}while(0);if((Si|0)==52){G=a+12|0;if((_i|0)<1)Ge=1;else{Ve=1;qe=1;wi=D;while(1){q=k[wi>>2]|0;if((q|0)==(Ve|0)){J=qe;Je=qe+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Je=qe}k[wi>>2]=J;if((Ve|0)<(_i|0)){Ve=Ve+1|0;qe=Je;wi=wi+4|0}else{Ge=Je;break}}}Q=a+8|0;$=Ge+-1|0;k[Q>>2]=$;if(!$)l=0;else{ut(G|0,0,$<<2|0)|0;ut(a+655376|0,0,$<<4|0)|0;if((Ge|0)>1){We=0;do{ee=We<<2;k[a+131084+(ee<<2)>>2]=i;k[a+131084+((ee|1)<<2)>>2]=0;k[a+131084+((ee|2)<<2)>>2]=r;k[a+131084+((ee|3)<<2)>>2]=0;We=We+1|0}while((We|0)<(k[Q>>2]|0))}if((_i|0)>0){je=0;do{ie=(k[a+1179664+(je<<2)>>2]|0)+-1|0;re=je*7|0;fe=a+12+(ie<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(re<<2)>>2]|0);ae=ie<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(re+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(re+2<<2)>>2]|0);se=ie<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(re+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(re+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(re+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;we=a+131084+((se|3)<<2)|0;_e=k[a+1310736+(re+6<<2)>>2]|0;if((k[we>>2]|0)<(_e|0))k[we>>2]=_e;je=je+1|0}while((je|0)<(_i|0))}if((k[Q>>2]|0)>0){Ke=0;do{ve=a+12+(Ke<<2)|0;Ee=Ke<<1;me=a+655376+(Ee<<3)|0;v[me>>3]=+v[me>>3]/+(k[ve>>2]|0);pe=a+655376+((Ee|1)<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[ve>>2]|0);Ke=Ke+1|0}while((Ke|0)<(k[Q>>2]|0));l=0}else l=0}}m=gi;return l|0}function Jf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ye=0;li=V;si=V+((ce(de,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=V;ti=V+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}L=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){fe=(w|0)>1;Ge=1;ri=e+((i<<2)+4)|0;oi=V+(o+1<<1)|0;Ei=0;i:while(1){if(fe){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai+1>>0]|0|0)>(f|0)){ge=b[ci+(W<<1)>>1]|0;if(ge<<16>>16>0){b[ci>>1]=ge;ye=(ge<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;x=(I<<16>>16)*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)>=(Ve|0)){Si=pi;break}k[Y>>2]=Ve;Si=pi;break}else{z=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=z;k[a+1179664+(pi<<2)>>2]=z<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=z;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=L;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=L;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=L;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=L;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}else{b[ci>>1]=0;Si=pi}}while(0);Ve=Ve+1|0;K=ai+4|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(de|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=L;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;re=a+12+(ee<<2)|0;k[re>>2]=(k[re>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function Zf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ye=0;li=V;si=V+((ce(de,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=V;ti=V+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}L=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){fe=(w|0)>1;Ge=1;ri=e+((i<<2)+4)|0;oi=V+(o+1<<1)|0;Ei=0;i:while(1){if(fe){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai+1>>0]|0|0)>(f|0)){b[ci>>1]=0;Si=pi}else{ge=b[ci+(W<<1)>>1]|0;if(ge<<16>>16>0){b[ci>>1]=ge;ye=(ge<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;x=(I<<16>>16)*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)>=(Ve|0)){Si=pi;break}k[Y>>2]=Ve;Si=pi;break}else{z=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=z;k[a+1179664+(pi<<2)>>2]=z<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=z;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=L;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=L;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=L;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=L;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}}while(0);Ve=Ve+1|0;K=ai+4|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(de|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=L;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;re=a+12+(ee<<2)|0;k[re>>2]=(k[re>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);Se=a+655376+((me|1)<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function Qf(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ye=0;li=V;si=V+((ce(de,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=V;ti=V+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}L=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){ae=(w|0)>1;Ge=1;ri=e+((i<<2)+4)|0;oi=V+(o+1<<1)|0;Ei=0;i:while(1){if(ae){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai>>0]|0|0)>(f|0)){Se=b[ci+(W<<1)>>1]|0;if(Se<<16>>16>0){b[ci>>1]=Se;ye=(Se<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;x=(I<<16>>16)*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)>=(Ve|0)){Si=pi;break}k[Y>>2]=Ve;Si=pi;break}else{z=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=z;k[a+1179664+(pi<<2)>>2]=z<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=z;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=L;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=L;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=L;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=L;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}else{b[ci>>1]=0;Si=pi}}while(0);Ve=Ve+1|0;K=ai+4|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(de|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=L;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;re=a+12+(ee<<2)|0;k[re>>2]=(k[re>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);fe=ee<<1;le=a+655376+(fe<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((fe|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);ge=a+655376+((me|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function $f(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;V=k[a>>2]|0;de=u+-1|0;if((i|0)>1){Ye=0;li=V;si=V+((ce(de,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=V;ti=V+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}L=a+1179664|0;W=0-o|0;s=1-o|0;t=~o;n=(i<<1)+8|0;e:do{if((de|0)>1){ae=(w|0)>1;Ge=1;ri=e+((i<<2)+4)|0;oi=V+(o+1<<1)|0;Ei=0;i:while(1){if(ae){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai>>0]|0|0)>(f|0)){b[ci>>1]=0;Si=pi}else{Se=b[ci+(W<<1)>>1]|0;if(Se<<16>>16>0){b[ci>>1]=Se;ye=(Se<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;x=(I<<16>>16)*7|0;B=a+1310736+(x+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(x+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(x+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;Y=a+1310736+(x+-3<<2)|0;if((k[Y>>2]|0)>=(Ve|0)){Si=pi;break}k[Y>>2]=Ve;Si=pi;break}else{z=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=z;k[a+1179664+(pi<<2)>>2]=z<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=z;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=L;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=L;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=L;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=L;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}}while(0);Ve=Ve+1|0;K=ai+4|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(de|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=L;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;re=a+12+(ee<<2)|0;k[re>>2]=(k[re>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);fe=ee<<1;le=a+655376+(fe<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((fe|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;we=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(we|0))k[ke>>2]=we;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{Ee=a+12+(Xe<<2)|0;me=Xe<<1;pe=a+655376+(me<<3)|0;v[pe>>3]=+v[pe>>3]/+(k[Ee>>2]|0);ge=a+655376+((me|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[Ee>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function ea(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){Ye=0;li=W;si=W+((ce(we,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=W;ti=W+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}x=a+1179664|0;Y=0-o|0;s=1-o|0;t=~o;n=i+4|0;e:do{if((we|0)>1){re=(w|0)>1;Ge=1;ri=e+((i<<1)+2)|0;oi=W+(o+1<<1)|0;Ei=0;i:while(1){if(re){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai>>0]|0|0)>(f|0)){Ee=b[ci+(Y<<1)>>1]|0;if(Ee<<16>>16>0){b[ci>>1]=Ee;ye=(Ee<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;L=(I<<16>>16)*7|0;B=a+1310736+(L+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(L+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(L+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;z=a+1310736+(L+-3<<2)|0;if((k[z>>2]|0)>=(Ve|0)){Si=pi;break}k[z>>2]=Ve;Si=pi;break}else{V=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=V;k[a+1179664+(pi<<2)>>2]=V<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=V;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=x;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=x;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=x;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=x;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}else{b[ci>>1]=0;Si=pi}}while(0);Ve=Ve+1|0;K=ai+2|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(we|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=x;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;fe=a+12+(ee<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{me=a+12+(Xe<<2)|0;pe=Xe<<1;Se=a+655376+(pe<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[me>>2]|0);ge=a+655376+((pe|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[me>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function ia(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;yi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=yi;o=(i|0)/2|0;u=(r|0)/2|0;W=k[a>>2]|0;we=u+-1|0;if((i|0)>1){Ye=0;li=W;si=W+((ce(we,o)|0)<<1)|0;while(1){b[si>>1]=0;b[li>>1]=0;Ye=Ye+1|0;if((Ye|0)>=(o|0))break;else{li=li+2|0;si=si+2|0}}}w=o+-1|0;if((r|0)>1){ze=0;ni=W;ti=W+(w<<1)|0;while(1){b[ti>>1]=0;b[ni>>1]=0;ze=ze+1|0;if((ze|0)>=(u|0))break;else{ni=ni+(o<<1)|0;ti=ti+(o<<1)|0}}}x=a+1179664|0;Y=0-o|0;s=1-o|0;t=~o;n=i+4|0;e:do{if((we|0)>1){re=(w|0)>1;Ge=1;ri=e+((i<<1)+2)|0;oi=W+(o+1<<1)|0;Ei=0;i:while(1){if(re){Ve=1;ai=ri;ci=oi;pi=Ei;while(1){do{if((h[ai>>0]|0|0)>(f|0)){b[ci>>1]=0;Si=pi}else{Ee=b[ci+(Y<<1)>>1]|0;if(Ee<<16>>16>0){b[ci>>1]=Ee;ye=(Ee<<16>>16)*7|0;Fe=a+1310736+(ye+-7<<2)|0;k[Fe>>2]=(k[Fe>>2]|0)+1;Ae=a+1310736+(ye+-6<<2)|0;k[Ae>>2]=(k[Ae>>2]|0)+Ve;Te=a+1310736+(ye+-5<<2)|0;k[Te>>2]=(k[Te>>2]|0)+Ge;k[a+1310736+(ye+-1<<2)>>2]=Ge;Si=pi;break}Oe=b[ci+(s<<1)>>1]|0;Me=Oe<<16>>16;Re=b[ci+(t<<1)>>1]|0;Ne=Re<<16>>16;Pe=Re<<16>>16>0;if(Oe<<16>>16<=0){if(Pe){b[ci>>1]=Re;R=Ne*7|0;N=a+1310736+(R+-7<<2)|0;k[N>>2]=(k[N>>2]|0)+1;P=a+1310736+(R+-6<<2)|0;k[P>>2]=(k[P>>2]|0)+Ve;D=a+1310736+(R+-5<<2)|0;k[D>>2]=(k[D>>2]|0)+Ge;C=a+1310736+(R+-3<<2)|0;if((k[C>>2]|0)<(Ve|0))k[C>>2]=Ve;k[a+1310736+(R+-1<<2)>>2]=Ge;Si=pi;break}I=b[ci+-2>>1]|0;if(I<<16>>16>0){b[ci>>1]=I;L=(I<<16>>16)*7|0;B=a+1310736+(L+-7<<2)|0;k[B>>2]=(k[B>>2]|0)+1;H=a+1310736+(L+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ve;U=a+1310736+(L+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ge;z=a+1310736+(L+-3<<2)|0;if((k[z>>2]|0)>=(Ve|0)){Si=pi;break}k[z>>2]=Ve;Si=pi;break}else{V=pi+1|0;if((pi|0)>32767)break i;b[ci>>1]=V;k[a+1179664+(pi<<2)>>2]=V<<16>>16;j=pi*7|0;k[a+1310736+(j<<2)>>2]=1;k[a+1310736+(j+1<<2)>>2]=Ve;k[a+1310736+(j+2<<2)>>2]=Ge;k[a+1310736+(j+3<<2)>>2]=Ve;k[a+1310736+(j+4<<2)>>2]=Ve;k[a+1310736+(j+5<<2)>>2]=Ge;k[a+1310736+(j+6<<2)>>2]=Ge;Si=V;break}}if(Pe){De=k[a+1179664+(Me+-1<<2)>>2]|0;Ce=k[a+1179664+(Ne+-1<<2)>>2]|0;if((De|0)>(Ce|0)){b[ci>>1]=Ce;if((pi|0)>0){Qe=0;ki=x;while(1){if((k[ki>>2]|0)==(De|0))k[ki>>2]=Ce;Qe=Qe+1|0;if((Qe|0)>=(pi|0)){Ie=Ce;break}else ki=ki+4|0}}else Ie=Ce}else{b[ci>>1]=De;if((De|0)<(Ce|0)&(pi|0)>0){$e=0;hi=x;while(1){if((k[hi>>2]|0)==(Ce|0))k[hi>>2]=De;$e=$e+1|0;if(($e|0)>=(pi|0)){Ie=De;break}else hi=hi+4|0}}else Ie=De}Le=(Ie<<16>>16)*7|0;xe=a+1310736+(Le+-7<<2)|0;k[xe>>2]=(k[xe>>2]|0)+1;Be=a+1310736+(Le+-6<<2)|0;k[Be>>2]=(k[Be>>2]|0)+Ve;He=a+1310736+(Le+-5<<2)|0;k[He>>2]=(k[He>>2]|0)+Ge;k[a+1310736+(Le+-1<<2)>>2]=Ge;Si=pi;break}Ue=b[ci+-2>>1]|0;if(Ue<<16>>16<=0){b[ci>>1]=Oe;F=Me*7|0;A=a+1310736+(F+-7<<2)|0;k[A>>2]=(k[A>>2]|0)+1;T=a+1310736+(F+-6<<2)|0;k[T>>2]=(k[T>>2]|0)+Ve;O=a+1310736+(F+-5<<2)|0;k[O>>2]=(k[O>>2]|0)+Ge;M=a+1310736+(F+-4<<2)|0;if((k[M>>2]|0)>(Ve|0))k[M>>2]=Ve;k[a+1310736+(F+-1<<2)>>2]=Ge;Si=pi;break}c=k[a+1179664+(Me+-1<<2)>>2]|0;d=k[a+1179664+((Ue<<16>>16)+-1<<2)>>2]|0;if((c|0)>(d|0)){b[ci>>1]=d;if((pi|0)>0){ei=0;di=x;while(1){if((k[di>>2]|0)==(c|0))k[di>>2]=d;ei=ei+1|0;if((ei|0)>=(pi|0)){_=d;break}else di=di+4|0}}else _=d}else{b[ci>>1]=c;if((c|0)<(d|0)&(pi|0)>0){ii=0;wi=x;while(1){if((k[wi>>2]|0)==(d|0))k[wi>>2]=c;ii=ii+1|0;if((ii|0)>=(pi|0)){_=c;break}else wi=wi+4|0}}else _=c}E=(_<<16>>16)*7|0;S=a+1310736+(E+-7<<2)|0;k[S>>2]=(k[S>>2]|0)+1;g=a+1310736+(E+-6<<2)|0;k[g>>2]=(k[g>>2]|0)+Ve;y=a+1310736+(E+-5<<2)|0;k[y>>2]=(k[y>>2]|0)+Ge;Si=pi}}while(0);Ve=Ve+1|0;K=ai+2|0;X=ci+2|0;if((Ve|0)>=(w|0)){fi=K;ui=X;mi=Si;break}else{ai=K;ci=X;pi=Si}}}else{fi=ri;ui=oi;mi=Ei}Ge=Ge+1|0;if((Ge|0)>=(we|0)){vi=mi;gi=52;break e}else{ri=fi+n|0;oi=ui+4|0;Ei=mi}}Yl(3,3904,bi);l=-1}else{vi=0;gi=52}}while(0);if((gi|0)==52){G=a+12|0;if((vi|0)<1)qe=1;else{We=1;Je=1;_i=x;while(1){q=k[_i>>2]|0;if((q|0)==(We|0)){J=Je;Ze=Je+1|0}else{J=k[a+1179664+(q+-1<<2)>>2]|0;Ze=Je}k[_i>>2]=J;if((We|0)<(vi|0)){We=We+1|0;Je=Ze;_i=_i+4|0}else{qe=Ze;break}}}Z=a+8|0;Q=qe+-1|0;k[Z>>2]=Q;if(!Q)l=0;else{ut(G|0,0,Q<<2|0)|0;ut(a+655376|0,0,Q<<4|0)|0;if((qe|0)>1){je=0;do{$=je<<2;k[a+131084+($<<2)>>2]=o;k[a+131084+(($|1)<<2)>>2]=0;k[a+131084+(($|2)<<2)>>2]=u;k[a+131084+(($|3)<<2)>>2]=0;je=je+1|0}while((je|0)<(k[Z>>2]|0))}if((vi|0)>0){Ke=0;do{ee=(k[a+1179664+(Ke<<2)>>2]|0)+-1|0;ie=Ke*7|0;fe=a+12+(ee<<2)|0;k[fe>>2]=(k[fe>>2]|0)+(k[a+1310736+(ie<<2)>>2]|0);ae=ee<<1;le=a+655376+(ae<<3)|0;v[le>>3]=+v[le>>3]+ +(k[a+1310736+(ie+1<<2)>>2]|0);ne=a+655376+((ae|1)<<3)|0;v[ne>>3]=+v[ne>>3]+ +(k[a+1310736+(ie+2<<2)>>2]|0);se=ee<<2;te=a+131084+(se<<2)|0;oe=k[a+1310736+(ie+3<<2)>>2]|0;if((k[te>>2]|0)>(oe|0))k[te>>2]=oe;ue=a+131084+((se|1)<<2)|0;be=k[a+1310736+(ie+4<<2)>>2]|0;if((k[ue>>2]|0)<(be|0))k[ue>>2]=be;ke=a+131084+((se|2)<<2)|0;de=k[a+1310736+(ie+5<<2)>>2]|0;if((k[ke>>2]|0)>(de|0))k[ke>>2]=de;_e=a+131084+((se|3)<<2)|0;ve=k[a+1310736+(ie+6<<2)>>2]|0;if((k[_e>>2]|0)<(ve|0))k[_e>>2]=ve;Ke=Ke+1|0}while((Ke|0)<(vi|0))}if((k[Z>>2]|0)>0){Xe=0;do{me=a+12+(Xe<<2)|0;pe=Xe<<1;Se=a+655376+(pe<<3)|0;v[Se>>3]=+v[Se>>3]/+(k[me>>2]|0);ge=a+655376+((pe|1)<<3)|0;v[ge>>3]=+v[ge>>3]/+(k[me>>2]|0);Xe=Xe+1|0}while((Xe|0)<(k[Z>>2]|0));l=0}else l=0}}m=yi;return l|0}function ra(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}xe=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(xe<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){q=(xe|0)>1;Ke=1;ei=e+(C<<1)|0;si=t+(C<<1)|0;_i=0;i:while(1){if(q){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri+1>>0]|0|0)>(f|0)){oe=b[oi+(B<<1)>>1]|0;if(oe<<16>>16>0){b[oi>>1]=oe;pe=(oe<<16>>16)*7|0;Se=a+1310736+(pe+-7<<2)|0;k[Se>>2]=(k[Se>>2]|0)+1;ge=a+1310736+(pe+-6<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ye;ye=a+1310736+(pe+-5<<2)|0;k[ye>>2]=(k[ye>>2]|0)+Ke;k[a+1310736+(pe+-1<<2)>>2]=Ke;mi=Ei;break}Fe=b[oi+(n<<1)>>1]|0;Ae=Fe<<16>>16;Te=b[oi+(s<<1)>>1]|0;Oe=Te<<16>>16;Me=Te<<16>>16>0;if(Fe<<16>>16<=0){if(Me){b[oi>>1]=Te;O=Oe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;N=a+1310736+(O+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ye;P=a+1310736+(O+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(O+-3<<2)|0;if((k[D>>2]|0)<(Ye|0))k[D>>2]=Ye;k[a+1310736+(O+-1<<2)>>2]=Ke;mi=Ei;break}I=b[oi+-2>>1]|0;if(I<<16>>16>0){b[oi>>1]=I;L=(I<<16>>16)*7|0;x=a+1310736+(L+-7<<2)|0;k[x>>2]=(k[x>>2]|0)+1;H=a+1310736+(L+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ye;U=a+1310736+(L+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(L+-3<<2)|0;if((k[Y>>2]|0)>=(Ye|0)){mi=Ei;break}k[Y>>2]=Ye;mi=Ei;break}else{z=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=z;k[a+1179664+(Ei<<2)>>2]=z<<16>>16;V=Ei*7|0;k[a+1310736+(V<<2)>>2]=1;k[a+1310736+(V+1<<2)>>2]=Ye;k[a+1310736+(V+2<<2)>>2]=Ke;k[a+1310736+(V+3<<2)>>2]=Ye;k[a+1310736+(V+4<<2)>>2]=Ye;k[a+1310736+(V+5<<2)>>2]=Ke;k[a+1310736+(V+6<<2)>>2]=Ke;mi=z;break}}if(Me){Re=k[a+1179664+(Ae+-1<<2)>>2]|0;Ne=k[a+1179664+(Oe+-1<<2)>>2]|0;if((Re|0)>(Ne|0)){b[oi>>1]=Ne;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Re|0))k[ci>>2]=Ne;Je=Je+1|0;if((Je|0)>=(Ei|0)){Pe=Ne;break}else ci=ci+4|0}}else Pe=Ne}else{b[oi>>1]=Re;if((Re|0)<(Ne|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Ne|0))k[bi>>2]=Re;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Pe=Re;break}else bi=bi+4|0}}else Pe=Re}De=(Pe<<16>>16)*7|0;Ce=a+1310736+(De+-7<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+1;Ie=a+1310736+(De+-6<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ye;Le=a+1310736+(De+-5<<2)|0;k[Le>>2]=(k[Le>>2]|0)+Ke;k[a+1310736+(De+-1<<2)>>2]=Ke;mi=Ei;break}Be=b[oi+-2>>1]|0;if(Be<<16>>16<=0){b[oi>>1]=Fe;g=Ae*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Ye;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(g+-4<<2)|0;if((k[T>>2]|0)>(Ye|0))k[T>>2]=Ye;k[a+1310736+(g+-1<<2)>>2]=Ke;mi=Ei;break}u=k[a+1179664+(Ae+-1<<2)>>2]|0;c=k[a+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((u|0)>(c|0)){b[oi>>1]=c;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(u|0))k[ki>>2]=c;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){d=c;break}else ki=ki+4|0}}else d=c}else{b[oi>>1]=u;if((u|0)<(c|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(c|0))k[hi>>2]=u;$e=$e+1|0;if(($e|0)>=(Ei|0)){d=u;break}else hi=hi+4|0}}else d=u}w=(d<<16>>16)*7|0;_=a+1310736+(w+-7<<2)|0;k[_>>2]=(k[_>>2]|0)+1;E=a+1310736+(w+-6<<2)|0;k[E>>2]=(k[E>>2]|0)+Ye;S=a+1310736+(w+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;mi=Ei}else{b[oi>>1]=0;mi=Ei}}while(0);Ye=Ye+1|0;W=ri+2|0;j=oi+2|0;if((Ye|0)>=(xe|0)){ii=W;ti=j;vi=mi;break}else{ri=W;oi=j;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+4|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){K=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){X=k[di>>2]|0;if((X|0)==(ze|0)){G=Ge;qe=Ge+1|0}else{G=k[a+1179664+(X+-1<<2)>>2]|0;qe=Ge}k[di>>2]=G;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}J=a+8|0;Z=Xe+-1|0;k[J>>2]=Z;if(!Z)l=0;else{ut(K|0,0,Z<<2|0)|0;ut(a+655376|0,0,Z<<4|0)|0;if((Xe|0)>1){Ve=0;do{Q=Ve<<2;k[a+131084+(Q<<2)>>2]=i;k[a+131084+((Q|1)<<2)>>2]=0;k[a+131084+((Q|2)<<2)>>2]=r;k[a+131084+((Q|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[J>>2]|0))}if((wi|0)>0){We=0;do{$=(k[a+1179664+(We<<2)>>2]|0)+-1|0;ee=We*7|0;ie=a+12+($<<2)|0;k[ie>>2]=(k[ie>>2]|0)+(k[a+1310736+(ee<<2)>>2]|0);re=$<<1;fe=a+655376+(re<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+(ee+1<<2)>>2]|0);ae=a+655376+((re|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+(ee+2<<2)>>2]|0);le=$<<2;ne=a+131084+(le<<2)|0;se=k[a+1310736+(ee+3<<2)>>2]|0;if((k[ne>>2]|0)>(se|0))k[ne>>2]=se;te=a+131084+((le|1)<<2)|0;ue=k[a+1310736+(ee+4<<2)>>2]|0;if((k[te>>2]|0)<(ue|0))k[te>>2]=ue;be=a+131084+((le|2)<<2)|0;ke=k[a+1310736+(ee+5<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((le|3)<<2)|0;we=k[a+1310736+(ee+6<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;We=We+1|0}while((We|0)<(wi|0))}if((k[J>>2]|0)>0){je=0;do{_e=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[_e>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);je=je+1|0}while((je|0)<(k[J>>2]|0));l=0}else l=0}}m=Si;return l|0}function fa(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}xe=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(xe<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;C=i+1|0;B=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){q=(xe|0)>1;Ke=1;ei=e+(C<<1)|0;si=t+(C<<1)|0;_i=0;i:while(1){if(q){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri+1>>0]|0|0)>(f|0)){b[oi>>1]=0;mi=Ei}else{oe=b[oi+(B<<1)>>1]|0;if(oe<<16>>16>0){b[oi>>1]=oe;pe=(oe<<16>>16)*7|0;Se=a+1310736+(pe+-7<<2)|0;k[Se>>2]=(k[Se>>2]|0)+1;ge=a+1310736+(pe+-6<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ye;ye=a+1310736+(pe+-5<<2)|0;k[ye>>2]=(k[ye>>2]|0)+Ke;k[a+1310736+(pe+-1<<2)>>2]=Ke;mi=Ei;break}Fe=b[oi+(n<<1)>>1]|0;Ae=Fe<<16>>16;Te=b[oi+(s<<1)>>1]|0;Oe=Te<<16>>16;Me=Te<<16>>16>0;if(Fe<<16>>16<=0){if(Me){b[oi>>1]=Te;O=Oe*7|0;M=a+1310736+(O+-7<<2)|0;k[M>>2]=(k[M>>2]|0)+1;N=a+1310736+(O+-6<<2)|0;k[N>>2]=(k[N>>2]|0)+Ye;P=a+1310736+(O+-5<<2)|0;k[P>>2]=(k[P>>2]|0)+Ke;D=a+1310736+(O+-3<<2)|0;if((k[D>>2]|0)<(Ye|0))k[D>>2]=Ye;k[a+1310736+(O+-1<<2)>>2]=Ke;mi=Ei;break}I=b[oi+-2>>1]|0;if(I<<16>>16>0){b[oi>>1]=I;L=(I<<16>>16)*7|0;x=a+1310736+(L+-7<<2)|0;k[x>>2]=(k[x>>2]|0)+1;H=a+1310736+(L+-6<<2)|0;k[H>>2]=(k[H>>2]|0)+Ye;U=a+1310736+(L+-5<<2)|0;k[U>>2]=(k[U>>2]|0)+Ke;Y=a+1310736+(L+-3<<2)|0;if((k[Y>>2]|0)>=(Ye|0)){mi=Ei;break}k[Y>>2]=Ye;mi=Ei;break}else{z=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=z;k[a+1179664+(Ei<<2)>>2]=z<<16>>16;V=Ei*7|0;k[a+1310736+(V<<2)>>2]=1;k[a+1310736+(V+1<<2)>>2]=Ye;k[a+1310736+(V+2<<2)>>2]=Ke;k[a+1310736+(V+3<<2)>>2]=Ye;k[a+1310736+(V+4<<2)>>2]=Ye;k[a+1310736+(V+5<<2)>>2]=Ke;k[a+1310736+(V+6<<2)>>2]=Ke;mi=z;break}}if(Me){Re=k[a+1179664+(Ae+-1<<2)>>2]|0;Ne=k[a+1179664+(Oe+-1<<2)>>2]|0;if((Re|0)>(Ne|0)){b[oi>>1]=Ne;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Re|0))k[ci>>2]=Ne;Je=Je+1|0;if((Je|0)>=(Ei|0)){Pe=Ne;break}else ci=ci+4|0}}else Pe=Ne}else{b[oi>>1]=Re;if((Re|0)<(Ne|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Ne|0))k[bi>>2]=Re;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Pe=Re;break}else bi=bi+4|0}}else Pe=Re}De=(Pe<<16>>16)*7|0;Ce=a+1310736+(De+-7<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+1;Ie=a+1310736+(De+-6<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ye;Le=a+1310736+(De+-5<<2)|0;k[Le>>2]=(k[Le>>2]|0)+Ke;k[a+1310736+(De+-1<<2)>>2]=Ke;mi=Ei;break}Be=b[oi+-2>>1]|0;if(Be<<16>>16<=0){b[oi>>1]=Fe;g=Ae*7|0;y=a+1310736+(g+-7<<2)|0;k[y>>2]=(k[y>>2]|0)+1;F=a+1310736+(g+-6<<2)|0;k[F>>2]=(k[F>>2]|0)+Ye;A=a+1310736+(g+-5<<2)|0;k[A>>2]=(k[A>>2]|0)+Ke;T=a+1310736+(g+-4<<2)|0;if((k[T>>2]|0)>(Ye|0))k[T>>2]=Ye;k[a+1310736+(g+-1<<2)>>2]=Ke;mi=Ei;break}u=k[a+1179664+(Ae+-1<<2)>>2]|0;c=k[a+1179664+((Be<<16>>16)+-1<<2)>>2]|0;if((u|0)>(c|0)){b[oi>>1]=c;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(u|0))k[ki>>2]=c;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){d=c;break}else ki=ki+4|0}}else d=c}else{b[oi>>1]=u;if((u|0)<(c|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(c|0))k[hi>>2]=u;$e=$e+1|0;if(($e|0)>=(Ei|0)){d=u;break}else hi=hi+4|0}}else d=u}w=(d<<16>>16)*7|0;_=a+1310736+(w+-7<<2)|0;k[_>>2]=(k[_>>2]|0)+1;E=a+1310736+(w+-6<<2)|0;k[E>>2]=(k[E>>2]|0)+Ye;S=a+1310736+(w+-5<<2)|0;k[S>>2]=(k[S>>2]|0)+Ke;mi=Ei}}while(0);Ye=Ye+1|0;W=ri+2|0;j=oi+2|0;if((Ye|0)>=(xe|0)){ii=W;ti=j;vi=mi;break}else{ri=W;oi=j;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+4|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){K=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){X=k[di>>2]|0;if((X|0)==(ze|0)){G=Ge;qe=Ge+1|0}else{G=k[a+1179664+(X+-1<<2)>>2]|0;qe=Ge}k[di>>2]=G;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}J=a+8|0;Z=Xe+-1|0;k[J>>2]=Z;if(!Z)l=0;else{ut(K|0,0,Z<<2|0)|0;ut(a+655376|0,0,Z<<4|0)|0;if((Xe|0)>1){Ve=0;do{Q=Ve<<2;k[a+131084+(Q<<2)>>2]=i;k[a+131084+((Q|1)<<2)>>2]=0;k[a+131084+((Q|2)<<2)>>2]=r;k[a+131084+((Q|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[J>>2]|0))}if((wi|0)>0){We=0;do{$=(k[a+1179664+(We<<2)>>2]|0)+-1|0;ee=We*7|0;ie=a+12+($<<2)|0;k[ie>>2]=(k[ie>>2]|0)+(k[a+1310736+(ee<<2)>>2]|0);re=$<<1;fe=a+655376+(re<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+(ee+1<<2)>>2]|0);ae=a+655376+((re|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+(ee+2<<2)>>2]|0);le=$<<2;ne=a+131084+(le<<2)|0;se=k[a+1310736+(ee+3<<2)>>2]|0;if((k[ne>>2]|0)>(se|0))k[ne>>2]=se;te=a+131084+((le|1)<<2)|0;ue=k[a+1310736+(ee+4<<2)>>2]|0;if((k[te>>2]|0)<(ue|0))k[te>>2]=ue;be=a+131084+((le|2)<<2)|0;ke=k[a+1310736+(ee+5<<2)>>2]|0;if((k[be>>2]|0)>(ke|0))k[be>>2]=ke;de=a+131084+((le|3)<<2)|0;we=k[a+1310736+(ee+6<<2)>>2]|0;if((k[de>>2]|0)<(we|0))k[de>>2]=we;We=We+1|0}while((We|0)<(wi|0))}if((k[J>>2]|0)>0){je=0;do{_e=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[_e>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);je=je+1|0}while((je|0)<(k[J>>2]|0));l=0}else l=0}}m=Si;return l|0}function aa(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}Le=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(Le<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){G=(Le|0)>1;Ke=1;ei=e+(D<<1)|0;si=t+(D<<1)|0;_i=0;i:while(1){if(G){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri>>0]|0|0)>(f|0)){ne=b[oi+(x<<1)>>1]|0;if(ne<<16>>16>0){b[oi>>1]=ne;_e=(ne<<16>>16)*7|0;pe=a+1310736+(_e+-7<<2)|0;k[pe>>2]=(k[pe>>2]|0)+1;Se=a+1310736+(_e+-6<<2)|0;k[Se>>2]=(k[Se>>2]|0)+Ye;ge=a+1310736+(_e+-5<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ke;k[a+1310736+(_e+-1<<2)>>2]=Ke;mi=Ei;break}ye=b[oi+(n<<1)>>1]|0;Fe=ye<<16>>16;Ae=b[oi+(s<<1)>>1]|0;Te=Ae<<16>>16;Oe=Ae<<16>>16>0;if(ye<<16>>16<=0){if(Oe){b[oi>>1]=Ae;T=Te*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ye;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(Ye|0))k[P>>2]=Ye;k[a+1310736+(T+-1<<2)>>2]=Ke;mi=Ei;break}C=b[oi+-2>>1]|0;if(C<<16>>16>0){b[oi>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+Ye;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Ke;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(Ye|0)){mi=Ei;break}k[U>>2]=Ye;mi=Ei;break}else{Y=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=Y;k[a+1179664+(Ei<<2)>>2]=Y<<16>>16;z=Ei*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=Ye;k[a+1310736+(z+2<<2)>>2]=Ke;k[a+1310736+(z+3<<2)>>2]=Ye;k[a+1310736+(z+4<<2)>>2]=Ye;k[a+1310736+(z+5<<2)>>2]=Ke;k[a+1310736+(z+6<<2)>>2]=Ke;mi=Y;break}}if(Oe){Me=k[a+1179664+(Fe+-1<<2)>>2]|0;Re=k[a+1179664+(Te+-1<<2)>>2]|0;if((Me|0)>(Re|0)){b[oi>>1]=Re;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Me|0))k[ci>>2]=Re;Je=Je+1|0;if((Je|0)>=(Ei|0)){Ne=Re;break}else ci=ci+4|0}}else Ne=Re}else{b[oi>>1]=Me;if((Me|0)<(Re|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Re|0))k[bi>>2]=Me;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Ne=Me;break}else bi=bi+4|0}}else Ne=Me}Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ye;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ke;k[a+1310736+(Pe+-1<<2)>>2]=Ke;mi=Ei;break}xe=b[oi+-2>>1]|0;if(xe<<16>>16<=0){b[oi>>1]=ye;S=Fe*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+Ye;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Ke;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(Ye|0))k[A>>2]=Ye;k[a+1310736+(S+-1<<2)>>2]=Ke;mi=Ei;break}Be=k[a+1179664+(Fe+-1<<2)>>2]|0;u=k[a+1179664+((xe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){b[oi>>1]=u;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(Be|0))k[ki>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){c=u;break}else ki=ki+4|0}}else c=u}else{b[oi>>1]=Be;if((Be|0)<(u|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(u|0))k[hi>>2]=Be;$e=$e+1|0;if(($e|0)>=(Ei|0)){c=Be;break}else hi=hi+4|0}}else c=Be}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Ye;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Ke;mi=Ei}else{b[oi>>1]=0;mi=Ei}}while(0);Ye=Ye+1|0;V=ri+2|0;W=oi+2|0;if((Ye|0)>=(Le|0)){ii=V;ti=W;vi=mi;break}else{ri=V;oi=W;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+4|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){j=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){K=k[di>>2]|0;if((K|0)==(ze|0)){X=Ge;qe=Ge+1|0}else{X=k[a+1179664+(K+-1<<2)>>2]|0;qe=Ge}k[di>>2]=X;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}q=a+8|0;J=Xe+-1|0;k[q>>2]=J;if(!J)l=0;else{ut(j|0,0,J<<2|0)|0;ut(a+655376|0,0,J<<4|0)|0;if((Xe|0)>1){Ve=0;do{Z=Ve<<2;k[a+131084+(Z<<2)>>2]=i;k[a+131084+((Z|1)<<2)>>2]=0;k[a+131084+((Z|2)<<2)>>2]=r;k[a+131084+((Z|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[q>>2]|0))}if((wi|0)>0){We=0;do{Q=(k[a+1179664+(We<<2)>>2]|0)+-1|0;$=We*7|0;ee=a+12+(Q<<2)|0;k[ee>>2]=(k[ee>>2]|0)+(k[a+1310736+($<<2)>>2]|0);ie=Q<<1;re=a+655376+(ie<<3)|0;v[re>>3]=+v[re>>3]+ +(k[a+1310736+($+1<<2)>>2]|0);fe=a+655376+((ie|1)<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+($+2<<2)>>2]|0);ae=Q<<2;le=a+131084+(ae<<2)|0;se=k[a+1310736+($+3<<2)>>2]|0;if((k[le>>2]|0)>(se|0))k[le>>2]=se;te=a+131084+((ae|1)<<2)|0;oe=k[a+1310736+($+4<<2)>>2]|0;if((k[te>>2]|0)<(oe|0))k[te>>2]=oe;ue=a+131084+((ae|2)<<2)|0;be=k[a+1310736+($+5<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((ae|3)<<2)|0;de=k[a+1310736+($+6<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;We=We+1|0}while((We|0)<(wi|0))}if((k[q>>2]|0)>0){je=0;do{we=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[we>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[we>>2]|0);je=je+1|0}while((je|0)<(k[q>>2]|0));l=0}else l=0}}m=Si;return l|0}function la(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}Le=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(Le<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){G=(Le|0)>1;Ke=1;ei=e+(D<<1)|0;si=t+(D<<1)|0;_i=0;i:while(1){if(G){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri>>0]|0|0)>(f|0)){b[oi>>1]=0;mi=Ei}else{ne=b[oi+(x<<1)>>1]|0;if(ne<<16>>16>0){b[oi>>1]=ne;_e=(ne<<16>>16)*7|0;pe=a+1310736+(_e+-7<<2)|0;k[pe>>2]=(k[pe>>2]|0)+1;Se=a+1310736+(_e+-6<<2)|0;k[Se>>2]=(k[Se>>2]|0)+Ye;ge=a+1310736+(_e+-5<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ke;k[a+1310736+(_e+-1<<2)>>2]=Ke;mi=Ei;break}ye=b[oi+(n<<1)>>1]|0;Fe=ye<<16>>16;Ae=b[oi+(s<<1)>>1]|0;Te=Ae<<16>>16;Oe=Ae<<16>>16>0;if(ye<<16>>16<=0){if(Oe){b[oi>>1]=Ae;T=Te*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ye;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(Ye|0))k[P>>2]=Ye;k[a+1310736+(T+-1<<2)>>2]=Ke;mi=Ei;break}C=b[oi+-2>>1]|0;if(C<<16>>16>0){b[oi>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+Ye;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Ke;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(Ye|0)){mi=Ei;break}k[U>>2]=Ye;mi=Ei;break}else{Y=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=Y;k[a+1179664+(Ei<<2)>>2]=Y<<16>>16;z=Ei*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=Ye;k[a+1310736+(z+2<<2)>>2]=Ke;k[a+1310736+(z+3<<2)>>2]=Ye;k[a+1310736+(z+4<<2)>>2]=Ye;k[a+1310736+(z+5<<2)>>2]=Ke;k[a+1310736+(z+6<<2)>>2]=Ke;mi=Y;break}}if(Oe){Me=k[a+1179664+(Fe+-1<<2)>>2]|0;Re=k[a+1179664+(Te+-1<<2)>>2]|0;if((Me|0)>(Re|0)){b[oi>>1]=Re;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Me|0))k[ci>>2]=Re;Je=Je+1|0;if((Je|0)>=(Ei|0)){Ne=Re;break}else ci=ci+4|0}}else Ne=Re}else{b[oi>>1]=Me;if((Me|0)<(Re|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Re|0))k[bi>>2]=Me;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Ne=Me;break}else bi=bi+4|0}}else Ne=Me}Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ye;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ke;k[a+1310736+(Pe+-1<<2)>>2]=Ke;mi=Ei;break}xe=b[oi+-2>>1]|0;if(xe<<16>>16<=0){b[oi>>1]=ye;S=Fe*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+Ye;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Ke;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(Ye|0))k[A>>2]=Ye;k[a+1310736+(S+-1<<2)>>2]=Ke;mi=Ei;break}Be=k[a+1179664+(Fe+-1<<2)>>2]|0;u=k[a+1179664+((xe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){b[oi>>1]=u;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(Be|0))k[ki>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){c=u;break}else ki=ki+4|0}}else c=u}else{b[oi>>1]=Be;if((Be|0)<(u|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(u|0))k[hi>>2]=Be;$e=$e+1|0;if(($e|0)>=(Ei|0)){c=Be;break}else hi=hi+4|0}}else c=Be}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Ye;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Ke;mi=Ei}}while(0);Ye=Ye+1|0;V=ri+2|0;W=oi+2|0;if((Ye|0)>=(Le|0)){ii=V;ti=W;vi=mi;break}else{ri=V;oi=W;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+4|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){j=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){K=k[di>>2]|0;if((K|0)==(ze|0)){X=Ge;qe=Ge+1|0}else{X=k[a+1179664+(K+-1<<2)>>2]|0;qe=Ge}k[di>>2]=X;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}q=a+8|0;J=Xe+-1|0;k[q>>2]=J;if(!J)l=0;else{ut(j|0,0,J<<2|0)|0;ut(a+655376|0,0,J<<4|0)|0;if((Xe|0)>1){Ve=0;do{Z=Ve<<2;k[a+131084+(Z<<2)>>2]=i;k[a+131084+((Z|1)<<2)>>2]=0;k[a+131084+((Z|2)<<2)>>2]=r;k[a+131084+((Z|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[q>>2]|0))}if((wi|0)>0){We=0;do{Q=(k[a+1179664+(We<<2)>>2]|0)+-1|0;$=We*7|0;ee=a+12+(Q<<2)|0;k[ee>>2]=(k[ee>>2]|0)+(k[a+1310736+($<<2)>>2]|0);ie=Q<<1;re=a+655376+(ie<<3)|0;v[re>>3]=+v[re>>3]+ +(k[a+1310736+($+1<<2)>>2]|0);fe=a+655376+((ie|1)<<3)|0;v[fe>>3]=+v[fe>>3]+ +(k[a+1310736+($+2<<2)>>2]|0);ae=Q<<2;le=a+131084+(ae<<2)|0;se=k[a+1310736+($+3<<2)>>2]|0;if((k[le>>2]|0)>(se|0))k[le>>2]=se;te=a+131084+((ae|1)<<2)|0;oe=k[a+1310736+($+4<<2)>>2]|0;if((k[te>>2]|0)<(oe|0))k[te>>2]=oe;ue=a+131084+((ae|2)<<2)|0;be=k[a+1310736+($+5<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((ae|3)<<2)|0;de=k[a+1310736+($+6<<2)>>2]|0;if((k[ke>>2]|0)<(de|0))k[ke>>2]=de;We=We+1|0}while((We|0)<(wi|0))}if((k[q>>2]|0)>0){je=0;do{we=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[we>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[we>>2]|0);je=je+1|0}while((je|0)<(k[q>>2]|0));l=0}else l=0}}m=Si;return l|0}function na(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}Le=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(Le<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){K=(Le|0)>1;Ke=1;ei=e+D|0;si=t+(D<<1)|0;_i=0;i:while(1){if(K){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri>>0]|0|0)>(f|0)){fe=b[oi+(x<<1)>>1]|0;if(fe<<16>>16>0){b[oi>>1]=fe;de=(fe<<16>>16)*7|0;pe=a+1310736+(de+-7<<2)|0;k[pe>>2]=(k[pe>>2]|0)+1;Se=a+1310736+(de+-6<<2)|0;k[Se>>2]=(k[Se>>2]|0)+Ye;ge=a+1310736+(de+-5<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ke;k[a+1310736+(de+-1<<2)>>2]=Ke;mi=Ei;break}ye=b[oi+(n<<1)>>1]|0;Fe=ye<<16>>16;Ae=b[oi+(s<<1)>>1]|0;Te=Ae<<16>>16;Oe=Ae<<16>>16>0;if(ye<<16>>16<=0){if(Oe){b[oi>>1]=Ae;T=Te*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ye;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(Ye|0))k[P>>2]=Ye;k[a+1310736+(T+-1<<2)>>2]=Ke;mi=Ei;break}C=b[oi+-2>>1]|0;if(C<<16>>16>0){b[oi>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+Ye;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Ke;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(Ye|0)){mi=Ei;break}k[U>>2]=Ye;mi=Ei;break}else{Y=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=Y;k[a+1179664+(Ei<<2)>>2]=Y<<16>>16;z=Ei*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=Ye;k[a+1310736+(z+2<<2)>>2]=Ke;k[a+1310736+(z+3<<2)>>2]=Ye;k[a+1310736+(z+4<<2)>>2]=Ye;k[a+1310736+(z+5<<2)>>2]=Ke;k[a+1310736+(z+6<<2)>>2]=Ke;mi=Y;break}}if(Oe){Me=k[a+1179664+(Fe+-1<<2)>>2]|0;Re=k[a+1179664+(Te+-1<<2)>>2]|0;if((Me|0)>(Re|0)){b[oi>>1]=Re;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Me|0))k[ci>>2]=Re;Je=Je+1|0;if((Je|0)>=(Ei|0)){Ne=Re;break}else ci=ci+4|0}}else Ne=Re}else{b[oi>>1]=Me;if((Me|0)<(Re|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Re|0))k[bi>>2]=Me;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Ne=Me;break}else bi=bi+4|0}}else Ne=Me}Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ye;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ke;k[a+1310736+(Pe+-1<<2)>>2]=Ke;mi=Ei;break}xe=b[oi+-2>>1]|0;if(xe<<16>>16<=0){b[oi>>1]=ye;S=Fe*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+Ye;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Ke;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(Ye|0))k[A>>2]=Ye;k[a+1310736+(S+-1<<2)>>2]=Ke;mi=Ei;break}Be=k[a+1179664+(Fe+-1<<2)>>2]|0;u=k[a+1179664+((xe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){b[oi>>1]=u;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(Be|0))k[ki>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){c=u;break}else ki=ki+4|0}}else c=u}else{b[oi>>1]=Be;if((Be|0)<(u|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(u|0))k[hi>>2]=Be;$e=$e+1|0;if(($e|0)>=(Ei|0)){c=Be;break}else hi=hi+4|0}}else c=Be}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Ye;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Ke;mi=Ei}else{b[oi>>1]=0;mi=Ei}}while(0);Ye=Ye+1|0;V=ri+1|0;W=oi+2|0;if((Ye|0)>=(Le|0)){ii=V;ti=W;vi=mi;break}else{ri=V;oi=W;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+2|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){j=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){X=k[di>>2]|0;if((X|0)==(ze|0)){G=Ge;qe=Ge+1|0}else{G=k[a+1179664+(X+-1<<2)>>2]|0;qe=Ge}k[di>>2]=G;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}q=a+8|0;J=Xe+-1|0;k[q>>2]=J;if(!J)l=0;else{ut(j|0,0,J<<2|0)|0;ut(a+655376|0,0,J<<4|0)|0;if((Xe|0)>1){Ve=0;do{Z=Ve<<2;k[a+131084+(Z<<2)>>2]=i;k[a+131084+((Z|1)<<2)>>2]=0;k[a+131084+((Z|2)<<2)>>2]=r;k[a+131084+((Z|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[q>>2]|0))}if((wi|0)>0){We=0;do{Q=(k[a+1179664+(We<<2)>>2]|0)+-1|0;$=We*7|0;ee=a+12+(Q<<2)|0;k[ee>>2]=(k[ee>>2]|0)+(k[a+1310736+($<<2)>>2]|0);ie=Q<<1;re=a+655376+(ie<<3)|0;v[re>>3]=+v[re>>3]+ +(k[a+1310736+($+1<<2)>>2]|0);ae=a+655376+((ie|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+($+2<<2)>>2]|0);le=Q<<2;ne=a+131084+(le<<2)|0;se=k[a+1310736+($+3<<2)>>2]|0;if((k[ne>>2]|0)>(se|0))k[ne>>2]=se;te=a+131084+((le|1)<<2)|0;oe=k[a+1310736+($+4<<2)>>2]|0;if((k[te>>2]|0)<(oe|0))k[te>>2]=oe;ue=a+131084+((le|2)<<2)|0;be=k[a+1310736+($+5<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((le|3)<<2)|0;we=k[a+1310736+($+6<<2)>>2]|0;if((k[ke>>2]|0)<(we|0))k[ke>>2]=we;We=We+1|0}while((We|0)<(wi|0))}if((k[q>>2]|0)>0){je=0;do{_e=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[_e>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);je=je+1|0}while((je|0)<(k[q>>2]|0));l=0}else l=0}}m=Si;return l|0}function sa(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0;Si=m;m=m+16|0;if((m|0)>=(p|0))he();ui=Si;t=k[a>>2]|0;o=r+-1|0;if((i|0)>0){He=0;fi=t;li=t+((ce(o,i)|0)<<1)|0;while(1){b[li>>1]=0;b[fi>>1]=0;He=He+1|0;if((He|0)>=(i|0))break;else{fi=fi+2|0;li=li+2|0}}}Le=i+-1|0;if((r|0)>0){Ue=0;ai=t;ni=t+(Le<<1)|0;while(1){b[ni>>1]=0;b[ai>>1]=0;Ue=Ue+1|0;if((Ue|0)>=(r|0))break;else{ai=ai+(i<<1)|0;ni=ni+(i<<1)|0}}}R=a+1179664|0;D=i+1|0;x=0-i|0;n=1-i|0;s=~i;e:do{if((o|0)>1){K=(Le|0)>1;Ke=1;ei=e+D|0;si=t+(D<<1)|0;_i=0;i:while(1){if(K){Ye=1;ri=ei;oi=si;Ei=_i;while(1){do{if((h[ri>>0]|0|0)>(f|0)){b[oi>>1]=0;mi=Ei}else{fe=b[oi+(x<<1)>>1]|0;if(fe<<16>>16>0){b[oi>>1]=fe;de=(fe<<16>>16)*7|0;pe=a+1310736+(de+-7<<2)|0;k[pe>>2]=(k[pe>>2]|0)+1;Se=a+1310736+(de+-6<<2)|0;k[Se>>2]=(k[Se>>2]|0)+Ye;ge=a+1310736+(de+-5<<2)|0;k[ge>>2]=(k[ge>>2]|0)+Ke;k[a+1310736+(de+-1<<2)>>2]=Ke;mi=Ei;break}ye=b[oi+(n<<1)>>1]|0;Fe=ye<<16>>16;Ae=b[oi+(s<<1)>>1]|0;Te=Ae<<16>>16;Oe=Ae<<16>>16>0;if(ye<<16>>16<=0){if(Oe){b[oi>>1]=Ae;T=Te*7|0;O=a+1310736+(T+-7<<2)|0;k[O>>2]=(k[O>>2]|0)+1;M=a+1310736+(T+-6<<2)|0;k[M>>2]=(k[M>>2]|0)+Ye;N=a+1310736+(T+-5<<2)|0;k[N>>2]=(k[N>>2]|0)+Ke;P=a+1310736+(T+-3<<2)|0;if((k[P>>2]|0)<(Ye|0))k[P>>2]=Ye;k[a+1310736+(T+-1<<2)>>2]=Ke;mi=Ei;break}C=b[oi+-2>>1]|0;if(C<<16>>16>0){b[oi>>1]=C;I=(C<<16>>16)*7|0;L=a+1310736+(I+-7<<2)|0;k[L>>2]=(k[L>>2]|0)+1;B=a+1310736+(I+-6<<2)|0;k[B>>2]=(k[B>>2]|0)+Ye;H=a+1310736+(I+-5<<2)|0;k[H>>2]=(k[H>>2]|0)+Ke;U=a+1310736+(I+-3<<2)|0;if((k[U>>2]|0)>=(Ye|0)){mi=Ei;break}k[U>>2]=Ye;mi=Ei;break}else{Y=Ei+1|0;if((Ei|0)>32767)break i;b[oi>>1]=Y;k[a+1179664+(Ei<<2)>>2]=Y<<16>>16;z=Ei*7|0;k[a+1310736+(z<<2)>>2]=1;k[a+1310736+(z+1<<2)>>2]=Ye;k[a+1310736+(z+2<<2)>>2]=Ke;k[a+1310736+(z+3<<2)>>2]=Ye;k[a+1310736+(z+4<<2)>>2]=Ye;k[a+1310736+(z+5<<2)>>2]=Ke;k[a+1310736+(z+6<<2)>>2]=Ke;mi=Y;break}}if(Oe){Me=k[a+1179664+(Fe+-1<<2)>>2]|0;Re=k[a+1179664+(Te+-1<<2)>>2]|0;if((Me|0)>(Re|0)){b[oi>>1]=Re;if((Ei|0)>0){Je=0;ci=R;while(1){if((k[ci>>2]|0)==(Me|0))k[ci>>2]=Re;Je=Je+1|0;if((Je|0)>=(Ei|0)){Ne=Re;break}else ci=ci+4|0}}else Ne=Re}else{b[oi>>1]=Me;if((Me|0)<(Re|0)&(Ei|0)>0){Ze=0;bi=R;while(1){if((k[bi>>2]|0)==(Re|0))k[bi>>2]=Me;Ze=Ze+1|0;if((Ze|0)>=(Ei|0)){Ne=Me;break}else bi=bi+4|0}}else Ne=Me}Pe=(Ne<<16>>16)*7|0;De=a+1310736+(Pe+-7<<2)|0;k[De>>2]=(k[De>>2]|0)+1;Ce=a+1310736+(Pe+-6<<2)|0;k[Ce>>2]=(k[Ce>>2]|0)+Ye;Ie=a+1310736+(Pe+-5<<2)|0;k[Ie>>2]=(k[Ie>>2]|0)+Ke;k[a+1310736+(Pe+-1<<2)>>2]=Ke;mi=Ei;break}xe=b[oi+-2>>1]|0;if(xe<<16>>16<=0){b[oi>>1]=ye;S=Fe*7|0;g=a+1310736+(S+-7<<2)|0;k[g>>2]=(k[g>>2]|0)+1;y=a+1310736+(S+-6<<2)|0;k[y>>2]=(k[y>>2]|0)+Ye;F=a+1310736+(S+-5<<2)|0;k[F>>2]=(k[F>>2]|0)+Ke;A=a+1310736+(S+-4<<2)|0;if((k[A>>2]|0)>(Ye|0))k[A>>2]=Ye;k[a+1310736+(S+-1<<2)>>2]=Ke;mi=Ei;break}Be=k[a+1179664+(Fe+-1<<2)>>2]|0;u=k[a+1179664+((xe<<16>>16)+-1<<2)>>2]|0;if((Be|0)>(u|0)){b[oi>>1]=u;if((Ei|0)>0){Qe=0;ki=R;while(1){if((k[ki>>2]|0)==(Be|0))k[ki>>2]=u;Qe=Qe+1|0;if((Qe|0)>=(Ei|0)){c=u;break}else ki=ki+4|0}}else c=u}else{b[oi>>1]=Be;if((Be|0)<(u|0)&(Ei|0)>0){$e=0;hi=R;while(1){if((k[hi>>2]|0)==(u|0))k[hi>>2]=Be;$e=$e+1|0;if(($e|0)>=(Ei|0)){c=Be;break}else hi=hi+4|0}}else c=Be}d=(c<<16>>16)*7|0;w=a+1310736+(d+-7<<2)|0;k[w>>2]=(k[w>>2]|0)+1;_=a+1310736+(d+-6<<2)|0;k[_>>2]=(k[_>>2]|0)+Ye;E=a+1310736+(d+-5<<2)|0;k[E>>2]=(k[E>>2]|0)+Ke;mi=Ei}}while(0);Ye=Ye+1|0;V=ri+1|0;W=oi+2|0;if((Ye|0)>=(Le|0)){ii=V;ti=W;vi=mi;break}else{ri=V;oi=W;Ei=mi}}}else{ii=ei;ti=si;vi=_i}Ke=Ke+1|0;if((Ke|0)>=(o|0)){wi=vi;pi=52;break e}else{ei=ii+2|0;si=ti+4|0;_i=vi}}Yl(3,3904,ui);l=-1}else{wi=0;pi=52}}while(0);if((pi|0)==52){j=a+12|0;if((wi|0)<1)Xe=1;else{ze=1;Ge=1;di=R;while(1){X=k[di>>2]|0;if((X|0)==(ze|0)){G=Ge;qe=Ge+1|0}else{G=k[a+1179664+(X+-1<<2)>>2]|0;qe=Ge}k[di>>2]=G;if((ze|0)<(wi|0)){ze=ze+1|0;Ge=qe;di=di+4|0}else{Xe=qe;break}}}q=a+8|0;J=Xe+-1|0;k[q>>2]=J;if(!J)l=0;else{ut(j|0,0,J<<2|0)|0;ut(a+655376|0,0,J<<4|0)|0;if((Xe|0)>1){Ve=0;do{Z=Ve<<2;k[a+131084+(Z<<2)>>2]=i;k[a+131084+((Z|1)<<2)>>2]=0;k[a+131084+((Z|2)<<2)>>2]=r;k[a+131084+((Z|3)<<2)>>2]=0;Ve=Ve+1|0}while((Ve|0)<(k[q>>2]|0))}if((wi|0)>0){We=0;do{Q=(k[a+1179664+(We<<2)>>2]|0)+-1|0;$=We*7|0;ee=a+12+(Q<<2)|0;k[ee>>2]=(k[ee>>2]|0)+(k[a+1310736+($<<2)>>2]|0);ie=Q<<1;re=a+655376+(ie<<3)|0;v[re>>3]=+v[re>>3]+ +(k[a+1310736+($+1<<2)>>2]|0);ae=a+655376+((ie|1)<<3)|0;v[ae>>3]=+v[ae>>3]+ +(k[a+1310736+($+2<<2)>>2]|0);le=Q<<2;ne=a+131084+(le<<2)|0;se=k[a+1310736+($+3<<2)>>2]|0;if((k[ne>>2]|0)>(se|0))k[ne>>2]=se;te=a+131084+((le|1)<<2)|0;oe=k[a+1310736+($+4<<2)>>2]|0;if((k[te>>2]|0)<(oe|0))k[te>>2]=oe;ue=a+131084+((le|2)<<2)|0;be=k[a+1310736+($+5<<2)>>2]|0;if((k[ue>>2]|0)>(be|0))k[ue>>2]=be;ke=a+131084+((le|3)<<2)|0;we=k[a+1310736+($+6<<2)>>2]|0;if((k[ke>>2]|0)<(we|0))k[ke>>2]=we;We=We+1|0}while((We|0)<(wi|0))}if((k[q>>2]|0)>0){je=0;do{_e=a+12+(je<<2)|0;ve=je<<1;Ee=a+655376+(ve<<3)|0;v[Ee>>3]=+v[Ee>>3]/+(k[_e>>2]|0);me=a+655376+((ve|1)<<3)|0;v[me>>3]=+v[me>>3]/+(k[_e>>2]|0);je=je+1|0}while((je|0)<(k[q>>2]|0));l=0}else l=0}}m=Si;return l|0}function ta(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0;ei=m;m=m+96|0;if((m|0)>=(p|0))he();Ke=ei+64|0;Xe=ei+52|0;b=ei+40|0;h=ei+16|0;$=ei;e:do{if((i-e|0)>1)if((c[e>>0]|0)==73){Ye=r+61|0;u=r+36|0;if(c[Ye>>0]|0){y=k[u>>2]|0;D=k[y+-16>>2]|0;I=y+-12|0;U=k[I>>2]|0;if((U|0)!=(D|0)){q=U;do{W=q+-16|0;k[I>>2]=W;nt(W);q=k[I>>2]|0}while((q|0)!=(D|0))}}ae=e+1|0;ct(Xe,12750,1);oe=r+4|0;be=r+12|0;ke=Ke+8|0;de=Ke+8|0;we=Xe+4|0;_e=b+8|0;ve=b+1|0;Ee=b+4|0;me=r+32|0;pe=r+40|0;Se=r+44|0;ge=Ke+8|0;i:do{if((c[ae>>0]|0)==69)Ze=ae;else{Qe=ae;r:while(1){do{if(c[Ye>>0]|0){Fe=k[be>>2]|0;Ae=k[u>>2]|0;Te=k[pe>>2]|0;if(Ae>>>0<Te>>>0){k[Ae>>2]=0;k[Ae+4>>2]=0;k[Ae+8>>2]=0;k[Ae+12>>2]=Fe;k[u>>2]=(k[u>>2]|0)+16;break}Oe=k[me>>2]|0;Me=Ae-Oe|0;Re=Me>>4;Ne=Re+1|0;if((Me|0)<-16){$e=12;break r}Pe=Te-Oe|0;if(Pe>>4>>>0<1073741823){De=Pe>>3;f=De>>>0<Ne>>>0?Ne:De}else f=2147483647;ot(Ke,f,Re,Se);Ce=k[ge>>2]|0;k[Ce>>2]=0;k[Ce+4>>2]=0;k[Ce+8>>2]=0;k[Ce+12>>2]=Fe;k[ge>>2]=Ce+16;Hl(me,Ke);Fs(Ke)}}while(0);Ie=((k[oe>>2]|0)-(k[r>>2]|0)|0)/24|0;ye=Rl(Qe,i,r)|0;Le=((k[oe>>2]|0)-(k[r>>2]|0)|0)/24|0;if(c[Ye>>0]|0){xe=k[u>>2]|0;Be=xe+-16|0;Ue=xe;do{He=Ue+-16|0;k[u>>2]=He;Ds(He);Ue=k[u>>2]|0}while((Ue|0)!=(Be|0))}if((ye|0)==(Qe|0)|(ye|0)==(i|0)){$e=56;break}if(c[Ye>>0]|0){ze=k[u>>2]|0;Ve=ze+-16|0;We=k[be>>2]|0;je=ze+-12|0;d=k[je>>2]|0;w=k[ze+-8>>2]|0;if(d>>>0<w>>>0){k[d>>2]=0;k[d+4>>2]=0;k[d+8>>2]=0;k[d+12>>2]=We;k[je>>2]=(k[je>>2]|0)+16}else{_=k[Ve>>2]|0;v=d-_|0;E=v>>4;S=E+1|0;if((v|0)<-16){t=Ve;$e=25;break}g=w-_|0;if(g>>4>>>0<1073741823){F=g>>3;n=F>>>0<S>>>0?S:F}else n=2147483647;wt(Ke,n,E,ze+-4|0);A=k[ke>>2]|0;k[A>>2]=0;k[A+4>>2]=0;k[A+8>>2]=0;k[A+12>>2]=We;k[ke>>2]=A+16;zl(Ve,Ke);Ps(Ke)}if(Ie>>>0<Le>>>0){Ge=Ie;do{T=k[(k[u>>2]|0)+-12>>2]|0;O=T+-16|0;M=k[r>>2]|0;R=M+(Ge*24|0)|0;N=T+-12|0;P=k[N>>2]|0;if((P|0)==(k[T+-8>>2]|0)){C=P-(k[O>>2]|0)|0;L=(C|0)/24|0;x=L+1|0;if((C|0)<-24){o=O;$e=33;break r}if(L>>>0<1073741823){B=L<<1;a=B>>>0<x>>>0?x:B}else a=2147483647;pt(Ke,a,L,T+-4|0);H=k[de>>2]|0;Lt(H,R);Lt(H+12|0,M+(Ge*24|0)+12|0);k[de>>2]=H+24;Bn(O,Ke);lt(Ke)}else{Lt(P,R);Lt(P+12|0,M+(Ge*24|0)+12|0);k[N>>2]=(k[N>>2]|0)+24}Ge=Ge+1|0}while(Ge>>>0<Le>>>0)}}if(Ie>>>0<Le>>>0){Je=Ie;do{Y=c[Xe>>0]|0;if(((Y&1)==0?(Y&255)>>>1:k[we>>2]|0)>>>0>1)Vo(Xe,12690)|0;et(b,(k[r>>2]|0)+(Je*24|0)|0);z=c[b>>0]|0;V=(z&1)==0;zn(Xe,V?ve:k[_e>>2]|0,V?(z&255)>>>1:k[Ee>>2]|0)|0;Nu(b);Je=Je+1|0}while(Je>>>0<Le>>>0)}if((Le|0)!=(Ie|0)){qe=Le;do{j=k[oe>>2]|0;K=j+-24|0;G=j;do{X=G+-24|0;k[oe>>2]=X;Wo(X);G=k[oe>>2]|0}while((G|0)!=(K|0));qe=qe+-1|0}while((qe|0)!=(Ie|0))}if((c[ye>>0]|0)==69){Ze=ye;break i}else Qe=ye}if(($e|0)==12)gc(me);else if(($e|0)==25)gc(t);else if(($e|0)==33)gc(o);else if(($e|0)==56){Nu(Xe);s=e;break e}}}while(0);J=Ze+1|0;Z=c[Xe>>0]|0;Q=(Z&1)==0;if((c[(Q?Xe+1|0:k[Xe+8>>2]|0)+((Q?(Z&255)>>>1:k[we>>2]|0)+-1)>>0]|0)==62)Vo(Xe,13735)|0;else Vo(Xe,12752)|0;k[$>>2]=k[Xe>>2];k[$+4>>2]=k[Xe+4>>2];k[$+8>>2]=k[Xe+8>>2];k[Xe>>2]=0;k[Xe+4>>2]=0;k[Xe+8>>2]=0;Zt(h,$);ee=k[oe>>2]|0;ie=k[r+8>>2]|0;if(ee>>>0<ie>>>0){Nt(ee,h);k[oe>>2]=(k[oe>>2]|0)+24}else{re=k[r>>2]|0;fe=ee-re|0;le=(fe|0)/24|0;ne=le+1|0;if((fe|0)<-24)gc(r);se=(ie-re|0)/24|0;if(se>>>0<1073741823){te=se<<1;l=te>>>0<ne>>>0?ne:te}else l=2147483647;pt(Ke,l,le,r+12|0);ue=Ke+8|0;ce=k[ue>>2]|0;Nt(ce,h);k[ue>>2]=ce+24;Bn(r,Ke);lt(Ke)}Wo(h);Nu($);Nu(Xe);s=J}else s=e;else s=e}while(0);m=ei;return s|0}function oa(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,he=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,ai=0,li=0,ni=0,si=0,ti=0;if(!e)return;n=e+-8|0;H=k[760]|0;if(n>>>0<H>>>0)fi();pe=k[e+-4>>2]|0;Ae=pe&3;if((Ae|0)==1)fi();Ie=pe&-8;Be=e+(Ie+-8)|0;do{if(!(pe&1)){c=k[n>>2]|0;if(!Ae)return;l=-8-c|0;E=e+l|0;p=c+Ie|0;if(E>>>0<H>>>0)fi();if((E|0)==(k[761]|0)){s=e+(Ie+-4)|0;t=k[s>>2]|0;if((t&3|0)!=3){ai=E;li=p;break}k[758]=p;k[s>>2]=t&-2;k[e+(l+4)>>2]=p|1;k[Be>>2]=p;return}L=c>>>3;if(c>>>0<256){W=k[e+(l+8)>>2]|0;J=k[e+(l+12)>>2]|0;ae=3064+(L<<1<<2)|0;if((W|0)!=(ae|0)){if(W>>>0<H>>>0)fi();if((k[W+12>>2]|0)!=(E|0))fi()}if((J|0)==(W|0)){k[756]=k[756]&~(1<<L);ai=E;li=p;break}if((J|0)==(ae|0))f=J+8|0;else{if(J>>>0<H>>>0)fi();_e=J+8|0;if((k[_e>>2]|0)==(E|0))f=_e;else fi()}k[W+12>>2]=J;k[f>>2]=W;ai=E;li=p;break}ve=k[e+(l+24)>>2]|0;Ee=k[e+(l+12)>>2]|0;do{if((Ee|0)==(E|0)){ye=e+(l+20)|0;Fe=k[ye>>2]|0;if(!Fe){Te=e+(l+16)|0;Oe=k[Te>>2]|0;if(!Oe){Ke=0;break}else{We=Oe;Je=Te}}else{We=Fe;Je=ye}while(1){Me=We+20|0;Re=k[Me>>2]|0;if(Re){We=Re;Je=Me;continue}Ne=We+16|0;Pe=k[Ne>>2]|0;if(!Pe){je=We;Ze=Je;break}else{We=Pe;Je=Ne}}if(Ze>>>0<H>>>0)fi();else{k[Ze>>2]=0;Ke=je;break}}else{me=k[e+(l+8)>>2]|0;if(me>>>0<H>>>0)fi();Se=me+12|0;if((k[Se>>2]|0)!=(E|0))fi();ge=Ee+8|0;if((k[ge>>2]|0)==(E|0)){k[Se>>2]=Ee;k[ge>>2]=me;Ke=Ee;break}else fi()}}while(0);if(!ve){ai=E;li=p}else{De=k[e+(l+28)>>2]|0;Ce=3328+(De<<2)|0;if((E|0)==(k[Ce>>2]|0)){k[Ce>>2]=Ke;if(!Ke){k[757]=k[757]&~(1<<De);ai=E;li=p;break}}else{if(ve>>>0<(k[760]|0)>>>0)fi();Le=ve+16|0;if((k[Le>>2]|0)==(E|0))k[Le>>2]=Ke;else k[ve+20>>2]=Ke;if(!Ke){ai=E;li=p;break}}xe=k[760]|0;if(Ke>>>0<xe>>>0)fi();k[Ke+24>>2]=ve;He=k[e+(l+16)>>2]|0;do{if(He)if(He>>>0<xe>>>0)fi();else{k[Ke+16>>2]=He;k[He+24>>2]=Ke;break}}while(0);Ue=k[e+(l+20)>>2]|0;if(!Ue){ai=E;li=p}else if(Ue>>>0<(k[760]|0)>>>0)fi();else{k[Ke+20>>2]=Ue;k[Ue+24>>2]=Ke;ai=E;li=p;break}}}else{ai=n;li=Ie}}while(0);if(ai>>>0>=Be>>>0)fi();o=e+(Ie+-4)|0;u=k[o>>2]|0;if(!(u&1))fi();if(!(u&2)){if((Be|0)==(k[762]|0)){b=(k[759]|0)+li|0;k[759]=b;k[762]=ai;k[ai+4>>2]=b|1;if((ai|0)!=(k[761]|0))return;k[761]=0;k[758]=0;return}if((Be|0)==(k[761]|0)){h=(k[758]|0)+li|0;k[758]=h;k[761]=ai;k[ai+4>>2]=h|1;k[ai+h>>2]=h;return}d=(u&-8)+li|0;w=u>>>3;do{if(u>>>0<256){_=k[e+Ie>>2]|0;v=k[e+(Ie|4)>>2]|0;m=3064+(w<<1<<2)|0;if((_|0)!=(m|0)){if(_>>>0<(k[760]|0)>>>0)fi();if((k[_+12>>2]|0)!=(Be|0))fi()}if((v|0)==(_|0)){k[756]=k[756]&~(1<<w);break}if((v|0)==(m|0))r=v+8|0;else{if(v>>>0<(k[760]|0)>>>0)fi();S=v+8|0;if((k[S>>2]|0)==(Be|0))r=S;else fi()}k[_+12>>2]=v;k[r>>2]=_}else{g=k[e+(Ie+16)>>2]|0;y=k[e+(Ie|4)>>2]|0;do{if((y|0)==(Be|0)){O=e+(Ie+12)|0;M=k[O>>2]|0;if(!M){R=e+(Ie+8)|0;N=k[R>>2]|0;if(!N){qe=0;break}else{Xe=N;Qe=R}}else{Xe=M;Qe=O}while(1){P=Xe+20|0;D=k[P>>2]|0;if(D){Xe=D;Qe=P;continue}C=Xe+16|0;I=k[C>>2]|0;if(!I){Ge=Xe;$e=Qe;break}else{Xe=I;Qe=C}}if($e>>>0<(k[760]|0)>>>0)fi();else{k[$e>>2]=0;qe=Ge;break}}else{F=k[e+Ie>>2]|0;if(F>>>0<(k[760]|0)>>>0)fi();A=F+12|0;if((k[A>>2]|0)!=(Be|0))fi();T=y+8|0;if((k[T>>2]|0)==(Be|0)){k[A>>2]=y;k[T>>2]=F;qe=y;break}else fi()}}while(0);if(g){x=k[e+(Ie+20)>>2]|0;B=3328+(x<<2)|0;if((Be|0)==(k[B>>2]|0)){k[B>>2]=qe;if(!qe){k[757]=k[757]&~(1<<x);break}}else{if(g>>>0<(k[760]|0)>>>0)fi();U=g+16|0;if((k[U>>2]|0)==(Be|0))k[U>>2]=qe;else k[g+20>>2]=qe;if(!qe)break}Y=k[760]|0;if(qe>>>0<Y>>>0)fi();k[qe+24>>2]=g;z=k[e+(Ie+8)>>2]|0;do{if(z)if(z>>>0<Y>>>0)fi();else{k[qe+16>>2]=z;k[z+24>>2]=qe;break}}while(0);V=k[e+(Ie+12)>>2]|0;if(V)if(V>>>0<(k[760]|0)>>>0)fi();else{k[qe+20>>2]=V;k[V+24>>2]=qe;break}}}}while(0);k[ai+4>>2]=d|1;k[ai+d>>2]=d;if((ai|0)==(k[761]|0)){k[758]=d;return}else ni=d}else{k[o>>2]=u&-2;k[ai+4>>2]=li|1;k[ai+li>>2]=li;ni=li}j=ni>>>3;if(ni>>>0<256){K=j<<1;X=3064+(K<<2)|0;G=k[756]|0;q=1<<j;if(!(G&q)){k[756]=G|q;a=3064+(K+2<<2)|0;Ye=X}else{Z=3064+(K+2<<2)|0;Q=k[Z>>2]|0;if(Q>>>0<(k[760]|0)>>>0)fi();else{a=Z;Ye=Q}}k[a>>2]=ai;k[Ye+12>>2]=ai;k[ai+8>>2]=Ye;k[ai+12>>2]=X;return}$=ni>>>8;if(!$)ze=0;else if(ni>>>0>16777215)ze=31;else{ee=($+1048320|0)>>>16&8;ie=$<<ee;re=(ie+520192|0)>>>16&4;fe=ie<<re;le=(fe+245760|0)>>>16&2;ne=14-(re|ee|le)+(fe<<le>>>15)|0;ze=ni>>>(ne+7|0)&1|ne<<1}se=3328+(ze<<2)|0;k[ai+28>>2]=ze;k[ai+20>>2]=0;k[ai+16>>2]=0;te=k[757]|0;oe=1<<ze;e:do{if(!(te&oe)){k[757]=te|oe;k[se>>2]=ai;k[ai+24>>2]=se;k[ai+12>>2]=ai;k[ai+8>>2]=ai}else{ue=k[se>>2]|0;i:do{if((k[ue+4>>2]&-8|0)==(ni|0))ei=ue;else{Ve=ni<<((ze|0)==31?0:25-(ze>>>1)|0);ii=ue;while(1){be=ii+16+(Ve>>>31<<2)|0;ce=k[be>>2]|0;if(!ce){i=be;ri=ii;break}if((k[ce+4>>2]&-8|0)==(ni|0)){ei=ce;break i}else{Ve=Ve<<1;ii=ce}}if(i>>>0<(k[760]|0)>>>0)fi();else{k[i>>2]=ai;k[ai+24>>2]=ri;k[ai+12>>2]=ai;k[ai+8>>2]=ai;break e}}}while(0);ke=ei+8|0;he=k[ke>>2]|0;de=k[760]|0;if(he>>>0>=de>>>0&ei>>>0>=de>>>0){k[he+12>>2]=ai;k[ke>>2]=ai;k[ai+8>>2]=he;k[ai+12>>2]=ei;k[ai+24>>2]=0;break}else fi()}}while(0);we=(k[764]|0)+-1|0;k[764]=we;if(!we)ti=3480;else return;while(1){si=k[ti>>2]|0;if(!si)break;else ti=si+8|0}k[764]=-1;return}function ua(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,he=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0,di=0,wi=0,_i=0,vi=0,Ei=0,mi=0,pi=0,Si=0,gi=0,yi=0;e:do{if(i>>>0>36){Le=Ju()|0;k[Le>>2]=22;me=0;pe=0}else{Ne=e+4|0;Ce=e+100|0;do{Be=k[Ne>>2]|0;if(Be>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=Be+1;F=h[Be>>0]|0}else F=rn(e)|0}while((ib(F)|0)!=0);v=F;i:do{switch(v|0){case 43:case 45:{j=((v|0)==45)<<31>>31;K=k[Ne>>2]|0;if(K>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=K+1;$e=h[K>>0]|0;Ei=j;break i}else{$e=rn(e)|0;Ei=j;break i}break}default:{$e=v;Ei=0}}}while(0);ue=(i|0)==0;do{if((i&-17|0)==0&($e|0)==48){ye=k[Ne>>2]|0;if(ye>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=ye+1;Pe=h[ye>>0]|0}else Pe=rn(e)|0;if((Pe|32|0)!=120)if(ue){s=8;ii=Pe;yi=46;break}else{l=i;ei=Pe;yi=32;break}De=k[Ne>>2]|0;if(De>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=De+1;Ie=h[De>>0]|0}else Ie=rn(e)|0;if((h[16467+(Ie+1)>>0]|0)>15){xe=(k[Ce>>2]|0)==0;if(!xe)k[Ne>>2]=(k[Ne>>2]|0)+-1;if(!r){Ro(e,0);me=0;pe=0;break e}if(xe){me=0;pe=0;break e}k[Ne>>2]=(k[Ne>>2]|0)+-1;me=0;pe=0;break e}else{s=16;ii=Ie;yi=46}}else{t=ue?10:i;if((h[16467+($e+1)>>0]|0)>>>0<t>>>0){l=t;ei=$e;yi=32}else{if(k[Ce>>2]|0)k[Ne>>2]=(k[Ne>>2]|0)+-1;Ro(e,0);He=Ju()|0;k[He>>2]=22;me=0;pe=0;break e}}}while(0);if((yi|0)==32)if((l|0)==10){Ue=ei+-48|0;if(Ue>>>0<10){ze=Ue;pi=0;while(1){Ye=(pi*10|0)+ze|0;Ve=k[Ne>>2]|0;if(Ve>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=Ve+1;ri=h[Ve>>0]|0}else ri=rn(e)|0;ze=ri+-48|0;if(!(ze>>>0<10&Ye>>>0<429496729)){_=Ye;fi=ri;break}else pi=Ye}Se=_;ge=0;ai=fi}else{Se=0;ge=0;ai=ei}We=ai+-48|0;if(We>>>0<10){je=Se;Ke=ge;qe=We;si=ai;while(1){Xe=Vt(je|0,Ke|0,10,0)|0;Ge=Y;Je=((qe|0)<0)<<31>>31;Ze=~Je;if(Ge>>>0>Ze>>>0|(Ge|0)==(Ze|0)&Xe>>>0>~qe>>>0){o=qe;Fe=je;Ae=Ke;ni=si;break}Qe=Qu(Xe|0,Ge|0,qe|0,Je|0)|0;E=Y;m=k[Ne>>2]|0;if(m>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=m+1;li=h[m>>0]|0}else li=rn(e)|0;p=li+-48|0;if(p>>>0<10&(E>>>0<429496729|(E|0)==429496729&Qe>>>0<2576980378)){je=Qe;Ke=E;qe=p;si=li}else{o=p;Fe=Qe;Ae=E;ni=li;break}}if(o>>>0>9){ke=Ae;he=Fe;mi=Ei}else{n=10;Te=Fe;Oe=Ae;_i=ni;yi=72}}else{ke=ge;he=Se;mi=Ei}}else{s=l;ii=ei;yi=46}i:do{if((yi|0)==46){if(!(s+-1&s)){y=c[16724+((s*23|0)>>>5&7)>>0]|0;A=c[16467+(ii+1)>>0]|0;T=A&255;if(T>>>0<s>>>0){M=T;Si=0;while(1){O=M|Si<<y;R=k[Ne>>2]|0;if(R>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=R+1;ti=h[R>>0]|0}else ti=rn(e)|0;N=c[16467+(ti+1)>>0]|0;M=N&255;if(!(O>>>0<134217728&M>>>0<s>>>0)){u=O;b=N;oi=ti;break}else Si=O}C=b;I=0;L=u;ui=oi}else{C=A;I=0;L=0;ui=ii}P=au(-1,-1,y|0)|0;D=Y;if((C&255)>>>0>=s>>>0|(I>>>0>D>>>0|(I|0)==(D|0)&L>>>0>P>>>0)){n=s;Te=L;Oe=I;_i=ui;yi=72;break}else{x=L;B=I;z=C}while(1){H=iu(x|0,B|0,y|0)|0;U=Y;V=z&255|H;W=k[Ne>>2]|0;if(W>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=W+1;ci=h[W>>0]|0}else ci=rn(e)|0;z=c[16467+(ci+1)>>0]|0;if((z&255)>>>0>=s>>>0|(U>>>0>D>>>0|(U|0)==(D|0)&V>>>0>P>>>0)){n=s;Te=V;Oe=U;_i=ci;yi=72;break i}else{x=V;B=U}}}S=c[16467+(ii+1)>>0]|0;g=S&255;if(g>>>0<s>>>0){G=g;gi=0;while(1){X=G+(ce(gi,s)|0)|0;q=k[Ne>>2]|0;if(q>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=q+1;bi=h[q>>0]|0}else bi=rn(e)|0;J=c[16467+(bi+1)>>0]|0;G=J&255;if(!(X>>>0<119304647&G>>>0<s>>>0)){d=X;w=J;ki=bi;break}else gi=X}Z=w;Me=d;Re=0;hi=ki}else{Z=S;Me=0;Re=0;hi=ii}if((Z&255)>>>0<s>>>0){Q=ic(-1,-1,s|0,0)|0;$=Y;ee=Re;ie=Me;le=Z;wi=hi;while(1){if(ee>>>0>$>>>0|(ee|0)==($|0)&ie>>>0>Q>>>0){n=s;Te=ie;Oe=ee;_i=wi;yi=72;break i}re=Vt(ie|0,ee|0,s|0,0)|0;fe=Y;ae=le&255;if(fe>>>0>4294967295|(fe|0)==-1&re>>>0>~ae>>>0){n=s;Te=ie;Oe=ee;_i=wi;yi=72;break i}ne=Qu(ae|0,0,re|0,fe|0)|0;se=Y;te=k[Ne>>2]|0;if(te>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=te+1;di=h[te>>0]|0}else di=rn(e)|0;le=c[16467+(di+1)>>0]|0;if((le&255)>>>0>=s>>>0){n=s;Te=ne;Oe=se;_i=di;yi=72;break}else{ee=se;ie=ne;wi=di}}}else{n=s;Te=Me;Oe=Re;_i=hi;yi=72}}}while(0);if((yi|0)==72)if((h[16467+(_i+1)>>0]|0)>>>0<n>>>0){do{oe=k[Ne>>2]|0;if(oe>>>0<(k[Ce>>2]|0)>>>0){k[Ne>>2]=oe+1;vi=h[oe>>0]|0}else vi=rn(e)|0}while((h[16467+(vi+1)>>0]|0)>>>0<n>>>0);be=Ju()|0;k[be>>2]=34;ke=a;he=f;mi=(f&1|0)==0&0==0?Ei:0}else{ke=Oe;he=Te;mi=Ei}if(k[Ce>>2]|0)k[Ne>>2]=(k[Ne>>2]|0)+-1;if(!(ke>>>0<a>>>0|(ke|0)==(a|0)&he>>>0<f>>>0)){if(!((f&1|0)!=0|0!=0|(mi|0)!=0)){de=Ju()|0;k[de>>2]=34;we=Qu(f|0,a|0,-1,-1)|0;me=Y;pe=we;break}if(ke>>>0>a>>>0|(ke|0)==(a|0)&he>>>0>f>>>0){_e=Ju()|0;k[_e>>2]=34;me=a;pe=f;break}}ve=((mi|0)<0)<<31>>31;Ee=Su(he^mi|0,ke^ve|0,mi|0,ve|0)|0;me=Y;pe=Ee}}while(0);Y=me;return pe|0}function ca(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,he=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,ai=0,li=0;c=e+i|0;K=k[e+4>>2]|0;do{if(!(K&1)){Fe=k[e>>2]|0;if(!(K&3))return;Ue=e+(0-Fe)|0;b=Fe+i|0;v=k[760]|0;if(Ue>>>0<v>>>0)fi();if((Ue|0)==(k[761]|0)){ze=e+(i+4)|0;h=k[ze>>2]|0;if((h&3|0)!=3){r=Ue;f=b;break}k[758]=b;k[ze>>2]=h&-2;k[e+(4-Fe)>>2]=b|1;k[c>>2]=b;return}T=Fe>>>3;if(Fe>>>0<256){Y=k[e+(8-Fe)>>2]|0;X=k[e+(12-Fe)>>2]|0;J=3064+(T<<1<<2)|0;if((Y|0)!=(J|0)){if(Y>>>0<v>>>0)fi();if((k[Y+12>>2]|0)!=(Ue|0))fi()}if((X|0)==(Y|0)){k[756]=k[756]&~(1<<T);r=Ue;f=b;break}if((X|0)==(J|0))s=X+8|0;else{if(X>>>0<v>>>0)fi();me=X+8|0;if((k[me>>2]|0)==(Ue|0))s=me;else fi()}k[Y+12>>2]=X;k[s>>2]=Y;r=Ue;f=b;break}pe=k[e+(24-Fe)>>2]|0;Se=k[e+(12-Fe)>>2]|0;do{if((Se|0)==(Ue|0)){o=16-Fe|0;Te=e+(o+4)|0;Oe=k[Te>>2]|0;if(!Oe){Me=e+o|0;Re=k[Me>>2]|0;if(!Re){Ge=0;break}else{Ke=Re;Qe=Me}}else{Ke=Oe;Qe=Te}while(1){Ne=Ke+20|0;Pe=k[Ne>>2]|0;if(Pe){Ke=Pe;Qe=Ne;continue}De=Ke+16|0;Ce=k[De>>2]|0;if(!Ce){Xe=Ke;$e=Qe;break}else{Ke=Ce;Qe=De}}if($e>>>0<v>>>0)fi();else{k[$e>>2]=0;Ge=Xe;break}}else{ge=k[e+(8-Fe)>>2]|0;if(ge>>>0<v>>>0)fi();ye=ge+12|0;if((k[ye>>2]|0)!=(Ue|0))fi();Ae=Se+8|0;if((k[Ae>>2]|0)==(Ue|0)){k[ye>>2]=Se;k[Ae>>2]=ge;Ge=Se;break}else fi()}}while(0);if(!pe){r=Ue;f=b}else{Ie=k[e+(28-Fe)>>2]|0;Le=3328+(Ie<<2)|0;if((Ue|0)==(k[Le>>2]|0)){k[Le>>2]=Ge;if(!Ge){k[757]=k[757]&~(1<<Ie);r=Ue;f=b;break}}else{if(pe>>>0<(k[760]|0)>>>0)fi();xe=pe+16|0;if((k[xe>>2]|0)==(Ue|0))k[xe>>2]=Ge;else k[pe+20>>2]=Ge;if(!Ge){r=Ue;f=b;break}}Be=k[760]|0;if(Ge>>>0<Be>>>0)fi();k[Ge+24>>2]=pe;u=16-Fe|0;He=k[e+u>>2]|0;do{if(He)if(He>>>0<Be>>>0)fi();else{k[Ge+16>>2]=He;k[He+24>>2]=Ge;break}}while(0);Ye=k[e+(u+4)>>2]|0;if(!Ye){r=Ue;f=b}else if(Ye>>>0<(k[760]|0)>>>0)fi();else{k[Ge+20>>2]=Ye;k[Ye+24>>2]=Ge;r=Ue;f=b;break}}}else{r=e;f=i}}while(0);d=k[760]|0;if(c>>>0<d>>>0)fi();w=e+(i+4)|0;_=k[w>>2]|0;if(!(_&2)){if((c|0)==(k[762]|0)){E=(k[759]|0)+f|0;k[759]=E;k[762]=r;k[r+4>>2]=E|1;if((r|0)!=(k[761]|0))return;k[761]=0;k[758]=0;return}if((c|0)==(k[761]|0)){m=(k[758]|0)+f|0;k[758]=m;k[761]=r;k[r+4>>2]=m|1;k[r+m>>2]=m;return}p=(_&-8)+f|0;S=_>>>3;do{if(_>>>0<256){g=k[e+(i+8)>>2]|0;y=k[e+(i+12)>>2]|0;F=3064+(S<<1<<2)|0;if((g|0)!=(F|0)){if(g>>>0<d>>>0)fi();if((k[g+12>>2]|0)!=(c|0))fi()}if((y|0)==(g|0)){k[756]=k[756]&~(1<<S);break}if((y|0)==(F|0))n=y+8|0;else{if(y>>>0<d>>>0)fi();A=y+8|0;if((k[A>>2]|0)==(c|0))n=A;else fi()}k[g+12>>2]=y;k[n>>2]=g}else{O=k[e+(i+24)>>2]|0;M=k[e+(i+12)>>2]|0;do{if((M|0)==(c|0)){D=e+(i+20)|0;C=k[D>>2]|0;if(!C){I=e+(i+16)|0;L=k[I>>2]|0;if(!L){Ze=0;break}else{qe=L;ei=I}}else{qe=C;ei=D}while(1){x=qe+20|0;B=k[x>>2]|0;if(B){qe=B;ei=x;continue}H=qe+16|0;U=k[H>>2]|0;if(!U){Je=qe;ii=ei;break}else{qe=U;ei=H}}if(ii>>>0<d>>>0)fi();else{k[ii>>2]=0;Ze=Je;break}}else{R=k[e+(i+8)>>2]|0;if(R>>>0<d>>>0)fi();N=R+12|0;if((k[N>>2]|0)!=(c|0))fi();P=M+8|0;if((k[P>>2]|0)==(c|0)){k[N>>2]=M;k[P>>2]=R;Ze=M;break}else fi()}}while(0);if(O){z=k[e+(i+28)>>2]|0;V=3328+(z<<2)|0;if((c|0)==(k[V>>2]|0)){k[V>>2]=Ze;if(!Ze){k[757]=k[757]&~(1<<z);break}}else{if(O>>>0<(k[760]|0)>>>0)fi();W=O+16|0;if((k[W>>2]|0)==(c|0))k[W>>2]=Ze;else k[O+20>>2]=Ze;if(!Ze)break}j=k[760]|0;if(Ze>>>0<j>>>0)fi();k[Ze+24>>2]=O;G=k[e+(i+16)>>2]|0;do{if(G)if(G>>>0<j>>>0)fi();else{k[Ze+16>>2]=G;k[G+24>>2]=Ze;break}}while(0);q=k[e+(i+20)>>2]|0;if(q)if(q>>>0<(k[760]|0)>>>0)fi();else{k[Ze+20>>2]=q;k[q+24>>2]=Ze;break}}}}while(0);k[r+4>>2]=p|1;k[r+p>>2]=p;if((r|0)==(k[761]|0)){k[758]=p;return}else a=p}else{k[w>>2]=_&-2;k[r+4>>2]=f|1;k[r+f>>2]=f;a=f}Z=a>>>3;if(a>>>0<256){Q=Z<<1;$=3064+(Q<<2)|0;ee=k[756]|0;ie=1<<Z;if(!(ee&ie)){k[756]=ee|ie;t=3064+(Q+2<<2)|0;Ve=$}else{re=3064+(Q+2<<2)|0;fe=k[re>>2]|0;if(fe>>>0<(k[760]|0)>>>0)fi();else{t=re;Ve=fe}}k[t>>2]=r;k[Ve+12>>2]=r;k[r+8>>2]=Ve;k[r+12>>2]=$;return}ae=a>>>8;if(!ae)We=0;else if(a>>>0>16777215)We=31;else{le=(ae+1048320|0)>>>16&8;ne=ae<<le;se=(ne+520192|0)>>>16&4;te=ne<<se;oe=(te+245760|0)>>>16&2;ue=14-(se|le|oe)+(te<<oe>>>15)|0;We=a>>>(ue+7|0)&1|ue<<1}ce=3328+(We<<2)|0;k[r+28>>2]=We;k[r+20>>2]=0;k[r+16>>2]=0;be=k[757]|0;ke=1<<We;if(!(be&ke)){k[757]=be|ke;k[ce>>2]=r;k[r+24>>2]=ce;k[r+12>>2]=r;k[r+8>>2]=r;return}he=k[ce>>2]|0;e:do{if((k[he+4>>2]&-8|0)==(a|0))ri=he;else{je=a<<((We|0)==31?0:25-(We>>>1)|0);ai=he;while(1){we=ai+16+(je>>>31<<2)|0;de=k[we>>2]|0;if(!de){l=we;li=ai;break}if((k[de+4>>2]&-8|0)==(a|0)){ri=de;break e}else{je=je<<1;ai=de}}if(l>>>0<(k[760]|0)>>>0)fi();k[l>>2]=r;k[r+24>>2]=li;k[r+12>>2]=r;k[r+8>>2]=r;return}}while(0);_e=ri+8|0;ve=k[_e>>2]|0;Ee=k[760]|0;if(!(ve>>>0>=Ee>>>0&ri>>>0>=Ee>>>0))fi();k[ve+12>>2]=r;k[_e>>2]=r;k[r+8>>2]=ve;k[r+12>>2]=ri;k[r+24>>2]=0;return}function ba(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0;Le=m;m=m+96|0;if((m|0)>=(p|0))he();Me=Le+64|0;u=Le+40|0;b=Le+16|0;J=Le;le=e;e:do{if((i-le|0)>1)if((c[e>>0]|0)==84){h=c[e+1>>0]|0;if(h<<24>>24==95){C=k[r+36>>2]|0;if((k[r+32>>2]|0)==(C|0)){f=e;break}W=k[C+-16>>2]|0;if((W|0)==(k[C+-12>>2]|0)){c[u>>0]=4;ce=u+1|0;c[ce>>0]=84;c[ce+1>>0]=95;c[u+3>>0]=0;be=u+12|0;k[be>>2]=0;k[be+4>>2]=0;k[be+8>>2]=0;ke=r+4|0;de=k[ke>>2]|0;we=k[r+8>>2]|0;if(de>>>0<we>>>0){Nt(de,u);k[ke>>2]=(k[ke>>2]|0)+24}else{_e=k[r>>2]|0;ve=de-_e|0;Ee=(ve|0)/24|0;me=Ee+1|0;if((ve|0)<-24)gc(r);pe=(we-_e|0)/24|0;if(pe>>>0<1073741823){Se=pe<<1;s=Se>>>0<me>>>0?me:Se}else s=2147483647;pt(Me,s,Ee,r+12|0);ge=Me+8|0;ye=k[ge>>2]|0;Nt(ye,u);k[ge>>2]=ye+24;Bn(r,Me);lt(Me)}Wo(u);c[r+62>>0]=1;f=e+2|0;break}Z=k[W>>2]|0;Q=k[W+4>>2]|0;$=r+4|0;ee=r+8|0;ie=r+12|0;re=Me+8|0;i:do{if((Z|0)!=(Q|0)){ae=Z;while(1){fe=k[$>>2]|0;if((fe|0)==(k[ee>>2]|0)){ne=fe-(k[r>>2]|0)|0;se=(ne|0)/24|0;te=se+1|0;if((ne|0)<-24)break;if(se>>>0<1073741823){oe=se<<1;n=oe>>>0<te>>>0?te:oe}else n=2147483647;pt(Me,n,se,ie);ue=k[re>>2]|0;Lt(ue,ae);Lt(ue+12|0,ae+12|0);k[re>>2]=ue+24;Bn(r,Me);lt(Me)}else{Lt(fe,ae);Lt(fe+12|0,ae+12|0);k[$>>2]=(k[$>>2]|0)+24}ae=ae+24|0;if((ae|0)==(Q|0))break i}gc(r)}}while(0);f=e+2|0;break}Re=(h<<24>>24)+-48|0;if(Re>>>0<10){Fe=e+2|0;if((Fe|0)==(i|0))f=e;else{Pe=Re;Ce=Fe;while(1){Ae=c[Ce>>0]|0;Ne=(Ae<<24>>24)+-48|0;if(Ne>>>0>=10){o=Ae;De=Pe;Ie=Ce;break}Ce=Ce+1|0;if((Ce|0)==(i|0)){f=e;break e}else Pe=Ne+(Pe*10|0)|0}if(o<<24>>24==95){d=k[r+36>>2]|0;if((k[r+32>>2]|0)==(d|0))f=e;else{w=De+1|0;_=k[d+-16>>2]|0;if(w>>>0<(k[d+-12>>2]|0)-_>>4>>>0){v=k[_+(w<<4)>>2]|0;E=k[_+(w<<4)+4>>2]|0;S=r+4|0;g=r+8|0;y=r+12|0;F=Me+8|0;i:do{if((v|0)!=(E|0)){T=v;while(1){A=k[S>>2]|0;if((A|0)==(k[g>>2]|0)){O=A-(k[r>>2]|0)|0;M=(O|0)/24|0;R=M+1|0;if((O|0)<-24)break;if(M>>>0<1073741823){N=M<<1;l=N>>>0<R>>>0?R:N}else l=2147483647;pt(Me,l,M,y);P=k[F>>2]|0;Lt(P,T);Lt(P+12|0,T+12|0);k[F>>2]=P+24;Bn(r,Me);lt(Me)}else{Lt(A,T);Lt(A+12|0,T+12|0);k[S>>2]=(k[S>>2]|0)+24}T=T+24|0;if((T|0)==(E|0))break i}gc(r)}}while(0);f=Ie+1|0;break}D=Ie+1|0;I=D-le|0;if(I>>>0>4294967279)Ec(J);if(I>>>0<11){c[J>>0]=I<<1;Oe=J+1|0}else{L=I+16&-16;x=Sr(L)|0;k[J+8>>2]=x;k[J>>2]=L|1;k[J+4>>2]=I;Oe=x}if((D|0)!=(e|0)){t=e;Te=Oe;while(1){c[Te>>0]=c[t>>0]|0;if((t|0)==(Ie|0))break;else{t=t+1|0;Te=Te+1|0}}}c[Oe+I>>0]=0;Zt(b,J);B=r+4|0;H=k[B>>2]|0;U=k[r+8>>2]|0;if(H>>>0<U>>>0){Nt(H,b);k[B>>2]=(k[B>>2]|0)+24}else{Y=k[r>>2]|0;z=H-Y|0;V=(z|0)/24|0;j=V+1|0;if((z|0)<-24)gc(r);K=(U-Y|0)/24|0;if(K>>>0<1073741823){X=K<<1;a=X>>>0<j>>>0?j:X}else a=2147483647;pt(Me,a,V,r+12|0);G=Me+8|0;q=k[G>>2]|0;Nt(q,b);k[G>>2]=q+24;Bn(r,Me);lt(Me)}Wo(b);Nu(J);c[r+62>>0]=1;f=D}}else f=e}}else f=e}else f=e;else f=e}while(0);m=Le;return f|0}function ka(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;var s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0;ui=m;m=m+32|0;if((m|0)>=(p|0))he();Ke=ui+24|0;je=ui+8|0;Ye=ui;e:do{if((i+-3|0)>>>0>5){k[r>>2]=-1;k[f>>2]=0;v[a>>3]=-1.0;t=-1}else{k[je>>2]=0;w=i+-1|0;$=ce(w,i)|0;k[je+4>>2]=$;Ce=ce(i,i)|0;k[je+8>>2]=Ce+-1;k[je+12>>2]=w;_=c[e+(k[je>>2]|0)>>0]|0;u=(_&255)>0?_:0;li=(_&255)<255?_:-1;U=c[e+(k[je+4>>2]|0)>>0]|0;b=(U&255)>(u&255)?U:u;ni=(U&255)<(li&255)?U:li;fe=c[e+(k[je+8>>2]|0)>>0]|0;d=(fe&255)>(b&255)?fe:b;si=(fe&255)<(ni&255)?fe:ni;Re=c[e+(k[je+12>>2]|0)>>0]|0;Ne=((Re&255)>(d&255)?Re:d)&255;Pe=((Re&255)<(si&255)?Re:si)&255;if((Ne-Pe|0)<30){k[r>>2]=-1;k[f>>2]=0;v[a>>3]=-1.0;t=-2;break}De=(Ne+Pe|0)>>>1;c[Ke>>0]=(h[e+(k[je>>2]|0)>>0]|0)>>>0<De>>>0&1;c[Ke+1>>0]=(h[e+(k[je+4>>2]|0)>>0]|0)>>>0<De>>>0&1;c[Ke+2>>0]=(h[e+(k[je+8>>2]|0)>>0]|0)>>>0<De>>>0&1;c[Ke+3>>0]=(h[e+(k[je+12>>2]|0)>>0]|0)>>>0<De>>>0&1;Ge=0;while(1){Ie=Ge+1|0;if((c[Ke+Ge>>0]|0)==1)if((c[Ke+((Ie|0)%4|0)>>0]|0)==1)if(!(c[Ke+((Ge+2|0)%4|0)>>0]|0)){qe=Ge;oi=10;break}if((Ie|0)<4)Ge=Ie;else{o=Ie;oi=12;break}}if((oi|0)==10)k[f>>2]=qe;else if((oi|0)==12)if((o|0)==4){k[r>>2]=-1;k[f>>2]=0;v[a>>3]=-1.0;t=-3;break}if(!Ce)ze=255;else{Ve=255;Je=0;while(1){Le=e+Je|0;xe=h[Le>>0]|0;Be=xe-De|0;s=(Be|0)<0?0-Be|0:Be;We=(s|0)<(Ve|0)?s:Ve;c[Le>>0]=xe>>>0<De>>>0&1;Je=Je+1|0;if((Je|0)>=(Ce|0)){ze=We;break}else Ve=We}}switch(k[f>>2]|0){case 0:{if((i|0)>0){Xe=(i|0)==0;ue=0;be=0;ii=0;while(1){S=(ii|0)==(w|0);g=ce(ii,i)|0;if(Xe){ke=ue;de=be}else{y=ue;F=be;Ze=0;while(1){if(!(Ze|ii)){we=y;_e=F}else if(S&((Ze|0)==0|(Ze|0)==(w|0))){we=y;_e=F}else{A=iu(y|0,F|0,1)|0;we=(c[e+(Ze+g)>>0]|0)!=0|A;_e=Y}Ze=Ze+1|0;if((Ze|0)==(i|0)){ke=we;de=_e;break}else{y=we;F=_e}}}ii=ii+1|0;if((ii|0)>=(i|0)){K=ke;ee=de;break}else{ue=ke;be=de}}}else{K=0;ee=0}break}case 1:{if((i|0)>0){E=(i|0)>0;te=0;oe=0;Qe=0;while(1){T=(Qe|0)==0;O=(Qe|0)==(w|0);if(E){R=te;N=oe;ri=w;while(1){M=(ri|0)==(w|0);if(T&M){me=R;pe=N}else if(O&(M|(ri|0)==0)){me=R;pe=N}else{P=iu(R|0,N|0,1)|0;D=e+((ce(ri,i)|0)+Qe)|0;me=(c[D>>0]|0)!=0|P;pe=Y}if((ri|0)>0){R=me;N=pe;ri=ri+-1|0}else{ve=me;Ee=pe;break}}}else{ve=te;Ee=oe}Qe=Qe+1|0;if((Qe|0)>=(i|0)){K=ve;ee=Ee;break}else{te=ve;oe=Ee}}}else{K=0;ee=0}break}case 2:{if((i|0)>0){Ue=(i|0)>0;ne=0;se=0;fi=w;while(1){ti=(fi|0)==(w|0)|(fi|0)==0;C=ce(fi,i)|0;if(Ue){I=ne;L=se;$e=w;while(1){if(ti&($e|0)==(w|0)|($e|fi|0)==0){ye=I;Fe=L}else{x=iu(I|0,L|0,1)|0;ye=(c[e+($e+C)>>0]|0)!=0|x;Fe=Y}if(($e|0)>0){I=ye;L=Fe;$e=$e+-1|0}else{Se=ye;ge=Fe;break}}}else{Se=ne;ge=se}if((fi|0)>0){ne=Se;se=ge;fi=fi+-1|0}else{K=Se;ee=ge;break}}}else{K=0;ee=0}break}case 3:{if((i|0)>0){He=(i|0)>0;ae=0;le=0;ei=w;while(1){B=(ei|0)==(w|0);H=(ei|0)==0;if(He){z=ae;V=le;ai=0;while(1){if(B&(ai|0)==0|(ai|ei|0)==0|H&(ai|0)==(w|0)){Oe=z;Me=V}else{W=iu(z|0,V|0,1)|0;j=e+((ce(ai,i)|0)+ei)|0;Oe=(c[j>>0]|0)!=0|W;Me=Y}ai=ai+1|0;if((ai|0)>=(i|0)){Ae=Oe;Te=Me;break}else{z=Oe;V=Me}}}else{Ae=ae;Te=le}if((ei|0)>0){ae=Ae;le=Te;ei=ei+-1|0}else{K=Ae;ee=Te;break}}}else{K=0;ee=0}break}default:{K=0;ee=0}}v[a>>3]=(ze|0)>30?1.0:+(ze|0)/30.0;switch(l|0){case 259:{X=c[4551+K>>0]|0;G=X<<24>>24;q=Ye;k[q>>2]=G;k[q+4>>2]=((G|0)<0)<<31>>31;if(X<<24>>24<0){k[r>>2]=-1;v[a>>3]=-1.0;t=-4;break e}break}case 515:{J=c[4423+K>>0]|0;Z=J<<24>>24;Q=Ye;k[Q>>2]=Z;k[Q+4>>2]=((Z|0)<0)<<31>>31;if(n)k[n>>2]=h[4487+K>>0];if(J<<24>>24<0){k[r>>2]=-1;v[a>>3]=-1.0;t=-4;break e}break}case 772:case 1028:{ie=ha(l,K,ee,0,Ye)|0;if((ie|0)<0){k[r>>2]=-1;v[a>>3]=-1.0;t=-4;break e}if((n|0)!=0&(ie|0)>0)k[n>>2]=ie;break}default:{re=Ye;k[re>>2]=K;k[re+4>>2]=ee}}k[r>>2]=k[Ye>>2];t=0}}while(0);m=ui;return t|0}function ha(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0,ai=0,li=0,ni=0,si=0,ti=0,oi=0,ui=0,ci=0,bi=0;ui=m;m=m+2320|0;if((m|0)>=(p|0))he();Qe=ui+2304|0;me=ui+864|0;Ee=ui+784|0;Ue=ui+704|0;ti=ui+624|0;ei=ui+548|0;ze=ui+40|0;$e=ui;switch(e|0){case 772:{Be=9;ai=1;oi=3;break}case 1028:{Be=5;ai=2;oi=3;break}case 2830:{de=900;Ce=1472;He=64;Ye=120;Ve=127;Ze=f;li=9;oi=6;break}default:n=-1}if((oi|0)==3){J=i;le=r;pe=0;while(1){c[Qe+pe>>0]=J&1;J=au(J|0,le|0,1)|0;pe=pe+1|0;if((pe|0)==13)break;else le=Y}de=840;Ce=1408;He=Be;Ye=13;Ve=15;Ze=Qe;li=ai;oi=6}do{if((oi|0)==6){w=li<<1;Fe=1;fi=0;while(1){S=ei+(Fe<<2)|0;k[S>>2]=0;K=0;Ie=0;while(1){if(!(c[Ze+Ie>>0]|0))X=K;else{I=de+(((ce(Ie,Fe)|0)%(Ve|0)|0)<<2)|0;B=K^k[I>>2];k[S>>2]=B;X=B}Ie=Ie+1|0;if((Ie|0)>=(Ye|0)){o=X;break}else K=X}ii=(o|0)==0?fi:1;k[S>>2]=k[Ce+(o<<2)>>2];if((Fe|0)<(w|0)){Fe=Fe+1|0;fi=ii}else{ri=ii;break}}q=(ri|0)!=0;if(q){k[Ee>>2]=0;Z=k[ei+4>>2]|0;k[Ee+4>>2]=Z;k[me>>2]=0;k[me+72>>2]=1;if((w|0)>1){Ae=1;do{k[me+(Ae<<2)>>2]=-1;k[me+72+(Ae<<2)>>2]=0;Ae=Ae+1|0}while((Ae|0)<(w|0))}k[Ue>>2]=0;k[Ue+4>>2]=0;k[ti>>2]=-1;k[ti+4>>2]=0;$=Z;ie=0;ni=0;while(1){bi=ni;ni=ni+1|0;Q=Ee+(ni<<2)|0;if(($|0)==-1){ee=bi+2|0;k[Ue+(ee<<2)>>2]=ie;if((ie|0)<0){b=ee;g=ie}else{Te=0;while(1){re=me+(ni*72|0)+(Te<<2)|0;fe=k[re>>2]|0;k[me+(ee*72|0)+(Te<<2)>>2]=fe;k[re>>2]=k[Ce+(fe<<2)>>2];if((Te|0)<(ie|0))Te=Te+1|0;else{b=ee;g=ie;break}}}}else{We=bi;while(1){ae=(We|0)>0;if(ae&(k[Ee+(We<<2)>>2]|0)==-1)We=We+-1|0;else break}if(ae){Le=We;je=We;while(1){ci=Le;Le=Le+-1|0;if((k[Ee+(Le<<2)>>2]|0)==-1)Ke=je;else Ke=(k[ti+(je<<2)>>2]|0)<(k[ti+(Le<<2)>>2]|0)?Le:je;if((ci|0)<=1){Xe=Ke;break}else je=Ke}}else Xe=We;ne=Ue+(Xe<<2)|0;se=ni-Xe|0;te=se+(k[ne>>2]|0)|0;oe=bi+2|0;l=(ie|0)>(te|0)?ie:te;k[Ue+(oe<<2)>>2]=l;Oe=0;do{k[me+(oe*72|0)+(Oe<<2)>>2]=0;Oe=Oe+1|0}while((Oe|0)<(w|0));ue=k[ne>>2]|0;be=Ee+(Xe<<2)|0;if((ue|0)>=0){Me=0;while(1){ke=k[me+(Xe*72|0)+(Me<<2)>>2]|0;if((ke|0)!=-1)k[me+(oe*72|0)+(se+Me<<2)>>2]=k[de+(((ke+Ve+(k[Q>>2]|0)-(k[be>>2]|0)|0)%(Ve|0)|0)<<2)>>2];if((Me|0)<(ue|0))Me=Me+1|0;else break}}if((ie|0)<0){b=oe;g=l}else{Re=0;while(1){_=me+(ni*72|0)+(Re<<2)|0;v=k[_>>2]|0;E=me+(oe*72|0)+(Re<<2)|0;k[E>>2]=k[E>>2]^v;k[_>>2]=k[Ce+(v<<2)>>2];if((Re|0)<(ie|0))Re=Re+1|0;else{b=oe;g=l;break}}}}k[ti+(b<<2)>>2]=ni-g;if((ni|0)>=(w|0)){t=g;u=b;break}y=k[ei+(b<<2)>>2]|0;if((y|0)==-1)d=0;else d=k[de+(y<<2)>>2]|0;F=Ee+(b<<2)|0;k[F>>2]=d;if((g|0)<1)s=d;else{M=d;Ne=1;while(1){A=k[ei+(b-Ne<<2)>>2]|0;if((A|0)==-1)G=M;else{T=k[me+(b*72|0)+(Ne<<2)>>2]|0;if(!T)G=M;else{O=M^k[de+((((k[Ce+(T<<2)>>2]|0)+A|0)%(Ve|0)|0)<<2)>>2];k[F>>2]=O;G=O}}if((Ne|0)<(g|0)){M=G;Ne=Ne+1|0}else{s=G;break}}}$=k[Ce+(s<<2)>>2]|0;k[F>>2]=$;if((g|0)>(li|0)){t=g;u=b;break}else ie=g}if((t|0)>(li|0)){n=-1;break}if((t|0)>=0){Pe=0;while(1){R=me+(u*72|0)+(Pe<<2)|0;k[R>>2]=k[Ce+(k[R>>2]<<2)>>2];if((Pe|0)<(t|0))Pe=Pe+1|0;else break}}if((t|0)>=1){De=1;while(1){k[$e+(De<<2)>>2]=k[me+(u*72|0)+(De<<2)>>2];if((De|0)<(t|0))De=De+1|0;else break}}N=(t|0)<1;we=0;Se=1;while(1){if(N)Ge=1;else{xe=1;qe=1;while(1){P=$e+(xe<<2)|0;D=k[P>>2]|0;if((D|0)==-1)Je=qe;else{C=(D+xe|0)%(Ve|0)|0;k[P>>2]=C;Je=k[de+(C<<2)>>2]^qe}if((xe|0)<(t|0)){xe=xe+1|0;qe=Je}else{Ge=Je;break}}}if(!Ge){k[ze+(we<<2)>>2]=Ve-Se;_e=we+1|0}else _e=we;Se=Se+1|0;if((Ve|0)<(Se|0)){ve=_e;break}else we=_e}if((ve|0)!=(t|0)){n=-1;break}if((t|0)>0){ge=0;do{L=Ze+(k[ze+(ge<<2)>>2]|0)|0;c[L>>0]=h[L>>0]^1;ge=ge+1|0}while((ge|0)<(t|0));si=u}else si=u}else si=0;x=a;k[x>>2]=0;k[x+4>>2]=0;H=1;U=0;V=0;W=0;ye=Ye-He|0;while(1){z=Vt(h[Ze+ye>>0]|0,0,H|0,U|0)|0;V=Qu(z|0,Y|0,V|0,W|0)|0;W=Y;j=a;k[j>>2]=V;k[j+4>>2]=W;H=iu(H|0,U|0,1)|0;ye=ye+1|0;if((ye|0)>=(Ye|0))break;else U=Y}if(q)n=k[Ue+(si<<2)>>2]|0;else n=0}}while(0);m=ui;return n|0}function da(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0;Re=m;m=m+96|0;if((m|0)>=(p|0))he();Oe=Re+72|0;s=Re+56|0;t=Re+48|0;q=Re+32|0;$=Re+24|0;fe=Re+8|0;ne=Re;e:do{if((e|0)==(i|0))n=e;else switch(c[e>>0]|0){case 84:{ye=r+4|0;O=((k[ye>>2]|0)-(k[r>>2]|0)|0)/24|0;D=ba(e,i,r)|0;x=k[ye>>2]|0;Z=(x-(k[r>>2]|0)|0)/24|0;if(!((D|0)!=(e|0)&(Z|0)==(O+1|0))){if((Z|0)==(O|0)){n=e;break e}else{ve=x;Me=Z}while(1){me=ve;ve=ve+-24|0;do{Ee=me+-24|0;k[ye>>2]=Ee;Wo(Ee);me=k[ye>>2]|0}while((me|0)!=(ve|0));Me=Me+-1|0;if((Me|0)==(O|0)){n=e;break e}}}Q=r+16|0;k[t>>2]=k[r+12>>2];Ss(s,x+-24|0,t);ee=r+20|0;ie=k[ee>>2]|0;re=k[r+24>>2]|0;if(ie>>>0<re>>>0){k[ie+12>>2]=k[s+12>>2];k[ie>>2]=k[s>>2];ae=s+4|0;k[ie+4>>2]=k[ae>>2];le=s+8|0;k[ie+8>>2]=k[le>>2];k[le>>2]=0;k[ae>>2]=0;k[s>>2]=0;k[ee>>2]=(k[ee>>2]|0)+16}else{se=k[Q>>2]|0;te=ie-se|0;oe=te>>4;ue=oe+1|0;if((te|0)<-16)gc(Q);ce=re-se|0;if(ce>>4>>>0<1073741823){be=ce>>3;f=be>>>0<ue>>>0?ue:be}else f=2147483647;wt(Oe,f,oe,r+28|0);ke=Oe+8|0;de=k[ke>>2]|0;k[de+12>>2]=k[s+12>>2];k[de>>2]=k[s>>2];we=s+4|0;k[de+4>>2]=k[we>>2];_e=s+8|0;k[de+8>>2]=k[_e>>2];k[_e>>2]=0;k[we>>2]=0;k[s>>2]=0;k[ke>>2]=de+16;zl(Q,Oe);Ps(Oe)}nt(s);n=D;break e;break}case 68:{pe=kl(e,i,r)|0;if((pe|0)==(e|0)){n=e;break e}Se=k[r+4>>2]|0;if((k[r>>2]|0)==(Se|0)){n=e;break e}ge=r+16|0;k[$>>2]=k[r+12>>2];Ss(q,Se+-24|0,$);Fe=r+20|0;Ae=k[Fe>>2]|0;Te=k[r+24>>2]|0;if(Ae>>>0<Te>>>0){k[Ae+12>>2]=k[q+12>>2];k[Ae>>2]=k[q>>2];o=q+4|0;k[Ae+4>>2]=k[o>>2];u=q+8|0;k[Ae+8>>2]=k[u>>2];k[u>>2]=0;k[o>>2]=0;k[q>>2]=0;k[Fe>>2]=(k[Fe>>2]|0)+16}else{b=k[ge>>2]|0;h=Ae-b|0;d=h>>4;w=d+1|0;if((h|0)<-16)gc(ge);_=Te-b|0;if(_>>4>>>0<1073741823){v=_>>3;l=v>>>0<w>>>0?w:v}else l=2147483647;wt(Oe,l,d,r+28|0);E=Oe+8|0;S=k[E>>2]|0;k[S+12>>2]=k[q+12>>2];k[S>>2]=k[q>>2];g=q+4|0;k[S+4>>2]=k[g>>2];y=q+8|0;k[S+8>>2]=k[y>>2];k[y>>2]=0;k[g>>2]=0;k[q>>2]=0;k[E>>2]=S+16;zl(ge,Oe);Ps(Oe)}nt(q);n=pe;break e;break}case 83:{F=Dr(e,i,r)|0;if((F|0)!=(e|0)){n=F;break e}if((i-e|0)<=2){n=e;break e}if((c[e+1>>0]|0)!=116){n=e;break e}A=e+2|0;T=Mr(A,i,r)|0;if((T|0)==(A|0)){n=e;break e}M=r+4|0;R=k[M>>2]|0;if((k[r>>2]|0)==(R|0)){n=e;break e}Mo(R+-24|0,0,12896)|0;N=r+16|0;P=(k[M>>2]|0)+-24|0;k[ne>>2]=k[r+12>>2];Ss(fe,P,ne);C=r+20|0;I=k[C>>2]|0;L=k[r+24>>2]|0;if(I>>>0<L>>>0){k[I+12>>2]=k[fe+12>>2];k[I>>2]=k[fe>>2];B=fe+4|0;k[I+4>>2]=k[B>>2];H=fe+8|0;k[I+8>>2]=k[H>>2];k[H>>2]=0;k[B>>2]=0;k[fe>>2]=0;k[C>>2]=(k[C>>2]|0)+16}else{U=k[N>>2]|0;Y=I-U|0;z=Y>>4;V=z+1|0;if((Y|0)<-16)gc(N);W=L-U|0;if(W>>4>>>0<1073741823){j=W>>3;a=j>>>0<V>>>0?V:j}else a=2147483647;wt(Oe,a,z,r+28|0);K=Oe+8|0;X=k[K>>2]|0;k[X+12>>2]=k[fe+12>>2];k[X>>2]=k[fe>>2];G=fe+4|0;k[X+4>>2]=k[G>>2];J=fe+8|0;k[X+8>>2]=k[J>>2];k[J>>2]=0;k[G>>2]=0;k[fe>>2]=0;k[K>>2]=X+16;zl(N,Oe);Ps(Oe)}nt(fe);n=T;break e;break}default:{n=e;break e}}}while(0);m=Re;return n|0}function wa(e,i,r,f,a,l,n,s,t){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=+n;s=s|0;t=t|0;var o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0.0,D=0.0,C=0.0,I=0.0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0.0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0,Ne=0,Pe=0,De=0,Ce=0,Ie=0,Le=0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0;Ve=m;m=m+96|0;if((m|0)>=(p|0))he();Be=Ve+56|0;Ue=Ve+48|0;He=Ve+8|0;Ye=Ve;y=(f|0)==1;if(y){o=(e|0)/2|0;u=(i|0)/2|0;c=(a|0)/4|0;b=(l|0)/4|0}else{o=e;u=i;c=a;b=l}k[t>>2]=0;ae=r+8|0;oe=o+-2|0;ke=u+-2|0;we=r+1179664|0;e:do{if((k[ae>>2]|0)>0){pe=0;while(1){A=r+12+(pe<<2)|0;M=k[A>>2]|0;i:do{if(!((M|0)<(b|0)|(M|0)>(c|0))){H=r+131084+(pe<<4)|0;if((k[H>>2]|0)!=1)if((k[r+131084+(pe<<4)+4>>2]|0)!=(oe|0))if((k[r+131084+(pe<<4)+8>>2]|0)!=1)if((k[r+131084+(pe<<4)+12>>2]|0)!=(ke|0))if((Ia(k[r>>2]|0,o,0,we,pe+1|0,H,s+((k[t>>2]|0)*80048|0)|0)|0)>=0){G=k[A>>2]|0;q=k[t>>2]|0;J=s+(q*80048|0)+28|0;Z=k[J>>2]|0;Q=s+(q*80048|0)+40028|0;$=k[Q>>2]|0;ee=s+(q*80048|0)+24|0;ie=(k[ee>>2]|0)+-1|0;if((ie|0)>1){ve=0;Ee=1;Ce=0;while(1){re=(k[s+(q*80048|0)+28+(Ee<<2)>>2]|0)-Z|0;fe=ce(re,re)|0;le=(k[s+(q*80048|0)+40028+(Ee<<2)>>2]|0)-$|0;ne=(ce(le,le)|0)+fe|0;se=(ne|0)>(ve|0);me=se?Ee:Ce;Ee=Ee+1|0;if((Ee|0)>=(ie|0)){De=me;break}else{ve=se?ne:ve;Ce=me}}}else De=0;te=+(G|0)/.75*.01*n;k[Ue>>2]=0;k[Ye>>2]=0;r:do{if((Pl(J,Q,0,De,te,Be,Ue)|0)>=0)if((Pl(J,Q,De,(k[ee>>2]|0)+-1|0,te,He,Ye)|0)>=0){ue=k[Ue>>2]|0;be=k[Ye>>2]|0;do{if((ue|0)==1&(be|0)==1){Ie=k[He>>2]|0;Le=k[Be>>2]|0;xe=De}else{if((ue|0)>1&(be|0)==0){de=(De|0)/2|0;k[Ye>>2]=0;k[Ue>>2]=0;if((Pl(J,Q,0,de,te,Be,Ue)|0)<0)break r;if((Pl(J,Q,de,De,te,He,Ye)|0)<0)break r;if(!((k[Ue>>2]|0)==1&(k[Ye>>2]|0)==1))break r;Ie=De;Le=k[Be>>2]|0;xe=k[He>>2]|0;break}if(!((ue|0)==0&(be|0)>1))break r;_e=(De+-1+(k[ee>>2]|0)|0)/2|0;k[Ye>>2]=0;k[Ue>>2]=0;if((Pl(J,Q,De,_e,te,Be,Ue)|0)<0)break r;if((Pl(J,Q,_e,(k[ee>>2]|0)+-1|0,te,He,Ye)|0)<0)break r;if(!((k[Ue>>2]|0)==1&(k[Ye>>2]|0)==1))break r;Ie=k[He>>2]|0;Le=De;xe=k[Be>>2]|0}}while(0);k[s+(q*80048|0)+80028>>2]=0;k[s+(q*80048|0)+80032>>2]=Le;k[s+(q*80048|0)+80036>>2]=xe;k[s+(q*80048|0)+80040>>2]=Ie;k[s+(q*80048|0)+80044>>2]=(k[ee>>2]|0)+-1;k[s+((k[t>>2]|0)*80048|0)>>2]=k[A>>2];F=k[t>>2]|0;v[s+(F*80048|0)+8>>3]=+v[r+655376+(pe<<4)>>3];v[s+(F*80048|0)+16>>3]=+v[r+655376+(pe<<4)+8>>3];T=F+1|0;k[t>>2]=T;if((T|0)==60){E=60;break e}else break i}}while(0)}}}while(0);pe=pe+1|0;if((pe|0)>=(k[ae>>2]|0)){ze=4;break}}}else ze=4}while(0);if((ze|0)==4)E=k[t>>2]|0;if((E|0)>0){N=E;Se=0;while(1){We=Se;Se=Se+1|0;O=s+(We*80048|0)+16|0;R=s+(We*80048|0)|0;if((Se|0)<(N|0)){P=+v[s+(We*80048|0)+8>>3];Fe=Se;do{D=P-+v[s+(Fe*80048|0)+8>>3];C=+v[O>>3]-+v[s+(Fe*80048|0)+16>>3];I=D*D+C*C;L=k[R>>2]|0;x=s+(Fe*80048|0)|0;B=k[x>>2]|0;if((L|0)>(B|0)){if(I<+((L|0)/4|0|0))k[x>>2]=0}else if(I<+((B|0)/4|0|0))k[R>>2]=0;Fe=Fe+1|0;S=k[t>>2]|0}while((Fe|0)<(S|0));w=S}else w=N;if((Se|0)>=(w|0)){_=w;break}else N=w}}else _=E;if((_|0)>0){U=_;ge=0;while(1){if(!(k[s+(ge*80048|0)>>2]|0)){Me=ge+1|0;if((Me|0)<(U|0)){Te=ge;Re=Me;while(1){rt(s+(Te*80048|0)|0,s+(Re*80048|0)|0,80048)|0;g=k[t>>2]|0;Ae=Re+1|0;if((Ae|0)<(g|0)){Oe=Re;Re=Ae;Te=Oe}else{h=g;break}}}else h=U;Y=h+-1|0;k[t>>2]=Y;z=Y}else z=U;ge=ge+1|0;if((ge|0)>=(z|0)){d=z;break}else U=z}}else d=_;if(y&(d|0)>0){ye=0;Pe=s;while(1){k[Pe>>2]=k[Pe>>2]<<2;V=Pe+8|0;v[V>>3]=+v[V>>3]*2.0;W=Pe+16|0;v[W>>3]=+v[W>>3]*2.0;j=Pe+24|0;if((k[j>>2]|0)>0){Ne=0;do{K=Pe+28+(Ne<<2)|0;k[K>>2]=k[K>>2]<<1;X=Pe+40028+(Ne<<2)|0;k[X>>2]=k[X>>2]<<1;Ne=Ne+1|0}while((Ne|0)<(k[j>>2]|0))}ye=ye+1|0;if((ye|0)>=(k[t>>2]|0))break;else Pe=Pe+80048|0}}m=Ve;return 0}function _a(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;var s=0,t=0,o=0,u=0,c=0,b=0,d=0,w=0,_=0,E=0,S=0.0,g=0,y=0,F=0,A=0,T=0,O=0.0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0.0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0.0,q=0,J=0,Z=0,Q=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0.0,Oe=0.0,Me=0.0,Re=0.0,Ne=0.0,Pe=0.0,De=0.0,Ce=0.0,Ie=0.0,Le=0.0,xe=0,Be=0,He=0,Ue=0,Ye=0,ze=0,Ve=0,We=0,je=0,Ke=0,Xe=0,Ge=0,qe=0,Je=0,Ze=0,Qe=0,$e=0,ei=0,ii=0,ri=0,fi=0.0,ai=0,li=0,ni=0,si=0.0,ti=0,oi=0,ui=0,ci=0,bi=0,ki=0,hi=0;hi=m;m=m+16|0;if((m|0)>=(p|0))he();bi=hi+8|0;ci=hi;e:do{if(!e){k[a>>2]=0;k[l>>2]=0;v[n>>3]=-1.0;s=-1}else switch(i|0){case 0:{u=ce(f,f)|0;F=u*3|0;C=Sr(u*12|0)|0;if(!C){Yl(3,5471,ci);ji(1)}if(!u)ie=0;else{re=0;le=0;while(1){_=((h[r+le>>0]|0)^255)+re|0;le=le+1|0;if((le|0)>=(F|0)){ie=_;break}else re=_}}y=(ie|0)/(F|0)|0;if(!u)fi=0.0;else{ne=0;ai=0;while(1){A=((h[r+ne>>0]|0)^255)-y|0;k[C+(ne<<2)>>2]=A;T=(ce(A,A)|0)+ai|0;ne=ne+1|0;if((ne|0)>=(F|0)){t=T;break}else ai=T}fi=+(t|0)}O=+$(+fi);if(O/(+(f|0)*1.7320508)<15.0){k[a>>2]=0;k[l>>2]=0;v[n>>3]=-1.0;oa(C);s=-2;break e}M=k[e>>2]|0;R=e+12|0;N=e+16|0;if((M|0)>0){P=k[e+8>>2]|0;D=(u|0)==0;de=-1;Fe=0;Oe=0.0;Be=-1;Ge=-1;while(1){_e=de;i:while(1){we=_e+1|0;switch(k[P+(we<<2)>>2]|0){case 0:{_e=we;break}case 2:{Ee=we;Ne=Oe;Ye=Be;Ze=Ge;break i;break}default:{ve=we;ki=17;break i}}}if((ki|0)==17){ki=0;I=ve<<2;L=k[N>>2]|0;be=0;Me=Oe;He=Be;qe=Ge;while(1){x=be+I|0;if(D)li=0;else{B=k[(k[R>>2]|0)+(x<<2)>>2]|0;se=0;ni=0;while(1){H=(ce(k[B+(se<<2)>>2]|0,k[C+(se<<2)>>2]|0)|0)+ni|0;se=se+1|0;if((se|0)>=(F|0)){li=H;break}else ni=H}}U=+(li|0)/+v[L+(x<<3)>>3]/O;Y=U>Me;Ue=Y?be:He;Je=Y?ve:qe;Re=Y?U:Me;be=be+1|0;if((be|0)==4){Ee=ve;Ne=Re;Ye=Ue;Ze=Je;break}else{Me=Re;He=Ue;qe=Je}}}Fe=Fe+1|0;if((Fe|0)>=(M|0)){Te=Ne;xe=Ye;Xe=Ze;break}else{de=Ee;Oe=Ne;Be=Ye;Ge=Ze}}}else{Te=0.0;xe=-1;Xe=-1}k[l>>2]=xe;k[a>>2]=Xe;v[n>>3]=Te;oa(C);s=0;break e;break}case 1:{z=ce(f,f)|0;V=Sr(z<<2)|0;if(!V){Yl(3,5471,bi);ji(1)}if(!z)fe=0;else{ae=0;te=0;while(1){W=((h[r+te>>0]|0)^255)+ae|0;te=te+1|0;if((te|0)>=(z|0)){fe=W;break}else ae=W}}j=(fe|0)/(z|0)|0;if(!z)si=0.0;else{oe=0;ti=0;while(1){K=((h[r+oe>>0]|0)^255)-j|0;k[V+(oe<<2)>>2]=K;X=(ce(K,K)|0)+ti|0;oe=oe+1|0;if((oe|0)>=(z|0)){o=X;break}else ti=X}si=+(o|0)}G=+$(+si);if(G/+(f|0)<15.0){k[a>>2]=0;k[l>>2]=0;v[n>>3]=-1.0;oa(V);s=-2;break e}q=k[e>>2]|0;J=e+20|0;Z=e+24|0;if((q|0)>0){Q=k[e+8>>2]|0;ee=(z|0)==0;me=-1;Ae=0;De=0.0;Ve=-1;$e=-1;while(1){Se=me;i:while(1){pe=Se+1|0;switch(k[Q+(pe<<2)>>2]|0){case 0:{Se=pe;break}case 2:{ye=pe;Le=De;Ke=Ve;ri=$e;break i;break}default:{ge=pe;ki=37;break i}}}if((ki|0)==37){ki=0;c=ge<<2;b=k[Z>>2]|0;ke=0;Ce=De;We=Ve;ei=$e;while(1){d=ke+c|0;if(ee)oi=0;else{w=k[(k[J>>2]|0)+(d<<2)>>2]|0;ue=0;ui=0;while(1){E=(ce(k[w+(ue<<2)>>2]|0,k[V+(ue<<2)>>2]|0)|0)+ui|0;ue=ue+1|0;if((ue|0)>=(z|0)){oi=E;break}else ui=E}}S=+(oi|0)/+v[b+(d<<3)>>3]/G;g=S>Ce;je=g?ke:We;ii=g?ge:ei;Ie=g?S:Ce;ke=ke+1|0;if((ke|0)==4){ye=ge;Le=Ie;Ke=je;ri=ii;break}else{Ce=Ie;We=je;ei=ii}}}Ae=Ae+1|0;if((Ae|0)>=(q|0)){Pe=Le;ze=Ke;Qe=ri;break}else{me=ye;De=Le;Ve=Ke;$e=ri}}}else{Pe=0.0;ze=-1;Qe=-1}k[l>>2]=ze;k[a>>2]=Qe;v[n>>3]=Pe;oa(V);s=0;break e;break}default:{s=-1;break e}}}while(0);m=hi;return s|0}function va(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0.0,M=0.0,R=0,N=0.0,P=0,D=0,C=0,I=0,L=0,x=0,B=0.0,H=0.0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0;Se=m;m=m+2544|0;if((m|0)>=(p|0))he();ve=Se+208|0;_e=Se+200|0;de=Se+184|0;ke=Se+176|0;be=Se+168|0;ce=Se+152|0;ue=Se+144|0;oe=Se+136|0;te=Se+128|0;se=Se+120|0;ne=Se+112|0;le=Se+104|0;ae=Se+96|0;Ee=Se+88|0;we=Se+80|0;fe=Se+72|0;re=Se+64|0;me=Se;Y=Se+2280|0;J=Se+232|0;z=Se+224|0;q=Se+220|0;ee=Se+216|0;ie=Se+212|0;f=Jn(e,5306)|0;e:do{if(!f){k[re>>2]=e;Yl(3,5308,re);d=Ju()|0;g=ds(k[d>>2]|0)|0;k[fe>>2]=13809;k[fe+4>>2]=g;Yl(3,5361,fe);r=0}else{yt(Y,f);k[we>>2]=q;if((Yo(Y,5367,we)|0)!=1){k[Ee>>2]=e;Yl(3,5370,Ee);dt(f)|0;r=0;break}R=k[q>>2]|0;U=Sr(R*320|0)|0;if(!U){Yl(3,5471,ae);ji(1)}l=me+8|0;s=me+16|0;t=me+24|0;o=me+32|0;u=me+40|0;c=me+48|0;b=me+56|0;h=(i|0)==0;i:do{if((R|0)>0){V=0;Q=0;r:while(1){yt(Y,f);w=U+(V*320|0)|0;_=U+(V*320|0)+312|0;k[le>>2]=_;k[le+4>>2]=z;if((Yo(Y,5488,le)|0)==1){S=k[_>>2]|0;k[w>>2]=(S&-32768|0)==0&0==0?S&32767:0;k[U+(V*320|0)+4>>2]=1;$=Q|2}else{if(h){pe=10;break}if(!(Tt(J,e,2048,1)|0)){pe=12;break}gt(J,Y,2047-(Hn(J)|0)|0)|0;E=Nn(i,J)|0;k[w>>2]=E;if((E|0)<0){pe=14;break}k[U+(V*320|0)+4>>2]=0;$=Q|1}yt(Y,f);y=U+(V*320|0)+8|0;k[oe>>2]=y;if((Yo(Y,5784,oe)|0)!=1){W=V;pe=18;break}yt(Y,f);F=U+(V*320|0)+16|0;A=U+(V*320|0)+24|0;T=U+(V*320|0)+40|0;k[ce>>2]=F;k[ce+4>>2]=A;k[ce+8>>2]=U+(V*320|0)+32;k[ce+12>>2]=T;if((Yo(Y,5893,ce)|0)==4)X=1;else{k[be>>2]=ee;k[be+4>>2]=ie;if((Yo(Y,5909,be)|0)==2)X=0;else{j=V;pe=21;break}}do{yt(Y,f);k[de>>2]=U+(V*320|0)+16+(X<<5);k[de+4>>2]=U+(V*320|0)+16+(X<<5)+8;k[de+8>>2]=U+(V*320|0)+16+(X<<5)+16;k[de+12>>2]=U+(V*320|0)+16+(X<<5)+24;if((Yo(Y,5893,de)|0)!=4){K=V;pe=23;break r}X=X+1|0}while((X|0)<3);Xl(F,U+(V*320|0)+112|0)|0;O=+v[y>>3];M=O*-.5;v[me>>3]=M;N=O*.5;v[l>>3]=N;v[s>>3]=N;v[t>>3]=N;v[o>>3]=N;v[u>>3]=M;v[c>>3]=M;v[b>>3]=M;P=U+(V*320|0)+48|0;D=U+(V*320|0)+56|0;C=U+(V*320|0)+72|0;I=U+(V*320|0)+80|0;L=U+(V*320|0)+88|0;x=U+(V*320|0)+104|0;G=0;do{B=+v[me+(G<<4)>>3];H=+v[me+(G<<4)+8>>3];v[U+(V*320|0)+208+(G*24|0)>>3]=+v[T>>3]+(+v[F>>3]*B+ +v[A>>3]*H);v[U+(V*320|0)+208+(G*24|0)+8>>3]=+v[C>>3]+(+v[P>>3]*B+ +v[D>>3]*H);v[U+(V*320|0)+208+(G*24|0)+16>>3]=+v[x>>3]+(+v[I>>3]*B+ +v[L>>3]*H);G=G+1|0}while((G|0)!=4);V=V+1|0;if((V|0)>=(k[q>>2]|0)){Z=$;break i}else Q=$}if((pe|0)==10){k[ne>>2]=e;k[ne+4>>2]=Y;Yl(3,5495,ne)}else if((pe|0)==12){k[se>>2]=e;Yl(3,5623,se)}else if((pe|0)==14){k[te>>2]=e;k[te+4>>2]=J;Yl(3,5707,te)}else if((pe|0)==18){k[ue>>2]=e;k[ue+4>>2]=W+1;Yl(3,5788,ue)}else if((pe|0)==21){k[ke>>2]=e;k[ke+4>>2]=j+1;Yl(3,5915,ke)}else if((pe|0)==23){k[_e>>2]=e;k[_e+4>>2]=K+1;Yl(3,5915,_e)}dt(f)|0;oa(U);r=0;break e}else Z=0}while(0);dt(f)|0;a=Sr(136)|0;if(!a){Yl(3,5471,ve);ji(1)}k[a>>2]=U;k[a+4>>2]=k[q>>2];k[a+104>>2]=0;do{if((Z&3|0)==3)k[a+108>>2]=2;else{n=a+108|0;if(!(Z&1)){k[n>>2]=1;break}else{k[n>>2]=0;break}}}while(0);v[a+112>>3]=.5;v[a+120>>3]=.5;r=a}}while(0);m=Se;return r|0}function Ea(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0;l=e;n=i;s=n;t=r;o=f;u=o;if(!s){c=(a|0)!=0;if(!u){if(c){k[a>>2]=(l>>>0)%(t>>>0);k[a+4>>2]=0}le=0;ae=(l>>>0)/(t>>>0)>>>0;return(Y=le,ae)|0}else{if(!c){le=0;ae=0;return(Y=le,ae)|0}k[a>>2]=e|0;k[a+4>>2]=i&0;le=0;ae=0;return(Y=le,ae)|0}}b=(u|0)==0;do{if(!t){if(b){if(a){k[a>>2]=(s>>>0)%(t>>>0);k[a+4>>2]=0}le=0;ae=(s>>>0)/(t>>>0)>>>0;return(Y=le,ae)|0}if(!l){if(a){k[a>>2]=0;k[a+4>>2]=(s>>>0)%(u>>>0)}le=0;ae=(s>>>0)/(u>>>0)>>>0;return(Y=le,ae)|0}h=u-1|0;if(!(h&u)){if(a){k[a>>2]=e|0;k[a+4>>2]=h&s|i&0}le=0;ae=s>>>((mo(u|0)|0)>>>0);return(Y=le,ae)|0}d=(ke(u|0)|0)-(ke(s|0)|0)|0;if(d>>>0<=30){w=d+1|0;_=31-d|0;C=w;D=s<<_|l>>>(w>>>0);P=s>>>(w>>>0);N=0;R=l<<_;break}if(!a){le=0;ae=0;return(Y=le,ae)|0}k[a>>2]=e|0;k[a+4>>2]=n|i&0;le=0;ae=0;return(Y=le,ae)|0}else{if(!b){A=(ke(u|0)|0)-(ke(s|0)|0)|0;if(A>>>0<=31){T=A+1|0;O=31-A|0;M=A-31>>31;C=T;D=l>>>(T>>>0)&M|s<<O;P=s>>>(T>>>0)&M;N=0;R=l<<O;break}if(!a){le=0;ae=0;return(Y=le,ae)|0}k[a>>2]=e|0;k[a+4>>2]=n|i&0;le=0;ae=0;return(Y=le,ae)|0}v=t-1|0;if(v&t){m=(ke(t|0)|0)+33-(ke(s|0)|0)|0;p=64-m|0;S=32-m|0;g=S>>31;y=m-32|0;F=y>>31;C=m;D=S-1>>31&s>>>(y>>>0)|(s<<S|l>>>(m>>>0))&F;P=F&s>>>(m>>>0);N=l<<p&g;R=(s<<p|l>>>(y>>>0))&g|l<<S&m-33>>31;break}if(a){k[a>>2]=v&l;k[a+4>>2]=0}if((t|0)==1){le=n|i&0;ae=e|0|0;return(Y=le,ae)|0}else{E=mo(t|0)|0;le=s>>>(E>>>0)|0;ae=s<<32-E|l>>>(E>>>0)|0;return(Y=le,ae)|0}}}while(0);if(!C){ie=R;ee=N;$=P;Q=D;Z=0;J=0}else{I=r|0|0;L=o|f&0;x=Qu(I|0,L|0,-1,-1)|0;B=Y;j=R;W=N;V=P;z=D;U=C;H=0;do{ne=j;j=W>>>31|j<<1;W=H|W<<1;K=z<<1|ne>>>31|0;X=z>>>31|V<<1|0;Su(x,B,K,X)|0;G=Y;q=G>>31|((G|0)<0?-1:0)<<1;H=q&1;z=Su(K,X,q&I,(((G|0)<0?-1:0)>>31|((G|0)<0?-1:0)<<1)&L)|0;V=Y;U=U-1|0}while((U|0)!=0);ie=j;ee=W;$=V;Q=z;Z=0;J=H}re=ee;fe=0;if(a){k[a>>2]=Q;k[a+4>>2]=$}le=(re|0)>>>31|(ie|fe)<<1|(fe<<1|re>>>31)&0|Z;ae=(re<<1|0>>>31)&-2|J;return(Y=le,ae)|0}function ma(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0.0,n=0.0,s=0.0,t=0,o=0,u=0,c=0,b=0,h=0,d=0.0,w=0.0,_=0.0,E=0.0,S=0.0,g=0.0,y=0.0,F=0.0,A=0.0,T=0.0,O=0.0,M=0.0,R=0.0,N=0.0,P=0.0,D=0.0,C=0.0,I=0.0,L=0.0,x=0.0,B=0.0,H=0.0,U=0.0,Y=0.0,z=0.0,V=0.0,W=0.0,j=0.0,K=0,X=0.0,G=0.0,q=0.0,J=0.0,Z=0.0,Q=0.0,$=0.0,ee=0.0,ie=0.0,re=0.0,fe=0.0,ae=0.0,le=0,ne=0.0,se=0.0,te=0.0,oe=0.0,ue=0.0,ce=0.0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0;Oe=m;m=m+1072|0;if((m|0)>=(p|0))he();Ae=Oe+1056|0;me=Oe+768|0;_e=Oe+192|0;Ee=Oe+48|0;ve=Oe;n=+v[r>>3];s=+v[f>>3];z=n*s;ae=+v[r+8>>3];le=f+8|0;se=+v[le>>3];te=ae*se;ce=+v[r+16>>3];d=+v[f+16>>3];E=ce*d;O=+v[r+24>>3];I=+v[r+32>>3];U=+v[r+40>>3];Y=se*U;X=+v[r+48>>3];J=d*X;Z=+v[r+56>>3];Q=+v[r+64>>3];$=+v[r+72>>3];ee=se*$;ie=+v[r+80>>3];re=d*ie;fe=+v[r+88>>3];v[me>>3]=z;v[me+8>>3]=n*se;v[me+16>>3]=n*d;v[me+24>>3]=s*ae;v[me+32>>3]=te;v[me+40>>3]=d*ae;v[me+48>>3]=s*ce;v[me+56>>3]=se*ce;v[me+64>>3]=E;v[me+72>>3]=n;v[me+80>>3]=ae;v[me+88>>3]=ce;ne=s*I;v[me+96>>3]=ne;v[me+104>>3]=se*I;v[me+112>>3]=d*I;v[me+120>>3]=s*U;v[me+128>>3]=Y;v[me+136>>3]=d*U;v[me+144>>3]=s*X;v[me+152>>3]=se*X;v[me+160>>3]=J;v[me+168>>3]=I;v[me+176>>3]=U;v[me+184>>3]=X;oe=Q*s;v[me+192>>3]=oe;v[me+200>>3]=se*Q;v[me+208>>3]=d*Q;v[me+216>>3]=s*$;ue=+v[le>>3];v[me+224>>3]=$*ue;v[me+232>>3]=d*$;v[me+240>>3]=s*ie;v[me+248>>3]=ue*ie;v[me+256>>3]=re;v[me+264>>3]=Q;v[me+272>>3]=$;v[me+280>>3]=ie;be=_e+64|0;Te=_e;Me=Te+64|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[be>>3]=-1.0;ke=_e+72|0;k[ke>>2]=0;k[ke+4>>2]=0;k[ke+8>>2]=0;k[ke+12>>2]=0;k[ke+16>>2]=0;k[ke+20>>2]=0;k[ke+24>>2]=0;k[ke+28>>2]=0;v[_e+104>>3]=1.0;de=_e+160|0;Te=_e+112|0;Me=Te+48|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[de>>3]=1.0;we=_e+240|0;Te=_e+168|0;Me=Te+72|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[we>>3]=-1.0;t=_e+296|0;Te=_e+248|0;Me=Te+48|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[t>>3]=-1.0;o=_e+304|0;k[o>>2]=0;k[o+4>>2]=0;k[o+8>>2]=0;k[o+12>>2]=0;k[o+16>>2]=0;k[o+20>>2]=0;k[o+24>>2]=0;k[o+28>>2]=0;v[_e+336>>3]=1.0;u=_e+456|0;Te=_e+344|0;Me=Te+112|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[u>>3]=1.0;c=_e+512|0;Te=_e+464|0;Me=Te+48|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[c>>3]=1.0;b=_e+568|0;Te=_e+520|0;Me=Te+48|0;do{k[Te>>2]=0;Te=Te+4|0}while((Te|0)<(Me|0));v[b>>3]=1.0;ge=0;do{pe=0;do{h=Ee+(ge*48|0)+(pe<<3)|0;v[h>>3]=0.0;_=0.0;Fe=0;while(1){w=_+ +v[me+(ge*96|0)+(Fe<<3)>>3]*+v[_e+(Fe*48|0)+(pe<<3)>>3];Fe=Fe+1|0;if((Fe|0)==12){l=w;break}else _=w}v[h>>3]=l;pe=pe+1|0}while((pe|0)!=6);ge=ge+1|0}while((ge|0)!=3);S=O+(z+te+E);g=Z+(ne+Y+J);y=fe+(oe+ee+re);F=+v[i>>3];A=+v[i+8>>3];T=+v[i+16>>3];M=+v[i+24>>3]+(S*F+g*A+y*T);R=+v[i+32>>3];N=+v[i+40>>3];P=+v[i+48>>3];D=+v[i+56>>3]+(S*R+g*N+y*P);C=+v[i+64>>3];L=+v[i+72>>3];x=+v[i+80>>3];B=+v[i+88>>3]+(S*C+g*L+y*x);if(B==0.0){Yl(3,5089,Ae);a=-1}else{H=B*B;v[ve>>3]=(F*B-M*C)/H;v[ve+8>>3]=(B*A-M*L)/H;v[ve+16>>3]=(B*T-M*x)/H;v[ve+24>>3]=(B*R-D*C)/H;v[ve+32>>3]=(B*N-D*L)/H;v[ve+40>>3]=(B*P-D*x)/H;ye=0;do{V=+v[ve+(ye*24|0)>>3];W=+v[ve+(ye*24|0)+8>>3];j=+v[ve+(ye*24|0)+16>>3];Se=0;do{K=e+(ye*48|0)+(Se<<3)|0;v[K>>3]=0.0;G=V*+v[Ee+(Se<<3)>>3]+0.0;v[K>>3]=G;q=G+W*+v[Ee+48+(Se<<3)>>3];v[K>>3]=q;v[K>>3]=q+j*+v[Ee+96+(Se<<3)>>3];Se=Se+1|0}while((Se|0)!=6);ye=ye+1|0}while((ye|0)!=2);a=0}m=Oe;return a|0}function pa(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0;ne=m;m=m+128|0;if((m|0)>=(p|0))he();fe=ne+108|0;ae=ne+104|0;t=ne+80|0;o=ne+64|0;T=ne+52|0;le=ne+48|0;R=ne+24|0;D=ne+12|0;x=ne;e:do{if((i-e|0)>2)if((c[e>>0]|0)==102){switch(c[e+1>>0]|0){case 112:{F=ks(e+2|0,i,ae)|0;A=ys(F,i)|0;if((A|0)==(i|0)){f=e;break e}if((c[A>>0]|0)!=95){f=e;break e}O=A-F|0;if(O>>>0>4294967279)Ec(T);if(O>>>0<11){c[T>>0]=O<<1;ie=T+1|0}else{M=O+16&-16;N=Sr(M)|0;k[T+8>>2]=N;k[T>>2]=M|1;k[T+4>>2]=O;ie=N}if((F|0)!=(A|0)){s=F;$=ie;while(1){c[$>>0]=c[s>>0]|0;s=s+1|0;if((s|0)==(A|0))break;else $=$+1|0}}c[ie+O>>0]=0;P=Mo(T,0,14123)|0;k[o>>2]=k[P>>2];k[o+4>>2]=k[P+4>>2];k[o+8>>2]=k[P+8>>2];k[P>>2]=0;k[P+4>>2]=0;k[P+8>>2]=0;Zt(t,o);C=r+4|0;I=k[C>>2]|0;L=k[r+8>>2]|0;if(I>>>0<L>>>0){Nt(I,t);k[C>>2]=(k[C>>2]|0)+24}else{B=k[r>>2]|0;H=I-B|0;U=(H|0)/24|0;Y=U+1|0;if((H|0)<-24)gc(r);z=(L-B|0)/24|0;if(z>>>0<1073741823){V=z<<1;a=V>>>0<Y>>>0?Y:V}else a=2147483647;pt(fe,a,U,r+12|0);W=fe+8|0;j=k[W>>2]|0;Nt(j,t);k[W>>2]=j+24;Bn(r,fe);lt(fe)}Wo(t);Nu(o);Nu(T);f=A+1|0;break e;break}case 76:break;default:{f=e;break e}}K=ys(e+2|0,i)|0;if((K|0)==(i|0))f=e;else if((c[K>>0]|0)==112){X=ks(K+1|0,i,le)|0;G=ys(X,i)|0;if((G|0)==(i|0))f=e;else if((c[G>>0]|0)==95){q=G-X|0;if(q>>>0>4294967279)Ec(x);if(q>>>0<11){c[x>>0]=q<<1;re=x+1|0}else{J=q+16&-16;Z=Sr(J)|0;k[x+8>>2]=Z;k[x>>2]=J|1;k[x+4>>2]=q;re=Z}if((X|0)!=(G|0)){n=X;ee=re;while(1){c[ee>>0]=c[n>>0]|0;n=n+1|0;if((n|0)==(G|0))break;else ee=ee+1|0}}c[re+q>>0]=0;Q=Mo(x,0,14123)|0;k[D>>2]=k[Q>>2];k[D+4>>2]=k[Q+4>>2];k[D+8>>2]=k[Q+8>>2];k[Q>>2]=0;k[Q+4>>2]=0;k[Q+8>>2]=0;Zt(R,D);u=r+4|0;b=k[u>>2]|0;h=k[r+8>>2]|0;if(b>>>0<h>>>0){Nt(b,R);k[u>>2]=(k[u>>2]|0)+24}else{d=k[r>>2]|0;w=b-d|0;_=(w|0)/24|0;v=_+1|0;if((w|0)<-24)gc(r);E=(h-d|0)/24|0;if(E>>>0<1073741823){S=E<<1;l=S>>>0<v>>>0?v:S}else l=2147483647;pt(fe,l,_,r+12|0);g=fe+8|0;y=k[g>>2]|0;Nt(y,R);k[g>>2]=y+24;Bn(r,fe);lt(fe)}Wo(R);Nu(D);Nu(x);f=G+1|0}else f=e}else f=e}else f=e;else f=e}while(0);m=ne;return f|0}function Sa(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0.0,o=0.0,u=0,c=0,b=0,h=0,d=0,w=0.0,_=0.0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0.0,q=0.0,J=0,Z=0.0,Q=0,$=0.0,ee=0,ie=0.0,re=0.0,fe=0.0,ae=0,le=0.0,ne=0.0,se=0.0,te=0,oe=0,ue=0.0,ce=0.0,be=0.0,ke=0.0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0;Me=m;m=m+192|0;if((m|0)>=(p|0))he();Te=Me+184|0;Ae=Me+176|0;Fe=Me+168|0;ye=Me+160|0;te=Me+48|0;ge=Me+64|0;oe=Me;c=i+8|0;b=k[c>>2]|0;do{if((b|0)<4)n=-1;else{ae=~~(+(b|0)*+v[e+128>>3])+-1|0;l=(ae|0)<3?3:ae;E=Sr(b*96|0)|0;if(!E){Yl(3,5109,ye);n=-1;break}M=Sr(b<<4)|0;if(!M){Yl(3,5109,Fe);oa(E);n=-1;break}I=b<<3;L=Sr(I)|0;if(!L){Yl(3,5109,Ae);oa(E);oa(M);n=-1;break}B=Sr(I)|0;if(!B){Yl(3,5109,Te);oa(E);oa(M);oa(L);n=-1;break}else we=0;do{v[f+(we<<5)>>3]=+v[r+(we<<5)>>3];v[f+(we<<5)+8>>3]=+v[r+(we<<5)+8>>3];v[f+(we<<5)+16>>3]=+v[r+(we<<5)+16>>3];v[f+(we<<5)+24>>3]=+v[r+(we<<5)+24>>3];we=we+1|0}while((we|0)!=3);H=i+4|0;U=te+8|0;Y=B+(l<<3)|0;z=e+104|0;V=e+120|0;W=e+112|0;j=e+96|0;ue=0.0;de=0;e:while(1){Ys(e,f,ge)|0;K=k[c>>2]|0;if((K|0)>0){_e=0;while(1){if((ps(te,ge,(k[H>>2]|0)+(_e*24|0)|0)|0)<0){Oe=14;break e}X=k[i>>2]|0;G=+v[X+(_e<<4)>>3]-+v[te>>3];q=+v[X+(_e<<4)+8>>3]-+v[U>>3];J=_e<<1;v[M+(J<<3)>>3]=G;v[M+((J|1)<<3)>>3]=q;Z=G*G+q*q;v[B+(_e<<3)>>3]=Z;v[L+(_e<<3)>>3]=Z;_e=_e+1|0;Q=k[c>>2]|0;if((_e|0)>=(Q|0)){s=Q;break}}}else s=K;Aa(B,s,8,1);$=+v[Y>>3]*4.0;se=$<16.0?16.0:$;ee=k[c>>2]|0;ie=se/6.0;if((ee|0)>0){be=0.0;ve=0;while(1){re=+v[B+(ve<<3)>>3];if(re>se)o=ie;else{fe=1.0-re/se;o=ie*(1.0-fe*(fe*fe))}ke=be+o;ve=ve+1|0;if((ve|0)>=(ee|0)){ce=ke;break}else be=ke}}else ce=0.0;le=ce/+(ee|0);if(le<+v[z>>3]){t=le;Oe=36;break}if((de|0)>0)if(le<+v[V>>3])if(le/ue>+v[W>>3]){t=le;Oe=36;break}if((de|0)==(k[j>>2]|0)){t=le;Oe=36;break}if((ee|0)>0){x=ee;Ee=0;pe=0;while(1){ne=+v[L+(Ee<<3)>>3];if(!(ne<=se)){u=x;Se=pe}else{h=pe*6|0;d=E+(h<<3)|0;if((ma(d,e,f,(k[H>>2]|0)+(Ee*24|0)|0)|0)<0){Oe=28;break e}w=1.0-ne/se;_=w*w;v[d>>3]=+v[d>>3]*_;S=E+((h|1)<<3)|0;v[S>>3]=+v[S>>3]*_;g=E+(h+2<<3)|0;v[g>>3]=_*+v[g>>3];y=E+(h+3<<3)|0;v[y>>3]=_*+v[y>>3];F=E+(h+4<<3)|0;v[F>>3]=_*+v[F>>3];A=E+(h+5<<3)|0;v[A>>3]=_*+v[A>>3];T=E+(h+6<<3)|0;v[T>>3]=_*+v[T>>3];O=E+(h+7<<3)|0;v[O>>3]=_*+v[O>>3];R=E+(h+8<<3)|0;v[R>>3]=_*+v[R>>3];N=E+(h+9<<3)|0;v[N>>3]=_*+v[N>>3];P=E+(h+10<<3)|0;v[P>>3]=_*+v[P>>3];D=E+(h+11<<3)|0;v[D>>3]=_*+v[D>>3];C=Ee<<1;v[M+(pe<<3)>>3]=_*+v[M+(C<<3)>>3];v[M+(pe+1<<3)>>3]=_*+v[M+((C|1)<<3)>>3];u=k[c>>2]|0;Se=pe+2|0}Ee=Ee+1|0;if((Ee|0)>=(u|0)){me=Se;break}else{x=u;pe=Se}}}else me=0;if((me|0)<6){Oe=32;break}if((cn(oe,M,E,me)|0)<0){Oe=34;break}ol(f,oe)|0;ue=le;de=de+1|0}if((Oe|0)==14){qu(E,M,L,B);n=-1;break}else if((Oe|0)==28){qu(E,M,L,B);n=-1;break}else if((Oe|0)==32){qu(E,M,L,B);n=-1;break}else if((Oe|0)==34){qu(E,M,L,B);n=-1;break}else if((Oe|0)==36){v[a>>3]=t;oa(E);oa(M);oa(L);oa(B);n=0;break}}}while(0);m=Me;return n|0}function ga(e,i,r,f,a,l){e=e|0;i=+i;r=+r;f=f|0;a=a|0;l=l|0;var n=0,s=0.0,t=0.0,o=0.0,u=0.0,c=0,b=0.0,k=0.0,h=0.0,d=0.0,w=0.0,_=0.0,E=0.0,m=0.0,p=0.0,S=0.0,g=0,y=0.0,F=0.0,A=0,T=0.0,O=0.0,M=0.0,R=0.0,N=0.0,P=0.0,D=0.0,C=0.0,I=0.0,L=0.0,x=0,B=0.0,H=0.0,U=0.0,Y=0.0,z=0,V=0.0,W=0.0,j=0.0,K=0.0,X=0.0,G=0.0,q=0.0,J=0.0,Z=0.0,Q=0,ee=0.0,ie=0.0,re=0.0,fe=0.0,ae=0.0,le=0.0,ne=0.0,se=0.0,te=0.0,oe=0.0,ue=0.0,ce=0,be=0,ke=0,he=0,de=0.0,we=0.0,_e=0.0,ve=0.0,Ee=0.0,me=0.0,pe=0.0,Se=0.0,ge=0.0,ye=0.0,Fe=0.0,Ae=0.0,Te=0.0,Oe=0.0,Me=0.0,Re=0.0,Ne=0.0,Pe=0.0,De=0.0,Ce=0.0,Ie=0.0,Le=0.0,xe=0.0,Be=0.0;switch(l|0){case 4:{s=+v[e>>3];B=+v[e+8>>3];le=+v[e+16>>3];te=+v[e+24>>3];ue=+v[e+32>>3];t=+v[e+40>>3];m=+v[e+48>>3];S=+v[e+56>>3];O=+v[e+64>>3];I=(i-m)/ue;H=(r-S)/t;V=I*I;q=H*H;Z=le*2.0;ee=te*6.0;ie=te*2.0;re=le*6.0;e:do{if(q!=0.0|V!=0.0){ce=1;de=I;ge=H;Ne=V;Pe=q;while(1){fe=Pe+Ne;ae=s*fe+1.0+fe*(B*fe);ne=Ne*3.0;se=Pe*ne;de=de-(te*(fe+Ne*2.0)+(ge*(Z*de)+de*ae)-I)/(ee*de+(Z*ge+(s*(Pe+ne)+1.0+B*(Pe*Pe+(Ne*(Ne*5.0)+se)))));oe=ie*de;ge=ge-(le*(Pe*2.0+fe)+ge*ae+ge*oe-H)/(re*ge+(s*(Ne+Pe*3.0)+1.0+B*(Pe*(Pe*5.0)+(Ne*Ne+se)))+oe);if((ce|0)==4){we=de;ye=ge;break e}Ne=de*de;Pe=ge*ge;if(!(Pe!=0.0|Ne!=0.0)){we=0.0;ye=0.0;break}else ce=ce+1|0}}else{we=0.0;ye=0.0}}while(0);v[f>>3]=m+ue*we/O;v[a>>3]=S+t*ye/O;n=0;break}case 3:{o=+v[e>>3];u=(i-o)/+v[e+24>>3];c=e+8|0;b=r-+v[c>>3];k=+v[e+32>>3]/1.0e8;h=+v[e+40>>3]/1.0e8/1.0e5;d=u*u+b*b;w=+$(+d);_=k*3.0;E=h*5.0;e:do{if(w!=0.0){he=1;pe=u;Me=b;De=w;Ie=d;while(1){p=De-(De*(1.0-k*Ie-Ie*(h*Ie))-w)/(1.0-_*Ie-Ie*(E*Ie));pe=pe*p/De;Me=Me*p/De;if((he|0)==3){Se=pe;Re=Me;break e}Ie=pe*pe+Me*Me;De=+$(+Ie);if(!(De!=0.0)){Se=0.0;Re=0.0;break}else he=he+1|0}}else{Se=0.0;Re=0.0}}while(0);g=e+16|0;v[f>>3]=Se/+v[g>>3]+o;v[a>>3]=Re/+v[g>>3]+ +v[c>>3];n=0;break}case 2:{y=+v[e>>3];F=i-y;A=e+8|0;T=r-+v[A>>3];M=+v[e+24>>3]/1.0e8;R=+v[e+32>>3]/1.0e8/1.0e5;N=F*F+T*T;P=+$(+N);D=M*3.0;C=R*5.0;e:do{if(P!=0.0){be=1;_e=F;Fe=T;xe=N;Be=P;while(1){L=Be-(Be*(1.0-M*xe-xe*(R*xe))-P)/(1.0-D*xe-xe*(C*xe));_e=_e*L/Be;Fe=Fe*L/Be;if((be|0)==3){ve=_e;Ae=Fe;break e}xe=_e*_e+Fe*Fe;Be=+$(+xe);if(!(Be!=0.0)){ve=0.0;Ae=0.0;break}else be=be+1|0}}else{ve=0.0;Ae=0.0}}while(0);x=e+16|0;v[f>>3]=ve/+v[x>>3]+y;v[a>>3]=Ae/+v[x>>3]+ +v[A>>3];n=0;break}case 1:{U=+v[e>>3];Y=i-U;z=e+8|0;W=r-+v[z>>3];j=+v[e+24>>3]/1.0e8;K=Y*Y+W*W;X=+$(+K);G=j*3.0;e:do{if(X!=0.0){ke=1;Ee=Y;Te=W;Ce=X;Le=K;while(1){J=Ce-(Ce*(1.0-j*Le)-X)/(1.0-G*Le);Ee=Ee*J/Ce;Te=Te*J/Ce;if((ke|0)==3){me=Ee;Oe=Te;break e}Le=Ee*Ee+Te*Te;Ce=+$(+Le);if(!(Ce!=0.0)){me=0.0;Oe=0.0;break}else ke=ke+1|0}}else{me=0.0;Oe=0.0}}while(0);Q=e+16|0;v[f>>3]=me/+v[Q>>3]+U;v[a>>3]=Oe/+v[Q>>3]+ +v[z>>3];n=0;break}default:n=-1}return n|0}function ya(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0;ne=m;m=m+112|0;if((m|0)>=(p|0))he();J=ne+88|0;ae=ne+76|0;s=ne+64|0;t=ne+40|0;v=ne+16|0;g=ne;e:do{if((e|0)==(i|0))l=e;else{$=(c[e>>0]|0)+-48|0;if($>>>0<10){I=e+1|0;if((I|0)==(i|0))l=e;else{ee=(c[I>>0]|0)+-48|0;if(ee>>>0<10){Q=I;ie=ee;fe=$;while(1){o=Q+1|0;if((o|0)==(i|0)){l=e;break e}w=ie+(fe*10|0)|0;ie=(c[o>>0]|0)+-48|0;if(ie>>>0>=10){n=Q;Z=o;re=w;break}else{Q=o;fe=w}}}else{n=e;Z=I;re=$}if((i-Z|0)>>>0<re>>>0)l=e;else{ct(ae,Z,re);_=c[ae>>0]|0;E=(_&1)==0;S=E?(_&255)>>>1:k[ae+4>>2]|0;ct(s,E?ae+1|0:k[ae+8>>2]|0,S>>>0<10?S:10);y=c[s>>0]|0;F=(y&1)==0;A=F?(y&255)>>>1:k[s+4>>2]|0;T=A>>>0>10;O=Et(F?s+1|0:k[s+8>>2]|0,13702,T?10:A)|0;Nu(s);if(!(((O|0)==0?A>>>0<10?-1:T&1:O)|0)){M=Sr(32)|0;k[t+8>>2]=M;k[t>>2]=33;k[t+4>>2]=21;le=M;se=13713;te=le+21|0;do{c[le>>0]=c[se>>0]|0;le=le+1|0;se=se+1|0}while((le|0)<(te|0));c[M+21>>0]=0;R=t+12|0;k[R>>2]=0;k[R+4>>2]=0;k[R+8>>2]=0;N=r+4|0;P=k[N>>2]|0;D=k[r+8>>2]|0;if(P>>>0<D>>>0){Nt(P,t);k[N>>2]=(k[N>>2]|0)+24}else{C=k[r>>2]|0;L=P-C|0;x=(L|0)/24|0;B=x+1|0;if((L|0)<-24)gc(r);H=(D-C|0)/24|0;if(H>>>0<1073741823){U=H<<1;f=U>>>0<B>>>0?B:U}else f=2147483647;pt(J,f,x,r+12|0);Y=J+8|0;z=k[Y>>2]|0;Nt(z,t);k[Y>>2]=z+24;Bn(r,J);lt(J)}Wo(t)}else{k[g>>2]=k[ae>>2];k[g+4>>2]=k[ae+4>>2];k[g+8>>2]=k[ae+8>>2];k[ae>>2]=0;k[ae+4>>2]=0;k[ae+8>>2]=0;Zt(v,g);V=r+4|0;W=k[V>>2]|0;j=k[r+8>>2]|0;if(W>>>0<j>>>0){Nt(W,v);k[V>>2]=(k[V>>2]|0)+24}else{K=k[r>>2]|0;X=W-K|0;G=(X|0)/24|0;q=G+1|0;if((X|0)<-24)gc(r);u=(j-K|0)/24|0;if(u>>>0<1073741823){b=u<<1;a=b>>>0<q>>>0?q:b}else a=2147483647;pt(J,a,G,r+12|0);h=J+8|0;d=k[h>>2]|0;Nt(d,v);k[h>>2]=d+24;Bn(r,J);lt(J)}Wo(v);Nu(g)}Nu(ae);l=n+(re+1)|0}}}else l=e}}while(0);m=ne;return l|0}function Fa(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0.0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0.0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0;Oe=m;m=m+32|0;if((m|0)>=(p|0))he();Ae=Oe+24|0;Fe=Oe+16|0;ye=Oe+8|0;do{if(!e){Yl(3,4649,Oe);r=-1}else{if(!i){Yl(3,4674,ye);r=-1;break}E=e+8|0;P=k[e+4>>2]|0;e:do{if((P|0)>0){B=k[E>>2]|0;ne=0;while(1){if(!(k[B+(ne<<2)>>2]|0)){le=ne;break e}o=ne+1|0;if((o|0)<(P|0))ne=o;else{le=o;break}}}else le=0}while(0);if((le|0)==(P|0))r=-1;else{b=Fu(i)|0;if(!b){Yl(3,4719,Fe);r=-1;break}h=e+28|0;d=le<<2;w=e+12|0;_=e+20|0;S=e+16|0;g=e+24|0;J=Js(b,4742)|0;ae=0;e:while(1){y=ae+d|0;Z=J;be=0;ke=0;while(1){F=(be|0)==0;A=(be|0)==2;s=k[h>>2]|0;if((s|0)>0){T=s;ie=Z;ue=0;_e=ke;while(1){if((T|0)>0){fe=ie;oe=0;Ee=_e;while(1){if(!fe){Te=17;break e}O=wn(fe)|0;M=Js(0,4742)|0;R=255-O|0;N=(((ce(k[h>>2]|0,ue)|0)+oe|0)*3|0)+be|0;k[(k[(k[w>>2]|0)+(y<<2)>>2]|0)+(N<<2)>>2]=R;D=(ce(k[h>>2]|0,ue)|0)+oe|0;C=k[(k[_>>2]|0)+(y<<2)>>2]|0;I=C+(D<<2)|0;if(F)k[I>>2]=R;else{k[I>>2]=(k[I>>2]|0)+R;if(A){L=C+((ce(k[h>>2]|0,ue)|0)+oe<<2)|0;k[L>>2]=(k[L>>2]|0)/3|0}}x=R+Ee|0;oe=oe+1|0;t=k[h>>2]|0;if((oe|0)>=(t|0)){f=t;re=M;ve=x;break}else{fe=M;Ee=x}}}else{f=T;re=ie;ve=_e}ue=ue+1|0;if((ue|0)>=(f|0)){Q=re;de=ve;break}else{T=f;ie=re;_e=ve}}}else{Q=Z;de=ke}be=be+1|0;if((be|0)>=3){ee=Q;we=de;break}else{Z=Q;ke=de}}H=k[h>>2]|0;U=(we|0)/(ce(H*3|0,H)|0)|0;if((ce(H*3|0,H)|0)>0){Y=k[(k[w>>2]|0)+(y<<2)>>2]|0;se=0;pe=0;while(1){z=Y+(se<<2)|0;V=(k[z>>2]|0)-U|0;k[z>>2]=V;W=(ce(V,V)|0)+pe|0;se=se+1|0;l=k[h>>2]|0;if((se|0)>=(ce(l*3|0,l)|0)){a=l;me=W;break}else pe=W}}else{a=H;me=0}j=+$(+ +(me|0));v[(k[S>>2]|0)+(y<<3)>>3]=j==0.0?1.0e-07:j;if(!(ce(a,a)|0))Se=0;else{K=k[(k[_>>2]|0)+(y<<2)>>2]|0;te=0;ge=0;while(1){X=K+(te<<2)|0;G=(k[X>>2]|0)-U|0;k[X>>2]=G;q=(ce(G,G)|0)+ge|0;te=te+1|0;n=k[h>>2]|0;if((te|0)>=(ce(n,n)|0)){Se=q;break}else ge=q}}u=+$(+ +(Se|0));v[(k[g>>2]|0)+(y<<3)>>3]=u==0.0?1.0e-07:u;c=ae+1|0;if((c|0)<4){J=ee;ae=c}else{Te=32;break}}if((Te|0)==17){Yl(3,4747,Ae);oa(b);r=-1;break}else if((Te|0)==32){oa(b);k[(k[E>>2]|0)+(le<<2)>>2]=1;k[e>>2]=(k[e>>2]|0)+1;r=le;break}}}}while(0);m=Oe;return r|0}function Aa(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,be=0,ke=0,de=0,we=0,_e=0,ve=0;ve=m;m=m+208|0;if((m|0)>=(p|0))he();le=ve+8|0;oe=ve;w=ce(r,i)|0;_=oe;k[_>>2]=1;k[_+4>>2]=0;if(w){d=w-r|0;k[le+4>>2]=r;k[le>>2]=r;v=r;V=r;ae=2;while(1){q=V+r+v|0;k[le+(ae<<2)>>2]=q;if(q>>>0<w>>>0){W=v;v=q;ae=ae+1|0;V=W}else break}S=0-r|0;g=e+d|0;u=oe+4|0;if((d|0)>0){y=g;F=1;ie=e;be=1;while(1){do{if((F&3|0)==3){an(ie,r,f,be,le);c=k[u>>2]|0;A=c<<30|(k[oe>>2]|0)>>>2;k[oe>>2]=A;k[u>>2]=c>>>2;D=A;ke=be+2|0}else{T=be+-1|0;if((k[le+(T<<2)>>2]|0)>>>0<(y-ie|0)>>>0)an(ie,r,f,be,le);else Ya(ie,r,f,oe,be,0,le);if((be|0)==1){b=k[oe>>2]|0;k[u>>2]=b>>>31|k[u>>2]<<1;O=b<<1;k[oe>>2]=O;D=O;ke=0;break}if(T>>>0>31){M=k[oe>>2]|0;k[u>>2]=M;k[oe>>2]=0;a=be+-33|0;R=M;N=0}else{a=T;R=k[u>>2]|0;N=k[oe>>2]|0}k[u>>2]=N>>>(32-a|0)|R<<a;P=N<<a;k[oe>>2]=P;D=P;ke=1}}while(0);F=D|1;k[oe>>2]=F;C=ie+r|0;if(C>>>0>=g>>>0){ee=C;ue=ke;break}else{ie=C;be=ke}}}else{ee=e;ue=1}Ya(ee,r,f,oe,ue,0,le);I=oe+4|0;L=k[oe>>2]|0;if(!((ue|0)==1&(L|0)==1&(k[I>>2]|0)==0)){B=L;fe=ee;we=ue;while(1){if((we|0)<2){x=B+-1|0;do{if(!x){j=32;_e=30}else{if(!(x&1)){n=x;ne=0;while(1){H=ne+1|0;n=n>>>1;if(n&1){t=H;break}else ne=H}if(!t)_e=24;else z=t}else _e=24;if((_e|0)==24){_e=0;U=k[u>>2]|0;if(!U){j=64;_e=30;break}if(!(U&1)){s=U;se=0}else{l=0;X=B;G=U;J=0;break}while(1){Y=se+1|0;s=s>>>1;if(s&1){o=Y;te=se;break}else se=Y}if(!o){l=0;X=B;G=U;J=0;break}else z=te+33|0}if(z>>>0>31){j=z;_e=30}else{l=z;X=B;G=k[u>>2]|0;J=z}}}while(0);if((_e|0)==30){_e=0;K=k[u>>2]|0;k[oe>>2]=K;k[u>>2]=0;l=j+-32|0;X=K;G=0;J=j}k[oe>>2]=G<<32-l|X>>>l;k[u>>2]=G>>>l;re=fe+S|0;de=J+we|0}else{Z=B>>>30;Q=Z|k[u>>2]<<2;$=we+-2|0;k[oe>>2]=(B<<1&2147483646|Z<<31)^3;k[u>>2]=Q>>>1;Ya(fe+(0-((k[le+($<<2)>>2]|0)+r))|0,r,f,oe,we+-1|0,1,le);h=k[oe>>2]|0;k[u>>2]=h>>>31|k[u>>2]<<1;k[oe>>2]=h<<1|1;E=fe+S|0;Ya(E,r,f,oe,$,1,le);re=E;de=$}B=k[oe>>2]|0;if((de|0)==1&(B|0)==1&(k[I>>2]|0)==0)break;else{fe=re;we=de}}}}m=ve;return}function Ta(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0;X=m;m=m+16|0;if((m|0)>=(p|0))he();K=X;f=k[e+2068>>2]|0;e:do{switch(f|0){case 5:case 12:case 13:case 14:{if(!(k[e+2072>>2]|0)){k[e>>2]=i;r=0;break e}else{rt(k[e>>2]|0,i|0,ce(k[e+12>>2]|0,k[e+8>>2]|0)|0)|0;r=0;break e}break}default:{if((f&-2|0)==2){_=e+8|0;v=e+12|0;if(!(ce(k[v>>2]|0,k[_>>2]|0)|0)){r=0;break e}else{R=0;B=0}while(1){c[(k[e>>2]|0)+R>>0]=(((h[i+(B|1)>>0]|0)+(h[i+B>>0]|0)+(h[i+(B|2)>>0]|0)|0)>>>0)/3|0;R=R+1|0;if(R>>>0>=(ce(k[v>>2]|0,k[_>>2]|0)|0)>>>0){r=0;break e}else B=B+4|0}}if((f&-3|0)==4){A=e+8|0;T=e+12|0;if(!(ce(k[T>>2]|0,k[A>>2]|0)|0)){r=0;break e}else{N=0;H=0}while(1){c[(k[e>>2]|0)+N>>0]=(((h[i+(H|2)>>0]|0)+(h[i+(H|1)>>0]|0)+(h[i+(H|3)>>0]|0)|0)>>>0)/3|0;N=N+1|0;if(N>>>0>=(ce(k[T>>2]|0,k[A>>2]|0)|0)>>>0){r=0;break e}else H=H+4|0}}if(f>>>0<2){O=e+8|0;M=e+12|0;if(!(ce(k[M>>2]|0,k[O>>2]|0)|0)){r=0;break e}else{P=0;U=0}while(1){c[(k[e>>2]|0)+P>>0]=(((h[i+(U+1)>>0]|0)+(h[i+U>>0]|0)+(h[i+(U+2)>>0]|0)|0)>>>0)/3|0;P=P+1|0;if(P>>>0>=(ce(k[M>>2]|0,k[O>>2]|0)|0)>>>0){r=0;break e}else U=U+3|0}}switch(f|0){case 8:{d=e+8|0;w=e+12|0;if(!(ce(k[w>>2]|0,k[d>>2]|0)|0)){r=0;break e}else{D=0;Y=0}while(1){c[(k[e>>2]|0)+D>>0]=c[i+Y>>0]|0;D=D+1|0;if(D>>>0>=(ce(k[w>>2]|0,k[d>>2]|0)|0)>>>0){r=0;break}else Y=Y+2|0}break}case 7:{u=e+8|0;b=e+12|0;if(!(ce(k[b>>2]|0,k[u>>2]|0)|0)){r=0;break e}else{C=0;z=0}while(1){c[(k[e>>2]|0)+C>>0]=c[i+(z|1)>>0]|0;C=C+1|0;if(C>>>0>=(ce(k[b>>2]|0,k[u>>2]|0)|0)>>>0){r=0;break}else z=z+2|0}break}case 9:{t=e+8|0;o=e+12|0;if(!(ce(k[o>>2]|0,k[t>>2]|0)|0)){r=0;break e}else{I=0;V=0}while(1){E=h[i+V>>0]|0;S=h[i+(V|1)>>0]|0;c[(k[e>>2]|0)+I>>0]=(((E&248)+10+(E<<5&224)+(S>>>3&28)+(S<<3&248)|0)>>>0)/3|0;I=I+1|0;if(I>>>0>=(ce(k[o>>2]|0,k[t>>2]|0)|0)>>>0){r=0;break}else V=V+2|0}break}case 10:{n=e+8|0;s=e+12|0;if(!(ce(k[s>>2]|0,k[n>>2]|0)|0)){r=0;break e}else{L=0;W=0}while(1){g=h[i+W>>0]|0;y=h[i+(W|1)>>0]|0;c[(k[e>>2]|0)+L>>0]=(((g&248)+12+(g<<5&224)+(y>>>3&24)+(y<<2&248)|0)>>>0)/3|0;L=L+1|0;if(L>>>0>=(ce(k[s>>2]|0,k[n>>2]|0)|0)>>>0){r=0;break}else W=W+2|0}break}case 11:{a=e+8|0;l=e+12|0;if(!(ce(k[l>>2]|0,k[a>>2]|0)|0)){r=0;break e}else{x=0;j=0}while(1){F=h[i+j>>0]|0;c[(k[e>>2]|0)+x>>0]=(((F&240)+24+(F<<4&240)+((h[i+(j|1)>>0]|0)&240)|0)>>>0)/3|0;x=x+1|0;if(x>>>0>=(ce(k[l>>2]|0,k[a>>2]|0)|0)>>>0){r=0;break}else j=j+2|0}break}default:{Yl(3,4361,K);r=-1;break e}}}}}while(0);m=X;return r|0}function Oa(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0;ee=m;m=m+96|0;if((m|0)>=(p|0))he();$=ee+84|0;Q=ee+72|0;l=ee+60|0;n=ee+48|0;S=ee+36|0;O=ee+24|0;P=ee+12|0;B=ee;z=vr(e,i,f)|0;e:do{if((z|0)==(e|0))a=e;else{X=vr(z,i,f)|0;s=f+4|0;b=k[s>>2]|0;if((X|0)==(z|0)){w=b+-24|0;v=b;while(1){_=v+-24|0;k[s>>2]=_;Wo(_);v=k[s>>2]|0;if((v|0)==(w|0)){a=e;break e}}}if(((b-(k[f>>2]|0)|0)/24|0)>>>0<2)a=e;else{et($,b+-24|0);E=k[s>>2]|0;g=E+-24|0;F=E;do{y=F+-24|0;k[s>>2]=y;Wo(y);F=k[s>>2]|0}while((F|0)!=(g|0));et(Q,E+-48|0);A=k[s>>2]|0;T=A+-24|0;if(!(c[T>>0]&1)){c[T+1>>0]=0;c[T>>0]=0}else{c[k[A+-16>>2]>>0]=0;k[A+-20>>2]=0}M=c[r>>0]|0;R=(M&1)==0;N=r+4|0;D=R?(M&255)>>>1:k[N>>2]|0;C=r+8|0;I=r+1|0;L=D>>>0>1;x=Et(R?I:k[C>>2]|0,12752,L?1:D)|0;if(!(((x|0)==0?(D|0)==0?-1:L&1:x)|0))vn(T,40);_s(B,12688,Q);H=Vo(B,13981)|0;k[P>>2]=k[H>>2];k[P+4>>2]=k[H+4>>2];k[P+8>>2]=k[H+8>>2];k[H>>2]=0;k[H+4>>2]=0;k[H+8>>2]=0;U=c[r>>0]|0;Y=(U&1)==0;V=zn(P,Y?I:k[C>>2]|0,Y?(U&255)>>>1:k[N>>2]|0)|0;k[O>>2]=k[V>>2];k[O+4>>2]=k[V+4>>2];k[O+8>>2]=k[V+8>>2];k[V>>2]=0;k[V+4>>2]=0;k[V+8>>2]=0;W=Vo(O,12590)|0;k[S>>2]=k[W>>2];k[S+4>>2]=k[W+4>>2];k[S+8>>2]=k[W+8>>2];k[W>>2]=0;k[W+4>>2]=0;k[W+8>>2]=0;j=c[$>>0]|0;K=(j&1)==0;G=zn(S,K?$+1|0:k[$+8>>2]|0,K?(j&255)>>>1:k[$+4>>2]|0)|0;k[n>>2]=k[G>>2];k[n+4>>2]=k[G+4>>2];k[n+8>>2]=k[G+8>>2];k[G>>2]=0;k[G+4>>2]=0;k[G+8>>2]=0;q=Vo(n,12593)|0;k[l>>2]=k[q>>2];k[l+4>>2]=k[q+4>>2];k[l+8>>2]=k[q+8>>2];k[q>>2]=0;k[q+4>>2]=0;k[q+8>>2]=0;J=c[l>>0]|0;Z=(J&1)==0;zn(T,Z?l+1|0:k[l+8>>2]|0,Z?(J&255)>>>1:k[l+4>>2]|0)|0;Nu(l);Nu(n);Nu(S);Nu(O);Nu(P);Nu(B);t=c[r>>0]|0;o=(t&1)==0;u=o?(t&255)>>>1:k[N>>2]|0;h=u>>>0>1;d=Et(o?I:k[C>>2]|0,12752,h?1:u)|0;if(!(((d|0)==0?(u|0)==0?-1:h&1:d)|0))vn(T,41);Nu(Q);Nu($);a=X}}}while(0);m=ee;return a|0}function Ma(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0;e:do{if((e|0)==(k[i+8>>2]|0)){if((k[i+4>>2]|0)==(r|0)){v=i+28|0;if((k[v>>2]|0)!=1)k[v>>2]=f}}else{if((e|0)!=(k[i>>2]|0)){_=k[e+12>>2]|0;E=e+16+(_<<3)|0;Zs(e+16|0,i,r,f,a);m=e+24|0;if((_|0)<=1)break;p=k[e+8>>2]|0;if(!(p&2)){S=i+36|0;if((k[S>>2]|0)!=1){if(!(p&1)){A=i+54|0;L=m;while(1){if(c[A>>0]|0)break e;if((k[S>>2]|0)==1)break e;Zs(L,i,r,f,a);L=L+8|0;if(L>>>0>=E>>>0)break e}}y=i+24|0;F=i+54|0;I=m;while(1){if(c[F>>0]|0)break e;if((k[S>>2]|0)==1)if((k[y>>2]|0)==1)break e;Zs(I,i,r,f,a);I=I+8|0;if(I>>>0>=E>>>0)break e}}}g=i+54|0;C=m;while(1){if(c[g>>0]|0)break e;Zs(C,i,r,f,a);C=C+8|0;if(C>>>0>=E>>>0)break e}}if((k[i+16>>2]|0)!=(r|0)){l=i+20|0;if((k[l>>2]|0)!=(r|0)){k[i+32>>2]=f;n=i+44|0;if((k[n>>2]|0)==4)break;s=k[e+12>>2]|0;t=e+16+(s<<3)|0;o=i+52|0;u=i+53|0;b=i+54|0;h=e+8|0;d=i+24|0;i:do{if((s|0)>0){O=0;R=0;D=e+16|0;while(1){c[o>>0]=0;c[u>>0]=0;Cs(D,i,r,r,1,a);if(c[b>>0]|0){T=O;P=R;x=20;break i}do{if(!(c[u>>0]|0)){M=O;N=R}else{if(!(c[o>>0]|0))if(!(k[h>>2]&1)){T=O;P=1;x=20;break i}else{M=O;N=1;break}if((k[d>>2]|0)==1)break i;if(!(k[h>>2]&2))break i;else{M=1;N=1}}}while(0);D=D+8|0;if(D>>>0>=t>>>0){T=M;P=N;x=20;break}else{O=M;R=N}}}else{T=0;P=0;x=20}}while(0);do{if((x|0)==20){if(T)x=24;else{k[l>>2]=r;w=i+40|0;k[w>>2]=(k[w>>2]|0)+1;if((k[i+36>>2]|0)==1)if((k[d>>2]|0)==2){c[b>>0]=1;if(P)break}else x=24;else x=24}if((x|0)==24)if(P)break;k[n>>2]=4;break e}}while(0);k[n>>2]=3;break}}if((f|0)==1)k[i+32>>2]=1}}while(0);return}function Ra(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0.0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0.0,N=0,P=0,D=0,C=0,I=0,L=0.0,x=0.0,B=0.0,H=0,U=0.0,Y=0,z=0.0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0.0,te=0.0,oe=0.0,ue=0.0,be=0,ke=0,de=0,we=0,_e=0,ve=0;we=m;m=m+16|0;if((m|0)>=(p|0))he();be=we+8|0;ke=we;l=k[e+8>>2]|0;if((l|0)==(k[e+4>>2]|0))if((l|0)==(k[i+4>>2]|0))if((l|0)==((k[r+4>>2]|0)+1|0)){d=l+-2|0;g=be+4|0;F=ke+4|0;if((l|0)>2){Z=l+-1|0;le=0;do{A=ce(le,l)|0;T=k[e>>2]|0;v[(k[i>>2]|0)+(le<<3)>>3]=+v[T+(A+le<<3)>>3];O=l-le+-1|0;k[g>>2]=O;_e=le;le=le+1|0;M=T+(A+le<<3)|0;k[be>>2]=M;R=+tt(be);v[(k[r>>2]|0)+(_e<<3)>>3]=R;if(!(R==0.0)){if((le|0)<(l|0)){N=k[i>>2]|0;J=le;do{if((le|0)<(J|0)){P=k[e>>2]|0;ie=le;te=0.0;while(1){I=P+((ce(ie,l)|0)+J<<3)|0;L=te+ +v[I>>3]*+v[T+(ie+A<<3)>>3];ie=ie+1|0;if((ie|0)>=(J|0)){se=L;break}else te=L}}else se=0.0;D=ce(J,l)|0;if((J|0)<(l|0)){C=k[e>>2]|0;re=J;ue=se;while(1){x=ue+ +v[C+(re+D<<3)>>3]*+v[T+(re+A<<3)>>3];re=re+1|0;if((re|0)>=(l|0)){oe=x;break}else ue=x}}else oe=se;v[N+(J<<3)>>3]=oe;J=J+1|0}while((J|0)<(l|0))}k[F>>2]=O;k[g>>2]=O;k[be>>2]=M;k[ke>>2]=(k[i>>2]|0)+(le<<3);B=+vt(be,ke)*.5;if((Z|0)>(_e|0)){H=k[i>>2]|0;Q=Z;do{U=+v[T+(Q+A<<3)>>3];Y=H+(Q<<3)|0;z=+v[Y>>3]-B*U;v[Y>>3]=z;V=ce(Q,l)|0;if((Q|0)<(l|0)){W=k[e>>2]|0;fe=Q;do{j=W+(fe+V<<3)|0;v[j>>3]=+v[j>>3]-(U*+v[H+(fe<<3)>>3]+z*+v[T+(fe+A<<3)>>3]);fe=fe+1|0}while((fe|0)<(l|0))}Q=Q+-1|0}while((Q|0)>(_e|0))}}}while((le|0)<(d|0))}if((l|0)>1){K=ce(d,l)|0;X=k[e>>2]|0;G=k[i>>2]|0;v[G+(d<<3)>>3]=+v[X+(K+d<<3)>>3];q=l+-1|0;v[(k[r>>2]|0)+(d<<3)>>3]=+v[X+(q+K<<3)>>3];a=q;s=X;t=G;de=27}else if((l|0)>0){a=0;s=k[e>>2]|0;t=k[i>>2]|0;de=27}if((de|0)==27){n=s+((ce(a,l)|0)+a<<3)|0;v[t+(a<<3)>>3]=+v[n>>3]}if((l|0)>0){o=(l|0)>0;ne=l;do{ve=ne;ne=ne+-1|0;u=ce(ne,l)|0;c=k[e>>2]|0;if((ve|0)<=(d|0)){b=l-ne+-1|0;h=c+(u+ve<<3)|0;if((ve|0)<(l|0)){w=(ve|0)<(l|0);$=ve;do{k[F>>2]=b;k[g>>2]=b;k[be>>2]=h;_=ce($,l)|0;k[ke>>2]=(k[e>>2]|0)+(_+ve<<3);E=+vt(be,ke);if(w){S=k[e>>2]|0;ae=ve;do{y=S+(ae+_<<3)|0;v[y>>3]=+v[y>>3]-E*+v[c+(ae+u<<3)>>3];ae=ae+1|0}while((ae|0)<(l|0))}$=$+1|0}while(($|0)<(l|0))}}if(o){ee=0;do{v[c+(ee+u<<3)>>3]=0.0;ee=ee+1|0}while((ee|0)<(l|0))}v[c+(u+ne<<3)>>3]=1.0}while((ve|0)>1);f=0}else f=0}else f=-1;else f=-1;else f=-1;m=we;return f|0}function Na(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0;z=m;m=m+48|0;if((m|0)>=(p|0))he();t=z+24|0;o=z+12|0;h=z;e:do{if(e>>>0<i>>>0){i:do{if((c[e>>0]|0)==95){A=i;if((A-e|0)<=3){k[f>>2]=-2;break e}switch(c[e+1>>0]|0){case 90:{u=e+2|0;b=Tr(u,i,r)|0;if((b|0)==(u|0)|(b|0)==(i|0))I=b;else if((c[b>>0]|0)==46){d=k[r+4>>2]|0;if((k[r>>2]|0)==(d|0))n=b;else{w=d+-24|0;_=A-b|0;if(_>>>0>4294967279)Ec(h);if(_>>>0<11){c[h>>0]=_<<1;D=h+1|0}else{v=_+16&-16;E=Sr(v)|0;k[h+8>>2]=E;k[h>>2]=v|1;k[h+4>>2]=_;D=E}if((b|0)!=(i|0)){a=b;P=D;while(1){c[P>>0]=c[a>>0]|0;a=a+1|0;if((a|0)==(i|0))break;else P=P+1|0}}c[D+_>>0]=0;S=Mo(h,0,12590)|0;k[o>>2]=k[S>>2];k[o+4>>2]=k[S+4>>2];k[o+8>>2]=k[S+8>>2];k[S>>2]=0;k[S+4>>2]=0;k[S+8>>2]=0;g=Vo(o,12593)|0;k[t>>2]=k[g>>2];k[t+4>>2]=k[g+4>>2];k[t+8>>2]=k[g+8>>2];k[g>>2]=0;k[g+4>>2]=0;k[g+8>>2]=0;y=c[t>>0]|0;F=(y&1)==0;zn(w,F?t+1|0:k[t+8>>2]|0,F?(y&255)>>>1:k[t+4>>2]|0)|0;Nu(t);Nu(o);Nu(h);n=i}I=n}else I=b;if((I|0)==(i|0))break i;k[f>>2]=-2;break e;break}case 95:{Y=20;break}default:{}}if((Y|0)==20)if((c[e+2>>0]|0)==95)if((c[e+3>>0]|0)==90){T=e+4|0;O=Tr(T,i,r)|0;if((O|0)==(T|0)|(O|0)==(i|0)){k[f>>2]=-2;break e}r:do{if((A-O|0)>12){C=0;L=O;while(1){if((c[L>>0]|0)!=(c[12595+C>>0]|0)){l=O;break r}C=C+1|0;M=L+1|0;if((C|0)>=13){s=M;x=L;break}else L=M}f:do{if((s|0)==(i|0))U=i;else{if((c[s>>0]|0)==95){R=x+2|0;if((R|0)==(i|0)){l=O;break r}if(((c[R>>0]|0)+-48|0)>>>0>=10){l=O;break r}B=x+3|0}else B=s;if((B|0)==(i|0))U=i;else{H=B;while(1){if(((c[H>>0]|0)+-48|0)>>>0>=10){U=H;break f}H=H+1|0;if((H|0)==(i|0)){U=i;break}}}}}while(0);N=k[r+4>>2]|0;if((k[r>>2]|0)==(N|0))l=O;else{Mo(N+-24|0,0,12609)|0;l=U}}else l=O}while(0);if((l|0)==(i|0))break;k[f>>2]=-2;break e}k[f>>2]=-2;break e}else if((_r(e,i,r)|0)!=(i|0)){k[f>>2]=-2;break e}}while(0);if(!(k[f>>2]|0))if((k[r>>2]|0)==(k[r+4>>2]|0))k[f>>2]=-2}else k[f>>2]=-2}while(0);m=z;return}function Pa(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0.0,s=0,t=0,o=0,u=0,c=0,b=0.0,h=0.0,d=0,w=0.0,_=0,E=0,S=0,g=0,y=0.0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0.0,G=0.0,q=0.0,J=0,Z=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0;ne=m;m=m+2e3|0;if((m|0)>=(p|0))he();K=ne;f=k[e>>2]|0;t=k[e+4>>2]|0;e:do{if((t|0)>500)i=0;else{switch(t|0){case 0:{i=0;break e;break}case 1:{v[f>>3]=1.0/+v[f>>3];i=f;break e;break}default:{}}if((t|0)>0){V=0;do{k[K+(V<<2)>>2]=V;V=V+1|0}while((V|0)<(t|0))}J=f+(t+-1<<3)|0;if((t|0)>0){F=(t|0)==0;O=(t|0)==1;T=(t|0)==0;A=(t|0)==1;P=J;C=0;W=0;while(1){l=f+((ce(W,t)|0)<<3)|0;if((W|0)<(t|0)){M=W;L=C;G=0.0;Z=l;while(1){n=+Q(+ +v[Z>>3]);s=G<n;x=s?M:L;q=s?n:G;M=M+1|0;if((M|0)>=(t|0)){I=x;X=q;break}else{L=x;G=q;Z=Z+(t<<3)|0}}}else{I=C;X=0.0}if(X<=1.0e-10){i=0;break e}o=K+(I<<2)|0;u=k[o>>2]|0;c=K+(W<<2)|0;k[o>>2]=k[c>>2];k[c>>2]=u;if(!F){B=0;$=f+((ce(I,t)|0)<<3)|0;fe=l;while(1){b=+v[$>>3];v[$>>3]=+v[fe>>3];v[fe>>3]=b;B=B+1|0;if((B|0)==(t|0))break;else{$=$+8|0;fe=fe+8|0}}}h=+v[l>>3];if(!O){H=1;ee=l;do{se=ee;ee=ee+8|0;v[se>>3]=+v[ee>>3]/h;H=H+1|0}while((H|0)!=(t|0))}v[P>>3]=1.0/h;if(!T){R=0;D=J;while(1){if((R|0)!=(W|0)){d=f+((ce(R,t)|0)<<3)|0;w=+v[d>>3];if(!A){U=1;ie=d;ae=l;while(1){te=ie;ie=ie+8|0;v[te>>3]=+v[ie>>3]-w*+v[ae>>3];U=U+1|0;if((U|0)==(t|0))break;else ae=ae+8|0}}v[D>>3]=-(w*+v[P>>3])}R=R+1|0;if((R|0)==(t|0))break;else D=D+(t<<3)|0}}W=W+1|0;if((W|0)>=(t|0))break;else{P=P+(t<<3)|0;C=I}}}if((t|0)>0){a=(t|0)>0;j=0;while(1){_=K+(j<<2)|0;i:do{if((j|0)<(t|0)){E=_;z=j;while(1){if((k[E>>2]|0)==(j|0)){r=E;Y=z;break i}S=z+1|0;g=K+(S<<2)|0;if((S|0)<(t|0)){E=g;z=S}else{r=g;Y=S;break}}}else{r=_;Y=j}}while(0);k[r>>2]=k[K+(j<<2)>>2];if(a){N=0;re=f+(Y<<3)|0;le=f+(j<<3)|0;while(1){y=+v[re>>3];v[re>>3]=+v[le>>3];v[le>>3]=y;N=N+1|0;if((N|0)>=(t|0))break;else{re=re+(t<<3)|0;le=le+(t<<3)|0}}}j=j+1|0;if((j|0)>=(t|0)){i=f;break}}}else i=f}}while(0);m=ne;return((i|0)==0)<<31>>31|0}function Da(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0;f=e+4|0;a=k[f>>2]|0;F=a&-8;T=e+F|0;R=k[760]|0;D=a&3;if(!((D|0)!=1&e>>>0>=R>>>0&e>>>0<T>>>0))fi();x=e+(F|4)|0;V=k[x>>2]|0;if(!(V&1))fi();if(!D){if(i>>>0<256){Q=0;return Q|0}if(F>>>0>=(i+4|0)>>>0)if((F-i|0)>>>0<=k[876]<<1>>>0){Q=e;return Q|0}Q=0;return Q|0}if(F>>>0>=i>>>0){A=F-i|0;if(A>>>0<=15){Q=e;return Q|0}k[f>>2]=a&1|i|2;k[e+(i+4)>>2]=A|3;k[x>>2]=k[x>>2]|1;ca(e+i|0,A);Q=e;return Q|0}if((T|0)==(k[762]|0)){O=(k[759]|0)+F|0;if(O>>>0<=i>>>0){Q=0;return Q|0}M=O-i|0;k[f>>2]=a&1|i|2;k[e+(i+4)>>2]=M|1;k[762]=e+i;k[759]=M;Q=e;return Q|0}if((T|0)==(k[761]|0)){N=(k[758]|0)+F|0;if(N>>>0<i>>>0){Q=0;return Q|0}P=N-i|0;if(P>>>0>15){k[f>>2]=a&1|i|2;k[e+(i+4)>>2]=P|1;k[e+N>>2]=P;C=e+(N+4)|0;k[C>>2]=k[C>>2]&-2;$=e+i|0;ee=P}else{k[f>>2]=a&1|N|2;I=e+(N+4)|0;k[I>>2]=k[I>>2]|1;$=0;ee=0}k[758]=ee;k[761]=$;Q=e;return Q|0}if(V&2){Q=0;return Q|0}L=(V&-8)+F|0;if(L>>>0<i>>>0){Q=0;return Q|0}B=L-i|0;H=V>>>3;do{if(V>>>0<256){U=k[e+(F+8)>>2]|0;Y=k[e+(F+12)>>2]|0;z=3064+(H<<1<<2)|0;if((U|0)!=(z|0)){if(U>>>0<R>>>0)fi();if((k[U+12>>2]|0)!=(T|0))fi()}if((Y|0)==(U|0)){k[756]=k[756]&~(1<<H);break}if((Y|0)==(z|0))r=Y+8|0;else{if(Y>>>0<R>>>0)fi();W=Y+8|0;if((k[W>>2]|0)==(T|0))r=W;else fi()}k[U+12>>2]=Y;k[r>>2]=U}else{j=k[e+(F+24)>>2]|0;K=k[e+(F+12)>>2]|0;do{if((K|0)==(T|0)){t=e+(F+20)|0;o=k[t>>2]|0;if(!o){u=e+(F+16)|0;c=k[u>>2]|0;if(!c){q=0;break}else{X=c;J=u}}else{X=o;J=t}while(1){b=X+20|0;h=k[b>>2]|0;if(h){X=h;J=b;continue}d=X+16|0;w=k[d>>2]|0;if(!w){G=X;Z=J;break}else{X=w;J=d}}if(Z>>>0<R>>>0)fi();else{k[Z>>2]=0;q=G;break}}else{l=k[e+(F+8)>>2]|0;if(l>>>0<R>>>0)fi();n=l+12|0;if((k[n>>2]|0)!=(T|0))fi();s=K+8|0;if((k[s>>2]|0)==(T|0)){k[n>>2]=K;k[s>>2]=l;q=K;break}else fi()}}while(0);if(j){_=k[e+(F+28)>>2]|0;v=3328+(_<<2)|0;if((T|0)==(k[v>>2]|0)){k[v>>2]=q;if(!q){k[757]=k[757]&~(1<<_);break}}else{if(j>>>0<(k[760]|0)>>>0)fi();E=j+16|0;if((k[E>>2]|0)==(T|0))k[E>>2]=q;else k[j+20>>2]=q;if(!q)break}m=k[760]|0;if(q>>>0<m>>>0)fi();k[q+24>>2]=j;p=k[e+(F+16)>>2]|0;do{if(p)if(p>>>0<m>>>0)fi();else{k[q+16>>2]=p;k[p+24>>2]=q;break}}while(0);S=k[e+(F+20)>>2]|0;if(S)if(S>>>0<(k[760]|0)>>>0)fi();else{k[q+20>>2]=S;k[S+24>>2]=q;break}}}}while(0);if(B>>>0<16){k[f>>2]=L|a&1|2;g=e+(L|4)|0;k[g>>2]=k[g>>2]|1;Q=e;return Q|0}else{k[f>>2]=a&1|i|2;k[e+(i+4)>>2]=B|3;y=e+(L|4)|0;k[y>>2]=k[y>>2]|1;ca(e+i|0,B);Q=e;return Q|0}return 0}function Ca(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0;G=m;m=m+80|0;if((m|0)>=(p|0))he();X=G+48|0;t=G+24|0;o=G+12|0;h=G;v=ys(e,i)|0;if((v|0)==(e|0)|(v|0)==(i|0))s=e;else if((c[v>>0]|0)==69){z=c[r>>0]|0;u=r+4|0;do{if(((z&1)==0?(z&255)>>>1:k[u>>2]|0)>>>0>3){_s(h,12688,r);b=Vo(h,12593)|0;k[o>>2]=k[b>>2];k[o+4>>2]=k[b+4>>2];k[o+8>>2]=k[b+8>>2];k[b>>2]=0;k[b+4>>2]=0;k[b+8>>2]=0;Zt(t,o);d=f+4|0;w=k[d>>2]|0;_=k[f+8>>2]|0;if(w>>>0<_>>>0){Nt(w,t);k[d>>2]=(k[d>>2]|0)+24}else{E=k[f>>2]|0;S=w-E|0;g=(S|0)/24|0;y=g+1|0;if((S|0)<-24)gc(f);F=(_-E|0)/24|0;if(F>>>0<1073741823){A=F<<1;a=A>>>0<y>>>0?y:A}else a=2147483647;pt(X,a,g,f+12|0);T=X+8|0;O=k[T>>2]|0;Nt(O,t);k[T>>2]=O+24;Bn(f,X);lt(X)}Wo(t);Nu(o);Nu(h)}else{M=f+4|0;R=k[M>>2]|0;N=k[f+8>>2]|0;if(R>>>0<N>>>0){k[R>>2]=0;k[R+4>>2]=0;k[R+8>>2]=0;k[R+12>>2]=0;k[R+16>>2]=0;k[R+20>>2]=0;k[R>>2]=0;k[R+4>>2]=0;k[R+8>>2]=0;P=R+12|0;k[P>>2]=0;k[P+4>>2]=0;k[P+8>>2]=0;k[M>>2]=(k[M>>2]|0)+24;break}D=k[f>>2]|0;C=R-D|0;I=(C|0)/24|0;L=I+1|0;if((C|0)<-24)gc(f);x=(N-D|0)/24|0;if(x>>>0<1073741823){B=x<<1;l=B>>>0<L>>>0?L:B}else l=2147483647;pt(X,l,I,f+12|0);H=X+8|0;U=k[H>>2]|0;k[U>>2]=0;k[U+4>>2]=0;k[U+8>>2]=0;k[U+12>>2]=0;k[U+16>>2]=0;k[U+20>>2]=0;k[U>>2]=0;k[U+4>>2]=0;k[U+8>>2]=0;Y=U+12|0;k[Y>>2]=0;k[Y+4>>2]=0;k[Y+8>>2]=0;k[H>>2]=U+24;Bn(f,X);lt(X)}}while(0);V=f+4|0;if((c[e>>0]|0)==110){vn((k[V>>2]|0)+-24|0,45);n=e+1|0}else n=e;Wl((k[V>>2]|0)+-24|0,n,v);W=c[r>>0]|0;j=(W&1)==0;K=j?(W&255)>>>1:k[u>>2]|0;if(K>>>0<4)zn((k[V>>2]|0)+-24|0,j?r+1|0:k[r+8>>2]|0,K)|0;s=v+1|0}else s=e;m=G;return s|0}function Ia(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;var s=0,t=0,o=0,u=0,c=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0;ue=m;m=m+80032|0;if((m|0)>=(p|0))he();ne=ue+16|0;le=ue+8|0;ae=ue;se=ue+40024|0;te=ue+24|0;u=k[l+8>>2]|0;h=k[l>>2]|0;A=k[l+4>>2]|0;e:do{if((h|0)>(A|0))oe=6;else{X=h;ie=e+((ce(u,i)|0)+h<<1)|0;while(1){H=b[ie>>1]|0;if(H<<16>>16>0)if((k[f+((H<<16>>16)+-1<<2)>>2]|0)==(a|0)){G=X;break}if((X|0)<(A|0)){X=X+1|0;ie=ie+2|0}else{oe=6;break e}}c=n+24|0;k[c>>2]=1;d=n+28|0;k[d>>2]=G;w=n+40028|0;k[w>>2]=u;E=u;S=G;T=1;Y=5;while(1){j=(Y+5|0)%8|0;q=0;while(1){_=k[776+(j<<2)>>2]|0;v=k[808+(j<<2)>>2]|0;g=e+(v+S+(ce(_+E|0,i)|0)<<1)|0;if((b[g>>1]|0)>0){F=v;M=_;W=j;break}y=q+1|0;z=(j+1|0)%8|0;if((y|0)<8){j=z;q=y}else{t=y;V=z;oe=11;break}}if((oe|0)==11){oe=0;if((t|0)==8){oe=13;break}F=k[808+(V<<2)>>2]|0;M=k[776+(V<<2)>>2]|0;W=V}k[n+28+(T<<2)>>2]=F+S;O=k[c>>2]|0;k[n+40028+(O<<2)>>2]=M+(k[n+40028+(O+-1<<2)>>2]|0);R=k[c>>2]|0;N=n+28+(R<<2)|0;if((k[N>>2]|0)==(G|0))if((k[n+40028+(R<<2)>>2]|0)==(u|0)){o=R;oe=16;break}P=R+1|0;k[c>>2]=P;if((P|0)==9999){oe=19;break}E=k[n+40028+(R<<2)>>2]|0;S=k[N>>2]|0;T=P;Y=W}if((oe|0)==13){Yl(3,4347,le);s=-1;break}else if((oe|0)==16){if((o|0)>1){K=0;Z=1;fe=0;while(1){D=(k[n+28+(Z<<2)>>2]|0)-G|0;C=ce(D,D)|0;I=(k[n+40028+(Z<<2)>>2]|0)-u|0;L=(ce(I,I)|0)+C|0;x=(L|0)>(K|0);J=x?Z:fe;Z=Z+1|0;if((Z|0)>=(o|0)){re=J;break}else{K=x?L:K;fe=J}}}else re=0;if((re|0)>0){Q=0;do{k[se+(Q<<2)>>2]=k[n+28+(Q<<2)>>2];k[te+(Q<<2)>>2]=k[n+40028+(Q<<2)>>2];Q=Q+1|0}while((Q|0)<(re|0))}if((re|0)<(o|0)){$=re;do{B=$-re|0;k[n+28+(B<<2)>>2]=k[n+28+($<<2)>>2];k[n+40028+(B<<2)>>2]=k[n+40028+($<<2)>>2];$=$+1|0}while(($|0)<(k[c>>2]|0))}if((re|0)>0){ee=0;do{U=ee-re|0;k[n+28+((k[c>>2]|0)+U<<2)>>2]=k[se+(ee<<2)>>2];k[n+40028+((k[c>>2]|0)+U<<2)>>2]=k[te+(ee<<2)>>2];ee=ee+1|0}while((ee|0)<(re|0))}k[n+28+(k[c>>2]<<2)>>2]=k[d>>2];k[n+40028+(k[c>>2]<<2)>>2]=k[w>>2];k[c>>2]=(k[c>>2]|0)+1;s=0;break}else if((oe|0)==19){Yl(3,4354,ne);s=-1;break}}}while(0);if((oe|0)==6){Yl(3,4340,ae);s=-1}m=ue;return s|0}function La(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0;le=m;m=m+4208|0;if((m|0)>=(p|0))he();ee=le+4184|0;ie=le;re=le+4120|0;fe=le+4112|0;if(!e)ae=3;else{s=(i|0)!=0;S=(r|0)==0;if(s&S)ae=3;else{if(s)G=k[r>>2]|0;else G=0;k[ie+4096>>2]=ie;H=ie;k[re>>2]=0;z=re+4|0;k[z>>2]=0;k[re+8>>2]=0;k[re+12>>2]=H;t=re+16|0;k[t>>2]=0;h=re+20|0;k[h>>2]=0;k[re+24>>2]=0;k[re+28>>2]=H;k[re+32>>2]=0;w=re+36|0;k[w>>2]=0;k[re+40>>2]=0;_=re+44|0;k[_>>2]=H;v=re+48|0;E=re+61|0;k[v>>2]=0;k[v+4>>2]=0;k[v+8>>2]=0;c[v+12>>0]=0;c[E>>0]=1;g=re+32|0;ot(ee,1,0,_);y=ee+8|0;F=k[y>>2]|0;k[F>>2]=0;k[F+4>>2]=0;k[F+8>>2]=0;k[F+12>>2]=H;k[y>>2]=F+16;Hl(g,ee);Fs(ee);A=re+62|0;c[A>>0]=0;c[re+63>>0]=1;k[fe>>2]=0;T=e+(Hn(e)|0)|0;Na(e,T,re,fe);O=k[fe>>2]|0;do{if((O|0)!=0|(c[A>>0]|0)==0){B=O;ae=17}else{M=k[g>>2]|0;if((M|0)==(k[w>>2]|0))ae=18;else if((k[M>>2]|0)==(k[M+4>>2]|0))ae=18;else{c[A>>0]=0;c[E>>0]=0;R=k[re>>2]|0;N=k[z>>2]|0;if((N|0)!=(R|0)){D=N;do{P=D+-24|0;k[z>>2]=P;Wo(P);D=k[z>>2]|0}while((D|0)!=(R|0))}C=k[t>>2]|0;I=k[h>>2]|0;if((I|0)!=(C|0)){x=I;do{L=x+-16|0;k[h>>2]=L;nt(L);x=k[h>>2]|0}while((x|0)!=(C|0))}Na(e,T,re,fe);if(!(c[A>>0]|0)){B=k[fe>>2]|0;ae=17;break}else{k[fe>>2]=-2;n=0;d=-2;break}}}}while(0);if((ae|0)==17)if(!B)ae=18;else{n=0;d=B}do{if((ae|0)==18){U=k[z>>2]|0;Y=c[U+-24>>0]|0;if(!(Y&1))K=(Y&255)>>>1;else K=k[U+-20>>2]|0;V=c[U+-12>>0]|0;if(!(V&1))j=(V&255)>>>1;else j=k[U+-8>>2]|0;W=j+K|0;X=W+1|0;if(X>>>0>G>>>0){q=Os(i,X)|0;if(!q){k[fe>>2]=-1;n=0;d=-1;break}if(S)l=q;else{k[r>>2]=X;l=q}}else if(!i){n=0;d=0;break}else l=i;J=k[z>>2]|0;Z=J+-12|0;Q=c[Z>>0]|0;$=(Q&1)==0;zn(J+-24|0,$?Z+1|0:k[J+-4>>2]|0,$?(Q&255)>>>1:k[J+-8>>2]|0)|0;o=k[z>>2]|0;u=o+-24|0;if(!(c[u>>0]&1))b=u+1|0;else b=k[o+-16>>2]|0;rt(l|0,b|0,W|0)|0;c[l+W>>0]=0;n=l;d=0}}while(0);if(f)k[f>>2]=d;Wt(re);a=n}}if((ae|0)==3)if(!f)a=0;else{k[f>>2]=-3;a=0}m=le;return a|0}function xa(e,i){e=+e;i=+i;var r=0.0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,m=0,p=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,z=0,V=0,W=0,j=0.0,K=0,X=0,G=0,q=0,J=0,Z=0,Q=0,$=0,ee=0,ie=0,re=0,fe=0,ae=0,le=0,ne=0,se=0,te=0,oe=0,ue=0,ce=0,be=0,ke=0,he=0,de=0,we=0,_e=0,ve=0,Ee=0,me=0,pe=0,Se=0,ge=0,ye=0,Fe=0,Ae=0,Te=0,Oe=0,Me=0,Re=0;v[S>>3]=e;a=k[S>>2]|0;l=k[S+4>>2]|0;v[S>>3]=i;W=k[S>>2]|0;G=k[S+4>>2]|0;Z=au(a|0,l|0,52)|0;re=Z&2047;te=au(W|0,G|0,52)|0;we=te&2047;n=l&-2147483648;d=iu(W|0,G|0,1)|0;p=Y;e:do{if((d|0)==0&(p|0)==0)Re=3;else{V=G&2147483647;if(V>>>0>2146435072|(V|0)==2146435072&W>>>0>0|(re|0)==2047)Re=3;else{K=iu(a|0,l|0,1)|0;X=Y;if(!(X>>>0>p>>>0|(X|0)==(p|0)&K>>>0>d>>>0))return+((K|0)==(d|0)&(X|0)==(p|0)?e*0.0:e);if(!re){q=iu(a|0,l|0,12)|0;J=Y;if((J|0)>-1|(J|0)==-1&q>>>0>4294967295){$=q;ee=J;pe=0;while(1){Q=pe+-1|0;$=iu($|0,ee|0,1)|0;ee=Y;if(!((ee|0)>-1|(ee|0)==-1&$>>>0>4294967295)){me=Q;break}else pe=Q}}else me=0;ie=iu(a|0,l|0,1-me|0)|0;ue=ie;ce=Y;Se=me}else{ue=a;ce=l&1048575|1048576;Se=re}if(!we){fe=iu(W|0,G|0,12)|0;ae=Y;if((ae|0)>-1|(ae|0)==-1&fe>>>0>4294967295){ne=fe;se=ae;Oe=0;while(1){le=Oe+-1|0;ne=iu(ne|0,se|0,1)|0;se=Y;if(!((se|0)>-1|(se|0)==-1&ne>>>0>4294967295)){Te=le;break}else Oe=le}}else Te=0;oe=iu(W|0,G|0,1-Te|0)|0;be=oe;ke=Y;Me=Te}else{be=W;ke=G&1048575|1048576;Me=we}he=Su(ue|0,ce|0,be|0,ke|0)|0;de=Y;_e=(de|0)>-1|(de|0)==-1&he>>>0>4294967295;i:do{if((Se|0)>(Me|0)){x=_e;B=he;H=de;ve=ue;Ee=ce;ye=Se;while(1){if(x)if((ve|0)==(be|0)&(Ee|0)==(ke|0))break;else{s=B;t=H}else{s=ve;t=Ee}o=iu(s|0,t|0,1)|0;u=Y;c=ye+-1|0;b=Su(o|0,u|0,be|0,ke|0)|0;h=Y;w=(h|0)>-1|(h|0)==-1&b>>>0>4294967295;if((c|0)>(Me|0)){x=w;B=b;H=h;ve=o;Ee=u;ye=c}else{f=w;_=o;E=u;U=b;z=h;ge=c;break i}}r=e*0.0;break e}else{f=_e;_=ue;E=ce;U=he;z=de;ge=Se}}while(0);if(f)if((_|0)==(be|0)&(E|0)==(ke|0)){r=e*0.0;break}else{m=z;g=U}else{m=E;g=_}if(m>>>0<1048576|(m|0)==1048576&g>>>0<0){y=g;F=m;Ae=ge;while(1){A=iu(y|0,F|0,1)|0;T=Y;O=Ae+-1|0;if(T>>>0<1048576|(T|0)==1048576&A>>>0<0){y=A;F=T;Ae=O}else{M=A;R=T;Fe=O;break}}}else{M=g;R=m;Fe=ge}if((Fe|0)>0){N=Qu(M|0,R|0,0,-1048576)|0;P=Y;D=iu(Fe|0,0,52)|0;I=P|Y;L=N|D}else{C=au(M|0,R|0,1-Fe|0)|0;I=Y;L=C}k[S>>2]=L;k[S+4>>2]=I|n;r=+v[S>>3]}}}while(0);if((Re|0)==3){j=e*i;r=j/j}return+r}function Ba(e){e=e|0;var i=0,r=0;r=m;m=m+16|0;if((m|0)>=(p|0))he();i=r;Hu(8590,7);Wu(8596,3);su(8605,2);su(8616,3);Uu(8632,4);Wu(8650,4);ou(8670,5);Hu(8682,8);Uu(8699,5);Hu(8719,9);Hu(8737,10);Uu(8759,6);Uu(8782,7);Wu(8811,6);Wu(8824,7);Hu(8837,11);Uu(8856,8);Uu(8866,9);Wu(8879,8);Wu(8892,9);Ku(8911,10);Xu(8923,1);Vu(8935,1);Gu(8958,1);Vu(8981,2);Gu(9003,2);Yu(9025,1);Wu(9042,10);Yu(9059,2);Wu(9072,11);Yu(9085,3);Wu(9109,12);zu(9133,3);Gu(9146,3);Yu(9159,4);Wu(9177,13);Yu(9195,5);Wu(9211,14);Yu(9227,6);Wu(9244,15);fc(9261,2088);fc(9290,2096);fc(9318,2092);wi(9351,680,0);wi(9368,680,1);wi(9384,680,0);wi(9406,680,0);wi(9431,680,1);wi(9456,680,1);wi(9481,680,100);wi(9508,680,0);wi(9534,680,1);wi(9560,680,0);wi(9587,680,0);wi(9614,680,1);wi(9640,680,2);wi(9665,680,3);wi(9703,680,4);wi(9740,680,0);wi(9774,680,0);wi(9798,680,1);wi(9824,680,2);wi(9851,680,2);wi(9885,680,5);v[i>>3]=.5;$u(9903,i);wi(9924,680,0);wi(9943,680,1);wi(9961,680,2);wi(9979,680,3);wi(9998,680,4);wi(10020,680,3);wi(10039,680,515);wi(10068,680,259);wi(10096,680,4);wi(10115,680,772);wi(10145,680,1028);wi(10175,680,0);wi(10206,680,1);wi(10242,680,2);wi(10276,680,3);wi(10314,680,0);wi(10347,680,1);wi(10394,680,2);wi(10436,680,3);wi(10479,680,4);wi(10531,680,5);wi(10582,680,6);wi(10627,680,7);wi(10666,680,8);wi(10711,680,9);m=r;return}function Ha(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0.0,n=0.0,s=0.0,t=0.0,o=0,u=0.0,c=0,b=0.0,k=0.0,h=0.0,d=0.0,w=0.0,_=0.0,E=0,S=0,g=0,y=0.0,F=0.0,A=0.0,T=0.0,O=0,M=0.0,R=0,N=0.0,P=0,D=0.0,C=0,I=0,L=0.0,x=0.0,B=0.0,H=0.0,U=0,Y=0.0,z=0.0,V=0.0,W=0.0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0;Z=m;m=m+96|0;if((m|0)>=(p|0))he();X=Z;if(!(+v[e+88>>3]>=0.0)){q=0;do{v[X+(q<<5)>>3]=-+v[e+(q<<5)>>3];v[X+(q<<5)+8>>3]=-+v[e+(q<<5)+8>>3];v[X+(q<<5)+16>>3]=-+v[e+(q<<5)+16>>3];v[X+(q<<5)+24>>3]=-+v[e+(q<<5)+24>>3];q=q+1|0}while((q|0)!=3)}else{G=0;do{v[X+(G<<5)>>3]=+v[e+(G<<5)>>3];v[X+(G<<5)+8>>3]=+v[e+(G<<5)+8>>3];v[X+(G<<5)+16>>3]=+v[e+(G<<5)+16>>3];v[X+(G<<5)+24>>3]=+v[e+(G<<5)+24>>3];G=G+1|0}while((G|0)!=3)}v[i>>3]=0.0;v[i+8>>3]=0.0;v[i+16>>3]=0.0;v[i+24>>3]=0.0;v[i+32>>3]=0.0;v[i+40>>3]=0.0;v[i+48>>3]=0.0;v[i+56>>3]=0.0;v[i+64>>3]=0.0;v[i+72>>3]=0.0;v[i+80>>3]=0.0;v[i+88>>3]=0.0;y=+v[X+64>>3];F=+v[X+72>>3];A=+v[X+80>>3];T=+$(+(y*y+F*F+A*A));O=i+80|0;v[O>>3]=T;M=y/T;R=r+64|0;v[R>>3]=M;N=F/+v[O>>3];P=r+72|0;v[P>>3]=N;D=A/+v[O>>3];C=r+80|0;v[C>>3]=D;I=r+88|0;v[I>>3]=+v[X+88>>3]/+v[O>>3];L=+v[X+32>>3];x=+v[X+40>>3];B=+v[X+48>>3];H=M*L+N*x+D*B;U=i+48|0;v[U>>3]=H;Y=L-H*+v[R>>3];z=x-H*+v[P>>3];V=B-H*+v[C>>3];W=+$(+(Y*Y+z*z+V*V));j=i+40|0;v[j>>3]=W;K=r+32|0;v[K>>3]=Y/W;f=r+40|0;v[f>>3]=z/+v[j>>3];a=r+48|0;v[a>>3]=V/+v[j>>3];l=+v[X>>3];n=+v[X+8>>3];s=+v[X+16>>3];t=+v[R>>3]*l+ +v[P>>3]*n+ +v[C>>3]*s;o=i+16|0;v[o>>3]=t;u=+v[K>>3]*l+ +v[f>>3]*n+ +v[a>>3]*s;c=i+8|0;v[c>>3]=u;b=l-u*+v[K>>3]-t*+v[R>>3];k=n-u*+v[f>>3]-t*+v[P>>3];h=s-u*+v[a>>3]-t*+v[C>>3];d=+$(+(b*b+k*k+h*h));v[i>>3]=d;v[r>>3]=b/d;v[r+8>>3]=k/+v[i>>3];v[r+16>>3]=h/+v[i>>3];w=+v[I>>3];_=(+v[X+56>>3]-+v[U>>3]*w)/+v[j>>3];v[r+56>>3]=_;v[r+24>>3]=(+v[X+24>>3]-_*+v[c>>3]-+v[o>>3]*w)/+v[i>>3];J=0;do{E=i+(J<<5)|0;v[E>>3]=+v[E>>3]/+v[O>>3];S=i+(J<<5)+8|0;v[S>>3]=+v[S>>3]/+v[O>>3];g=i+(J<<5)+16|0;v[g>>3]=+v[g>>3]/+v[O>>3];J=J+1|0}while((J|0)!=3);m=Z;return 0}function Ua(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0;s=c[i>>0]|0;b=(s&1)==0;T=b?(s&255)>>>1:k[i+4>>2]|0;e:do{if(!T)Lt(e,i);else{t=b?i+1|0:k[i+8>>2]|0;o=T>>>0>11;u=Et(t,12820,o?11:T)|0;if(!(((u|0)==0?T>>>0<11?-1:o&1:u)|0)){Yn(i,13424,70);ct(e,13495,12);break}h=T>>>0>12;d=h?12:T;w=Et(t,12832,d)|0;r=T>>>0<12?-1:h&1;if(!(((w|0)==0?r:w)|0)){Yn(i,13508,49);ct(e,13558,13);break}_=Et(t,12845,d)|0;if(!(((_|0)==0?r:_)|0)){Yn(i,13572,49);ct(e,13622,13);break}v=T>>>0>13;E=Et(t,12858,v?13:T)|0;if(!(((E|0)==0?T>>>0<13?-1:v&1:E)|0)){Yn(i,13636,50);ct(e,13687,14);break}m=t+T|0;i:do{if((c[t+(T+-1)>>0]|0)==62){R=1;C=m;r:while(1){D=C;f:while(1){p=D+-1|0;if((p|0)==(t|0))break r;S=D+-2|0;switch(c[S>>0]|0){case 60:{a=S;l=p;x=16;break f;break}case 62:{n=p;x=17;break f;break}default:D=p}}if((x|0)==16){x=0;g=R+-1|0;if(!g){I=a;break i}else{R=g;C=l;continue}}else if((x|0)==17){x=0;R=R+1|0;C=n;continue}}k[e>>2]=0;k[e+4>>2]=0;k[e+8>>2]=0;break e}else I=m}while(0);L=I;while(1){N=L+-1|0;if((N|0)==(t|0)){P=t;break}if((c[N>>0]|0)==58){P=L;break}else L=N}y=I-P|0;if(y>>>0>4294967279)Ec(e);if(y>>>0<11){c[e>>0]=y<<1;M=e+1|0}else{F=y+16&-16;A=Sr(F)|0;k[e+8>>2]=A;k[e>>2]=F|1;k[e+4>>2]=y;M=A}if((P|0)!=(I|0)){f=P;O=M;while(1){c[O>>0]=c[f>>0]|0;f=f+1|0;if((f|0)==(I|0))break;else O=O+1|0}}c[M+y>>0]=0}}while(0);return}function Ya(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;var s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0,X=0,G=0,q=0,J=0,Z=0;Z=m;m=m+240|0;if((m|0)>=(p|0))he();V=Z;y=k[f>>2]|0;O=k[f+4>>2]|0;k[V>>2]=e;P=0-i|0;e:do{if((O|0)!=0|(y|0)!=1){F=e+(0-(k[n+(a<<2)>>2]|0))|0;if((ik[r&15](F,e)|0)<1){t=e;d=a;v=l;W=1;J=19}else{u=e;_=a;E=(l|0)==0;T=F;N=y;C=O;K=1;while(1){if(E&(_|0)>1){A=k[n+(_+-2<<2)>>2]|0;if((ik[r&15](u+P|0,T)|0)>-1){o=u;w=_;j=K;J=20;break e}if((ik[r&15](u+(0-(A+i))|0,T)|0)>-1){o=u;w=_;j=K;J=20;break e}}M=K+1|0;k[V+(K<<2)>>2]=T;R=N+-1|0;do{if(!R){x=32;J=16}else{if(!(R&1)){b=R;X=0;while(1){D=X+1|0;b=b>>>1;if(b&1){S=D;break}else X=D}if(!S)J=11;else L=S}else J=11;if((J|0)==11){J=0;if(!C){x=64;J=16;break}if(!(C&1)){h=C;G=0}else{s=0;B=N;H=C;Y=0;break}while(1){I=G+1|0;h=h>>>1;if(h&1){g=I;q=G;break}else G=I}if(!g){s=0;B=N;H=C;Y=0;break}else L=q+33|0}if(L>>>0>31){x=L;J=16}else{s=L;B=N;H=C;Y=L}}}while(0);if((J|0)==16){J=0;s=x+-32|0;B=C;H=0;Y=x}N=H<<32-s|B>>>s;C=H>>>s;U=Y+_|0;if(!((C|0)!=0|(N|0)!=1)){o=T;w=U;j=M;J=20;break e}z=T+(0-(k[n+(U<<2)>>2]|0))|0;if((ik[r&15](z,k[V>>2]|0)|0)<1){t=T;d=U;v=0;W=M;J=19;break}else{c=T;_=U;E=1;T=z;K=M;u=c}}}}else{t=e;d=a;v=l;W=1;J=19}}while(0);if((J|0)==19)if(!v){o=t;w=d;j=W;J=20}if((J|0)==20){Zn(i,V,j);an(o,i,r,w,n)}m=Z;return}function za(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0.0,u=0,c=0,b=0,h=0,d=0,w=0.0,_=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0.0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0.0,K=0.0,X=0,G=0;l=k[e+4>>2]|0;b=k[e+8>>2]|0;m=(l|0)<(b|0)?l:b;e:do{if((l|0)<2|(b|0)<2)a=-1;else if((k[i+8>>2]|0)==(b|0))if((k[i+4>>2]|0)==(m|0)){n=r+4|0;if((k[n>>2]|0)==(m|0)){s=f+4|0;if((k[s>>2]|0)==(b|0)){t=Ko(e)|0;if(!t)a=-1;else{o=+$(+ +(l|0));u=k[t+4>>2]|0;c=k[t+8>>2]|0;if(!((u|0)<1|(c|0)<1))if((k[s>>2]|0)==(c|0)){if(c){h=k[f>>2]|0;P=0;do{v[h+(P<<3)>>3]=0.0;P=P+1|0}while((P|0)!=(c|0))}d=k[t>>2]|0;if(u){R=(c|0)==0;C=0;Y=d;while(1){if(!R){B=0;z=Y;X=k[f>>2]|0;while(1){v[X>>3]=+v[z>>3]+ +v[X>>3];B=B+1|0;if((B|0)==(c|0))break;else{z=z+8|0;X=X+8|0}}}C=C+1|0;if((C|0)==(u|0))break;else Y=Y+(c<<3)|0}}w=+(u|0);if(c){_=k[f>>2]|0;L=0;do{E=_+(L<<3)|0;v[E>>3]=+v[E>>3]/w;L=L+1|0}while((L|0)!=(c|0))}W=(c|0)>0?c:0;if((u|0)>0){p=(c|0)>0;N=0;U=d;while(1){if(p){H=0;V=U;G=k[f>>2]|0;while(1){v[V>>3]=+v[V>>3]-+v[G>>3];H=H+1|0;if((H|0)>=(c|0))break;else{V=V+8|0;G=G+8|0}}}N=N+1|0;if((N|0)>=(u|0))break;else U=U+(W<<3)|0}}S=ce(b,l)|0;if((S|0)>0){D=0;do{g=d+(D<<3)|0;v[g>>3]=+v[g>>3]/o;D=D+1|0}while((D|0)<(S|0))}y=Rr(t,i,r)|0;jc(t)|0;F=k[n>>2]|0;if((F|0)>0){A=k[r>>2]|0;I=0;K=0.0;while(1){O=K+ +v[A+(I<<3)>>3];I=I+1|0;if((I|0)>=(F|0)){j=O;break}else K=O}}else j=0.0;if((F|0)<=0){a=y;break}T=k[r>>2]|0;x=0;while(1){M=T+(x<<3)|0;v[M>>3]=+v[M>>3]/j;x=x+1|0;if((x|0)>=(F|0)){a=y;break e}}}jc(t)|0;a=-1}}else a=-1}else a=-1}else a=-1;else a=-1}while(0);return a|0}function Va(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0;x=m;m=m+32|0;if((m|0)>=(p|0))he();C=x+12|0;I=x;e:do{if((i-e|0)>1){_=c[e>>0]|0;switch(_<<24>>24){case 100:case 111:{if((c[e+1>>0]|0)==110){D=e+2|0;if(_<<24>>24==111){l=Er(D,i,r)|0;if((l|0)==(D|0)){f=e;break e}n=ta(l,i,r)|0;if((n|0)==(l|0)){f=l;break e}s=r+4|0;t=k[s>>2]|0;if(((t-(k[r>>2]|0)|0)/24|0)>>>0<2){f=n;break e}et(C,t+-24|0);o=k[s>>2]|0;u=o+-24|0;h=o;do{b=h+-24|0;k[s>>2]=b;Wo(b);h=k[s>>2]|0}while((h|0)!=(u|0));d=c[C>>0]|0;w=(d&1)==0;zn(o+-48|0,w?C+1|0:k[C+8>>2]|0,w?(d&255)>>>1:k[C+4>>2]|0)|0;Nu(C);f=n;break e}if((D|0)==(i|0))a=i;else{v=da(D,i,r)|0;if((v|0)==(D|0))L=xl(D,i,r)|0;else L=v;if((L|0)==(D|0))a=D;else{E=k[r+4>>2]|0;if((k[r>>2]|0)==(E|0))a=D;else{Mo(E+-24|0,0,12902)|0;a=L}}}m=x;return((a|0)==(D|0)?e:a)|0}break}default:{}}S=xl(e,i,r)|0;if((S|0)==(e|0)){g=Er(e,i,r)|0;if((g|0)==(e|0))f=e;else{y=ta(g,i,r)|0;if((y|0)==(g|0))f=g;else{F=r+4|0;A=k[F>>2]|0;if(((A-(k[r>>2]|0)|0)/24|0)>>>0<2)f=y;else{et(I,A+-24|0);T=k[F>>2]|0;O=T+-24|0;R=T;do{M=R+-24|0;k[F>>2]=M;Wo(M);R=k[F>>2]|0}while((R|0)!=(O|0));N=c[I>>0]|0;P=(N&1)==0;zn(T+-48|0,P?I+1|0:k[I+8>>2]|0,P?(N&255)>>>1:k[I+4>>2]|0)|0;Nu(I);f=y}}}}else f=S}else f=e}while(0);m=x;return f|0}function Wa(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0.0,S=0,g=0,y=0,F=0,A=0,T=0.0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0;j=m;m=m+256|0;if((m|0)>=(p|0))he();U=j+232|0;H=j+224|0;B=j+216|0;V=j+208|0;z=j+200|0;Y=j+192|0;x=j+184|0;M=j+240|0;C=j;do{if((e|0)!=0&(i|0)>0&(r|0)!=0){h=Jn(e,4854)|0;if(!h){A=Ju()|0;k[x>>2]=k[A>>2];k[x+4>>2]=e;Yl(3,4857,x);O=ds(k[A>>2]|0)|0;k[Y>>2]=13809;k[Y+4>>2]=O;Yl(3,5361,Y);I=-1;break}Ac(h,0,2)|0;e:do{if(!(xo(h)|0)){s=Mb(h)|0;Do(h);N=0;while(1){if((N|0)>=4){P=N;W=9;break}t=k[2012+(N<<3)+4>>2]|0;o=N+1|0;if(!((s|0)%(t|0)|0)){u=t;R=o;break}else N=o}do{if((W|0)==9)if((P|0)==4){Yl(3,4971,B);L=-1;break e}else{u=k[2012+(0<<3)+4>>2]|0;R=0;break}}while(0);if((jl(C,u,1,h)|0)!=1){c=Ju()|0;k[H>>2]=k[c>>2];Yl(3,5051,H);b=ds(k[c>>2]|0)|0;k[U>>2]=13809;k[U+4>>2]=b;Yl(3,5361,U);L=-1;break}d=C+176|0;k[d>>2]=R;Dn(C);w=(R|0)==1;_=C+120|0;if(w){E=+v[_>>3];S=C+128|0;v[_>>3]=+v[S>>3];v[S>>3]=E;a=S}else a=C+128|0;rt(r|0,C|0,184)|0;k[M>>2]=f;g=r+176|0;if((i|0)>1){D=1;while(1){y=(k[M>>2]|0)+(4-1)&~(4-1);F=k[y>>2]|0;k[M>>2]=y+4;k[F+176>>2]=k[g>>2];if((jl(C,k[2012+((k[g>>2]|0)+-1<<3)+4>>2]|0,1,h)|0)!=1){L=-1;break e}k[d>>2]=R;Dn(C);if(w){T=+v[_>>3];v[_>>3]=+v[a>>3];v[a>>3]=T}rt(F|0,C|0,184)|0;D=D+1|0;if((D|0)>=(i|0)){L=0;break}}}else L=0}else{l=Ju()|0;k[z>>2]=k[l>>2];Yl(3,4926,z);n=ds(k[l>>2]|0)|0;k[V>>2]=13809;k[V+4>>2]=n;Yl(3,5361,V);L=-1}}while(0);dt(h)|0;I=L}else I=-1}while(0);m=j;return I|0}function ja(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0;L=m;m=m+48|0;if((m|0)>=(p|0))he();n=L+36|0;s=L+24|0;b=L+12|0;w=L;E=vr(e,i,f)|0;if((E|0)==(e|0))a=e;else{P=f+4|0;I=k[P>>2]|0;if((k[f>>2]|0)==(I|0))a=e;else{t=I+-24|0;ms(b,r,12688);et(w,(k[P>>2]|0)+-24|0);o=c[w>>0]|0;u=(o&1)==0;h=zn(b,u?w+1|0:k[w+8>>2]|0,u?(o&255)>>>1:k[w+4>>2]|0)|0;k[s>>2]=k[h>>2];k[s+4>>2]=k[h+4>>2];k[s+8>>2]=k[h+8>>2];k[h>>2]=0;k[h+4>>2]=0;k[h+8>>2]=0;d=Vo(s,12593)|0;k[n>>2]=k[d>>2];k[n+4>>2]=k[d+4>>2];k[n+8>>2]=k[d+8>>2];k[d>>2]=0;k[d+4>>2]=0;k[d+8>>2]=0;do{if(!(c[t>>0]&1)){c[t+1>>0]=0;c[t>>0]=0}else{_=I+-16|0;c[k[_>>2]>>0]=0;v=I+-20|0;k[v>>2]=0;l=c[t>>0]|0;if(!(l&1)){g=l;A=10}else{S=k[t>>2]|0;g=S&255;A=(S&-2)+-1|0}if(!(g&1)){y=(g&255)>>>1;if((g&255)<22){F=10;D=y;C=1}else{F=(y+16&240)+-1|0;D=y;C=1}}else{F=10;D=0;C=0}if((F|0)!=(A|0)){if((F|0)==10){M=t+1|0;R=k[_>>2]|0;if(C){rt(M|0,R|0,((g&255)>>>1)+1|0)|0;oa(R)}else{c[M>>0]=c[R>>0]|0;oa(R)}c[t>>0]=D<<1;break}T=F+1|0;O=Sr(T)|0;if(!(F>>>0<=A>>>0&(O|0)==0)){if(C)rt(O|0,t+1|0,((g&255)>>>1)+1|0)|0;else{N=k[_>>2]|0;c[O>>0]=c[N>>0]|0;oa(N)}k[t>>2]=T|1;k[v>>2]=D;k[_>>2]=O}}}}while(0);k[t>>2]=k[n>>2];k[t+4>>2]=k[n+4>>2];k[t+8>>2]=k[n+8>>2];k[n>>2]=0;k[n+4>>2]=0;k[n+8>>2]=0;Nu(n);Nu(s);Nu(w);Nu(b);a=E}}m=L;return a|0}function Ka(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0.0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0.0,y=0,F=0.0,A=0.0,T=0,O=0,M=0.0,R=0,N=0,P=0,D=0,C=0.0,I=0.0,L=0.0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0;j=m;m=m+176|0;if((m|0)>=(p|0))he();V=j+168|0;z=j+160|0;P=j+48|0;Y=j+64|0;D=j;u=i+8|0;c=k[u>>2]|0;do{if((c|0)<3)l=-1;else{y=Sr(c*96|0)|0;if(!y){Yl(3,5109,z);l=-1;break}R=Sr(c<<4)|0;if(!R){Yl(3,5109,V);oa(y);l=-1;break}else B=0;do{v[f+(B<<5)>>3]=+v[r+(B<<5)>>3];v[f+(B<<5)+8>>3]=+v[r+(B<<5)+8>>3];v[f+(B<<5)+16>>3]=+v[r+(B<<5)+16>>3];v[f+(B<<5)+24>>3]=+v[r+(B<<5)+24>>3];B=B+1|0}while((B|0)!=3);N=i+4|0;b=P+8|0;h=e+104|0;d=e+120|0;w=e+112|0;_=e+96|0;C=0.0;x=0;e:while(1){Ys(e,f,Y)|0;E=k[u>>2]|0;if((E|0)>0){L=0.0;H=0;while(1){if((ps(P,Y,(k[N>>2]|0)+(H*24|0)|0)|0)<0){W=10;break e}S=k[i>>2]|0;g=+v[S+(H<<4)>>3]-+v[P>>3];F=+v[S+(H<<4)+8>>3]-+v[b>>3];A=L+(g*g+F*F);T=H<<1;v[R+(T<<3)>>3]=g;v[R+((T|1)<<3)>>3]=F;H=H+1|0;O=k[u>>2]|0;if((H|0)>=(O|0)){n=O;I=A;break}else L=A}}else{n=E;I=0.0}M=I/+(n|0);if(M<+v[h>>3]){t=M;W=24;break}if((x|0)>0)if(M<+v[d>>3])if(M/C>+v[w>>3]){t=M;W=24;break}if((x|0)==(k[_>>2]|0)){t=M;W=24;break}if((n|0)>0){U=0;while(1){if((ma(y+(U*12<<3)|0,e,f,(k[N>>2]|0)+(U*24|0)|0)|0)<0){W=20;break e}U=U+1|0;o=k[u>>2]|0;if((U|0)>=(o|0)){s=o;break}}}else s=n;if((cn(D,R,y,s<<1)|0)<0){W=22;break}ol(f,D)|0;C=M;x=x+1|0}if((W|0)==10){Cc(y,R);l=-1;break}else if((W|0)==20){Cc(y,R);l=-1;break}else if((W|0)==22){Cc(y,R);l=-1;break}else if((W|0)==24){v[a>>3]=t;oa(y);oa(R);l=0;break}}}while(0);m=j;return l|0}function Xa(e,i,r,f,a,l,n,s,t,o,u,c,b,h){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;s=s|0;t=t|0;o=o|0;u=+u;c=c|0;b=b|0;h=h|0;var d=0,w=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0;C=m;m=m+16|0;if((m|0)>=(p|0))he();P=C+4|0;D=C;d=t>>>0<2;w=(t|0)==2;if((l|0)>0){O=0;R=0;while(1){k[c+(R<<8)>>2]=k[a+(O*80048|0)>>2];if((Hs(o,+v[a+(O*80048|0)+8>>3],+v[a+(O*80048|0)+16>>3],P,D)|0)<0)N=R;else{v[c+(R<<8)+56>>3]=+_[P>>2];v[c+(R<<8)+64>>3]=+_[D>>2];E=c+(R<<8)+168|0;if((fl(a+(O*80048|0)+28|0,a+(O*80048|0)+40028|0,k[a+(O*80048|0)+24>>2]|0,a+(O*80048|0)+80028|0,o,c+(R<<8)+72|0,E)|0)<0)N=R;else{S=c+(R<<8)+8|0;g=c+(R<<8)+20|0;y=c+(R<<8)+40|0;F=c+(R<<8)+12|0;A=c+(R<<8)+24|0;T=c+(R<<8)+48|0;switch(rf(n,s,t,e,i,r,f,o,E,u,S,g,y,F,A,T,h,c+(R<<8)+240|0,c+(R<<8)+248|0)|0){case 0:{k[c+(R<<8)+236>>2]=0;break}case-1:{k[c+(R<<8)+236>>2]=2;break}case-2:{k[c+(R<<8)+236>>2]=3;break}case-3:{k[c+(R<<8)+236>>2]=4;break}case-4:{k[c+(R<<8)+236>>2]=5;break}case-5:{k[c+(R<<8)+236>>2]=9;break}case-6:{k[c+(R<<8)+236>>2]=1;break}default:{}}if(d){k[c+(R<<8)+4>>2]=k[S>>2];k[c+(R<<8)+16>>2]=k[g>>2];v[c+(R<<8)+32>>3]=+v[y>>3]}else if(w){k[c+(R<<8)+4>>2]=k[F>>2];k[c+(R<<8)+16>>2]=k[A>>2];v[c+(R<<8)+32>>3]=+v[T>>3]}N=R+1|0}}O=O+1|0;if((O|0)>=(l|0)){M=N;break}else R=N}}else M=0;k[b>>2]=M;m=C;return 0}function Ga(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0;t=it(e,i)|0;do{if((t|0)<0)a=t;else{E=e+4|0;if(!(k[E>>2]|0)){F=e+8|0;O=e+12|0;o=Sr(ce(k[O>>2]|0,k[F>>2]|0)|0)|0;k[E>>2]=o;if(!o){a=-1;break}else{n=F;s=O}}else{n=e+8|0;s=e+12|0}u=r>>1;b=0-u|0;d=k[s>>2]|0;if((d|0)>0){w=(u|0)<(b|0);_=(u|0)<(b|0);L=0;do{v=k[n>>2]|0;if((v|0)>0){S=v;C=0;do{if(w){M=0;H=0}else{R=0;B=b;U=0;while(1){m=B+L|0;if((m|0)<0){D=R;V=U}else if((m|0)<(k[s>>2]|0)){p=ce(S,m)|0;if(_){D=R;V=U}else{N=R;x=b;Y=U;while(1){g=x+C|0;if((g|0)>-1&(g|0)<(S|0)){P=N+1|0;z=(h[(k[e>>2]|0)+(p+g)>>0]|0)+Y|0}else{P=N;z=Y}if((x|0)<(u|0)){N=P;x=x+1|0;Y=z}else{D=P;V=z;break}}}}else{D=R;V=U}if((B|0)<(u|0)){R=D;B=B+1|0;U=V}else{M=D;H=V;break}}}y=(ce(S,L)|0)+C|0;c[(k[E>>2]|0)+y>>0]=(H|0)/(M|0)|0;C=C+1|0;S=k[n>>2]|0}while((C|0)<(S|0))}L=L+1|0;A=k[s>>2]|0}while((L|0)<(A|0));l=A}else l=d;if(!f)a=0;else if((ce(l,k[n>>2]|0)|0)>0){I=0;do{T=(k[E>>2]|0)+I|0;c[T>>0]=(h[T>>0]|0)+f;I=I+1|0}while((I|0)<(ce(k[s>>2]|0,k[n>>2]|0)|0));a=0}else a=0}}while(0);return a|0}function qa(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0;do{if(!(c[e>>0]&1)){c[e+1>>0]=0;c[e>>0]=0}else{E=e+8|0;c[k[E>>2]>>0]=0;F=e+4|0;k[F>>2]=0;r=c[e>>0]|0;if(!(r&1)){l=r;t=10}else{a=k[e>>2]|0;l=a&255;t=(a&-2)+-1|0}if(!(l&1)){n=(l&255)>>>1;if((l&255)<22){s=10;w=n;C=1}else{s=(n+16&240)+-1|0;w=n;C=1}}else{s=10;w=0;C=0}if((s|0)!=(t|0)){if((s|0)==10){b=e+1|0;h=k[E>>2]|0;if(C){rt(b|0,h|0,((l&255)>>>1)+1|0)|0;oa(h)}else{c[b>>0]=c[h>>0]|0;oa(h)}c[e>>0]=w<<1;break}o=s+1|0;u=Sr(o)|0;if(!(s>>>0<=t>>>0&(u|0)==0)){if(C)rt(u|0,e+1|0,((l&255)>>>1)+1|0)|0;else{d=k[E>>2]|0;c[u>>0]=c[d>>0]|0;oa(d)}k[e>>2]=o|1;k[F>>2]=w;k[E>>2]=u}}}}while(0);k[e>>2]=k[i>>2];k[e+4>>2]=k[i+4>>2];k[e+8>>2]=k[i+8>>2];k[i>>2]=0;k[i+4>>2]=0;k[i+8>>2]=0;_=e+12|0;v=i+12|0;do{if(!(c[_>>0]&1)){c[_+1>>0]=0;c[_>>0]=0}else{m=e+20|0;c[k[m>>2]>>0]=0;p=e+16|0;k[p>>2]=0;f=c[_>>0]|0;if(!(f&1)){g=f;T=10}else{S=k[_>>2]|0;g=S&255;T=(S&-2)+-1|0}if(!(g&1)){y=(g&255)>>>1;if((g&255)<22){A=10;D=y;I=1}else{A=(y+16&240)+-1|0;D=y;I=1}}else{A=10;D=0;I=0}if((A|0)!=(T|0)){if((A|0)==10){R=_+1|0;N=k[m>>2]|0;if(I){rt(R|0,N|0,((g&255)>>>1)+1|0)|0;oa(N)}else{c[R>>0]=c[N>>0]|0;oa(N)}c[_>>0]=D<<1;break}O=A+1|0;M=Sr(O)|0;if(!(A>>>0<=T>>>0&(M|0)==0)){if(I)rt(M|0,_+1|0,((g&255)>>>1)+1|0)|0;else{P=k[m>>2]|0;c[M>>0]=c[P>>0]|0;oa(P)}k[_>>2]=O|1;k[p>>2]=D;k[m>>2]=M}}}}while(0);k[_>>2]=k[v>>2];k[_+4>>2]=k[v+4>>2];k[_+8>>2]=k[v+8>>2];k[v>>2]=0;k[v+4>>2]=0;k[v+8>>2]=0;return}function Ja(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0;t=e+4|0;e:do{if(!i){S=k[e>>2]|0;k[e>>2]=0;if(S)Tb(S);k[t>>2]=0}else{_=Yt(i<<2)|0;p=k[e>>2]|0;k[e>>2]=_;if(p)Tb(p);k[t>>2]=i;if(i){C=0;do{k[(k[e>>2]|0)+(C<<2)>>2]=0;C=C+1|0}while((C|0)!=(i|0))}g=e+8|0;o=k[g>>2]|0;if(o){u=k[o+4>>2]|0;c=i+-1|0;b=(c&i|0)==0;if(b)h=u&c;else h=(u>>>0)%(i>>>0)|0;k[(k[e>>2]|0)+(h<<2)>>2]=g;O=k[o>>2]|0;if(O){r=o;y=o;M=O;x=h;while(1){f=r;F=y;R=M;i:while(1){N=R;while(1){d=k[N+4>>2]|0;if(b)w=d&c;else w=(d>>>0)%(i>>>0)|0;if((w|0)==(x|0)){P=N;break}v=(k[e>>2]|0)+(w<<2)|0;if(!(k[v>>2]|0)){a=f;n=w;s=v;D=N;break i}E=N+8|0;I=N;while(1){m=k[I>>2]|0;if(!m){l=m;L=I;break}if((k[E>>2]|0)==(k[m+8>>2]|0))I=m;else{l=m;L=I;break}}k[f>>2]=l;k[L>>2]=k[k[(k[e>>2]|0)+(w<<2)>>2]>>2];k[k[(k[e>>2]|0)+(w<<2)>>2]>>2]=N;N=k[F>>2]|0;if(!N)break e}A=k[P>>2]|0;if(!A)break e;else{f=P;F=P;R=A}}k[s>>2]=a;T=k[D>>2]|0;if(!T)break;else{r=D;y=D;M=T;x=n}}}}}}while(0);return}function Za(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0;t=e+4|0;e:do{if(!i){S=k[e>>2]|0;k[e>>2]=0;if(S)Tb(S);k[t>>2]=0}else{_=Yt(i<<2)|0;p=k[e>>2]|0;k[e>>2]=_;if(p)Tb(p);k[t>>2]=i;if(i){C=0;do{k[(k[e>>2]|0)+(C<<2)>>2]=0;C=C+1|0}while((C|0)!=(i|0))}g=e+8|0;o=k[g>>2]|0;if(o){u=k[o+4>>2]|0;c=i+-1|0;b=(c&i|0)==0;if(b)h=u&c;else h=(u>>>0)%(i>>>0)|0;k[(k[e>>2]|0)+(h<<2)>>2]=g;O=k[o>>2]|0;if(O){r=o;y=o;M=O;x=h;while(1){f=r;F=y;R=M;i:while(1){N=R;while(1){d=k[N+4>>2]|0;if(b)w=d&c;else w=(d>>>0)%(i>>>0)|0;if((w|0)==(x|0)){P=N;break}v=(k[e>>2]|0)+(w<<2)|0;if(!(k[v>>2]|0)){a=f;n=w;s=v;D=N;break i}E=N+8|0;I=N;while(1){m=k[I>>2]|0;if(!m){l=m;L=I;break}if((k[E>>2]|0)==(k[m+8>>2]|0))I=m;else{l=m;L=I;break}}k[f>>2]=l;k[L>>2]=k[k[(k[e>>2]|0)+(w<<2)>>2]>>2];k[k[(k[e>>2]|0)+(w<<2)>>2]>>2]=N;N=k[F>>2]|0;if(!N)break e}A=k[P>>2]|0;if(!A)break e;else{f=P;F=P;R=A}}k[s>>2]=a;T=k[D>>2]|0;if(!T)break;else{r=D;y=D;M=T;x=n}}}}}}while(0);return}function Qa(e,i,r,f){e=e|0;i=+i;r=+r;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0.0,c=0.0,b=0,h=0.0,d=0,w=0.0,_=0,E=0.0,S=0.0,g=0.0,y=0.0,F=0,A=0,T=0.0,O=0.0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0;L=m;m=m+400|0;if((m|0)>=(p|0))he();N=L+296|0;I=L+200|0;D=L+128|0;C=L;a=k[e>>2]|0;s=k[e+4>>2]|0;if((Ha(e+8|0,N,I)|0)<0)Yl(3,6024,L+392|0);else{h=+(s+-1|0);l=N+32|0;v[l>>3]=h*+v[N+64>>3]-+v[l>>3];n=N+40|0;v[n>>3]=h*+v[N+72>>3]-+v[n>>3];t=N+48|0;v[t>>3]=h*+v[N+80>>3]-+v[t>>3];o=N+56|0;v[o>>3]=h*+v[N+88>>3]-+v[o>>3];u=+v[N+80>>3];M=0;do{v[D+(M*24|0)>>3]=+v[N+(M<<5)>>3]/u;v[D+(M*24|0)+8>>3]=+v[N+(M<<5)+8>>3]/u;v[D+(M*24|0)+16>>3]=+v[N+(M<<5)+16>>3]/u;M=M+1|0}while((M|0)!=3);c=+(a+-1|0);v[C>>3]=+v[D>>3]*2.0/c;v[C+8>>3]=+v[D+8>>3]*2.0/c;v[C+16>>3]=+v[D+16>>3]*2.0/c+-1.0;b=C+24|0;k[b>>2]=0;k[b+4>>2]=0;k[b+8>>2]=0;k[b+12>>2]=0;v[C+40>>3]=+v[D+32>>3]*2.0/h;v[C+48>>3]=+v[D+40>>3]*2.0/h+-1.0;d=C+56|0;w=r-i;k[d>>2]=0;k[d+4>>2]=0;k[d+8>>2]=0;k[d+12>>2]=0;k[d+16>>2]=0;k[d+20>>2]=0;v[C+80>>3]=(i+r)/w;v[C+88>>3]=r*-2.0*i/w;_=C+96|0;k[_>>2]=0;k[_+4>>2]=0;k[_+8>>2]=0;k[_+12>>2]=0;v[C+112>>3]=1.0;v[C+120>>3]=0.0;E=+v[I+24>>3];S=+v[I+56>>3];g=+v[I+88>>3];R=0;do{y=+v[C+(R<<5)>>3];F=C+(R<<5)+8|0;A=C+(R<<5)+16|0;T=+v[F>>3];O=+v[A>>3];P=0;do{v[f+((P<<2)+R<<3)>>3]=y*+v[I+(P<<3)>>3]+T*+v[I+32+(P<<3)>>3]+O*+v[I+64+(P<<3)>>3];P=P+1|0}while((P|0)!=3);v[f+(R+12<<3)>>3]=+v[C+(R<<5)+24>>3]+(y*E+ +v[F>>3]*S+ +v[A>>3]*g);R=R+1|0}while((R|0)!=4)}m=L;return}function $a(e,i,r,f,a,l){e=e|0;i=+i;r=+r;f=f|0;a=a|0;l=l|0;var n=0,s=0.0,t=0.0,o=0.0,u=0.0,c=0.0,b=0.0,k=0.0,h=0,d=0.0,w=0.0,_=0.0,E=0.0,m=0.0,p=0.0,S=0.0,g=0.0,y=0.0,F=0.0,A=0.0,T=0.0,O=0.0,M=0,R=0.0,N=0.0,P=0.0,D=0.0,C=0.0,I=0.0,L=0.0,x=0,B=0.0,H=0.0,U=0.0,Y=0.0;switch(l|0){case 4:{y=+v[e+16>>3];O=+v[e+24>>3];P=+v[e+32>>3];s=+v[e+40>>3];u=+v[e+48>>3];w=+v[e+56>>3];E=+v[e+64>>3];m=(i-u)*E/P;p=(r-w)*E/s;S=m*m+p*p;g=+v[e>>3]*S+1.0+S*(+v[e+8>>3]*S);v[f>>3]=u+P*(O*(m*(m*2.0)+S)+(y*2.0*m*p+m*g));v[a>>3]=w+s*(O*2.0*m*p+(y*(S+p*(p*2.0))+p*g));n=0;break}case 3:{F=+v[e>>3];A=+v[e+16>>3];T=(i-F)*A;M=e+8|0;R=A*(r-+v[M>>3]);if(T==0.0&R==0.0){v[f>>3]=F;Y=+v[M>>3]}else{N=T*T+R*R;D=1.0-N*(+v[e+32>>3]/1.0e8)-N*(N*(+v[e+40>>3]/1.0e8/1.0e5));v[f>>3]=F+ +v[e+24>>3]*(T*D);Y=+v[M>>3]+R*D}v[a>>3]=Y;n=0;break}case 2:{C=+v[e>>3];I=+v[e+16>>3];L=(i-C)*I;x=e+8|0;B=I*(r-+v[x>>3]);if(L==0.0&B==0.0){v[f>>3]=C;U=+v[x>>3]}else{t=L*L+B*B;o=1.0-t*(+v[e+24>>3]/1.0e8)-t*(t*(+v[e+32>>3]/1.0e8/1.0e5));v[f>>3]=C+L*o;U=+v[x>>3]+B*o}v[a>>3]=U;n=0;break}case 1:{c=+v[e>>3];b=+v[e+16>>3];k=(i-c)*b;h=e+8|0;d=b*(r-+v[h>>3]);if(k==0.0&d==0.0){v[f>>3]=c;H=+v[h>>3]}else{_=1.0-(k*k+d*d)*(+v[e+24>>3]/1.0e8);v[f>>3]=c+k*_;H=+v[h>>3]+d*_}v[a>>3]=H;n=0;break}default:n=-1}return n|0}function el(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0.0,h=0,d=0.0,w=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0;a=k[r+8>>2]|0;t=r+4|0;k[t>>2]=a;h=i+4|0;w=k[h>>2]|0;S=(w|0)==0;e:do{if(S){I=0;H=12}else{A=w+-1|0;P=(A&w|0)==0;if(P)l=A&a;else l=(a>>>0)%(w>>>0)|0;n=k[(k[i>>2]|0)+(l<<2)>>2]|0;if(!n){I=l;H=12}else{f=n;while(1){x=k[f>>2]|0;if(!x){I=l;H=12;break e}s=k[x+4>>2]|0;if(P)o=s&A;else o=(s>>>0)%(w>>>0)|0;if((o|0)!=(l|0)){I=l;H=12;break e}if((k[x+8>>2]|0)==(a|0)){D=0;B=x;break}else f=x}}}}while(0);if((H|0)==12){u=i+12|0;b=+(((k[u>>2]|0)+1|0)>>>0);d=+_[i+16>>2];do{if(S|b>+(w>>>0)*d){if(w>>>0>2)v=(w+-1&w|0)==0;else v=0;E=(v&1|w<<1)^1;m=~~+ue(+(b/d))>>>0;sn(i,E>>>0<m>>>0?m:E);p=k[h>>2]|0;g=k[t>>2]|0;y=p+-1|0;if(!(y&p)){C=p;L=y&g;break}else{C=p;L=(g>>>0)%(p>>>0)|0;break}}else{C=w;L=I}}while(0);F=k[(k[i>>2]|0)+(L<<2)>>2]|0;if(!F){T=i+8|0;k[r>>2]=k[T>>2];k[T>>2]=r;k[(k[i>>2]|0)+(L<<2)>>2]=T;O=k[r>>2]|0;if(O){M=k[O+4>>2]|0;R=C+-1|0;if(!(R&C))N=M&R;else N=(M>>>0)%(C>>>0)|0;k[(k[i>>2]|0)+(N<<2)>>2]=r}}else{k[r>>2]=k[F>>2];k[F>>2]=r}k[u>>2]=(k[u>>2]|0)+1;D=1;B=r}k[e>>2]=B;c[e+4>>0]=D;return}function il(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0;f=e+4|0;a=k[f>>2]|0;t=e+100|0;if(a>>>0<(k[t>>2]|0)>>>0){k[f>>2]=a+1;l=h[a>>0]|0}else l=rn(e)|0;switch(l|0){case 43:case 45:{n=(l|0)==45&1;s=k[f>>2]|0;if(s>>>0<(k[t>>2]|0)>>>0){k[f>>2]=s+1;o=h[s>>0]|0}else o=rn(e)|0;if((i|0)!=0&(o+-48|0)>>>0>9)if(!(k[t>>2]|0)){R=o;B=n}else{k[f>>2]=(k[f>>2]|0)+-1;R=o;B=n}else{R=o;B=n}break}default:{R=l;B=0}}if((R+-48|0)>>>0>9)if(!(k[t>>2]|0)){O=-2147483648;M=0}else{k[f>>2]=(k[f>>2]|0)+-1;O=-2147483648;M=0}else{D=R;H=0;while(1){u=D+-48+(H*10|0)|0;c=k[f>>2]|0;if(c>>>0<(k[t>>2]|0)>>>0){k[f>>2]=c+1;N=h[c>>0]|0}else N=rn(e)|0;if((N+-48|0)>>>0<10&(u|0)<214748364){D=N;H=u}else{r=u;P=N;break}}b=((r|0)<0)<<31>>31;if((P+-48|0)>>>0<10){d=r;w=b;L=P;while(1){_=Vt(d|0,w|0,10,0)|0;v=Y;E=Qu(L|0,((L|0)<0)<<31>>31|0,-48,-1)|0;m=Qu(E|0,Y|0,_|0,v|0)|0;p=Y;S=k[f>>2]|0;if(S>>>0<(k[t>>2]|0)>>>0){k[f>>2]=S+1;C=h[S>>0]|0}else C=rn(e)|0;if((C+-48|0)>>>0<10&((p|0)<21474836|(p|0)==21474836&m>>>0<2061584302)){d=m;w=p;L=C}else{F=m;A=p;I=C;break}}}else{F=r;A=b;I=P}if((I+-48|0)>>>0<10)do{g=k[f>>2]|0;if(g>>>0<(k[t>>2]|0)>>>0){k[f>>2]=g+1;x=h[g>>0]|0}else x=rn(e)|0}while((x+-48|0)>>>0<10);if(k[t>>2]|0)k[f>>2]=(k[f>>2]|0)+-1;y=(B|0)!=0;T=Su(0,0,F|0,A|0)|0;O=y?Y:A;M=y?T:F}Y=O;return M|0}function rl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0.0,h=0,d=0.0,w=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0;a=k[r+8>>2]|0;t=r+4|0;k[t>>2]=a;h=i+4|0;w=k[h>>2]|0;S=(w|0)==0;e:do{if(S){I=0;H=12}else{A=w+-1|0;P=(A&w|0)==0;if(P)l=A&a;else l=(a>>>0)%(w>>>0)|0;n=k[(k[i>>2]|0)+(l<<2)>>2]|0;if(!n){I=l;H=12}else{f=n;while(1){x=k[f>>2]|0;if(!x){I=l;H=12;break e}s=k[x+4>>2]|0;if(P)o=s&A;else o=(s>>>0)%(w>>>0)|0;if((o|0)!=(l|0)){I=l;H=12;break e}if((k[x+8>>2]|0)==(a|0)){D=0;B=x;break}else f=x}}}}while(0);if((H|0)==12){u=i+12|0;b=+(((k[u>>2]|0)+1|0)>>>0);d=+_[i+16>>2];do{if(S|b>+(w>>>0)*d){if(w>>>0>2)v=(w+-1&w|0)==0;else v=0;E=(v&1|w<<1)^1;m=~~+ue(+(b/d))>>>0;on(i,E>>>0<m>>>0?m:E);p=k[h>>2]|0;g=k[t>>2]|0;y=p+-1|0;if(!(y&p)){C=p;L=y&g;break}else{C=p;L=(g>>>0)%(p>>>0)|0;break}}else{C=w;L=I}}while(0);F=k[(k[i>>2]|0)+(L<<2)>>2]|0;if(!F){T=i+8|0;k[r>>2]=k[T>>2];k[T>>2]=r;k[(k[i>>2]|0)+(L<<2)>>2]=T;O=k[r>>2]|0;if(O){M=k[O+4>>2]|0;R=C+-1|0;if(!(R&C))N=M&R;else N=(M>>>0)%(C>>>0)|0;k[(k[i>>2]|0)+(N<<2)>>2]=r}}else{k[r>>2]=k[F>>2];k[F>>2]=r}k[u>>2]=(k[u>>2]|0)+1;D=1;B=r}k[e>>2]=B;c[e+4>>0]=D;return}function fl(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;var s=0,t=0,o=0,u=0.0,c=0,b=0,h=0,d=0,w=0,E=0,S=0,g=0,y=0,F=0.0,A=0,T=0.0,O=0,M=0,R=0,N=0.0,P=0,D=0,C=0.0,I=0.0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0,V=0,W=0,j=0,K=0;j=m;m=m+16|0;if((m|0)>=(p|0))he();z=j+4|0;V=j;t=Uo(2)|0;o=Uo(2)|0;h=bo(2,2)|0;H=0;e:while(1){K=H;H=H+1|0;A=k[f+(H<<2)>>2]|0;D=k[f+(K<<2)>>2]|0;u=+(A+1-D|0)*.05+.5;c=~~(+(D|0)+u);b=~~(+(A|0)-u)-c|0;d=b+1|0;w=bo(d,2)|0;if((b|0)>-1){Y=0;do{E=Y+c|0;if((Hs(a,+(k[e+(E<<2)>>2]|0),+(k[i+(E<<2)>>2]|0),z,V)|0)<0){B=w;W=10;break e}S=Y<<1;g=k[w>>2]|0;v[g+(S<<3)>>3]=+_[z>>2];v[g+((S|1)<<3)>>3]=+_[V>>2];Y=Y+1|0}while((Y|0)<(d|0))}if((za(w,h,t,o)|0)<0){B=w;W=10;break}y=k[h>>2]|0;F=+v[y+8>>3];v[l+(K*24|0)>>3]=F;T=-+v[y>>3];v[l+(K*24|0)+8>>3]=T;O=k[o>>2]|0;v[l+(K*24|0)+16>>3]=-(F*+v[O>>3]+ +v[O+8>>3]*T);jc(w)|0;if((H|0)>=4){W=7;break}}e:do{if((W|0)==7){jc(h)|0;fb(o)|0;fb(t)|0;U=0;while(1){M=(U+3|0)%4|0;R=l+(M*24|0)|0;N=+v[l+(U*24|0)+8>>3];P=l+(U*24|0)|0;C=+v[l+(M*24|0)+8>>3];I=+v[R>>3]*N-+v[P>>3]*C;if(+Q(+I)<.0001){s=-1;break e}L=l+(U*24|0)+16|0;x=l+(M*24|0)+16|0;v[n+(U<<4)>>3]=(C*+v[L>>3]-N*+v[x>>3])/I;v[n+(U<<4)+8>>3]=(+v[P>>3]*+v[x>>3]-+v[R>>3]*+v[L>>3])/I;U=U+1|0;if((U|0)>=4){s=0;break}}}else if((W|0)==10){jc(B)|0;jc(h)|0;fb(o)|0;fb(t)|0;s=-1}}while(0);m=j;return s|0}function al(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0,L=0,x=0,B=0,H=0,U=0,Y=0,z=0;F=i;do{if(!((F^e)&3)){L=(r|0)!=0;e:do{if(L&(F&3|0)!=0){l=r;t=i;b=e;while(1){x=c[t>>0]|0;c[b>>0]=x;if(!(x<<24>>24)){a=l;s=t;u=b;break e}A=l+-1|0;T=t+1|0;O=b+1|0;M=(A|0)!=0;if(M&(T&3|0)!=0){l=A;t=T;b=O}else{f=A;n=T;o=O;y=M;z=5;break}}}else{f=r;n=i;o=e;y=L;z=5}}while(0);if((z|0)==5)if(y){a=f;s=n;u=o}else{S=o;g=0;break}if(!(c[s>>0]|0)){S=u;g=a}else{e:do{if(a>>>0>3){d=a;H=u;Y=s;while(1){R=k[Y>>2]|0;if((R&-2139062144^-2139062144)&R+-16843009){h=d;B=H;U=Y;break e}k[H>>2]=R;N=d+-4|0;P=Y+4|0;D=H+4|0;if(N>>>0>3){d=N;H=D;Y=P}else{h=N;B=D;U=P;break}}}else{h=a;B=u;U=s}}while(0);w=U;v=B;m=h;z=11}}else{w=i;v=e;m=r;z=11}}while(0);e:do{if((z|0)==11)if(!m){S=v;g=0}else{_=w;E=v;p=m;while(1){C=c[_>>0]|0;c[E>>0]=C;if(!(C<<24>>24)){S=E;g=p;break e}p=p+-1|0;I=E+1|0;if(!p){S=I;g=0;break}else{_=_+1|0;E=I}}}}while(0);ut(S|0,0,g|0)|0;return S|0}function ll(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0;D=m;m=m+48|0;if((m|0)>=(p|0))he();N=D+16|0;R=D;O=D+32|0;a=e+28|0;l=k[a>>2]|0;k[O>>2]=l;c=e+20|0;_=(k[c>>2]|0)-l|0;k[O+4>>2]=_;k[O+8>>2]=i;k[O+12>>2]=r;n=e+60|0;s=e+44|0;S=O;F=2;M=_+r|0;while(1){if(!(k[597]|0)){k[N>>2]=k[n>>2];k[N+4>>2]=S;k[N+8>>2]=F;v=Pu(hr(146,N|0)|0)|0}else{ai(14,e|0);k[R>>2]=k[n>>2];k[R+4>>2]=S;k[R+8>>2]=F;t=Pu(hr(146,R|0)|0)|0;Vi(0);v=t}if((M|0)==(v|0)){P=6;break}if((v|0)<0){g=S;A=F;P=8;break}b=M-v|0;h=k[S+4>>2]|0;if(v>>>0>h>>>0){d=k[s>>2]|0;k[a>>2]=d;k[c>>2]=d;w=k[S+12>>2]|0;E=v-h|0;y=S+8|0;T=F+-1|0}else if((F|0)==2){k[a>>2]=(k[a>>2]|0)+v;w=h;E=v;y=S;T=2}else{w=h;E=v;y=S;T=F}k[y>>2]=(k[y>>2]|0)+E;k[y+4>>2]=w-E;S=y;F=T;M=b}if((P|0)==6){o=k[s>>2]|0;k[e+16>>2]=o+(k[e+48>>2]|0);u=o;k[a>>2]=u;k[c>>2]=u;f=r}else if((P|0)==8){k[e+16>>2]=0;k[a>>2]=0;k[c>>2]=0;k[e>>2]=k[e>>2]|32;if((A|0)==2)f=0;else f=r-(k[g+4>>2]|0)|0}m=D;return f|0}function nl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0.0,l=0,n=0.0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0;e:do{if(i>>>0<=20)do{switch(i|0){case 9:{y=(k[r>>2]|0)+(4-1)&~(4-1);T=k[y>>2]|0;k[r>>2]=y+4;k[e>>2]=T;break e;break}case 10:{s=(k[r>>2]|0)+(4-1)&~(4-1);t=k[s>>2]|0;k[r>>2]=s+4;o=e;k[o>>2]=t;k[o+4>>2]=((t|0)<0)<<31>>31;break e;break}case 11:{u=(k[r>>2]|0)+(4-1)&~(4-1);c=k[u>>2]|0;k[r>>2]=u+4;b=e;k[b>>2]=c;k[b+4>>2]=0;break e;break}case 12:{h=(k[r>>2]|0)+(8-1)&~(8-1);d=h;w=k[d>>2]|0;_=k[d+4>>2]|0;k[r>>2]=h+8;E=e;k[E>>2]=w;k[E+4>>2]=_;break e;break}case 13:{m=(k[r>>2]|0)+(4-1)&~(4-1);p=k[m>>2]|0;k[r>>2]=m+4;S=(p&65535)<<16>>16;g=e;k[g>>2]=S;k[g+4>>2]=((S|0)<0)<<31>>31;break e;break}case 14:{F=(k[r>>2]|0)+(4-1)&~(4-1);A=k[F>>2]|0;k[r>>2]=F+4;O=e;k[O>>2]=A&65535;k[O+4>>2]=0;break e;break}case 15:{M=(k[r>>2]|0)+(4-1)&~(4-1);R=k[M>>2]|0;k[r>>2]=M+4;N=(R&255)<<24>>24;P=e;k[P>>2]=N;k[P+4>>2]=((N|0)<0)<<31>>31;break e;break}case 16:{D=(k[r>>2]|0)+(4-1)&~(4-1);C=k[D>>2]|0;k[r>>2]=D+4;I=e;k[I>>2]=C&255;k[I+4>>2]=0;break e;break}case 17:{f=(k[r>>2]|0)+(8-1)&~(8-1);a=+v[f>>3];k[r>>2]=f+8;v[e>>3]=a;break e;break}case 18:{l=(k[r>>2]|0)+(8-1)&~(8-1);n=+v[l>>3];k[r>>2]=l+8;v[e>>3]=n;break e;break}default:break e}}while(0)}while(0);return}function sl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0;D=m;m=m+64|0;if((m|0)>=(p|0))he();T=D+56|0;A=D+48|0;N=D+40|0;R=D+32|0;M=D+24|0;O=D+16|0;F=D+8|0;y=D;e:do{if((e+-16|0)>>>0>48|(i|0)<1)r=0;else{o=Sr(32)|0;if(!o){Yl(3,5471,y);ji(1)}k[o>>2]=0;k[o+4>>2]=i;k[o+28>>2]=e;E=Sr(i<<2)|0;k[o+8>>2]=E;if(!E){Yl(3,5471,F);ji(1)}f=i<<4;a=Sr(f)|0;k[o+12>>2]=a;if(!a){Yl(3,5471,O);ji(1)}l=Sr(f)|0;n=o+20|0;k[n>>2]=l;if(!l){Yl(3,5471,M);ji(1)}s=i<<5;t=Sr(s)|0;k[o+16>>2]=t;if(!t){Yl(3,5471,R);ji(1)}u=Sr(s)|0;k[o+24>>2]=u;if(!u){Yl(3,5471,N);ji(1)}c=ce(e,e)|0;b=c*12|0;h=c<<2;if((i|0)>0){S=0;i:while(1){k[E+(S<<2)>>2]=0;d=S<<2;g=0;while(1){if((g|0)>=4)break;w=Sr(b)|0;_=g+d|0;k[a+(_<<2)>>2]=w;if(!w){P=18;break i}v=Sr(h)|0;k[(k[n>>2]|0)+(_<<2)>>2]=v;if(!v){P=20;break i}else g=g+1|0}S=S+1|0;if((S|0)>=(i|0)){r=o;break e}}if((P|0)==18){Yl(3,5471,A);ji(1)}else if((P|0)==20){Yl(3,5471,T);ji(1)}}else r=o}}while(0);m=D;return r|0}function tl(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0.0,s=0.0,t=0,o=0;n=+(i|0)/+(k[e>>2]|0);s=+(r|0)/+(k[e+4>>2]|0);k[f>>2]=i;k[f+4>>2]=r;t=0;do{v[f+8+(t<<3)>>3]=n*+v[e+8+(t<<3)>>3];v[f+40+(t<<3)>>3]=s*+v[e+40+(t<<3)>>3];v[f+72+(t<<3)>>3]=+v[e+72+(t<<3)>>3];t=t+1|0}while((t|0)!=4);l=k[e+176>>2]|0;switch(l|0){case 4:{v[f+104>>3]=+v[e+104>>3];v[f+112>>3]=+v[e+112>>3];v[f+120>>3]=+v[e+120>>3];v[f+128>>3]=+v[e+128>>3];v[f+136>>3]=n*+v[e+136>>3];v[f+144>>3]=s*+v[e+144>>3];v[f+152>>3]=n*+v[e+152>>3];v[f+160>>3]=s*+v[e+160>>3];v[f+168>>3]=+v[e+168>>3];o=8;break}case 3:{v[f+104>>3]=n*+v[e+104>>3];v[f+112>>3]=s*+v[e+112>>3];v[f+120>>3]=+v[e+120>>3];v[f+128>>3]=+v[e+128>>3];v[f+136>>3]=+v[e+136>>3]/(n*s);v[f+144>>3]=+v[e+144>>3]/(s*(n*n*s));o=8;break}case 2:{v[f+104>>3]=n*+v[e+104>>3];v[f+112>>3]=s*+v[e+112>>3];v[f+120>>3]=+v[e+120>>3];v[f+128>>3]=+v[e+128>>3]/(n*s);v[f+136>>3]=+v[e+136>>3]/(s*(n*n*s));o=8;break}case 1:{v[f+104>>3]=n*+v[e+104>>3];v[f+112>>3]=s*+v[e+112>>3];v[f+120>>3]=+v[e+120>>3];v[f+128>>3]=+v[e+128>>3]/(n*s);o=8;break}default:a=-1}if((o|0)==8){k[f+176>>2]=l;a=0}return a|0}function ol(e,i){e=e|0;i=i|0;var r=0.0,f=0.0,a=0.0,l=0.0,n=0.0,s=0.0,t=0.0,o=0.0,u=0.0,c=0.0,b=0.0,k=0.0,h=0.0,d=0.0,w=0.0,_=0.0,E=0.0,S=0.0,g=0.0,y=0.0,F=0.0,A=0.0,T=0.0,O=0,M=0.0,R=0,N=0,P=0,D=0,C=0,I=0;I=m;m=m+192|0;if((m|0)>=(p|0))he();D=I+96|0;C=I;a=+v[i>>3];h=+v[i+8>>3];T=+v[i+16>>3];M=a*a+h*h+T*T;if(M==0.0){r=0.0;f=0.0;b=1.0;k=0.0}else{l=+$(+M);r=l;f=T/l;b=a/l;k=h/l}n=+v[i+24>>3];s=+v[i+32>>3];t=+v[i+40>>3];o=+ie(+r);u=1.0-o;c=+re(+r);v[D>>3]=o+b*b*u;d=k*b*u;w=f*c;v[D+8>>3]=d-w;_=b*f*u;E=k*c;v[D+16>>3]=_+E;v[D+24>>3]=n;v[D+32>>3]=d+w;v[D+40>>3]=o+k*k*u;S=k*f*u;g=b*c;v[D+48>>3]=S-g;v[D+56>>3]=s;v[D+64>>3]=_-E;v[D+72>>3]=S+g;v[D+80>>3]=o+f*f*u;v[D+88>>3]=t;N=0;do{y=+v[e+(N<<5)>>3];F=+v[e+(N<<5)+8>>3];A=+v[e+(N<<5)+16>>3];R=0;do{v[C+(N<<5)+(R<<3)>>3]=y*+v[D+(R<<3)>>3]+F*+v[D+32+(R<<3)>>3]+A*+v[D+64+(R<<3)>>3];R=R+1|0}while((R|0)!=4);O=C+(N<<5)+24|0;v[O>>3]=+v[e+(N<<5)+24>>3]+ +v[O>>3];N=N+1|0}while((N|0)!=3);P=0;do{v[e+(P<<5)>>3]=+v[C+(P<<5)>>3];v[e+(P<<5)+8>>3]=+v[C+(P<<5)+8>>3];v[e+(P<<5)+16>>3]=+v[C+(P<<5)+16>>3];v[e+(P<<5)+24>>3]=+v[C+(P<<5)+24>>3];P=P+1|0}while((P|0)!=3);m=I;return 0}function ul(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,S=0,g=0,y=0;y=m;m=m+48|0;if((m|0)>=(p|0))he();g=y+24|0;S=y+16|0;E=y+8|0;_=y;f=y+32|0;a=y+28|0;k[f>>2]=e;k[a>>2]=i;do{if(!(yn(2044,f)|0))r=-1;else{h=_n(2044,f)|0;if(!(Fn(2064,a)|0))r=-1;else{d=h+8|0;rt(d|0,Sn(2064,a)|0,184)|0;w=k[d>>2]|0;l=h+204|0;n=k[h+12>>2]|0;s=h+208|0;if(!((w|0)==(k[l>>2]|0)?(n|0)==(k[s>>2]|0):0)){k[_>>2]=w;k[_+4>>2]=n;Yl(2,6151,_);tl(d,k[l>>2]|0,k[s>>2]|0,d)|0}lo(h);t=Sl(d,15)|0;o=h+192|0;k[o>>2]=t;if(!t){Yl(3,6198,E);r=-1;break}u=ln(t)|0;c=h+212|0;k[c>>2]=u;if(!u){Yl(3,6236,S);r=-1;break}Tl(u,2)|0;b=Yc(d)|0;k[h+224>>2]=b;if(!b){Yl(3,6273,g);r=-1;break}else{zo(k[c>>2]|0,k[h+216>>2]|0)|0;Qa(k[o>>2]|0,+v[h+232>>3],+v[h+240>>3],h+264|0);r=0;break}}}}while(0);m=y;return r|0}function cl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0;h=i&255;S=(r|0)!=0;e:do{if(S&(e&3|0)!=0){g=i&255;l=r;O=e;while(1){if((c[O>>0]|0)==g<<24>>24){a=l;T=O;C=6;break e}y=O+1|0;F=l+-1|0;d=(F|0)!=0;if(d&(y&3|0)!=0){l=F;O=y}else{f=F;b=d;A=y;C=5;break}}}else{f=r;b=S;A=e;C=5}}while(0);if((C|0)==5)if(b){a=f;T=A;C=6}else{u=0;R=A}e:do{if((C|0)==6){w=i&255;if((c[T>>0]|0)==w<<24>>24){u=a;R=T}else{_=ce(h,16843009)|0;i:do{if(a>>>0>3){s=a;P=T;while(1){v=k[P>>2]^_;if((v&-2139062144^-2139062144)&v+-16843009){t=s;D=P;break}E=P+4|0;m=s+-4|0;if(m>>>0>3){s=m;P=E}else{n=m;N=E;C=11;break i}}o=t;M=D}else{n=a;N=T;C=11}}while(0);if((C|0)==11)if(!n){u=0;R=N;break}else{o=n;M=N}while(1){if((c[M>>0]|0)==w<<24>>24){u=o;R=M;break e}p=M+1|0;o=o+-1|0;if(!o){u=0;R=p;break}else M=p}}}}while(0);return((u|0)!=0?R:0)|0}function bl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();f=s;k[f>>2]=e;do{if(!(yn(2044,f)|0))r=k[522]|0;else{a=(_n(2044,f)|0)+212|0;l=k[a>>2]|0;if((k[l+44>>2]|0)>(i|0)){n=(i|0)<0?8:l+48+(i<<8)|0;di(1,k[n>>2]|0,k[n+4>>2]|0,k[n+8>>2]|0,k[n+12>>2]|0,k[n+16>>2]|0,k[n+20>>2]|0,k[n+24>>2]|0,+ +v[n+32>>3],+ +v[n+40>>3],+ +v[n+48>>3],+ +v[n+56>>3],+ +v[n+64>>3],+ +v[n+72>>3],+ +v[n+80>>3],+ +v[n+88>>3],+ +v[n+96>>3],+ +v[n+104>>3],+ +v[n+112>>3],+ +v[n+120>>3],+ +v[n+128>>3],+ +v[n+136>>3],+ +v[n+144>>3],+ +v[n+152>>3],+ +v[n+160>>3],+ +v[n+168>>3],+ +v[n+176>>3],+ +v[n+184>>3],+ +v[n+192>>3],+ +v[n+200>>3],+ +v[n+208>>3],+ +v[n+216>>3],+ +v[n+224>>3],k[n+240>>2]|0)|0;r=0;break}else{r=k[523]|0;break}}}while(0);m=s;return r|0}function kl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0;w=m;m=m+64|0;if((m|0)>=(p|0))he();a=w+40|0;l=w+24|0;t=w+12|0;d=w;e:do{if((i-e|0)>3)if((c[e>>0]|0)==68){switch(c[e+1>>0]|0){case 84:case 116:break;default:{f=e;break e}}n=e+2|0;s=vr(n,i,r)|0;if((s|0)==(n|0)|(s|0)==(i|0))f=e;else if((c[s>>0]|0)==69){o=k[r+4>>2]|0;if((k[r>>2]|0)==(o|0))f=e;else{u=o+-24|0;et(d,u);b=Mo(d,0,12777)|0;k[t>>2]=k[b>>2];k[t+4>>2]=k[b+4>>2];k[t+8>>2]=k[b+8>>2];k[b>>2]=0;k[b+4>>2]=0;k[b+8>>2]=0;h=Vo(t,12593)|0;k[l>>2]=k[h>>2];k[l+4>>2]=k[h+4>>2];k[l+8>>2]=k[h+8>>2];k[h>>2]=0;k[h+4>>2]=0;k[h+8>>2]=0;Zt(a,l);qa(u,a);Wo(a);Nu(l);Nu(t);Nu(d);f=s+1|0}}else f=e}else f=e;else f=e}while(0);m=w;return f|0}function hl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0;S=m;m=m+112|0;if((m|0)>=(p|0))he();w=S+40|0;v=S+24|0;_=S+16|0;d=S;h=S+52|0;f=c[i>>0]|0;if(!(cl(16733,f<<24>>24,4)|0)){o=Ju()|0;k[o>>2]=22;r=0}else{b=Sr(1144)|0;if(!b)r=0;else{E=b;g=E+112|0;do{k[E>>2]=0;E=E+4|0}while((E|0)<(g|0));if(!(rc(i,43)|0))k[b>>2]=f<<24>>24==114?8:4;if(!(rc(i,101)|0))a=f;else{k[d>>2]=e;k[d+4>>2]=2;k[d+8>>2]=1;qe(221,d|0)|0;a=c[i>>0]|0}if(a<<24>>24==97){k[_>>2]=e;k[_+4>>2]=3;l=qe(221,_|0)|0;if(!(l&1024)){k[v>>2]=e;k[v+4>>2]=4;k[v+8>>2]=l|1024;qe(221,v|0)|0}n=k[b>>2]|128;k[b>>2]=n;t=n}else t=k[b>>2]|0;k[b+60>>2]=e;k[b+44>>2]=b+120;k[b+48>>2]=1024;s=b+75|0;c[s>>0]=-1;if(!(t&8)){k[w>>2]=e;k[w+4>>2]=21505;k[w+8>>2]=h;if(!($e(54,w|0)|0))c[s>>0]=10}k[b+32>>2]=14;k[b+36>>2]=4;k[b+40>>2]=5;k[b+12>>2]=2;if(!(k[598]|0))k[b+76>>2]=-1;Qi(2416);u=k[603]|0;k[b+56>>2]=u;if(u)k[u+52>>2]=b;k[603]=b;Yi(2416);r=b}}m=S;return r|0}function dl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0;A=m;m=m+32|0;if((m|0)>=(p|0))he();F=A+16|0;y=A+8|0;f=A+20|0;g=A;k[f>>2]=e;do{if(!(yn(2044,f)|0))r=-1;else{w=_n(2044,f)|0;if(!(c[i>>0]&1))s=i+1|0;else s=k[i+8>>2]|0;a=k[w+212>>2]|0;l=w+216|0;n=w+220|0;t=va(s,k[l>>2]|0)|0;k[n>>2]=t;if(!t){Yl(3,6401,y);dn(k[l>>2]|0)|0;Yl(3,6428,F);r=-1;break}switch(k[t+108>>2]|0){case 0:{du(a,0)|0;break}case 1:{du(a,2)|0;break}default:du(a,3)|0}o=w+248|0;u=w+252|0;b=k[u>>2]|0;h=b-(k[o>>2]|0)>>3;d=g;k[d>>2]=0;k[d+4>>2]=0;k[g>>2]=h;k[g+4>>2]=k[n>>2];if((b|0)==(k[w+256>>2]|0)){nn(o,g);r=h;break}else{_=g;v=k[_>>2]|0;E=k[_+4>>2]|0;S=b;k[S>>2]=v;k[S+4>>2]=E;k[u>>2]=(k[u>>2]|0)+8;r=v;break}}}while(0);m=A;return r|0}function wl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0;f=bo(8,8)|0;a=bo(8,1)|0;l=bo(8,1)|0;s=k[f>>2]|0;t=k[a>>2]|0;E=0;do{u=e+(E<<4)|0;h=E<<4;v[s+(h<<3)>>3]=+v[u>>3];_=e+(E<<4)+8|0;v[s+((h|1)<<3)>>3]=+v[_>>3];v[s+((h|2)<<3)>>3]=1.0;v[s+((h|3)<<3)>>3]=0.0;v[s+((h|4)<<3)>>3]=0.0;v[s+((h|5)<<3)>>3]=0.0;n=i+(E<<4)|0;v[s+((h|6)<<3)>>3]=-(+v[u>>3]*+v[n>>3]);v[s+((h|7)<<3)>>3]=-(+v[_>>3]*+v[n>>3]);v[s+((h|8)<<3)>>3]=0.0;v[s+((h|9)<<3)>>3]=0.0;v[s+((h|10)<<3)>>3]=0.0;v[s+((h|11)<<3)>>3]=+v[u>>3];v[s+((h|12)<<3)>>3]=+v[_>>3];v[s+((h|13)<<3)>>3]=1.0;o=i+(E<<4)+8|0;v[s+((h|14)<<3)>>3]=-(+v[u>>3]*+v[o>>3]);v[s+((h|15)<<3)>>3]=-(+v[_>>3]*+v[o>>3]);c=E<<1;v[t+(c<<3)>>3]=+v[n>>3];v[t+((c|1)<<3)>>3]=+v[o>>3];E=E+1|0}while((E|0)!=4);Pa(f)|0;Bl(l,f,a)|0;b=k[l>>2]|0;v[r>>3]=+v[b>>3];v[r+8>>3]=+v[b+8>>3];v[r+16>>3]=+v[b+16>>3];d=k[l>>2]|0;v[r+24>>3]=+v[d+24>>3];v[r+32>>3]=+v[d+32>>3];v[r+40>>3]=+v[d+40>>3];w=k[l>>2]|0;v[r+48>>3]=+v[w+48>>3];v[r+56>>3]=+v[w+56>>3];v[r+64>>3]=1.0;jc(f)|0;jc(a)|0;jc(l)|0;return}function _l(e,i,r,f){e=e|0;i=i|0;r=+r;f=f|0;var a=0.0,l=0,n=0,s=0,t=0,o=0,u=0.0,c=0.0,b=0,h=0,d=0,w=0,_=0,E=0,S=0;S=m;m=m+288|0;if((m|0)>=(p|0))he();_=S+200|0;E=S+104|0;h=S+264|0;w=S+8|0;d=S;l=k[i+16>>2]|0;o=(4-l|0)%4|0;v[_>>3]=+v[i+168+(o<<4)>>3];v[_+8>>3]=+v[i+168+(o<<4)+8>>3];n=(5-l|0)%4|0;v[_+16>>3]=+v[i+168+(n<<4)>>3];v[_+24>>3]=+v[i+168+(n<<4)+8>>3];s=(6-l|0)%4|0;v[_+32>>3]=+v[i+168+(s<<4)>>3];v[_+40>>3]=+v[i+168+(s<<4)+8>>3];t=(7-l|0)%4|0;v[_+48>>3]=+v[i+168+(t<<4)>>3];v[_+56>>3]=+v[i+168+(t<<4)+8>>3];u=r*-.5;v[E>>3]=u;c=r*.5;v[E+8>>3]=c;v[E+16>>3]=0.0;v[E+24>>3]=c;v[E+32>>3]=c;v[E+40>>3]=0.0;v[E+48>>3]=c;v[E+56>>3]=u;v[E+64>>3]=0.0;v[E+72>>3]=u;v[E+80>>3]=u;v[E+88>>3]=0.0;k[h>>2]=_;k[h+4>>2]=E;k[h+8>>2]=4;if((Cr(k[e>>2]|0,_,E,4,w)|0)<0)a=1.0e8;else{b=(Ka(k[e>>2]|0,h,w,f,d)|0)<0;a=b?1.0e8:+v[d>>3]}m=S;return+a}function vl(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0;e:do{if((e|0)==(k[i+8>>2]|0)){if((k[i+4>>2]|0)==(r|0)){h=i+28|0;if((k[h>>2]|0)!=1)k[h>>2]=f}}else{if((e|0)!=(k[i>>2]|0)){b=k[e+8>>2]|0;zb[k[(k[b>>2]|0)+24>>2]&3](b,i,r,f,a);break}if((k[i+16>>2]|0)!=(r|0)){l=i+20|0;if((k[l>>2]|0)!=(r|0)){k[i+32>>2]=f;n=i+44|0;if((k[n>>2]|0)==4)break;s=i+52|0;c[s>>0]=0;t=i+53|0;c[t>>0]=0;o=k[e+8>>2]|0;ek[k[(k[o>>2]|0)+20>>2]&3](o,i,r,r,1,a);if(!(c[t>>0]|0)){d=0;w=13}else if(!(c[s>>0]|0)){d=1;w=13}do{if((w|0)==13){k[l>>2]=r;u=i+40|0;k[u>>2]=(k[u>>2]|0)+1;if((k[i+36>>2]|0)==1)if((k[i+24>>2]|0)==2){c[i+54>>0]=1;if(d)break}else w=16;else w=16;if((w|0)==16)if(d)break;k[n>>2]=4;break e}}while(0);k[n>>2]=3;break}}if((f|0)==1)k[i+32>>2]=1}}while(0);return}function El(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0,D=0,C=0,I=0;if((k[r+76>>2]|0)>-1)o=Cb(r)|0;else o=0;O=i+-1|0;if((i|0)<2){N=r+74|0;P=c[N>>0]|0;c[N>>0]=P+255|P;if(o)Db(r);if(!O){c[e>>0]=0;f=e}else f=0}else{e:do{if(!O){C=e;I=18}else{u=r+4|0;b=r+8|0;l=O;D=e;while(1){d=k[u>>2]|0;w=d;_=(k[b>>2]|0)-w|0;v=cl(d,10,_)|0;E=(v|0)==0;m=E?_:1-w+v|0;p=m>>>0<l>>>0;S=p?m:l;rt(D|0,d|0,S|0)|0;g=k[u>>2]|0;y=g+S|0;k[u>>2]=y;F=D+S|0;A=l-S|0;if(!(E&p)){C=F;I=18;break e}if(y>>>0<(k[b>>2]|0)>>>0){t=S+1|0;k[u>>2]=g+t;s=t;M=h[y>>0]|0}else{T=ao(r)|0;if((T|0)<0){n=F;break}s=S+1|0;M=T}l=A+-1|0;R=D+s|0;c[F>>0]=M;if(!((l|0)!=0&(M&255|0)!=10)){C=R;I=18;break e}else D=R}if((n|0)==(e|0))a=0;else if(!(k[r>>2]&16))a=0;else{C=n;I=18}}}while(0);if((I|0)==18)if(!e)a=0;else{c[C>>0]=0;a=e}if(!o)f=a;else{Db(r);f=a}}return f|0}function ml(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0,N=0,P=0;P=m;m=m+16|0;if((m|0)>=(p|0))he();T=P;o=(f|0)==0?2680:f;u=k[o>>2]|0;e:do{if(!i)if(!u)a=0;else N=15;else{O=(e|0)==0?T:e;if(!r)a=-2;else{if(!u){S=c[i>>0]|0;g=S&255;if(S<<24>>24>-1){k[O>>2]=g;a=S<<24>>24!=0&1;break}b=g+-194|0;if(b>>>0>50){N=15;break}h=k[2432+(b<<2)>>2]|0;d=r+-1|0;if(!d)A=h;else{l=d;y=h;M=i+1|0;N=9}}else{l=r;y=u;M=i;N=9}i:do{if((N|0)==9){w=c[M>>0]|0;_=(w&255)>>>3;if((_+-16|_+(y>>26))>>>0>7){N=15;break e}else{n=l;v=w;F=y;R=M}while(1){R=R+1|0;F=(v&255)+-128|F<<6;n=n+-1|0;if((F|0)>=0){s=F;t=n;break}if(!n){A=F;break i}v=c[R>>0]|0;if((v&-64)<<24>>24!=-128){N=15;break e}}k[o>>2]=0;k[O>>2]=s;a=r-t|0;break e}}while(0);k[o>>2]=A;a=-2}}}while(0);if((N|0)==15){k[o>>2]=0;E=Ju()|0;k[E>>2]=84;a=-1}m=P;return a|0}function pl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0;a=k[r>>2]|0;u=k[i+4>>2]|0;m=k[a+4>>2]|0;y=u+-1|0;F=(y&u|0)==0;if(F)n=y&m;else n=(m>>>0)%(u>>>0)|0;l=(k[i>>2]|0)+(n<<2)|0;A=k[l>>2]|0;while(1){s=k[A>>2]|0;if((s|0)==(a|0)){T=A;break}else A=s}t=i+8|0;if((T|0)==(t|0))O=12;else{o=k[T+4>>2]|0;if(F)b=o&y;else b=(o>>>0)%(u>>>0)|0;if((b|0)==(n|0))f=a;else O=12}do{if((O|0)==12){h=k[a>>2]|0;if(h){d=k[h+4>>2]|0;if(F)w=d&y;else w=(d>>>0)%(u>>>0)|0;if((w|0)==(n|0)){f=a;break}}k[l>>2]=0;f=a}}while(0);_=k[f>>2]|0;v=_;if(!_)S=v;else{E=k[_+4>>2]|0;if(F)p=E&y;else p=(E>>>0)%(u>>>0)|0;if((p|0)==(n|0))S=v;else{k[(k[i>>2]|0)+(p<<2)>>2]=T;S=k[a>>2]|0}}k[T>>2]=S;k[f>>2]=0;g=i+12|0;k[g>>2]=(k[g>>2]|0)+-1;k[e>>2]=a;k[e+4>>2]=t;c[e+8>>0]=1;return}function Sl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0.0,c=0,b=0.0,h=0,d=0,w=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0,M=0,R=0;R=m;m=m+64|0;if((m|0)>=(p|0))he();g=R+24|0;y=R+16|0;O=R+8|0;M=R;r=Sr(208)|0;if(!r){Yl(3,5471,R+32|0);ji(1)}rt(r|0,e|0,184)|0;c=i<<1;h=(k[e>>2]|0)+c|0;k[r+192>>2]=h;d=(k[e+4>>2]|0)+c|0;k[r+196>>2]=d;k[r+200>>2]=i;k[r+204>>2]=i;f=ce(h<<3,d)|0;a=Sr(f)|0;k[r+184>>2]=a;if(!a){Yl(3,5471,R+40|0);ji(1)}l=Sr(f)|0;k[r+188>>2]=l;if(!l){Yl(3,5471,R+48|0);ji(1)}n=e+104|0;s=k[e+176>>2]|0;t=(h|0)>0?h<<1:0;if((d|0)>0){o=(h|0)>0;E=a;F=0;A=l;while(1){u=+(F-i|0);if(o){w=0;S=E;T=A;while(1){b=+(w-i|0);$a(n,b,u,O,M,s)|0;_[S>>2]=+v[O>>3];_[S+4>>2]=+v[M>>3];ga(n,b,u,g,y,s)|0;_[T>>2]=+v[g>>3];_[T+4>>2]=+v[y>>3];w=w+1|0;if((w|0)>=(h|0))break;else{S=S+8|0;T=T+8|0}}}A=A+(t<<2)|0;F=F+1|0;if((F|0)>=(d|0))break;else E=E+(t<<2)|0}}m=R;return r|0}function gl(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=+f;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0.0,c=0.0,b=0,h=0,d=0,w=0,_=0,E=0;E=m;m=m+192|0;if((m|0)>=(p|0))he();w=E+104|0;_=E+8|0;h=E+168|0;d=E;l=k[i+16>>2]|0;o=(4-l|0)%4|0;v[w>>3]=+v[i+168+(o<<4)>>3];v[w+8>>3]=+v[i+168+(o<<4)+8>>3];n=(5-l|0)%4|0;v[w+16>>3]=+v[i+168+(n<<4)>>3];v[w+24>>3]=+v[i+168+(n<<4)+8>>3];s=(6-l|0)%4|0;v[w+32>>3]=+v[i+168+(s<<4)>>3];v[w+40>>3]=+v[i+168+(s<<4)+8>>3];t=(7-l|0)%4|0;v[w+48>>3]=+v[i+168+(t<<4)>>3];v[w+56>>3]=+v[i+168+(t<<4)+8>>3];u=f*-.5;v[_>>3]=u;c=f*.5;v[_+8>>3]=c;v[_+16>>3]=0.0;v[_+24>>3]=c;v[_+32>>3]=c;v[_+40>>3]=0.0;v[_+48>>3]=c;v[_+56>>3]=u;v[_+64>>3]=0.0;v[_+72>>3]=u;v[_+80>>3]=u;v[_+88>>3]=0.0;k[h>>2]=w;k[h+4>>2]=_;k[h+8>>2]=4;b=(Ka(k[e>>2]|0,h,r,a,d)|0)<0;m=E;return+(b?1.0e8:+v[d>>3])}function yl(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0;S=m;m=m+64|0;if((m|0)>=(p|0))he();v=S;a=k[e>>2]|0;d=e+(k[a+-8>>2]|0)|0;w=k[a+-4>>2]|0;k[v>>2]=r;k[v+4>>2]=e;k[v+8>>2]=i;k[v+12>>2]=f;l=v+16|0;n=v+20|0;s=v+24|0;t=v+28|0;o=v+32|0;u=v+40|0;h=(w|0)==(r|0);E=l;g=E+36|0;do{k[E>>2]=0;E=E+4|0}while((E|0)<(g|0));b[l+36>>1]=0;c[l+38>>0]=0;e:do{if(h){k[v+48>>2]=1;ek[k[(k[r>>2]|0)+20>>2]&3](r,v,d,d,1,0);_=(k[s>>2]|0)==1?d:0}else{zb[k[(k[w>>2]|0)+24>>2]&3](w,v,d,1,0);switch(k[v+36>>2]|0){case 0:{_=(k[u>>2]|0)==1&(k[t>>2]|0)==1&(k[o>>2]|0)==1?k[n>>2]|0:0;break e;break}case 1:break;default:{_=0;break e}}if((k[s>>2]|0)!=1)if(!((k[u>>2]|0)==0&(k[t>>2]|0)==1&(k[o>>2]|0)==1)){_=0;break}_=k[l>>2]|0}}while(0);m=S;return _|0}function Fl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0.0,l=0,n=0.0,s=0,t=0.0,o=0.0,u=0.0,b=0.0,h=0.0,d=0,w=0,_=0.0,v=0.0,E=0.0,m=0,p=0,S=0,g=0.0,y=0.0,F=0.0;l=it(e,i)|0;if((l|0)<0)f=l;else{w=1;_=0.0;while(1){h=_+ +((ce(k[e+16+(w<<2)>>2]|0,w)|0)>>>0);w=w+1|0;if((w|0)==256){a=h;break}else _=h}n=+(ce(k[e+12>>2]|0,k[e+8>>2]|0)|0);d=0;v=0.0;m=0;g=0.0;F=0.0;while(1){s=k[e+16+(d<<2)>>2]|0;F=F+ +(s>>>0);if(F!=0.0){t=n-F;if(t==0.0){S=m;break}o=v+ +((ce(d,s)|0)>>>0);u=o/F-(a-o)/t;b=u*(F*t*u);if(b>g){E=o;p=d&255;y=b}else{E=o;p=m;y=g}}else{E=v;p=m;y=g}if((d&255)<<24>>24==-1){S=p;break}else{d=d+1|0;v=E;m=p;g=y}}c[r>>0]=S;f=0}return f|0}function Al(e){e=e|0;pi(624,14176);gi(632,14181,1,1,0);ni(640,13757,1,-128,127);ni(656,13762,1,-128,127);ni(648,13774,1,0,255);ni(664,13788,2,-32768,32767);ni(672,13794,2,0,65535);ni(680,14186,4,-2147483648,2147483647);ni(688,14190,4,0,-1);ni(696,14203,4,-2147483648,2147483647);ni(704,14208,4,0,-1);Bi(712,14251,4);Bi(720,14257,8);cr(360,12820);cr(392,10916);Oi(416,4,10949);hi(440,10962);ei(448,0,10978);_c(11008);wc(11045);kc(11084);bc(11115);dc(11155);hc(11184);ei(456,4,11222);ei(464,5,11252);_c(11291);wc(11323);kc(11356);bc(11389);dc(11423);hc(11456);ei(472,6,11490);ei(480,7,11521);ei(488,7,11553);return}function Tl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;b=m;m=m+16|0;if((m|0)>=(p|0))he();c=b;e:do{if(!e)r=-1;else{f=e+4|0;if((k[f>>2]|0)==(i|0))r=0;else{switch(i|0){case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 3:case 2:case 1:case 0:{u=0;break}case 14:case 13:case 12:case 5:{u=1;break}default:{k[c>>2]=i;Yl(3,3936,c);r=-1;break e}}k[f>>2]=i;s=uo(i)|0;k[e+8>>2]=s;t=e+7062408|0;o=k[t>>2]|0;if(o){Bu(o);a=Kn(k[e+36>>2]|0,k[e+40>>2]|0,k[f>>2]|0,0)|0;k[t>>2]=a}l=e+24|0;n=k[l>>2]|0;if(!u)switch(n|0){case 1:{k[l>>2]=4;r=0;break e;break}case 4:{k[l>>2]=3;r=0;break e;break}default:{r=0;break e}}else switch(n|0){case 0:{k[l>>2]=1;r=0;break e;break}case 3:{k[l>>2]=4;r=0;break e;break}default:{r=0;break e}}}}}while(0);m=b;return r|0}function Ol(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;switch(k[e+24>>2]|0){case 1:case 0:{n=k[e+44>>2]|0;if((n|0)>0){o=0;do{i=e+48+(o<<8)+4|0;if((k[i>>2]|0)>-1)if(+v[e+48+(o<<8)+32>>3]<.5){k[e+48+(o<<8)+8>>2]=-1;k[i>>2]=-1;k[e+48+(o<<8)+236>>2]=6}o=o+1|0}while((o|0)<(n|0))}break}case 2:{f=k[e+44>>2]|0;if((f|0)>0){u=0;do{r=e+48+(u<<8)+4|0;if((k[r>>2]|0)>-1)if(+v[e+48+(u<<8)+32>>3]<.5){k[e+48+(u<<8)+12>>2]=-1;k[r>>2]=-1;k[e+48+(u<<8)+236>>2]=6}u=u+1|0}while((u|0)<(f|0))}break}default:{s=k[e+44>>2]|0;if((s|0)>0){c=0;do{a=e+48+(c<<8)+8|0;if((k[a>>2]|0)>-1)if(+v[e+48+(c<<8)+40>>3]<.5){k[a>>2]=-1;t=0}else t=1;else t=1;l=e+48+(c<<8)+12|0;if((k[l>>2]|0)>-1)if(+v[e+48+(c<<8)+48>>3]<.5){k[l>>2]=-1;if(!t)k[e+48+(c<<8)+236>>2]=6}c=c+1|0}while((c|0)<(s|0))}}}return}function Ml(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0,g=0,y=0,F=0,A=0,T=0,O=0;b=i;e:do{if(!((b^e)&3)){if(!(b&3)){r=i;f=e}else{a=e;l=i;while(1){S=c[l>>0]|0;c[a>>0]=S;if(!(S<<24>>24)){n=a;break e}g=l+1|0;h=a+1|0;if(!(g&3)){r=g;f=h;break}else{a=h;l=g}}}d=k[r>>2]|0;if(!((d&-2139062144^-2139062144)&d+-16843009)){v=d;F=f;T=r;while(1){w=T+4|0;_=F+4|0;k[F>>2]=v;v=k[w>>2]|0;if((v&-2139062144^-2139062144)&v+-16843009){y=_;A=w;break}else{F=_;T=w}}}else{y=f;A=r}s=A;t=y;O=8}else{s=i;t=e;O=8}}while(0);if((O|0)==8){E=c[s>>0]|0;c[t>>0]=E;if(!(E<<24>>24))n=t;else{o=t;u=s;while(1){u=u+1|0;m=o+1|0;p=c[u>>0]|0;c[m>>0]=p;if(!(p<<24>>24)){n=m;break}else o=m}}}return n|0}function Rl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,k=0;e:do{if((e|0)==(i|0))f=e;else switch(c[e>>0]|0){case 88:{t=e+1|0;o=vr(t,i,r)|0;if((o|0)==(t|0)|(o|0)==(i|0)){f=e;break e}f=(c[o>>0]|0)==69?o+1|0:e;break e;break}case 74:{a=e+1|0;if((a|0)==(i|0)){f=e;break e}else u=a;while(1){if((c[u>>0]|0)==69){b=u;break}k=u;u=Rl(u,i,r)|0;if((u|0)==(k|0)){f=e;break e}}f=b+1|0;break e;break}case 76:{l=e+1|0;if((l|0)!=(i|0))if((c[l>>0]|0)==90){n=e+2|0;s=Tr(n,i,r)|0;if((s|0)==(n|0)|(s|0)==(i|0)){f=e;break e}return((c[s>>0]|0)==69?s+1|0:e)|0}f=Ar(e,i,r)|0;break e;break}default:{f=_r(e,i,r)|0;break e}}}while(0);return f|0}function Nl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0,A=0,T=0;A=m;m=m+224|0;if((m|0)>=(p|0))he();v=A+80|0;g=A+96|0;S=A;E=A+136|0;F=g;T=F+40|0;do{k[F>>2]=0;F=F+4|0}while((F|0)<(T|0));k[v>>2]=k[r>>2];if((Fr(0,i,v,S,g)|0)<0)a=-1;else{if((k[e+76>>2]|0)>-1)d=Cb(e)|0;else d=0;w=k[e>>2]|0;_=w&32;if((c[e+74>>0]|0)<1)k[e>>2]=w&-33;l=e+48|0;if(!(k[l>>2]|0)){n=e+44|0;s=k[n>>2]|0;k[n>>2]=E;t=e+28|0;k[t>>2]=E;o=e+20|0;k[o>>2]=E;k[l>>2]=80;u=e+16|0;k[u>>2]=E+80;b=Fr(e,i,v,S,g)|0;if(!s)y=b;else{Yb[k[e+36>>2]&15](e,0,0)|0;f=(k[o>>2]|0)==0?-1:b;k[n>>2]=s;k[l>>2]=0;k[u>>2]=0;k[t>>2]=0;k[o>>2]=0;y=f}}else y=Fr(e,i,v,S,g)|0;h=k[e>>2]|0;k[e>>2]=h|_;if(d)Db(e);a=(h&32|0)==0?y:-1}m=A;return a|0}function Pl(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=+a;l=l|0;n=n|0;var s=0,t=0,o=0.0,u=0.0,c=0,b=0.0,h=0.0,d=0,w=0,_=0,v=0.0,E=0,m=0,p=0.0,S=0.0,g=0.0,y=0,F=0,A=0,T=0,O=0;t=k[i+(f<<2)>>2]|0;w=k[i+(r<<2)>>2]|0;v=+(t-w|0);E=k[e+(r<<2)>>2]|0;m=k[e+(f<<2)>>2]|0;o=+(E-m|0);u=+((ce(m,w)|0)-(ce(E,t)|0)|0);c=r+1|0;if((c|0)<(f|0)){S=0.0;y=c;A=c;while(1){b=u+(v*+(k[e+(y<<2)>>2]|0)+o*+(k[i+(y<<2)>>2]|0));h=b*b;d=h>S;g=d?h:S;T=d?y:A;y=y+1|0;if((y|0)>=(f|0)){p=g;F=T;break}else{S=g;A=T}}}else{p=0.0;F=c}if(p/(v*v+o*o)>a)if((Pl(e,i,r,F,a,l,n)|0)<0)s=-1;else{_=k[n>>2]|0;if((_|0)>5)s=-1;else{k[l+(_<<2)>>2]=F;k[n>>2]=(k[n>>2]|0)+1;if((Pl(e,i,F,f,a,l,n)|0)<0)s=-1;else O=7}}else O=7;if((O|0)==7)s=0;return s|0}function Dl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0.0,l=0.0,n=0.0,s=0.0,t=0.0,o=0.0,u=0.0,c=0.0,b=0,h=0,d=0,w=0;w=m;m=m+16|0;if((m|0)>=(p|0))he();f=w;k[f>>2]=e;do{if(!(yn(2044,f)|0))r=k[522]|0;else{b=(_n(2044,f)|0)+212|0;h=k[b>>2]|0;if((k[h+44>>2]|0)>(i|0)){d=(i|0)<0?8:h+48+(i<<8)|0;a=+v[33];v[d+168>>3]=a;l=+v[34];v[d+176>>3]=l;n=+v[35];v[d+184>>3]=n;s=+v[36];v[d+192>>3]=s;t=+v[37];v[d+200>>3]=t;o=+v[38];v[d+208>>3]=o;u=+v[39];v[d+216>>3]=u;c=+v[40];v[d+224>>3]=c;v[d+56>>3]=(a+n+t+u)*.25;v[d+64>>3]=(l+s+o+c)*.25;r=0;break}else{r=k[523]|0;break}}}while(0);m=w;return r|0}function Cl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0;E=m;m=m+48|0;if((m|0)>=(p|0))he();v=E+16|0;_=E;w=E+32|0;k[w>>2]=i;a=w+4|0;l=e+48|0;s=k[l>>2]|0;k[a>>2]=r-((s|0)!=0&1);h=e+44|0;k[w+8>>2]=k[h>>2];k[w+12>>2]=s;if(!(k[597]|0)){k[v>>2]=k[e+60>>2];k[v+4>>2]=w;k[v+8>>2]=2;d=Pu(kr(145,v|0)|0)|0}else{ai(13,e|0);k[_>>2]=k[e+60>>2];k[_+4>>2]=w;k[_+8>>2]=2;n=Pu(kr(145,_|0)|0)|0;Vi(0);d=n}if((d|0)<1){k[e>>2]=k[e>>2]|d&48^16;k[e+8>>2]=0;k[e+4>>2]=0;f=d}else{t=k[a>>2]|0;if(d>>>0>t>>>0){o=k[h>>2]|0;u=e+4|0;k[u>>2]=o;b=o;k[e+8>>2]=b+(d-t);if(!(k[l>>2]|0))f=r;else{k[u>>2]=b+1;c[i+(r+-1)>>0]=c[b>>0]|0;f=r}}else f=d}m=E;return f|0}function Il(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;if((e|0)==(k[i+8>>2]|0))En(0,i,r,f,a);else{u=i+52|0;b=c[u>>0]|0;h=i+53|0;d=c[h>>0]|0;w=k[e+12>>2]|0;n=e+16+(w<<3)|0;c[u>>0]=0;c[h>>0]=0;Cs(e+16|0,i,r,f,a,l);e:do{if((w|0)>1){s=i+24|0;t=e+8|0;o=i+54|0;_=e+24|0;do{if(c[o>>0]|0)break e;if(!(c[u>>0]|0)){if(c[h>>0]|0)if(!(k[t>>2]&1))break e}else{if((k[s>>2]|0)==1)break e;if(!(k[t>>2]&2))break e}c[u>>0]=0;c[h>>0]=0;Cs(_,i,r,f,a,l);_=_+8|0}while(_>>>0<n>>>0)}}while(0);c[u>>0]=b;c[h>>0]=d}return}function Ll(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;c=m;m=m+16|0;if((m|0)>=(p|0))he();r=c;k[r>>2]=e;if(!(yn(2044,r)|0))i=-1;else{s=_n(2044,r)|0;t=s+196|0;o=k[t>>2]|0;if(o){oa(o);k[t>>2]=0;k[s+200>>2]=0}lo(s);dn(k[s+216>>2]|0)|0;An(2044,r)|0;f=s+248|0;a=s+252|0;l=k[f>>2]|0;if((k[a>>2]|0)!=(l|0)){n=l;u=0;do{Pc(k[n+(u<<3)+4>>2]|0)|0;u=u+1|0;n=k[f>>2]|0}while(u>>>0<(k[a>>2]|0)-n>>3>>>0)}Xt(f);Tb(f);Xt(s+248|0);Tb(s);i=0}m=c;return i|0}function xl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;_=m;m=m+16|0;if((m|0)>=(p|0))he();w=_;if((e|0)==(i|0))f=e;else{a=ya(e,i,r)|0;if((a|0)==(e|0))f=e;else{b=ta(a,i,r)|0;if((b|0)==(a|0))f=a;else{h=r+4|0;d=k[h>>2]|0;if(((d-(k[r>>2]|0)|0)/24|0)>>>0<2)f=e;else{et(w,d+-24|0);l=k[h>>2]|0;n=l+-24|0;t=l;do{s=t+-24|0;k[h>>2]=s;Wo(s);t=k[h>>2]|0}while((t|0)!=(n|0));o=c[w>>0]|0;u=(o&1)==0;zn(l+-48|0,u?w+1|0:k[w+8>>2]|0,u?(o&255)>>>1:k[w+4>>2]|0)|0;Nu(w);f=b}}}}m=_;return f|0}function Bl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0.0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,E=0,m=0;a=k[i+8>>2]|0;if((a|0)==(k[r+4>>2]|0)){u=k[e+4>>2]|0;if((u|0)==(k[i+4>>2]|0)){l=k[e+8>>2]|0;if((l|0)==(k[r+8>>2]|0)){m=(l|0)>0?l:0;if((u|0)>0){n=(l|0)>0;s=(a|0)>0;w=k[e>>2]|0;E=0;while(1){t=ce(a,E)|0;if(n){c=0;_=w;while(1){v[_>>3]=0.0;if(s){o=0.0;b=0;h=(k[i>>2]|0)+(t<<3)|0;d=(k[r>>2]|0)+(c<<3)|0;while(1){o=o+ +v[h>>3]*+v[d>>3];v[_>>3]=o;b=b+1|0;if((b|0)>=(a|0))break;else{h=h+8|0;d=d+(l<<3)|0}}}c=c+1|0;if((c|0)>=(l|0))break;else _=_+8|0}}E=E+1|0;if((E|0)>=(u|0)){f=0;break}else w=w+(m<<3)|0}}else f=0}else f=-1}else f=-1}else f=-1;return f|0}function Hl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0;f=k[e>>2]|0;a=e+4|0;t=k[a>>2]|0;w=i+4|0;if((t|0)!=(f|0)){r=t;do{_=k[w>>2]|0;v=_+-16|0;m=r;r=r+-16|0;k[v>>2]=0;E=_+-12|0;k[E>>2]=0;l=k[m+-4>>2]|0;k[_+-8>>2]=0;k[_+-4>>2]=l;k[v>>2]=k[r>>2];n=m+-12|0;k[E>>2]=k[n>>2];s=m+-8|0;k[_+-8>>2]=k[s>>2];k[s>>2]=0;k[n>>2]=0;k[r>>2]=0;k[w>>2]=(k[w>>2]|0)+-16}while((r|0)!=(f|0))}o=k[e>>2]|0;k[e>>2]=k[w>>2];k[w>>2]=o;u=i+8|0;c=k[a>>2]|0;k[a>>2]=k[u>>2];k[u>>2]=c;b=e+8|0;h=i+12|0;d=k[b>>2]|0;k[b>>2]=k[h>>2];k[h>>2]=d;k[i>>2]=k[w>>2];return}function Ul(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;_=m;m=m+32|0;if((m|0)>=(p|0))he();w=_;k[w>>2]=0;k[w+4>>2]=0;k[w+8>>2]=0;k[w+12>>2]=0;k[w+16>>2]=0;k[w+20>>2]=0;k[w+24>>2]=0;k[w+28>>2]=0;t=c[i>>0]|0;do{if(!(t<<24>>24))r=0;else{if(!(c[i+1>>0]|0)){a=e;while(1)if((c[a>>0]|0)==t<<24>>24)a=a+1|0;else{l=a;break}r=l-e|0;break}else{f=i;u=t}do{b=w+(((u&255)>>>5&255)<<2)|0;k[b>>2]=k[b>>2]|1<<(u&31);f=f+1|0;u=c[f>>0]|0}while(u<<24>>24!=0);o=c[e>>0]|0;e:do{if(!(o<<24>>24))n=e;else{s=e;h=o;while(1){if(!(k[w+(((h&255)>>>5&255)<<2)>>2]&1<<(h&31))){n=s;break e}d=s+1|0;h=c[d>>0]|0;if(!(h<<24>>24)){n=d;break}else s=d}}}while(0);r=n-e|0}}while(0);m=_;return r|0}function Yl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0;h=m;m=m+32|0;if((m|0)>=(p|0))he();b=h+16|0;u=h;k[b>>2]=0;if((i|0)!=0&(k[496]|0)<=(e|0))if(c[i>>0]|0){k[u>>2]=r;t=Rs(b,i,u)|0;if((t|0)>-1){o=k[497]|0;do{if(!o)Vc(k[b>>2]|0,k[659]|0)|0;else{if(!(k[498]|0)){Xb[o&15](k[b>>2]|0);break}f=Ci()|0;a=k[500]|0;if((f|0)==(k[499]|0)){if((a|0)>0){Xb[o&15](k[502]|0);k[500]=0;s=k[497]|0}else s=o;Xb[s&15](k[b>>2]|0);break}l=k[501]|0;if((a|0)<(l|0)){n=(k[502]|0)+a|0;if((t|0)<(-3-a+l|0)){Bc(n,k[b>>2]|0)|0;k[500]=(k[500]|0)+t;break}else{c[n>>0]=46;c[n+1>>0]=46;c[n+2>>0]=46;c[n+3>>0]=0;k[500]=k[501];break}}}}while(0);oa(k[b>>2]|0)}}m=h;return}function zl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0;f=k[e>>2]|0;a=e+4|0;t=k[a>>2]|0;w=i+4|0;if((t|0)!=(f|0)){r=t;do{_=k[w>>2]|0;v=_+-16|0;m=r;r=r+-16|0;k[v>>2]=0;E=_+-12|0;k[E>>2]=0;l=k[m+-4>>2]|0;k[_+-8>>2]=0;k[_+-4>>2]=l;k[v>>2]=k[r>>2];n=m+-12|0;k[E>>2]=k[n>>2];s=m+-8|0;k[_+-8>>2]=k[s>>2];k[s>>2]=0;k[n>>2]=0;k[r>>2]=0;k[w>>2]=(k[w>>2]|0)+-16}while((r|0)!=(f|0))}o=k[e>>2]|0;k[e>>2]=k[w>>2];k[w>>2]=o;u=i+8|0;c=k[a>>2]|0;k[a>>2]=k[u>>2];k[u>>2]=c;b=e+8|0;h=i+12|0;d=k[b>>2]|0;k[b>>2]=k[h>>2];k[h>>2]=d;k[i>>2]=k[w>>2];return}function Vl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;o=m;m=m+16|0;if((m|0)>=(p|0))he();a=o;k[a>>2]=e;do{if(!(yn(2044,a)|0))f=k[522]|0;else{s=_n(2044,a)|0;t=k[s+248>>2]|0;if((i|0)<0?1:(k[s+252>>2]|0)-t>>3>>>0<=i>>>0){f=k[524]|0;break}l=k[t+(i<<3)+4>>2]|0;if((r|0)<0?1:(k[l+4>>2]|0)<=(r|0)){f=k[523]|0;break}else{n=k[l>>2]|0;Qt(n+(r*320|0)+16|0,264);Xi(0,k[n+(r*320|0)+304>>2]|0,k[n+(r*320|0)>>2]|0,k[n+(r*320|0)+4>>2]|0,+ +v[n+(r*320|0)+8>>3])|0;f=0;break}}}while(0);m=o;return f|0}function Wl(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;a=i;l=c[e>>0]|0;if(!(l&1)){s=10;t=(l&255)>>>1;h=l}else{d=k[e>>2]|0;s=(d&-2)+-1|0;t=k[e+4>>2]|0;h=d&255}n=r-a|0;do{if((r|0)!=(i|0)){if((s-t|0)>>>0<n>>>0){gn(e,s,t+n-s|0,t,t,0);o=c[e>>0]|0}else o=h;if(!(o&1))u=e+1|0;else u=k[e+8>>2]|0;_=r+(t-a)|0;if((i|0)!=(r|0)){f=i;w=u+t|0;while(1){c[w>>0]=c[f>>0]|0;f=f+1|0;if((f|0)==(r|0))break;else w=w+1|0}}c[u+_>>0]=0;b=t+n|0;if(!(c[e>>0]&1)){c[e>>0]=b<<1;break}else{k[e+4>>2]=b;break}}}while(0);return}function jl(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0,S=0;n=ce(r,i)|0;if((k[f+76>>2]|0)>-1)h=Cb(f)|0;else h=0;d=f+74|0;w=c[d>>0]|0;c[d>>0]=w+255|w;s=f+4|0;t=k[s>>2]|0;o=(k[f+8>>2]|0)-t|0;if((o|0)>0){a=o>>>0<n>>>0?o:n;rt(e|0,t|0,a|0)|0;k[s>>2]=t+a;_=e+a|0;E=n-a|0}else{_=e;E=n}e:do{if(!E)S=13;else{u=f+32|0;v=_;m=E;while(1){if(ht(f)|0){p=m;break}b=Yb[k[u>>2]&15](f,v,m)|0;if((b+1|0)>>>0<2){p=m;break}if((m|0)==(b|0)){S=13;break e}else{v=v+b|0;m=m-b|0}}if(h)Db(f);l=((n-p|0)>>>0)/(i>>>0)|0}}while(0);if((S|0)==13)if(!h)l=r;else{Db(f);l=r}return l|0}function Kl(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0;n=c[e>>0]|0;o=(n&1)==0;if(o)d=(n&255)>>>1;else d=k[e+4>>2]|0;if(d>>>0<i>>>0)vc(e);if(o){s=10;t=n}else{w=k[e>>2]|0;s=(w&-2)+-1|0;t=w&255}if((s-d|0)>>>0<f>>>0)ql(e,s,d+f-s|0,d,i,0,f,r);else if(f){if(!(t&1))u=e+1|0;else u=k[e+8>>2]|0;if((d|0)==(i|0)){a=r;l=u+i|0}else{b=u+i|0;oo(u+(f+i)|0,b|0,d-i|0)|0;a=b>>>0<=r>>>0&(u+d|0)>>>0>r>>>0?r+f|0:r;l=b}oo(l|0,a|0,f|0)|0;h=d+f|0;if(!(c[e>>0]&1))c[e>>0]=h<<1;else k[e+4>>2]=h;c[u+h>>0]=0}return e|0}function Xl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0;r=bo(4,4)|0;f=k[r>>2]|0;a=k[r>>2]|0;b=k[r>>2]|0;h=k[r>>2]|0;w=0;do{d=w<<2;v[f+(d<<3)>>3]=+v[e+(w<<5)>>3];v[a+(1+d<<3)>>3]=+v[e+(w<<5)+8>>3];v[b+(2+d<<3)>>3]=+v[e+(w<<5)+16>>3];v[h+(3+d<<3)>>3]=+v[e+(w<<5)+24>>3];w=w+1|0}while((w|0)!=3);l=k[r>>2]|0;n=l+96|0;k[n>>2]=0;k[n+4>>2]=0;k[n+8>>2]=0;k[n+12>>2]=0;k[n+16>>2]=0;k[n+20>>2]=0;v[l+120>>3]=1.0;Pa(r)|0;s=k[r>>2]|0;t=k[r>>2]|0;o=k[r>>2]|0;u=k[r>>2]|0;_=0;do{c=_<<2;v[i+(_<<5)>>3]=+v[s+(c<<3)>>3];v[i+(_<<5)+8>>3]=+v[t+(1+c<<3)>>3];v[i+(_<<5)+16>>3]=+v[o+(2+c<<3)>>3];v[i+(_<<5)+24>>3]=+v[u+(3+c<<3)>>3];_=_+1|0}while((_|0)!=3);jc(r)|0;return 0}function Gl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,k=0;e:do{if((e|0)==(i|0))r=e;else{a=c[e>>0]|0;if(a<<24>>24!=95){if(((a<<24>>24)+-48|0)>>>0<10)o=e;else{r=e;break}while(1){k=o+1|0;if((k|0)==(i|0)){r=i;break e}if(((c[k>>0]|0)+-48|0)>>>0<10)o=k;else{r=k;break e}}}n=e+1|0;if((n|0)==(i|0))r=e;else{s=c[n>>0]|0;if(((s<<24>>24)+-48|0)>>>0<10){r=e+2|0;break}if(s<<24>>24==95){t=e+2|0;if((t|0)==(i|0))r=e;else{u=t;while(1){l=c[u>>0]|0;if(((l<<24>>24)+-48|0)>>>0>=10){f=l;b=u;break}u=u+1|0;if((u|0)==(i|0)){r=e;break e}}return(f<<24>>24==95?b+1|0:e)|0}}else r=e}}}while(0);return r|0}function ql(e,i,r,f,a,l,n,s){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;s=s|0;var t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;if((-18-i|0)>>>0<r>>>0)Ec(e);if(!(c[e>>0]&1))h=e+1|0;else h=k[e+8>>2]|0;if(i>>>0<2147483623){_=r+i|0;t=i<<1;o=_>>>0<t>>>0?t:_;u=o>>>0<11?11:o+16&-16}else u=-17;b=Sr(u)|0;if(a)rt(b|0,h|0,a|0)|0;if(n)rt(b+a|0,s|0,n|0)|0;d=f-l|0;if((d|0)!=(a|0))rt(b+(n+a)|0,h+(l+a)|0,d-a|0)|0;if((i|0)!=10)oa(h);k[e+8>>2]=b;k[e>>2]=u|1;w=d+n|0;k[e+4>>2]=w;c[b+w>>0]=0;return}function Jl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0;w=m;m=m+32|0;if((m|0)>=(p|0))he();h=w;n=c[i>>0]|0;if(!(n<<24>>24))d=3;else if(!(c[i+1>>0]|0))d=3;else{k[h>>2]=0;k[h+4>>2]=0;k[h+8>>2]=0;k[h+12>>2]=0;k[h+16>>2]=0;k[h+20>>2]=0;k[h+24>>2]=0;k[h+28>>2]=0;f=i;t=n;do{o=h+(((t&255)>>>5&255)<<2)|0;k[o>>2]=k[o>>2]|1<<(t&31);f=f+1|0;t=c[f>>0]|0}while(t<<24>>24!=0);s=c[e>>0]|0;e:do{if(!(s<<24>>24))a=e;else{l=e;u=s;while(1){if(k[h+(((u&255)>>>5&255)<<2)>>2]&1<<(u&31)){a=l;break e}b=l+1|0;u=c[b>>0]|0;if(!(u<<24>>24)){a=b;break}else l=b}}}while(0);r=a-e|0}if((d|0)==3)r=(Zl(e,n<<24>>24)|0)-e|0;m=w;return r|0}function Zl(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,m=0;n=i&255;e:do{if(!n)r=e+(Hn(e)|0)|0;else{if(!(e&3))f=e;else{_=i&255;a=e;while(1){v=c[a>>0]|0;if(v<<24>>24==0?1:v<<24>>24==_<<24>>24){r=a;break e}s=a+1|0;if(!(s&3)){f=s;break}else a=s}}t=ce(n,16843009)|0;o=k[f>>2]|0;i:do{if(!((o&-2139062144^-2139062144)&o+-16843009)){b=o;m=f;while(1){u=b^t;if((u&-2139062144^-2139062144)&u+-16843009){E=m;break i}h=m+4|0;b=k[h>>2]|0;if((b&-2139062144^-2139062144)&b+-16843009){E=h;break}else m=h}}else E=f}while(0);d=i&255;l=E;while(1){w=c[l>>0]|0;if(w<<24>>24==0?1:w<<24>>24==d<<24>>24){r=l;break}else l=l+1|0}}}while(0);return r|0}function Ql(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0,s=0,t=0,o=0,u=0,c=0,b=0;b=m;m=m+32|0;if((m|0)>=(p|0))he();o=b+20|0;u=b;n=Sr(a<<4)|0;k[o>>2]=n;if(!n){Yl(3,5471,b+8|0);ji(1)}s=Sr(a*24|0)|0;t=o+4|0;k[t>>2]=s;if(!s){Yl(3,5471,b+16|0);ji(1)}if((a|0)>0){c=0;do{v[n+(c<<4)>>3]=+v[r+(c<<4)>>3];v[n+(c<<4)+8>>3]=+v[r+(c<<4)+8>>3];v[s+(c*24|0)>>3]=+v[f+(c*24|0)>>3];v[s+(c*24|0)+8>>3]=+v[f+(c*24|0)+8>>3];v[s+(c*24|0)+16>>3]=+v[f+(c*24|0)+16>>3];c=c+1|0}while((c|0)<(a|0))}k[o+8>>2]=a;if((Sa(k[e>>2]|0,o,i,l,u)|0)<0)v[u>>3]=1.0e8;oa(k[o>>2]|0);oa(k[t>>2]|0);m=b;return+ +v[u>>3]}function $l(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0,s=0,t=0,o=0,u=0,c=0,b=0;b=m;m=m+32|0;if((m|0)>=(p|0))he();o=b+20|0;u=b;n=Sr(a<<4)|0;k[o>>2]=n;if(!n){Yl(3,5471,b+8|0);ji(1)}s=Sr(a*24|0)|0;t=o+4|0;k[t>>2]=s;if(!s){Yl(3,5471,b+16|0);ji(1)}if((a|0)>0){c=0;do{v[n+(c<<4)>>3]=+v[r+(c<<4)>>3];v[n+(c<<4)+8>>3]=+v[r+(c<<4)+8>>3];v[s+(c*24|0)>>3]=+v[f+(c*24|0)>>3];v[s+(c*24|0)+8>>3]=+v[f+(c*24|0)+8>>3];v[s+(c*24|0)+16>>3]=+v[f+(c*24|0)+16>>3];c=c+1|0}while((c|0)<(a|0))}k[o+8>>2]=a;if((Ka(k[e>>2]|0,o,i,l,u)|0)<0)v[u>>3]=1.0e8;oa(k[o>>2]|0);oa(k[t>>2]|0);m=b;return+ +v[u>>3]}function en(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0;n=r+16|0;s=k[n>>2]|0;if(!s)if(!(Jt(r)|0)){h=k[n>>2]|0;v=4}else f=0;else{h=s;v=4}e:do{if((v|0)==4){u=r+20|0;b=k[u>>2]|0;if((h-b|0)>>>0<i>>>0){f=Yb[k[r+36>>2]&15](r,e,i)|0;break}i:do{if((c[r+75>>0]|0)>-1){d=i;while(1){if(!d){a=i;l=e;o=b;_=0;break i}t=d+-1|0;if((c[e+t>>0]|0)==10){w=d;break}else d=t}if((Yb[k[r+36>>2]&15](r,e,w)|0)>>>0<w>>>0){f=w;break e}a=i-w|0;l=e+w|0;o=k[u>>2]|0;_=w}else{a=i;l=e;o=b;_=0}}while(0);rt(o|0,l|0,a|0)|0;k[u>>2]=(k[u>>2]|0)+a;f=_+a|0}}while(0);return f|0}function rn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,d=0,w=0,_=0,v=0,E=0,m=0,p=0;l=e+104|0;n=k[l>>2]|0;if(!n)p=3;else if((k[e+108>>2]|0)<(n|0))p=3;else p=4;if((p|0)==3){E=ao(e)|0;if((E|0)<0)p=4;else{m=k[l>>2]|0;r=e+8|0;if(!m){f=k[r>>2]|0;b=f;v=f;p=9}else{s=k[r>>2]|0;t=k[e+4>>2]|0;o=s;u=m-(k[e+108>>2]|0)+-1|0;if((o-t|0)>(u|0)){k[e+100>>2]=t+u;d=s}else{b=o;v=s;p=9}}if((p|0)==9){k[e+100>>2]=b;d=v}a=k[e+4>>2]|0;if(d){w=e+108|0;k[w>>2]=d+1-a+(k[w>>2]|0)}_=a+-1|0;if((h[_>>0]|0|0)==(E|0))i=E;else{c[_>>0]=E;i=E}}}if((p|0)==4){k[e+100>>2]=0;i=-1}return i|0}function fn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;u=m;m=m+16|0;if((m|0)>=(p|0))he();o=u+8|0;t=u;if(!e)r=-1;else{f=e+7062388|0;if((k[f>>2]|0)==(i|0))r=0;else{l=e+7062408|0;n=k[l>>2]|0;if(n){Bu(n);k[l>>2]=0}switch(i|0){case 3:case 2:case 1:{a=Kn(k[e+36>>2]|0,k[e+40>>2]|0,k[e+4>>2]|0,0)|0;k[l>>2]=a;s=i;break}case 4:{k[e+7062404>>2]=1;k[e+7062400>>2]=1;s=4;break}case 0:{s=0;break}default:{Yl(3,3985,t);s=0}}k[f>>2]=s;if((k[e>>2]|0)==1){k[o>>2]=k[760+(s<<2)>>2];Yl(3,4059,o);r=0}else r=0}}m=u;return r|0}function an(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0;S=m;m=m+240|0;if((m|0)>=(p|0))he();_=S;k[_>>2]=e;e:do{if((f|0)>1){o=0-i|0;s=f;t=e;w=e;E=1;while(1){b=t+o|0;h=s+-2|0;d=t+(0-((k[a+(h<<2)>>2]|0)+i))|0;if((ik[r&15](w,d)|0)>-1)if((ik[r&15](w,b)|0)>-1){v=E;break e}u=E+1|0;c=_+(E<<2)|0;if((ik[r&15](d,b)|0)>-1){k[c>>2]=d;l=d;n=s+-1|0}else{k[c>>2]=b;l=b;n=h}if((n|0)<=1){v=u;break e}s=n;t=l;w=k[_>>2]|0;E=u}}else v=1}while(0);Zn(i,_,v);m=S;return}function ln(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=Sr(7062432)|0;if(!i){Yl(3,5471,l);ji(1)}k[i>>2]=0;k[i+4834148>>2]=0;k[i+7062408>>2]=0;k[i+4>>2]=-1;k[i+8>>2]=0;k[i+12>>2]=1;k[i+16>>2]=100;k[i+20>>2]=0;k[i+24>>2]=0;k[i+28>>2]=2;v[i+7062416>>3]=.5;k[i+7062424>>2]=3;k[i+32>>2]=e;r=k[e>>2]|0;k[i+36>>2]=r;f=k[e+4>>2]|0;k[i+40>>2]=f;k[i+44>>2]=0;k[i+15408>>2]=0;k[i+4834152>>2]=0;k[i+4818296>>2]=0;a=Sr(ce(r<<1,f)|0)|0;k[i+4834144>>2]=a;if(!a){Yl(3,5471,l+8|0);ji(1)}else{k[i+7062384>>2]=0;Tl(i,2)|0;Ms(i,0)|0;k[i+7062388>>2]=-1;fn(i,0)|0;k[i+7062392>>2]=7;k[i+7062396>>2]=0;m=l;return i|0}return 0}function nn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0;w=m;m=m+32|0;if((m|0)>=(p|0))he();d=w;f=e+4|0;u=k[e>>2]|0;h=((k[f>>2]|0)-u>>3)+1|0;if(h>>>0>536870911)gc(e);a=u;l=(k[e+8>>2]|0)-a|0;if(l>>3>>>0<268435455){n=l>>2;r=n>>>0<h>>>0?h:n}else r=536870911;jt(d,r,(k[f>>2]|0)-a>>3,e+8|0);s=d+8|0;t=k[s>>2]|0;o=i;c=k[o+4>>2]|0;b=t;k[b>>2]=k[o>>2];k[b+4>>2]=c;k[s>>2]=t+8;as(e,d);It(d);m=w;return}function sn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;if((i|0)==1)s=2;else if(!(i+-1&i))s=i;else s=Lr(i)|0;n=k[e+4>>2]|0;if(s>>>0>n>>>0)Ja(e,s);else if(s>>>0<n>>>0){if(n>>>0>2)l=(n+-1&n|0)==0;else l=0;r=~~+ue(+(+((k[e+12>>2]|0)>>>0)/+_[e+16>>2]))>>>0;if(l)f=1<<32-(ke(r+-1|0)|0);else f=Lr(r)|0;a=s>>>0<f>>>0?f:s;if(a>>>0<n>>>0)Ja(e,a)}return}function tn(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0,v=0,E=0,S=0,g=0,y=0,F=0;g=m;m=m+128|0;if((m|0)>=(p|0))he();_=g+112|0;v=g;E=v;y=2684;F=E+112|0;do{k[E>>2]=k[y>>2];E=E+4|0;y=y+4|0}while((E|0)<(F|0));if((i+-1|0)>>>0>2147483646)if(!i){n=_;s=1;S=4}else{h=Ju()|0;k[h>>2]=75;l=-1}else{n=e;s=i;S=4}if((S|0)==4){d=-2-n|0;a=s>>>0>d>>>0?d:s;k[v+48>>2]=a;w=v+20|0;k[w>>2]=n;k[v+44>>2]=n;t=n+a|0;o=v+16|0;k[o>>2]=t;k[v+28>>2]=t;u=Nl(v,r,f)|0;if(!a)l=u;else{b=k[w>>2]|0;c[b+(((b|0)==(k[o>>2]|0))<<31>>31)>>0]=0;l=u}}m=g;return l|0}function on(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;if((i|0)==1)s=2;else if(!(i+-1&i))s=i;else s=Lr(i)|0;n=k[e+4>>2]|0;if(s>>>0>n>>>0)Za(e,s);else if(s>>>0<n>>>0){if(n>>>0>2)l=(n+-1&n|0)==0;else l=0;r=~~+ue(+(+((k[e+12>>2]|0)>>>0)/+_[e+16>>2]))>>>0;if(l)f=1<<32-(ke(r+-1|0)|0);else f=Lr(r)|0;a=s>>>0<f>>>0?f:s;if(a>>>0<n>>>0)Za(e,a)}return}function un(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;u=m;m=m+16|0;if((m|0)>=(p|0))he();o=u+8|0;t=u;f=u+12|0;k[f>>2]=e;if(!(yn(2044,f)|0))r=-1;else{s=_n(2044,f)|0;if(!(c[i>>0]&1))l=i+1|0;else l=k[i+8>>2]|0;a=s+216|0;n=Nn(k[a>>2]|0,l)|0;k[s+260>>2]=n;if((n|0)<0){k[t>>2]=l;Yl(3,6311,t);dn(k[a>>2]|0)|0;Yl(3,6357,o);r=-1}else r=n}m=u;return r|0}function cn(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;c=m;m=m+48|0;if((m|0)>=(p|0))he();o=c+24|0;u=c+12|0;t=c;k[o+4>>2]=6;k[o+8>>2]=1;k[o>>2]=e;k[u+4>>2]=f;k[u+8>>2]=1;k[u>>2]=i;k[t+4>>2]=f;k[t+8>>2]=6;k[t>>2]=r;n=jo(t)|0;do{if(!n)a=-1;else{s=Xo(n,t)|0;if(!s){jc(n)|0;a=-1;break}l=Xo(n,u)|0;if(!l){jc(n)|0;jc(s)|0;a=-1;break}if((Pa(s)|0)<0){jc(n)|0;jc(s)|0;jc(l)|0;a=-1;break}else{Bl(o,s,l)|0;jc(n)|0;jc(s)|0;jc(l)|0;a=0;break}}}while(0);m=c;return a|0}function bn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0;t=m;m=m+16|0;if((m|0)>=(p|0))he();f=t;k[f>>2]=e;do{if(!(yn(2044,f)|0))r=k[522]|0;else{n=_n(2044,f)|0;s=k[n+248>>2]|0;if((i|0)<0?1:(k[n+252>>2]|0)-s>>3>>>0<=i>>>0){r=k[524]|0;break}else{a=k[s+(i<<3)+4>>2]|0;l=k[n+212>>2]|0;+Go(k[n+224>>2]|0,l+48|0,k[l+44>>2]|0,a);Qt(a+8|0,264);r=0;break}}}while(0);m=t;return r|0}function kn(e,i,r,f){e=e|0;i=i|0;r=+r;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0,_=0;if(r<0.0|r>1.0)a=-1;else{h=Pt(e,i)|0;if((h|0)<0)a=h;else{t=~~(+(ce(k[e+12>>2]|0,k[e+8>>2]|0)|0)*r)>>>0;d=0;while(1){o=d&255;u=k[e+1040+(o<<2)>>2]|0;if(u>>>0<t>>>0)d=d+1<<24>>24;else{n=u;s=o;w=d;break}}if((n|0)==(t|0)){l=w;while(1){b=l+1<<24>>24;if((k[e+1040+((b&255)<<2)>>2]|0)==(t|0))l=b;else{_=b;break}}}else _=w;c[f>>0]=((_&255)+s|0)>>>1;a=0}}return a|0}function hn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0;t=m;m=m+16|0;if((m|0)>=(p|0))he();f=t;k[f>>2]=e;do{if(!(yn(2044,f)|0))r=k[522]|0;else{n=_n(2044,f)|0;s=k[n+248>>2]|0;if((i|0)<0?1:(k[n+252>>2]|0)-s>>3>>>0<=i>>>0){r=k[524]|0;break}else{a=k[s+(i<<3)+4>>2]|0;l=k[n+212>>2]|0;+qo(k[n+224>>2]|0,l+48|0,k[l+44>>2]|0,a);Qt(a+8|0,264);r=0;break}}}while(0);m=t;return r|0}function dn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;if(!e)i=-1;else{r=e+4|0;l=e+8|0;s=e+12|0;o=e+20|0;if((k[r>>2]|0)>0){u=0;do{if(k[(k[l>>2]|0)+(u<<2)>>2]|0)Co(e,u)|0;f=u<<2;oa(k[(k[s>>2]|0)+(f<<2)>>2]|0);oa(k[(k[o>>2]|0)+(f<<2)>>2]|0);a=1+f|0;oa(k[(k[s>>2]|0)+(a<<2)>>2]|0);oa(k[(k[o>>2]|0)+(a<<2)>>2]|0);n=2+f|0;oa(k[(k[s>>2]|0)+(n<<2)>>2]|0);oa(k[(k[o>>2]|0)+(n<<2)>>2]|0);t=3+f|0;oa(k[(k[s>>2]|0)+(t<<2)>>2]|0);oa(k[(k[o>>2]|0)+(t<<2)>>2]|0);u=u+1|0}while((u|0)<(k[r>>2]|0))}oa(e);i=0}return i|0}function wn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,k=0,h=0,d=0,w=0,_=0;i=e;while(1){s=i+1|0;if(!(ib(c[i>>0]|0)|0)){r=i;l=s;break}else i=s}t=c[r>>0]|0;switch(t<<24>>24|0){case 45:{d=1;_=5;break}case 43:{d=0;_=5;break}default:{f=r;o=t;w=0}}if((_|0)==5){f=l;o=c[l>>0]|0;w=d}u=(o<<24>>24)+-48|0;if(u>>>0<10){a=f;b=u;h=0;while(1){a=a+1|0;n=(h*10|0)-b|0;b=(c[a>>0]|0)+-48|0;if(b>>>0>=10){k=n;break}else h=n}}else k=0;return((w|0)!=0?k:0-k|0)|0}function _n(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;s=m;m=m+32|0;if((m|0)>=(p|0))he();n=s+8|0;f=s;a=yn(e,i)|0;if(!a){st(n,e,i);el(f,e,k[n>>2]|0);l=k[f>>2]|0;k[n>>2]=0;r=l}else r=a;m=s;return r+16|0}function vn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;f=c[e>>0]|0;l=(f&1)!=0;if(l){s=(k[e>>2]&-2)+-1|0;o=k[e+4>>2]|0}else{s=10;o=(f&255)>>>1}if((o|0)==(s|0)){gn(e,s,1,s,s,0);if(!(c[e>>0]&1))u=7;else u=8}else if(l)u=8;else u=7;if((u|0)==7){c[e>>0]=(o<<1)+2;r=e+1|0;t=o+1|0}else if((u|0)==8){a=k[e+8>>2]|0;n=o+1|0;k[e+4>>2]=n;r=a;t=n}c[r+o>>0]=i;c[r+t>>0]=0;return}function En(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0;c[i+53>>0]=1;do{if((k[i+4>>2]|0)==(f|0)){c[i+52>>0]=1;o=i+16|0;u=k[o>>2]|0;if(!u){k[o>>2]=r;k[i+24>>2]=a;k[i+36>>2]=1;if(!((a|0)==1?(k[i+48>>2]|0)==1:0))break;c[i+54>>0]=1;break}if((u|0)!=(r|0)){t=i+36|0;k[t>>2]=(k[t>>2]|0)+1;c[i+54>>0]=1;break}l=i+24|0;n=k[l>>2]|0;if((n|0)==2){k[l>>2]=a;s=a}else s=n;if((s|0)==1?(k[i+48>>2]|0)==1:0)c[i+54>>0]=1}}while(0);return}function mn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0;e:do{if((e|0)==(i|0))r=e;else{switch(c[e>>0]|0){case 104:{s=e+1|0;t=ys(s,i)|0;if((t|0)==(s|0)|(t|0)==(i|0)){r=e;break e}r=(c[t>>0]|0)==95?t+1|0:e;break e;break}case 118:break;default:{r=e;break e}}f=e+1|0;a=ys(f,i)|0;if((a|0)==(f|0)|(a|0)==(i|0))r=e;else if((c[a>>0]|0)==95){l=a+1|0;n=ys(l,i)|0;if((n|0)==(l|0)|(n|0)==(i|0))r=e;else return((c[n>>0]|0)==95?n+1|0:e)|0}else r=e}}while(0);return r|0}function pn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;b=m;m=m+16|0;if((m|0)>=(p|0))he();c=b+8|0;u=b+12|0;f=k[525]|0;k[525]=f+1;k[u>>2]=f;l=_n(2044,u)|0;k[l>>2]=f;k[l+204>>2]=e;k[l+208>>2]=i;n=ce(e<<2,i)|0;s=l+200|0;k[s>>2]=n;t=Sr(n)|0;o=l+196|0;k[o>>2]=t;a=pb()|0;k[l+216>>2]=a;if(!a)Yl(3,8284,b);ul(f,r)|0;k[c>>2]=k[s>>2];Yl(1,8321,c);ur(2,k[l>>2]|0,k[o>>2]|0,k[s>>2]|0,l+264|0,264)|0;m=b;return k[l>>2]|0}function Sn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;s=m;m=m+32|0;if((m|0)>=(p|0))he();n=s+8|0;f=s;a=Fn(e,i)|0;if(!a){eo(n,e,i);rl(f,e,k[n>>2]|0);l=k[f>>2]|0;k[n>>2]=0;r=l}else r=a;m=s;return r+16|0}function gn(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0,s=0,t=0,o=0,u=0,b=0;if((-17-i|0)>>>0<r>>>0)Ec(e);if(!(c[e>>0]&1))u=e+1|0;else u=k[e+8>>2]|0;if(i>>>0<2147483623){b=r+i|0;n=i<<1;s=b>>>0<n>>>0?n:b;t=s>>>0<11?11:s+16&-16}else t=-17;o=Sr(t)|0;if(a)rt(o|0,u|0,a|0)|0;if((f|0)!=(a|0))rt(o+(l+a)|0,u+a|0,f-a|0)|0;if((i|0)!=10)oa(u);k[e+8>>2]=o;k[e>>2]=t|1;return}function yn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;f=k[i>>2]|0;s=k[e+4>>2]|0;e:do{if(!s)o=0;else{u=s+-1|0;c=(u&s|0)==0;if(c)a=u&f;else a=(f>>>0)%(s>>>0)|0;l=k[(k[e>>2]|0)+(a<<2)>>2]|0;if(!l)o=0;else{r=l;while(1){b=k[r>>2]|0;if(!b){o=0;break e}n=k[b+4>>2]|0;if(c)t=n&u;else t=(n>>>0)%(s>>>0)|0;if((t|0)!=(a|0)){o=0;break e}if((k[b+8>>2]|0)==(f|0)){o=b;break}else r=b}}}}while(0);return o|0}function Fn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;f=k[i>>2]|0;s=k[e+4>>2]|0;e:do{if(!s)o=0;else{u=s+-1|0;c=(u&s|0)==0;if(c)a=u&f;else a=(f>>>0)%(s>>>0)|0;l=k[(k[e>>2]|0)+(a<<2)>>2]|0;if(!l)o=0;else{r=l;while(1){b=k[r>>2]|0;if(!b){o=0;break e}n=k[b+4>>2]|0;if(c)t=n&u;else t=(n>>>0)%(s>>>0)|0;if((t|0)!=(a|0)){o=0;break e}if((k[b+8>>2]|0)==(f|0)){o=b;break}else r=b}}}}while(0);return o|0}function An(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0;n=m;m=m+16|0;if((m|0)>=(p|0))he();f=n+4|0;a=n;l=yn(e,i)|0;if(!l)r=0;else{k[a>>2]=l;k[f>>2]=k[a>>2];Tn(e,f)|0;r=1}m=n;return r|0}function Tn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0;t=m;m=m+32|0;if((m|0)>=(p|0))he();r=t+16|0;f=t+4|0;a=t;l=k[i>>2]|0;n=k[l>>2]|0;k[a>>2]=l;k[r>>2]=k[a>>2];pl(f,e,r);s=k[f>>2]|0;k[f>>2]=0;if(s){if(c[f+8>>0]|0)Xt(s+264|0);Tb(s)}m=t;return n|0}function On(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;t=m;m=m+64|0;if((m|0)>=(p|0))he();n=t;if((e|0)==(i|0))a=1;else if(!i)a=0;else{l=yl(i,576,592,0)|0;if(!l)a=0;else{s=n;o=s+56|0;do{k[s>>2]=0;s=s+4|0}while((s|0)<(o|0));k[n>>2]=l;k[n+8>>2]=e;k[n+12>>2]=-1;k[n+48>>2]=1;rk[k[(k[l>>2]|0)+28>>2]&3](l,n,k[r>>2]|0,1);if((k[n+24>>2]|0)==1){k[r>>2]=k[n+16>>2];f=1}else f=0;a=f}}m=t;return a|0}function Mn(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0;do{if((e|0)==(k[i+8>>2]|0)){if((k[i+4>>2]|0)==(r|0)){s=i+28|0;if((k[s>>2]|0)!=1)k[s>>2]=f}}else if((e|0)==(k[i>>2]|0)){if((k[i+16>>2]|0)!=(r|0)){l=i+20|0;if((k[l>>2]|0)!=(r|0)){k[i+32>>2]=f;k[l>>2]=r;n=i+40|0;k[n>>2]=(k[n>>2]|0)+1;if((k[i+36>>2]|0)==1)if((k[i+24>>2]|0)==2)c[i+54>>0]=1;k[i+44>>2]=4;break}}if((f|0)==1)k[i+32>>2]=1}}while(0);return}function Rn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();a=s;k[a>>2]=e;do{if(!(yn(2044,a)|0))f=k[522]|0;else{l=_n(2044,a)|0;n=k[l+212>>2]|0;if((k[n+44>>2]|0)>(i|0)){+gl(k[l+224>>2]|0,(i|0)<0?8:n+48+(i<<8)|0,264,+(r|0),264);f=0;break}else{f=k[523]|0;break}}}while(0);m=s;return f|0}function Nn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0;b=m;m=m+32|0;if((m|0)>=(p|0))he();u=b+16|0;o=b+8|0;t=b;f=Jn(i,4854)|0;do{if(!f){k[t>>2]=i;Yl(3,4774,t);r=-1}else{Ac(f,0,2)|0;a=Mb(f)|0;Ac(f,0,0)|0;l=Sr(a+1|0)|0;if(!l){Yl(3,5471,o);dt(f)|0;r=-1;break}n=jl(l,a,1,f)|0;dt(f)|0;if(!n){k[u>>2]=i;Yl(3,4820,u);oa(l);r=-1;break}else{c[l+a>>0]=0;s=Fa(e,l)|0;oa(l);r=s;break}}}while(0);m=b;return r|0}function Pn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,k=0,h=0,d=0,w=0,_=0;if(i>>>0>0|(i|0)==0&e>>>0>4294967295){l=r;h=e;d=i;while(1){w=vo(h|0,d|0,10,0)|0;o=l+-1|0;c[o>>0]=w|48;u=ic(h|0,d|0,10,0)|0;if(d>>>0>9|(d|0)==9&h>>>0>4294967295){l=o;h=u;d=Y}else{t=o;k=u;break}}f=t;a=k}else{f=r;a=e}if(!a)n=f;else{s=f;_=a;while(1){b=s+-1|0;c[b>>0]=(_>>>0)%10|0|48;if(_>>>0<10){n=b;break}else{s=b;_=(_>>>0)/10|0}}}return n|0}function Dn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0;s=m;m=m+192|0;if((m|0)>=(p|0))he();n=s;$o(e,n);$o(e+4|0,n+4|0);l=0;do{io(e+8+(l<<5)|0,n+8+(l<<5)|0);io(e+8+(l<<5)+8|0,n+8+(l<<5)+8|0);io(e+8+(l<<5)+16|0,n+8+(l<<5)+16|0);io(e+8+(l<<5)+24|0,n+8+(l<<5)+24|0);l=l+1|0}while((l|0)!=3);f=e+176|0;a=0;do{io(e+104+(a<<3)|0,n+104+(a<<3)|0);a=a+1|0;r=k[f>>2]|0}while((a|0)<(k[2012+(r+-1<<3)>>2]|0));i=r;k[n+176>>2]=i;rt(e|0,n|0,184)|0;m=s;return}function Cn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();a=s;k[a>>2]=e;do{if(!(yn(2044,a)|0))f=k[522]|0;else{l=_n(2044,a)|0;n=k[l+212>>2]|0;if((k[n+44>>2]|0)>(i|0)){+_l(k[l+224>>2]|0,(i|0)<0?8:n+48+(i<<8)|0,+(r|0),264);f=0;break}else{f=k[523]|0;break}}}while(0);m=s;return f|0}function In(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;f=k[e+4>>2]|0;if((f|0)==(k[i+8>>2]|0)){l=k[e+8>>2]|0;if((l|0)==(k[i+4>>2]|0)){c=(l|0)>0?l:0;if((f|0)>0){a=(l|0)>0;t=k[e>>2]|0;u=0;while(1){if(a){n=0;s=(k[i>>2]|0)+(u<<3)|0;o=t;while(1){v[o>>3]=+v[s>>3];n=n+1|0;if((n|0)>=(l|0))break;else{s=s+(f<<3)|0;o=o+8|0}}}u=u+1|0;if((u|0)>=(f|0)){r=0;break}else t=t+(c<<3)|0}}else r=0}else r=-1}else r=-1;return r|0}function Ln(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;do{if(!e){if(!(k[660]|0))l=0;else l=Ln(k[660]|0)|0;Qi(2416);r=k[603]|0;if(!r)t=l;else{f=r;o=l;while(1){if((k[f+76>>2]|0)>-1)a=Cb(f)|0;else a=0;if((k[f+20>>2]|0)>>>0>(k[f+28>>2]|0)>>>0)u=js(f)|0|o;else u=o;if(a)Db(f);f=k[f+56>>2]|0;if(!f){t=u;break}else o=u}}Yi(2416);i=t}else{if((k[e+76>>2]|0)<=-1){i=js(e)|0;break}s=(Cb(e)|0)==0;n=js(e)|0;if(s)i=n;else{Db(e);i=n}}}while(0);return i|0}function xn(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0;e:do{if((e|0)==(k[i+8>>2]|0))xs(0,i,r,f);else{a=k[e+12>>2]|0;l=e+16+(a<<3)|0;bt(e+16|0,i,r,f);if((a|0)>1){n=i+54|0;s=e+24|0;do{bt(s,i,r,f);if(c[n>>0]|0)break e;s=s+8|0}while(s>>>0<l>>>0)}}}while(0);return}function Bn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;f=k[e>>2]|0;a=e+4|0;c=k[a>>2]|0;b=i+4|0;if((c|0)!=(f|0)){r=c;do{r=r+-24|0;Nt((k[b>>2]|0)+-24|0,r);k[b>>2]=(k[b>>2]|0)+-24}while((r|0)!=(f|0))}l=k[e>>2]|0;k[e>>2]=k[b>>2];k[b>>2]=l;n=i+8|0;s=k[a>>2]|0;k[a>>2]=k[n>>2];k[n>>2]=s;t=e+8|0;o=i+12|0;u=k[t>>2]|0;k[t>>2]=k[o>>2];k[o>>2]=u;k[i>>2]=k[b>>2];return}function Hn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0,w=0;s=e;e:do{if(!(s&3)){i=e;w=4}else{r=e;o=s;while(1){if(!(c[r>>0]|0)){l=o;break e}u=r+1|0;o=u;if(!(o&3)){i=u;w=4;break}else r=u}}}while(0);if((w|0)==4){h=i;while(1){b=k[h>>2]|0;if(!((b&-2139062144^-2139062144)&b+-16843009))h=h+4|0;else{a=b;d=h;break}}if(!((a&255)<<24>>24))f=d;else{n=d;while(1){t=n+1|0;if(!(c[t>>0]|0)){f=t;break}else n=t}}l=f}return l-s|0}function Un(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();a=s;k[a>>2]=e;do{if(!(yn(2044,a)|0))f=k[522]|0;else{l=(_n(2044,a)|0)+212|0;n=k[l>>2]|0;if((k[n+44>>2]|0)>(i|0)){k[((i|0)<0?8:n+48+(i<<8)|0)+16>>2]=r;f=0;break}else{f=k[523]|0;break}}}while(0);m=s;return f|0}function Yn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;f=c[e>>0]|0;if(!(f&1)){t=10;o=f}else{s=k[e>>2]|0;t=(s&-2)+-1|0;o=s&255}a=(o&1)==0;do{if(t>>>0<r>>>0){if(a)n=(o&255)>>>1;else n=k[e+4>>2]|0;ql(e,t,r-t|0,n,0,n,r,i)}else{if(a)l=e+1|0;else l=k[e+8>>2]|0;oo(l|0,i|0,r|0)|0;c[l+r>>0]=0;if(!(c[e>>0]&1)){c[e>>0]=r<<1;break}else{k[e+4>>2]=r;break}}}while(0);return}function zn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;f=c[e>>0]|0;if(!(f&1)){a=10;o=f}else{t=k[e>>2]|0;a=(t&-2)+-1|0;o=t&255}if(!(o&1))l=(o&255)>>>1;else l=k[e+4>>2]|0;if((a-l|0)>>>0<r>>>0)ql(e,a,r-a+l|0,l,l,0,r,i);else if(r){if(!(o&1))n=e+1|0;else n=k[e+8>>2]|0;rt(n+l|0,i|0,r|0)|0;s=l+r|0;if(!(c[e>>0]&1))c[e>>0]=s<<1;else k[e+4>>2]=s;c[n+s>>0]=0}return e|0}function Vn(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0,d=0,w=0;w=m;m=m+256|0;if((m|0)>=(p|0))he();d=w;do{if((r|0)>(f|0)&(a&73728|0)==0){c=r-f|0;ut(d|0,i|0,(c>>>0>256?256:c)|0)|0;b=k[e>>2]|0;h=(b&32|0)==0;if(c>>>0>255){s=r-f|0;n=c;o=b;u=h;while(1){if(u){en(d,256,e)|0;t=k[e>>2]|0}else t=o;n=n+-256|0;u=(t&32|0)==0;if(n>>>0<=255)break;else o=t}if(u)l=s&255;else break}else if(h)l=c;else break;en(d,l,e)|0}}while(0);m=w;return}function Wn(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0;t=m;m=m+208|0;if((m|0)>=(p|0))he();s=t+192|0;n=t;l=t+196|0;if(!(c[e>>0]&1))a=e+1|0;else a=k[e+8>>2]|0;if((Wa(a,1,n,t+184|0)|0)<0){if(!(c[e>>0]&1))r=e+1|0;else r=k[e+8>>2]|0;k[s>>2]=r;Yl(3,6092,s);i=-1}else{f=k[521]|0;k[521]=f+1;k[l>>2]=f;rt(Sn(2064,l)|0,n|0,184)|0;i=f}m=t;return i|0}function jn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0;n=m;m=m+16|0;if((m|0)>=(p|0))he();f=n;k[f>>2]=e;if(!(yn(2044,f)|0))r=-1;else{a=_n(2044,f)|0;if((i|0)<0)r=-1;else{l=k[a+248>>2]|0;if((k[a+252>>2]|0)-l>>3>>>0>i>>>0)r=k[(k[l+(i<<3)+4>>2]|0)+4>>2]|0;else r=-1}}m=n;return r|0}function Kn(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0;l=Sr(2080)|0;e:do{if(!l)a=l;else{k[l+2068>>2]=r;i:do{if(!f){switch(r|0){case 5:case 12:case 13:case 14:break;default:{s=4;break i}}k[l+2076>>2]=0}else s=4}while(0);do{if((s|0)==4){n=Sr(ce(i,e)|0)|0;k[l>>2]=n;if(!n){oa(l);a=0;break e}else{k[l+2076>>2]=1;break}}}while(0);k[l+2072>>2]=f;k[l+4>>2]=0;k[l+8>>2]=e;k[l+12>>2]=i;a=l}}while(0);return a|0}function Xn(e,i){e=e|0;i=+i;var r=0,f=0,a=0.0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();n=s;r=s+8|0;k[r>>2]=e;if(yn(2044,r)|0){f=_n(2044,r)|0;if(!(i<=0.0|i>=1.0)){a=i;l=k[f+212>>2]|0;if(l)if(!(Zo(l,a)|0)){v[n>>3]=a;Yl(1,6512,n)}}}m=s;return}function Gn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;s=m;m=m+16|0;if((m|0)>=(p|0))he();n=s;f=s+4|0;k[f>>2]=e;if(!(yn(2044,f)|0))r=0;else{a=(_n(2044,f)|0)+212|0;l=(i|0)!=0;Ms(k[a>>2]|0,l&1)|0;k[n>>2]=l?6615:6619;Yl(1,6624,n);r=i}m=s;return r|0}function qn(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0,h=0;h=m;m=m+16|0;a=h|0;l=i>>31|((i|0)<0?-1:0)<<1;n=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;s=f>>31|((f|0)<0?-1:0)<<1;t=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1;o=Su(l^e,n^i,l,n)|0;u=Y;Ea(o,u,Su(s^r,t^f,s,t)|0,Y,a)|0;c=Su(k[a>>2]^l,k[a+4>>2]^n,l,n)|0;b=Y;m=h;return(Y=b,c)|0}function Jn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0;o=m;m=m+32|0;if((m|0)>=(p|0))he();t=o+16|0;s=o;if(!(cl(16733,c[i>>0]|0,4)|0)){f=Ju()|0;k[f>>2]=22;r=0}else{a=mt(i)|0|32768;k[s>>2]=e;k[s+4>>2]=a;k[s+8>>2]=438;l=Pu(Ki(5,s|0)|0)|0;if((l|0)<0)r=0;else{n=hl(l,i)|0;if(!n){k[t>>2]=l;$i(6,t|0)|0;r=0}else r=n}}m=o;return r|0}function Zn(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;u=m;m=m+256|0;if((m|0)>=(p|0))he();o=u;e:do{if((r|0)>=2){a=i+(r<<2)|0;k[a>>2]=o;if(e){f=e;n=o;while(1){l=f>>>0>256?256:f;rt(n|0,k[i>>2]|0,l|0)|0;t=0;do{s=i+(t<<2)|0;t=t+1|0;rt(k[s>>2]|0,k[i+(t<<2)>>2]|0,l|0)|0;k[s>>2]=(k[s>>2]|0)+l}while((t|0)!=(r|0));if((f|0)==(l|0))break e;f=f-l|0;n=k[a>>2]|0}}}}while(0);m=u;return}function Qn(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;r=l+4|0;k[r>>2]=e;if(yn(2044,r)|0){f=_n(2044,r)|0;if(i>>>0<=255)if(!(cu(k[f+212>>2]|0,i)|0)){k[a>>2]=i;Yl(1,6568,a)}}m=l;return}function $n(e,i){e=+e;i=i|0;var r=0,f=0.0,a=0,l=0,n=0,s=0,t=0,o=0.0,u=0,c=0.0;if((i|0)>1023){f=e*8988465674311579538646525.0e283;s=i+-1023|0;if((s|0)>1023){t=i+-2046|0;r=(t|0)>1023?1023:t;c=f*8988465674311579538646525.0e283}else{r=s;c=f}}else if((i|0)<-1022){o=e*2.2250738585072014e-308;u=i+1022|0;if((u|0)<-1022){a=i+2044|0;r=(a|0)<-1022?-1022:a;c=o*2.2250738585072014e-308}else{r=u;c=o}}else{r=i;c=e}l=iu(r+1023|0,0,52)|0;n=Y;k[S>>2]=l;k[S+4>>2]=n;return+(c*+v[S>>3])}function es(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0;do{if(!e)f=1;else{if(i>>>0<128){c[e>>0]=i;f=1;break}if(i>>>0<2048){c[e>>0]=i>>>6|192;c[e+1>>0]=i&63|128;f=2;break}if(i>>>0<55296|(i&-8192|0)==57344){c[e>>0]=i>>>12|224;c[e+1>>0]=i>>>6&63|128;c[e+2>>0]=i&63|128;f=3;break}if((i+-65536|0)>>>0<1048576){c[e>>0]=i>>>18|240;c[e+1>>0]=i>>>12&63|128;c[e+2>>0]=i>>>6&63|128;c[e+3>>0]=i&63|128;f=4;break}else{a=Ju()|0;k[a>>2]=84;f=-1;break}}}while(0);return f|0}function is(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=l+4|0;a=l;k[i>>2]=e;if(!(yn(2044,i)|0)){m=l;return-1}else{r=(_n(2044,i)|0)+212|0;f=(eu(k[r>>2]|0,a)|0)==0;m=l;return(f?k[a>>2]|0:-1)|0}return 0}function rs(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;c[e>>0]=16;r=i;l=r;n=h[l>>0]|h[l+1>>0]<<8|h[l+2>>0]<<16|h[l+3>>0]<<24;s=r+4|0;t=h[s>>0]|h[s+1>>0]<<8|h[s+2>>0]<<16|h[s+3>>0]<<24;o=e+1|0;u=o;c[u>>0]=n;c[u+1>>0]=n>>8;c[u+2>>0]=n>>16;c[u+3>>0]=n>>24;f=o+4|0;c[f>>0]=t;c[f+1>>0]=t>>8;c[f+2>>0]=t>>16;c[f+3>>0]=t>>24;c[e+9>>0]=0;a=e+12|0;k[a>>2]=0;k[a+4>>2]=0;k[a+8>>2]=0;return}function fs(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=l+4|0;a=l;k[i>>2]=e;if(!(yn(2044,i)|0)){m=l;return-1}else{r=(_n(2044,i)|0)+212|0;f=(Tu(k[r>>2]|0,a)|0)==0;m=l;return(f?k[a>>2]|0:-1)|0}return 0}function as(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0,b=0;r=k[e>>2]|0;f=e+4|0;c=i+4|0;b=(k[f>>2]|0)-r|0;a=(k[c>>2]|0)+(0-(b>>3)<<3)|0;k[c>>2]=a;rt(a|0,r|0,b|0)|0;l=k[e>>2]|0;k[e>>2]=k[c>>2];k[c>>2]=l;n=i+8|0;s=k[f>>2]|0;k[f>>2]=k[n>>2];k[n>>2]=s;t=e+8|0;o=i+12|0;u=k[t>>2]|0;k[t>>2]=k[o>>2];k[o>>2]=u;k[i>>2]=k[c>>2];return}function ls(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;r=l+4|0;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+212|0;if(!(du(k[f>>2]|0,i)|0)){k[a>>2]=i;Yl(1,6477,a)}}m=l;return}function ns(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=l+4|0;a=l;k[i>>2]=e;if(!(yn(2044,i)|0)){m=l;return-1}else{r=(_n(2044,i)|0)+212|0;f=(bu(k[r>>2]|0,a)|0)==0;m=l;return(f?k[a>>2]|0:-1)|0}return 0}function ss(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;f=k[e+4>>2]|0;if((f|0)==(k[i+4>>2]|0)){o=k[e+8>>2]|0;if((o|0)==(k[i+8>>2]|0))if((f|0)>0){a=(o|0)>0;c=0;do{l=ce(o,c)|0;if(a){n=k[i>>2]|0;s=k[e>>2]|0;u=0;do{t=l+u|0;v[s+(t<<3)>>3]=+v[n+(t<<3)>>3];u=u+1|0}while((u|0)<(o|0))}c=c+1|0}while((c|0)<(f|0));r=0}else r=0;else r=-1}else r=-1;return r|0}function ts(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;r=l+4|0;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+212|0;if(!(fn(k[f>>2]|0,i)|0)){k[a>>2]=i;Yl(1,6589,a)}}m=l;return}function os(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;n=m;m=m+16|0;if((m|0)>=(p|0))he();i=n+8|0;l=n;k[i>>2]=e;if(yn(2044,i)|0){r=(_n(2044,i)|0)+212|0;f=k[r>>2]|0;if(f){a=(hu(f,l)|0)==0;m=n;return+(a?+v[l>>3]:-1.0)}}m=n;return-1.0}function us(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;r=l+4|0;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+212|0;if(!(vu(k[f>>2]|0,i)|0)){k[a>>2]=i;Yl(1,6646,a)}}m=l;return}function cs(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;r=l+4|0;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+212|0;if(!(Eu(k[f>>2]|0,i)|0)){k[a>>2]=i;Yl(1,6543,a)}}m=l;return}function bs(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=l+4|0;a=l;k[i>>2]=e;if(!(yn(2044,i)|0)){m=l;return-1}else{r=(_n(2044,i)|0)+212|0;f=(nu(k[r>>2]|0,a)|0)==0;m=l;return(f?k[a>>2]|0:-1)|0}return 0}function ks(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0,b=0,h=0,d=0;k[r>>2]=0;if((e|0)==(i|0))l=e;else{n=c[e>>0]|0;if(n<<24>>24==114){k[r>>2]=4;o=e+1|0;f=o;u=c[o>>0]|0;h=4}else{f=e;u=n;h=0}if(u<<24>>24==86){b=h|2;k[r>>2]=b;d=f+1|0;a=d;s=c[d>>0]|0;t=b}else{a=f;s=u;t=h}if(s<<24>>24==75){k[r>>2]=t|1;l=a+1|0}else l=a}return l|0}function hs(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();i=l+4|0;a=l;k[i>>2]=e;if(!(yn(2044,i)|0)){m=l;return-1}else{r=(_n(2044,i)|0)+212|0;f=(yu(k[r>>2]|0,a)|0)==0;m=l;return(f?k[a>>2]|0:-1)|0}return 0}function ds(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0;f=0;while(1){if((h[14566+f>>0]|0)==(e|0)){a=f;o=2;break}f=f+1|0;if((f|0)==87){l=87;s=14654;o=5;break}}if((o|0)==2)if(!a)n=14654;else{l=a;s=14654;o=5}if((o|0)==5)while(1){o=0;t=s;while(1){r=t+1|0;if(!(c[t>>0]|0)){i=r;break}else t=r}l=l+-1|0;if(!l){n=i;break}else{s=i;o=5}}return n|0}function ws(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;s=k[r>>2]|0;a=e;c=i-e>>2;e:while(1){o=c;while(1){if(!o){l=a;break e}t=(o|0)/2|0;if((k[a+(t<<2)>>2]|0)>>>0<s>>>0){n=t;u=o;break}else o=t}a=a+(n+1<<2)|0;c=u+-1-n|0}return l|0}function _s(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;k[e>>2]=0;k[e+4>>2]=0;k[e+8>>2]=0;a=Hn(i)|0;l=c[r>>0]|0;f=(l&1)==0?(l&255)>>>1:k[r+4>>2]|0;Gs(e,i,a,f+a|0);zn(e,(c[r>>0]&1)==0?r+1|0:k[r+8>>2]|0,f)|0;return}function vs(e,i){e=+e;i=i|0;var r=0.0,f=0.0,a=0,l=0,n=0,s=0,t=0.0,o=0;v[S>>3]=e;a=k[S>>2]|0;l=k[S+4>>2]|0;n=au(a|0,l|0,52)|0;s=n&2047;switch(s|0){case 0:{if(e!=0.0){t=+vs(e*18446744073709551616.0,i);f=t;o=(k[i>>2]|0)+-64|0}else{f=e;o=0}k[i>>2]=o;r=f;break}case 2047:{r=e;break}default:{k[i>>2]=s+-1022;k[S>>2]=a;k[S+4>>2]=l&-2146435073|1071644672;r=+v[S>>3]}}return+r}function Es(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0;if((r|0)==1)a=i-(k[e+8>>2]|0)+(k[e+4>>2]|0)|0;else a=i;n=e+20|0;l=e+28|0;if((k[n>>2]|0)>>>0>(k[l>>2]|0)>>>0){Yb[k[e+36>>2]&15](e,0,0)|0;if(!(k[n>>2]|0))f=-1;else s=5}else s=5;if((s|0)==5){k[e+16>>2]=0;k[l>>2]=0;k[n>>2]=0;if((Yb[k[e+40>>2]&15](e,a,r)|0)<0)f=-1;else{k[e+8>>2]=0;k[e+4>>2]=0;k[e>>2]=k[e>>2]&-17;f=0}}return f|0}function ms(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0;k[e>>2]=0;k[e+4>>2]=0;k[e+8>>2]=0;a=c[i>>0]|0;l=(a&1)==0;n=l?(a&255)>>>1:k[i+4>>2]|0;f=Hn(r)|0;Gs(e,l?i+1|0:k[i+8>>2]|0,n,n+f|0);zn(e,r,f)|0;return}function ps(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0.0,l=0.0,n=0.0,s=0.0,t=0.0;a=+v[r>>3];n=+v[r+8>>3];t=+v[r+16>>3];l=+v[i+88>>3]+(a*+v[i+64>>3]+n*+v[i+72>>3]+t*+v[i+80>>3]);if(l==0.0)f=-1;else{s=+v[i+56>>3]+(a*+v[i+32>>3]+n*+v[i+40>>3]+t*+v[i+48>>3]);v[e>>3]=(+v[i+24>>3]+(a*+v[i>>3]+n*+v[i+8>>3]+t*+v[i+16>>3]))/l;v[e+8>>3]=s/l;f=0}return f|0}function Ss(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;k[e>>2]=0;f=e+4|0;k[f>>2]=0;a=k[r>>2]|0;k[e+8>>2]=0;k[e+12>>2]=a;l=po(a,24)|0;k[f>>2]=l;k[e>>2]=l;k[e+8>>2]=l+24;Lt(l,i);Lt(l+12|0,i+12|0);k[f>>2]=(k[f>>2]|0)+24;return}function gs(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();r=l+4|0;a=l;k[r>>2]=e;if(!(yn(2044,r)|0))i=-1;else{f=(_n(2044,r)|0)+212|0;fu(k[f>>2]|0,a)|0;i=k[a>>2]|0}m=l;return i|0}function ys(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0;e:do{if((e|0)==(i|0))f=e;else{a=(c[e>>0]|0)==110?e+1|0:e;if((a|0)==(i|0))f=e;else{l=c[a>>0]|0;if(l<<24>>24==48){f=a+1|0;break}if((l+-49&255)<9){n=a;while(1){r=n+1|0;if((r|0)==(i|0)){f=i;break e}if(((c[r>>0]|0)+-48|0)>>>0<10)n=r;else{f=r;break}}}else f=e}}}while(0);return f|0}function Fs(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e+4>>2]|0;r=e+8|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-16|0;k[r>>2]=a;Ds(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;if(n)Po(k[k[e+16>>2]>>2]|0,n,(k[e+12>>2]|0)-n|0);return}function As(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e>>2]|0;if(i){r=e+4|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-16|0;k[r>>2]=a;Ds(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;Po(k[e+12>>2]|0,n,(k[e+8>>2]|0)-n|0)}return}function Ts(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();r=l+4|0;a=l;k[r>>2]=e;if(!(yn(2044,r)|0))i=0;else{f=(_n(2044,r)|0)+212|0;wu(k[f>>2]|0,a)|0;i=k[a>>2]|0}m=l;return i|0}function Os(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;if(!e){s=Sr(i)|0;return s|0}if(i>>>0>4294967231){l=Ju()|0;k[l>>2]=12;s=0;return s|0}n=Da(e+-8|0,i>>>0<11?16:i+11&-8)|0;if(n){s=n+8|0;return s|0}r=Sr(i)|0;if(!r){s=0;return s|0}f=k[e+-4>>2]|0;a=(f&-8)-((f&3|0)==0?8:4)|0;rt(r|0,e|0,(a>>>0<i>>>0?a:i)|0)|0;oa(e);s=r;return s|0}function Ms(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0;n=m;m=m+16|0;if((m|0)>=(p|0))he();l=n;do{if(!e)r=-1;else if((k[e>>2]|0)==(i|0))r=0;else{k[e>>2]=i;if(!i){a=e+4834148|0;oa(k[a>>2]|0);k[a>>2]=0;r=0;break}f=Sr(ce(k[e+40>>2]|0,k[e+36>>2]|0)|0)|0;k[e+4834148>>2]=f;if(!f){Yl(3,5471,l);ji(1)}else r=0}}while(0);m=n;return r|0}function Rs(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;u=m;m=m+16|0;if((m|0)>=(p|0))he();o=u;a=Sr(240)|0;do{if(!a)f=-1;else{k[o>>2]=k[r>>2];n=tn(a,240,i,o)|0;if(n>>>0<240){s=Os(a,n+1|0)|0;k[e>>2]=(s|0)!=0?s:a;f=n;break}oa(a);if((n|0)<0)f=-1;else{t=n+1|0;l=Sr(t)|0;k[e>>2]=l;if(!l)f=-1;else f=tn(l,t,i,r)|0}}}while(0);m=u;return f|0}function Ns(e){e=e|0;var i=0,r=0,f=0;r=Sr(136)|0;if(!r)i=0;else{f=0;do{v[r+(f<<5)>>3]=+v[e+(f<<5)>>3];v[r+(f<<5)+8>>3]=+v[e+(f<<5)+8>>3];v[r+(f<<5)+16>>3]=+v[e+(f<<5)+16>>3];v[r+(f<<5)+24>>3]=+v[e+(f<<5)+24>>3];f=f+1|0}while((f|0)!=3);k[r+96>>2]=10;v[r+104>>3]=.10000000149011612;v[r+112>>3]=.9900000095367432;v[r+120>>3]=4.0;v[r+128>>3]=.5;i=r}return i|0}function Ps(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e+4>>2]|0;r=e+8|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-16|0;k[r>>2]=a;nt(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;if(n)Po(k[k[e+16>>2]>>2]|0,n,(k[e+12>>2]|0)-n|0);return}function Ds(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e>>2]|0;if(i){r=e+4|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-16|0;k[r>>2]=a;nt(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;Po(k[e+12>>2]|0,n,(k[e+8>>2]|0)-n|0)}return}function Cs(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0,s=0,t=0,o=0;n=k[e+4>>2]|0;s=n>>8;if(!(n&1))o=s;else o=k[(k[f>>2]|0)+s>>2]|0;t=k[e>>2]|0;ek[k[(k[t>>2]|0)+20>>2]&3](t,i,r,f+o|0,(n&2|0)!=0?a:2,l);return}function Is(e,i){e=e|0;i=+i;var r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+232|0;v[f>>3]=i}m=a;return}function Ls(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=k[522]|0;else{f=_n(2044,r)|0;i=Nr(k[f+212>>2]|0,k[f+196>>2]|0)|0}m=a;return i|0}function xs(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0;a=i+16|0;l=k[a>>2]|0;do{if(!l){k[a>>2]=r;k[i+24>>2]=f;k[i+36>>2]=1}else{if((l|0)!=(r|0)){s=i+36|0;k[s>>2]=(k[s>>2]|0)+1;k[i+24>>2]=2;c[i+54>>0]=1;break}n=i+24|0;if((k[n>>2]|0)==2)k[n>>2]=f}}while(0);return}function Bs(e,i){e=e|0;i=+i;var r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+240|0;v[f>>3]=i}m=a;return}function Hs(e,i,r,f,a){e=e|0;i=+i;r=+r;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0;o=(k[e+16>>2]|0)+~~(i+.5)|0;u=(k[e+20>>2]|0)+~~(r+.5)|0;if((o|0)<0)l=-1;else{n=k[e+8>>2]|0;if((u|0)<0|(o|0)>=(n|0))l=-1;else if((u|0)<(k[e+12>>2]|0)){s=k[e+4>>2]|0;t=(ce(n,u)|0)+o<<1;k[f>>2]=k[s+(t<<2)>>2];k[a>>2]=k[s+((t|1)<<2)>>2];l=0}else l=-1}return l|0}function Us(e,i,r,f,a){e=e|0;i=+i;r=+r;f=f|0;a=a|0;var l=0,n=0,s=0,t=0,o=0,u=0;o=(k[e+16>>2]|0)+~~(i+.5)|0;u=(k[e+20>>2]|0)+~~(r+.5)|0;if((o|0)<0)l=-1;else{n=k[e+8>>2]|0;if((u|0)<0|(o|0)>=(n|0))l=-1;else if((u|0)<(k[e+12>>2]|0)){s=k[e>>2]|0;t=(ce(n,u)|0)+o<<1;k[f>>2]=k[s+(t<<2)>>2];k[a>>2]=k[s+((t|1)<<2)>>2];l=0}else l=-1}return l|0}function Ys(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0;t=0;do{f=e+(t<<5)|0;a=e+(t<<5)+8|0;l=e+(t<<5)+16|0;s=0;do{v[r+(t<<5)+(s<<3)>>3]=+v[f>>3]*+v[i+(s<<3)>>3]+ +v[a>>3]*+v[i+32+(s<<3)>>3]+ +v[l>>3]*+v[i+64+(s<<3)>>3];s=s+1|0}while((s|0)!=4);n=r+(t<<5)+24|0;v[n>>3]=+v[e+(t<<5)+24>>3]+ +v[n>>3];t=t+1|0}while((t|0)!=3);return 0}function zs(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=-1;else{f=_n(2044,r)|0;i=(k[f+252>>2]|0)-(k[f+248>>2]|0)>>3}m=a;return i|0}function Vs(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=2088;else{f=(_n(2044,r)|0)+212|0;i=(k[f>>2]|0)+44|0}m=a;return k[i>>2]|0}function Ws(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=0;else{f=(_n(2044,r)|0)+212|0;i=k[(k[f>>2]|0)+4834148>>2]|0}m=a;return i|0}function js(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0;r=e+20|0;n=e+28|0;if((k[r>>2]|0)>>>0>(k[n>>2]|0)>>>0){Yb[k[e+36>>2]&15](e,0,0)|0;if(!(k[r>>2]|0))i=-1;else t=3}else t=3;if((t|0)==3){s=e+4|0;f=k[s>>2]|0;a=e+8|0;l=k[a>>2]|0;if(f>>>0<l>>>0)Yb[k[e+40>>2]&15](e,f-l|0,1)|0;k[e+16>>2]=0;k[n>>2]=0;k[r>>2]=0;k[a>>2]=0;k[s>>2]=0;i=0}return i|0}function Ks(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0,o=0,u=0,c=0;a=i>>31|((i|0)<0?-1:0)<<1;l=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;n=f>>31|((f|0)<0?-1:0)<<1;s=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1;t=Su(a^e,l^i,a,l)|0;o=Y;u=n^a;c=s^l;return Su((Ea(t,o,Su(n^r,s^f,n,s)|0,Y,0)|0)^u,Y^c,u,c)|0}function Xs(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(yn(2044,r)|0){f=(_n(2044,r)|0)+212|0;Mu(k[f>>2]|0,i)|0}m=a;return}function Gs(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0;if(f>>>0>4294967279)Ec(e);if(f>>>0<11){c[e>>0]=r<<1;n=e+1|0}else{a=f+16&-16;l=Sr(a)|0;k[e+8>>2]=l;k[e>>2]=a|1;k[e+4>>2]=r;n=l}rt(n|0,i|0,r|0)|0;c[n+r>>0]=0;return}function qs(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;var n=0;if((e|0)==(k[i+8>>2]|0))En(0,i,r,f,a);else{n=k[e+8>>2]|0;ek[k[(k[n>>2]|0)+20>>2]&3](n,i,r,f,a,l)}return}function Js(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0;if(!e){l=k[699]|0;if(!l)r=0;else{f=l;o=3}}else{f=e;o=3}do{if((o|0)==3){n=Ul(f,i)|0;s=f+n|0;if(!(c[s>>0]|0)){k[699]=0;r=0;break}a=(Jl(s,i)|0)+n|0;t=f+a|0;k[699]=t;if(!(c[t>>0]|0)){k[699]=0;r=s;break}else{k[699]=f+(a+1);c[t>>0]=0;r=s;break}}}while(0);return r|0}function Zs(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;var l=0,n=0,s=0,t=0;l=k[e+4>>2]|0;n=l>>8;if(!(l&1))t=n;else t=k[(k[r>>2]|0)+n>>2]|0;s=k[e>>2]|0;zb[k[(k[s>>2]|0)+24>>2]&3](s,i,r+t|0,(l&2|0)!=0?f:2,a);return}function Qs(e){e=e|0;var i=0.0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=-1.0;else{f=(_n(2044,r)|0)+232|0;i=+v[f>>3]}m=a;return+i}function $s(e){e=e|0;var i=0.0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;k[r>>2]=e;if(!(yn(2044,r)|0))i=-1.0;else{f=(_n(2044,r)|0)+240|0;i=+v[f>>3]}m=a;return+i}function et(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;r=i+12|0;f=c[r>>0]|0;l=(f&1)==0;a=zn(i,l?r+1|0:k[i+20>>2]|0,l?(f&255)>>>1:k[i+16>>2]|0)|0;k[e>>2]=k[a>>2];k[e+4>>2]=k[a+4>>2];k[e+8>>2]=k[a+8>>2];k[a>>2]=0;k[a+4>>2]=0;k[a+8>>2]=0;return}function it(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0;if((e|0)!=0&(i|0)!=0)if((Ta(e,i)|0)<0)r=-1;else{ut(e+16|0,0,1024)|0;a=k[e>>2]|0;l=ce(k[e+12>>2]|0,k[e+8>>2]|0)|0;n=a+l|0;if((l|0)>0){s=a;do{f=e+16+((h[s>>0]|0)<<2)|0;k[f>>2]=(k[f>>2]|0)+1;s=s+1|0}while(s>>>0<n>>>0);r=0}else r=0}else r=-1;return r|0}function rt(e,i,r){e=e|0;i=i|0;r=r|0;var f=0;if((r|0)>=4096)return Si(e|0,i|0,r|0)|0;f=e|0;if((e&3)==(i&3)){while(e&3){if(!r)return f|0;c[e>>0]=c[i>>0]|0;e=e+1|0;i=i+1|0;r=r-1|0}while((r|0)>=4){k[e>>2]=k[i>>2];e=e+4|0;i=i+4|0;r=r-4|0}}while((r|0)>0){c[e>>0]=c[i>>0]|0;e=e+1|0;i=i+1|0;r=r-1|0}return f|0}function ft(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;r=c[e>>0]|0;if(!(r&1)){f=(r&255)>>>1;l=e+1|0}else{f=k[e+4>>2]|0;l=k[e+8>>2]|0}a=(f|0)!=0&1;i=f-a|0;if((f|0)==(a|0))n=r;else{oo(l|0,l+a|0,i|0)|0;n=c[e>>0]|0}if(!(n&1))c[e>>0]=i<<1;else k[e+4>>2]=i;c[l+i>>0]=0;return}function at(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0;n=m;m=m+32|0;if((m|0)>=(p|0))he();l=n;a=n+20|0;k[l>>2]=k[e+60>>2];k[l+4>>2]=0;k[l+8>>2]=i;k[l+12>>2]=a;k[l+16>>2]=r;if((Pu(tr(140,l|0)|0)|0)<0){k[a>>2]=-1;f=-1}else f=k[a>>2]|0;m=n;return f|0}function lt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e+4>>2]|0;r=e+8|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-24|0;k[r>>2]=a;Wo(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;if(n)Po(k[k[e+16>>2]>>2]|0,n,(k[e+12>>2]|0)-n|0);return}function nt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;i=k[e>>2]|0;if(i){r=e+4|0;f=k[r>>2]|0;if((f|0)!=(i|0)){l=f;do{a=l+-24|0;k[r>>2]=a;Wo(a);l=k[r>>2]|0}while((l|0)!=(i|0))}n=k[e>>2]|0;Po(k[e+12>>2]|0,n,(k[e+8>>2]|0)-n|0)}return}function st(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;f=Yt(408)|0;k[f+8>>2]=k[r>>2];ut(f+16|0,0,392)|0;v[f+248>>3]=.0001;v[f+256>>3]=1.0e3;l=f+264|0;k[l>>2]=0;k[l+4>>2]=0;k[l+8>>2]=0;k[l+12>>2]=0;k[e>>2]=f;a=e+4|0;k[a>>2]=i+8;k[a+4>>2]=257;return}function tt(e){e=e|0;var i=0.0,r=0.0,f=0,a=0,l=0,n=0.0,s=0.0,t=0,o=0.0,u=0.0;i=+$(+ +vt(e,e));if(i!=0.0){l=k[e>>2]|0;n=+v[l>>3];o=n<0.0?-i:i;s=n+o;v[l>>3]=s;r=1.0/+$(+(s*o));f=k[e+4>>2]|0;if((f|0)>0){t=0;do{a=l+(t<<3)|0;v[a>>3]=r*+v[a>>3];t=t+1|0}while((t|0)<(f|0));u=o}else u=o}else u=i;return+-u}function ot(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0;k[e+12>>2]=0;k[e+16>>2]=f;if(!i)a=0;else a=po(k[f>>2]|0,i<<4)|0;k[e>>2]=a;l=a+(r<<4)|0;k[e+8>>2]=l;k[e+4>>2]=l;k[e+12>>2]=a+(i<<4);return}function ut(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0;f=e+r|0;if((r|0)>=20){i=i&255;n=e&3;a=i|i<<8|i<<16|i<<24;l=f&~3;if(n){n=e+4-n|0;while((e|0)<(n|0)){c[e>>0]=i;e=e+1|0}}while((e|0)<(l|0)){k[e>>2]=a;e=e+4|0}}while((e|0)<(f|0)){c[e>>0]=i;e=e+1|0}return e-r|0}function ct(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;if(r>>>0>4294967279)Ec(e);if(r>>>0<11){c[e>>0]=r<<1;l=e+1|0}else{f=r+16&-16;a=Sr(f)|0;k[e+8>>2]=a;k[e>>2]=f|1;k[e+4>>2]=r;l=a}rt(l|0,i|0,r|0)|0;c[l+r>>0]=0;return}function bt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0;a=k[e+4>>2]|0;l=a>>8;if(!(a&1))s=l;else s=k[(k[r>>2]|0)+l>>2]|0;n=k[e>>2]|0;rk[k[(k[n>>2]|0)+28>>2]&3](n,i,r+s|0,(a&2|0)!=0?f:2);return}function kt(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();f=l;Ho(f,r);a=ik[e&15](i,f)|0;Zu(f);m=l;return a|0}function ht(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0;r=e+74|0;a=c[r>>0]|0;c[r>>0]=a+255|a;n=e+20|0;s=e+44|0;if((k[n>>2]|0)>>>0>(k[s>>2]|0)>>>0)Yb[k[e+36>>2]&15](e,0,0)|0;k[e+16>>2]=0;k[e+28>>2]=0;k[n>>2]=0;f=k[e>>2]|0;if(!(f&20)){l=k[s>>2]|0;k[e+8>>2]=l;k[e+4>>2]=l;i=0}else if(!(f&4))i=-1;else{k[e>>2]=f|32;i=-1}return i|0}function dt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0;if((k[e+76>>2]|0)>-1){}n=(k[e>>2]&1|0)!=0;if(!n){Qi(2416);s=k[e+52>>2]|0;i=e+56|0;if(s)k[s+56>>2]=k[i>>2];r=k[i>>2]|0;if(r)k[r+52>>2]=s;if((k[603]|0)==(e|0))k[603]=r;Yi(2416)}f=Ln(e)|0;a=qb[k[e+12>>2]&31](e)|0|f;l=k[e+92>>2]|0;if(l)oa(l);if(!n)oa(e);return a|0}function wt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0;k[e+12>>2]=0;k[e+16>>2]=f;if(!i)a=0;else a=po(k[f>>2]|0,i<<4)|0;k[e>>2]=a;l=a+(r<<4)|0;k[e+8>>2]=l;k[e+4>>2]=l;k[e+12>>2]=a+(i<<4);return}function _t(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;if(r>>>0>4294967279)Ec(e);if(r>>>0<11){c[e>>0]=r<<1;l=e+1|0}else{f=r+16&-16;a=Yt(f)|0;k[e+8>>2]=a;k[e>>2]=f|1;k[e+4>>2]=r;l=a}rt(l|0,i|0,r|0)|0;c[l+r>>0]=0;return}function vt(e,i){e=e|0;i=i|0;var r=0,f=0.0,a=0,l=0,n=0,s=0.0,t=0.0;r=k[e+4>>2]|0;if((r|0)!=(k[i+4>>2]|0))ji(0);if((r|0)>0){a=k[e>>2]|0;l=k[i>>2]|0;n=0;t=0.0;while(1){f=t+ +v[a+(n<<3)>>3]*+v[l+(n<<3)>>3];n=n+1|0;if((n|0)>=(r|0)){s=f;break}else t=f}}else s=0.0;return+s}function Et(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0,u=0;e:do{if(!r)s=0;else{f=r;o=e;u=i;while(1){n=c[o>>0]|0;t=c[u>>0]|0;if(n<<24>>24!=t<<24>>24){a=n;l=t;break}f=f+-1|0;if(!f){s=0;break e}else{o=o+1|0;u=u+1|0}}s=(a&255)-(l&255)|0}}while(0);return s|0}function mt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0,t=0,o=0;i=(rc(e,43)|0)==0;r=c[e>>0]|0;l=i?r<<24>>24!=114&1:2;f=(rc(e,120)|0)==0;n=f?l:l|128;a=(rc(e,101)|0)==0;s=a?n:n|524288;t=r<<24>>24==114?s:s|64;o=r<<24>>24==119?t|512:t;return(r<<24>>24==97?o|1024:o)|0}function pt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0;k[e+12>>2]=0;k[e+16>>2]=f;if(!i)a=0;else a=po(k[f>>2]|0,i*24|0)|0;k[e>>2]=a;l=a+(r*24|0)|0;k[e+8>>2]=l;k[e+4>>2]=l;k[e+12>>2]=a+(i*24|0);return}function St(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;Ho(r,i);f=qb[e&31](r)|0;Zu(r);m=a;return f|0}function gt(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;s=e+(Hn(e)|0)|0;e:do{if(!r)f=s;else{a=r;l=i;n=s;while(1){t=c[l>>0]|0;if(!(t<<24>>24)){f=n;break e}a=a+-1|0;o=n+1|0;c[n>>0]=t;if(!a){f=o;break}else{l=l+1|0;n=o}}}}while(0);c[f>>0]=0;return e|0}function yt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;e:do{if(El(e,256,i)|0)while(1){r=Hn(e)|0;i:do{if(r){a=r;while(1){a=a+-1|0;f=e+a|0;switch(c[f>>0]|0){case 13:case 10:break;default:break i}c[f>>0]=0;if(!a)break i}}}while(0);switch(c[e>>0]|0){case 0:case 35:break;default:break e}if(!(El(e,256,i)|0))break e}}while(0);return}function Ft(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0;if((e|0)==(k[i+8>>2]|0))xs(0,i,r,f);else{a=k[e+8>>2]|0;rk[k[(k[a>>2]|0)+28>>2]&3](a,i,r,f)}return}function At(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;l=m;m=m+80|0;if((m|0)>=(p|0))he();a=l;k[e+36>>2]=4;if(!(k[e>>2]&64)){k[a>>2]=k[e+60>>2];k[a+4>>2]=21505;k[a+8>>2]=l+12;if($e(54,a|0)|0)c[e+75>>0]=-1}f=ll(e,i,r)|0;m=l;return f|0}function Tt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0;do{if((e|0)!=0&(i|0)!=0&(r|0)!=0){n=Uc(i,47)|0;if(!n){c[e>>0]=0;a=e;break}l=n+((f|0)!=0&1)-i|0;if((l+1|0)>>>0>r>>>0)a=0;else{Lc(e,i,l)|0;c[e+l>>0]=0;a=e}}else a=0}while(0);return a|0}function Ot(e){e=e|0;var i=0;Mt(e,k[e+8>>2]|0);i=k[e>>2]|0;k[e>>2]=0;if(i)Tb(i);return}function Mt(e,i){e=e|0;i=i|0;var r=0,f=0;if(i){r=i;do{f=r;r=k[r>>2]|0;Xt(f+264|0);Tb(f)}while((r|0)!=0)}return}function Rt(e){e=e|0;var i=0;$t(e,k[e+8>>2]|0);i=k[e>>2]|0;k[e>>2]=0;if(i)Tb(i);return}function Nt(e,i){e=e|0;i=i|0;var r=0,f=0;k[e>>2]=k[i>>2];k[e+4>>2]=k[i+4>>2];k[e+8>>2]=k[i+8>>2];k[i>>2]=0;k[i+4>>2]=0;k[i+8>>2]=0;r=e+12|0;f=i+12|0;k[r>>2]=k[f>>2];k[r+4>>2]=k[f+4>>2];k[r+8>>2]=k[f+8>>2];k[f>>2]=0;k[f+4>>2]=0;k[f+8>>2]=0;return}function Pt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;f=it(e,i)|0;if((f|0)<0)r=f;else{a=0;l=0;do{a=(k[e+16+(l<<2)>>2]|0)+a|0;k[e+1040+(l<<2)>>2]=a;l=l+1|0}while((l|0)!=256);r=0}return r|0}function Dt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;c[e>>0]=8;r=e+1|0;f=h[i>>0]|h[i+1>>0]<<8|h[i+2>>0]<<16|h[i+3>>0]<<24;c[r>>0]=f;c[r+1>>0]=f>>8;c[r+2>>0]=f>>16;c[r+3>>0]=f>>24;c[e+5>>0]=0;a=e+12|0;k[a>>2]=0;k[a+4>>2]=0;k[a+8>>2]=0;return}function Ct(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0;n=m;m=m+112|0;if((m|0)>=(p|0))he();a=n;l=a;s=l+112|0;do{k[l>>2]=0;l=l+4|0}while((l|0)<(s|0));k[a+32>>2]=15;k[a+44>>2]=e;k[a+76>>2]=-1;k[a+84>>2]=e;f=Or(a,i,r)|0;m=n;return f|0}function It(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0,s=0;f=k[e+4>>2]|0;a=e+8|0;r=k[a>>2]|0;if((r|0)!=(f|0)){n=r;while(1){l=n+-8|0;if((l|0)==(f|0)){i=l;break}else n=l}k[a>>2]=i}s=k[e>>2]|0;if(s)Tb(s);return}function Lt(e,i){e=e|0;i=i|0;if(!(c[i>>0]&1)){k[e>>2]=k[i>>2];k[e+4>>2]=k[i+4>>2];k[e+8>>2]=k[i+8>>2]}else ct(e,k[i+8>>2]|0,k[i+4>>2]|0);return}function xt(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;if((e|0)==(k[i+8>>2]|0))En(0,i,r,f,a);return}function Bt(e,i){e=e|0;i=i|0;var r=0,f=0;c[e>>0]=10;r=e+1|0;c[r>>0]=c[i>>0]|0;c[r+1>>0]=c[i+1>>0]|0;c[r+2>>0]=c[i+2>>0]|0;c[r+3>>0]=c[i+3>>0]|0;c[r+4>>0]=c[i+4>>0]|0;c[e+6>>0]=0;f=e+12|0;k[f>>2]=0;k[f+4>>2]=0;k[f+8>>2]=0;return}function Ht(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0,t=0;a=ce(r,i)|0;if((k[f+76>>2]|0)>-1){t=(Cb(f)|0)==0;n=en(e,a,f)|0;if(t)s=n;else{Db(f);s=n}}else s=en(e,a,f)|0;if((s|0)==(a|0))l=r;else l=(s>>>0)/(i>>>0)|0;return l|0}function Ut(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0,s=0,t=0,o=0;f=e+84|0;a=k[f>>2]|0;n=r+256|0;s=cl(a,0,n)|0;t=(s|0)==0?n:s-a|0;o=t>>>0<r>>>0?t:r;rt(i|0,a|0,o|0)|0;k[e+4>>2]=a+o;l=a+t|0;k[e+8>>2]=l;k[f>>2]=l;return o|0}function Yt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;r=(e|0)==0?1:e;f=Sr(r)|0;e:do{if(!f){while(1){a=Wc()|0;if(!a)break;Zb[a&0]();l=Sr(r)|0;if(l){i=l;break e}}n=oi(4)|0;k[n>>2]=2224;Ji(n|0,544,1)}else i=f}while(0);return i|0}function zt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;if(!e)a=0;else{r=ce(i,e)|0;if((i|e)>>>0>65535)a=((r>>>0)/(e>>>0)|0|0)==(i|0)?r:-1;else a=r}f=Sr(a)|0;if(!f)return f|0;if(!(k[f+-4>>2]&3))return f|0;ut(f|0,0,a|0)|0;return f|0}function Vt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0,s=0;a=e;l=r;n=to(a,l)|0;s=Y;return(Y=(ce(i,l)|0)+(ce(f,a)|0)+s|s&0,n|0|0)|0}function Wt(e){e=e|0;As(e+32|0);Ds(e+16|0);nt(e);return}function jt(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0;k[e+12>>2]=0;k[e+16>>2]=f;if(!i)a=0;else a=Yt(i<<3)|0;k[e>>2]=a;l=a+(r<<3)|0;k[e+8>>2]=l;k[e+4>>2]=l;k[e+12>>2]=a+(i<<3);return}function Kt(e,i){e=e|0;i=i|0;var r=0,f=0;if((e|0)!=(i|0)){r=c[i>>0]|0;f=(r&1)==0;Yn(e,f?i+1|0:k[i+8>>2]|0,f?(r&255)>>>1:k[i+4>>2]|0)}return}function Xt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0,n=0;f=k[e>>2]|0;if(f){a=e+4|0;r=k[a>>2]|0;if((r|0)!=(f|0)){n=r;while(1){l=n+-8|0;if((l|0)==(f|0)){i=l;break}else n=l}k[a>>2]=i}Tb(f)}return}function Gt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;c[e>>0]=20;f=e+1|0;a=i;l=f+10|0;do{c[f>>0]=c[a>>0]|0;f=f+1|0;a=a+1|0}while((f|0)<(l|0));c[e+11>>0]=0;r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function qt(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;c[e>>0]=18;f=e+1|0;a=i;l=f+9|0;do{c[f>>0]=c[a>>0]|0;f=f+1|0;a=a+1|0}while((f|0)<(l|0));c[e+10>>0]=0;r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function Jt(e){e=e|0;var i=0,r=0,f=0,a=0,l=0;r=e+74|0;a=c[r>>0]|0;c[r>>0]=a+255|a;l=k[e>>2]|0;if(!(l&8)){k[e+8>>2]=0;k[e+4>>2]=0;f=k[e+44>>2]|0;k[e+28>>2]=f;k[e+20>>2]=f;k[e+16>>2]=f+(k[e+48>>2]|0);i=0}else{k[e>>2]=l|32;i=-1}return i|0}function Zt(e,i){e=e|0;i=i|0;var r=0;k[e>>2]=k[i>>2];k[e+4>>2]=k[i+4>>2];k[e+8>>2]=k[i+8>>2];k[i>>2]=0;k[i+4>>2]=0;k[i+8>>2]=0;r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function Qt(e,i){e=e|0;i=i|0;var r=0;r=0;do{v[i+(r<<5)>>3]=+v[e+(r<<5)>>3];v[i+(r<<5)+8>>3]=+v[e+(r<<5)+8>>3];v[i+(r<<5)+16>>3]=+v[e+(r<<5)+16>>3];v[i+(r<<5)+24>>3]=+v[e+(r<<5)+24>>3];r=r+1|0}while((r|0)!=3);return}function $t(e,i){e=e|0;i=i|0;var r=0,f=0;if(i){r=i;do{f=r;r=k[r>>2]|0;Tb(f)}while((r|0)!=0)}return}function eo(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0;f=Yt(200)|0;k[f+8>>2]=k[r>>2];ut(f+16|0,0,184)|0;k[e>>2]=f;a=e+4|0;k[a>>2]=i+8;k[a+4>>2]=257;return}function io(e,i){e=e|0;i=i|0;c[i>>0]=c[e+7>>0]|0;c[i+1>>0]=c[e+6>>0]|0;c[i+2>>0]=c[e+5>>0]|0;c[i+3>>0]=c[e+4>>0]|0;c[i+4>>0]=c[e+3>>0]|0;c[i+5>>0]=c[e+2>>0]|0;c[i+6>>0]=c[e+1>>0]|0;c[i+7>>0]=c[e>>0]|0;return}function ro(e){e=e|0;c[S>>0]=c[e>>0];c[S+1>>0]=c[e+1>>0];c[S+2>>0]=c[e+2>>0];c[S+3>>0]=c[e+3>>0];c[S+4>>0]=c[e+4>>0];c[S+5>>0]=c[e+5>>0];c[S+6>>0]=c[e+6>>0];c[S+7>>0]=c[e+7>>0]}function fo(e){e=e|0;var i=0,r=0,f=0;if(!(k[e>>2]&128))r=1;else r=(k[e+20>>2]|0)>>>0>(k[e+28>>2]|0)>>>0?2:1;f=Yb[k[e+40>>2]&15](e,0,r)|0;if((f|0)<0)i=f;else i=f-(k[e+8>>2]|0)+(k[e+4>>2]|0)+(k[e+20>>2]|0)-(k[e+28>>2]|0)|0;return i|0}function ao(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=a;if(!(k[e+8>>2]|0))if(!(ht(e)|0))f=3;else i=-1;else f=3;if((f|0)==3)if((Yb[k[e+32>>2]&15](e,r,1)|0)==1)i=h[r>>0]|0;else i=-1;m=a;return i|0}function lo(e){e=e|0;var i=0,r=0,f=0,a=0;i=e+212|0;r=k[i>>2]|0;if(r){lu(r)|0;Eo(k[i>>2]|0)|0;k[i>>2]=0}f=e+224|0;if(k[f>>2]|0){ru(f)|0;k[f>>2]=0}a=e+192|0;if(k[a>>2]|0){_o(a)|0;k[a>>2]=0}return}function no(e,i){e=e|0;i=i|0;var r=0,f=0;c[e>>0]=6;r=e+1|0;c[r>>0]=c[i>>0]|0;c[r+1>>0]=c[i+1>>0]|0;c[r+2>>0]=c[i+2>>0]|0;c[e+4>>0]=0;f=e+12|0;k[f>>2]=0;k[f+4>>2]=0;k[f+8>>2]=0;return}function so(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;if((e|0)==(k[i+8>>2]|0))xs(0,i,r,f);return}function to(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0,n=0,s=0,t=0;r=e&65535;f=i&65535;a=ce(f,r)|0;l=e>>>16;n=(a>>>16)+(ce(f,l)|0)|0;s=i>>>16;t=ce(s,r)|0;return(Y=(n>>>16)+(ce(s,l)|0)+(((n&65535)+t|0)>>>16)|0,n+t<<16|a&65535|0)|0}function oo(e,i,r){e=e|0;i=i|0;r=r|0;var f=0;if((i|0)<(e|0)&(e|0)<(i+r|0)){f=e;i=i+r|0;e=e+r|0;while((r|0)>0){e=e-1|0;i=i-1|0;r=r-1|0;c[e>>0]=c[i>>0]|0}e=f}else rt(e,i,r)|0;return e|0}function uo(e){e=e|0;var i=0;switch(e|0){case 1:case 0:{i=3;break}case 6:case 4:case 3:case 2:{i=4;break}case 14:case 13:case 12:case 5:{i=1;break}case 11:case 10:case 9:case 8:case 7:{i=2;break}default:i=0}return i|0}function co(e,i){e=+e;i=+i;var r=0,f=0,a=0;v[S>>3]=e;r=k[S>>2]|0;f=k[S+4>>2]|0;v[S>>3]=i;a=k[S+4>>2]&-2147483648|f&2147483647;k[S>>2]=r;k[S+4>>2]=a;return+ +v[S>>3]}function bo(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;f=Sr(12)|0;do{if(!f)r=0;else{a=Sr(ce(e<<3,i)|0)|0;k[f>>2]=a;if(!a){oa(f);r=0;break}else{k[f+4>>2]=e;k[f+8>>2]=i;r=f;break}}}while(0);return r|0}function ko(e){e=e|0;var i=0,r=0,f=0,a=0;a=m;m=m+16|0;if((m|0)>=(p|0))he();r=Sr(4)|0;if(!r){Yl(3,5471,a);ji(1)}f=Ns(e)|0;k[r>>2]=f;if(!f){oa(r);i=0}else i=r;m=a;return i|0}function ho(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;if((k[e+76>>2]|0)>-1){l=(Cb(e)|0)==0;f=Es(e,i,r)|0;if(l)a=f;else{Db(e);a=f}}else a=Es(e,i,r)|0;return a|0}function wo(){k[511]=0;k[512]=0;k[513]=0;k[514]=0;_[515]=1.0;Gi(11,2044,F|0)|0;k[516]=0;k[517]=0;k[518]=0;k[519]=0;_[520]=1.0;Gi(12,2064,F|0)|0;Ba(0);return}function _o(e){e=e|0;var i=0,r=0;if(!e)i=-1;else{r=k[e>>2]|0;if(!r)i=-1;else{oa(k[r+184>>2]|0);oa(k[(k[e>>2]|0)+188>>2]|0);oa(k[e>>2]|0);k[e>>2]=0;i=0}}return i|0}function vo(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0;l=m;m=m+16|0;a=l|0;Ea(e,i,r,f,a)|0;m=l;return(Y=k[a+4>>2]|0,k[a>>2]|0)|0}function Eo(e){e=e|0;var i=0,r=0,f=0;if(!e)i=-1;else{r=e+7062408|0;f=k[r>>2]|0;if(f){Bu(f);k[r>>2]=0}oa(k[e+4834144>>2]|0);oa(k[e+4834148>>2]|0);oa(e);i=0}return i|0}function mo(e){e=e|0;var i=0;i=c[y+(e&255)>>0]|0;if((i|0)<8)return i|0;i=c[y+(e>>8&255)>>0]|0;if((i|0)<8)return i+8|0;i=c[y+(e>>16&255)>>0]|0;if((i|0)<8)return i+16|0;return(c[y+(e>>>24)>>0]|0)+24|0}function po(e,i){e=e|0;i=i|0;var r=0,f=0,a=0,l=0;f=i+15&-16;a=e+4096|0;l=k[a>>2]|0;if((e+4096-l|0)>>>0<f>>>0)r=Sr(f)|0;else{k[a>>2]=l+f;r=l}return r|0}function So(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0,l=0,n=0;n=m;m=m+16|0;if((m|0)>=(p|0))he();l=n;k[l>>2]=f;a=tn(e,i,r,l)|0;m=n;return a|0}function go(e,i){e=e|0;i=i|0;var r=0;ct(e,i,17);r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function yo(e,i){e=e|0;i=i|0;var r=0;ct(e,i,14);r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function Fo(e,i){e=e|0;i=i|0;var r=0;ct(e,i,13);r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function Ao(e,i){e=e|0;i=i|0;var r=0;ct(e,i,12);r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function To(e,i){e=e|0;i=i|0;var r=0;ct(e,i,11);r=e+12|0;k[r>>2]=0;k[r+4>>2]=0;k[r+8>>2]=0;return}function Oo(e){e=e|0;Ot(e);return}function Mo(e,i,r){e=e|0;i=i|0;r=r|0;return Kl(e,i,r,Hn(r)|0)|0}function Ro(e,i){e=e|0;i=i|0;var r=0,f=0,a=0;k[e+104>>2]=i;r=k[e+4>>2]|0;f=k[e+8>>2]|0;a=f-r|0;k[e+108>>2]=a;if((i|0)!=0&(a|0)>(i|0))k[e+100>>2]=r+i;else k[e+100>>2]=f;return}function No(e){e=e|0;var i=0,r=0,f=0;f=m;m=m+16|0;if((m|0)>=(p|0))he();r=f;k[r>>2]=k[e+60>>2];i=Pu($i(6,r|0)|0)|0;m=f;return i|0}function Po(e,i,r){e=e|0;i=i|0;r=r|0;var f=0;if(e>>>0<=i>>>0&(e+4096|0)>>>0>=i>>>0){f=e+4096|0;if((i+(r+15&-16)|0)==(k[f>>2]|0))k[f>>2]=i}else oa(i);return}function Do(e){e=e|0;var i=0;if((k[e+76>>2]|0)>-1){i=(Cb(e)|0)==0;Es(e,0,0)|0;k[e>>2]=k[e>>2]&-33;if(!i)Db(e)}else{Es(e,0,0)|0;k[e>>2]=k[e>>2]&-33}return}function Co(e,i){e=e|0;i=i|0;var r=0,f=0;f=(k[e+8>>2]|0)+(i<<2)|0;if(!(k[f>>2]|0))r=-1;else{k[f>>2]=0;k[e>>2]=(k[e>>2]|0)+-1;r=1}return r|0}function Io(e){e=e|0;Rt(e);return}function Lo(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0;f=e+20|0;a=k[f>>2]|0;l=(k[e+16>>2]|0)-a|0;n=l>>>0>r>>>0?r:l;rt(a|0,i|0,n|0)|0;k[f>>2]=(k[f>>2]|0)+n;return r|0}function xo(e){e=e|0;var i=0,r=0,f=0;if((k[e+76>>2]|0)>-1){f=(Cb(e)|0)==0;i=(k[e>>2]|0)>>>5&1;if(f)r=i;else r=i}else r=(k[e>>2]|0)>>>5&1;return r|0}function Bo(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0,n=0;l=i&255;a=r;while(1){if(!a){f=0;break}a=a+-1|0;n=e+a|0;if((c[n>>0]|0)==l<<24>>24){f=n;break}}return f|0}function Ho(e,i){e=e|0;i=i|0;_t(e,i+4|0,k[i>>2]|0);return}function Uo(e){e=e|0;var i=0,r=0,f=0;r=Sr(8)|0;do{if(!r)i=0;else{f=Sr(e<<3)|0;k[r>>2]=f;if(!f){oa(r);i=0;break}else{k[r+4>>2]=e;i=r;break}}}while(0);return i|0}function Yo(e,i,r){e=e|0;i=i|0;r=r|0;var f=0,a=0,l=0;l=m;m=m+16|0;if((m|0)>=(p|0))he();a=l;k[a>>2]=r;f=Ct(e,i,a)|0;m=l;return f|0}function zo(e,i){e=e|0;i=i|0;var r=0,f=0;if(!e)r=-1;else{f=e+7062384|0;if(!(k[f>>2]|0)){k[f>>2]=i;r=0}else r=-1}return r|0}function Vo(e,i){e=e|0;i=i|0;return zn(e,i,Hn(i)|0)|0}function Wo(e){e=e|0;Nu(e+12|0);Nu(e);return}function jo(e){e=e|0;var i=0,r=0;r=bo(k[e+8>>2]|0,k[e+4>>2]|0)|0;if(!r)i=0;else if((In(r,e)|0)<0){jc(r)|0;i=0}else i=r;return i|0}function Ko(e){e=e|0;var i=0,r=0;r=bo(k[e+4>>2]|0,k[e+8>>2]|0)|0;if(!r)i=0;else if((ss(r,e)|0)<0){jc(r)|0;i=0}else i=r;return i|0}function Xo(e,i){e=e|0;i=i|0;var r=0,f=0;f=bo(k[e+4>>2]|0,k[i+8>>2]|0)|0;if(!f)r=0;else if((Bl(f,e,i)|0)<0){jc(f)|0;r=0}else r=f;return r|0}function Go(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;return+ +Ir(e,i,r,f,1)}function qo(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;return+ +Ir(e,i,r,f,0)}function Jo(e){e=e|0;var i=0,r=0,f=0;if((k[e+76>>2]|0)>-1){f=(Cb(e)|0)==0;i=fo(e)|0;if(f)r=i;else r=i}else r=fo(e)|0;return r|0}function Zo(e,i){e=e|0;i=+i;var r=0;if(!e)r=-1;else if(i<=0.0|i>=1.0)r=-1;else{v[e+7062416>>3]=i;r=0}return r|0}function Qo(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){Y=i>>r;return e>>>r|(i&(1<<r)-1)<<32-r}Y=(i|0)<0?-1:0;return i>>r-32|0}function $o(e,i){e=e|0;i=i|0;c[i>>0]=c[e+3>>0]|0;c[i+1>>0]=c[e+2>>0]|0;c[i+2>>0]=c[e+1>>0]|0;c[i+3>>0]=c[e>>0]|0;return}function eu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&(i|0)!=0){k[i>>2]=k[e+7062388>>2];r=0}else r=-1;return r|0}function iu(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){Y=i<<r|(e&(1<<r)-1<<32-r)>>>32-r;return e<<r}Y=e<<r-32;return 0}function ru(e){e=e|0;var i=0,r=0;r=k[e>>2]|0;if(!r)i=-1;else{Ou(r)|0;oa(k[e>>2]|0);k[e>>2]=0;i=0}return i|0}function fu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&(i|0)!=0){k[i>>2]=k[e+7062424>>2];r=0}else r=-1;return r|0}function au(e,i,r){e=e|0;i=i|0;r=r|0;if((r|0)<32){Y=i>>>r;return e>>>r|(i&(1<<r)-1)<<32-r}Y=0;return i>>>r-32|0}function lu(e){e=e|0;var i=0,r=0;if(!e)i=-1;else{r=e+7062384|0;if(!(k[r>>2]|0))i=-1;else{k[r>>2]=0;i=0}}return i|0}function nu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&(i|0)!=0){k[i>>2]=k[e+16>>2];r=0}else r=-1;return r|0}function su(e,i){e=e|0;i=i|0;ki(e|0,3,2180,10905,12,i|0);return}function tu(e){e=e|0;c[S>>0]=c[e>>0];c[S+1>>0]=c[e+1>>0];c[S+2>>0]=c[e+2>>0];c[S+3>>0]=c[e+3>>0]}function ou(e,i){e=e|0;i=i|0;ki(e|0,2,2160,10800,11,i|0);return}function uu(e,i,r,f,a,l,n){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;n=n|0;ek[e&3](i|0,r|0,f|0,a|0,l|0,n|0)}function cu(e,i){e=e|0;i=i|0;var r=0;if((e|0)==0|i>>>0>255)r=-1;else{k[e+16>>2]=i;r=0}return r|0}function bu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&(i|0)!=0){k[i>>2]=k[e+12>>2];r=0}else r=-1;return r|0}function ku(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;return Yb[e&15](i,r,f)|0}function hu(e,i){e=e|0;i=i|0;var r=0;if(!e)r=-1;else{v[i>>3]=+v[e+7062416>>3];r=0}return r|0}function du(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&i>>>0<5){k[e+24>>2]=i;r=0}else r=-1;return r|0}function wu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&(i|0)!=0){k[i>>2]=k[e>>2];r=0}else r=-1;return r|0}function _u(e,i){e=e|0;i=+i;var r=0;if(!e)r=-1;else{v[e+128>>3]=i;r=0}return r|0}function vu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&i>>>0<2){k[e+20>>2]=i;r=0}else r=-1;return r|0}function Eu(e,i){e=e|0;i=i|0;var r=0;if((e|0)!=0&i>>>0<2){k[e+12>>2]=i;r=0}else r=-1;return r|0}function mu(e,i,r){e=e|0;i=i|0;r=r|0;return(e|0)==(i|0)|0}function pu(){}function Su(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0;a=i-f>>>0;a=i-f-(r>>>0>e>>>0|0)>>>0;return(Y=a,e-r>>>0|0)|0}function gu(e,i,r){e=e|0;i=i|0;r=r|0;return kn(e,i,.5,r)|0}function yu(e,i){e=e|0;i=i|0;var r=0;if(!e)r=-1;else{k[i>>2]=k[e+24>>2];r=0}return r|0}function Fu(e){e=e|0;var i=0,r=0,f=0;r=(Hn(e)|0)+1|0;f=Sr(r)|0;if(!f)i=0;else{rt(f|0,e|0,r|0)|0;i=f}return i|0}function Au(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;zb[e&3](i|0,r|0,f|0,a|0,l|0)}function Tu(e,i){e=e|0;i=i|0;var r=0;if(!e)r=-1;else{k[i>>2]=k[e+20>>2];r=0}return r|0}function Ou(e){e=e|0;var i=0,r=0;r=k[e>>2]|0;if(!r)i=-1;else{oa(r);k[e>>2]=0;i=0}return i|0}function Mu(e,i){e=e|0;i=i|0;var r=0;if(!e)r=-1;else{k[e+7062424>>2]=i;r=0}return r|0}function Ru(e){e=e|0;var i=0;i=m;m=m+e|0;m=m+15&-16;if((m|0)>=(p|0))he();return i|0}function Nu(e){e=e|0;if(c[e>>0]&1)oa(k[e+8>>2]|0);return}function Pu(e){e=e|0;var i=0,r=0;if(e>>>0>4294963200){r=Ju()|0;k[r>>2]=0-e;i=-1}else i=e;return i|0}function Du(e,i,r){e=e|0;i=i|0;r=r|0;return ik[e&15](i,r)|0}function Cu(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;return $b[e&1](i|0,r|0,f|0,a|0)|0}function Iu(e,i,r){e=e|0;i=i|0;r=r|0;Gb[e&7](i,r);return}function Lu(e,i,r){e=e|0;i=i|0;r=+r;Wb[e&3](i,r);return}function xu(e,i,r){e=e|0;i=i|0;r=+r;Wb[e&3](i,r);return}function Bu(e){e=e|0;if(e){if(k[e+2076>>2]|0)oa(k[e>>2]|0);oa(k[e+4>>2]|0);oa(e)}return}function Hu(e,i){e=e|0;i=i|0;ki(e|0,4,2200,10910,1,i|0);return}function Uu(e,i){e=e|0;i=i|0;ki(e|0,3,2168,10905,13,i|0);return}function Yu(e,i){e=e|0;i=i|0;ki(e|0,3,2116,10779,1,i|0);return}function zu(e,i){e=e|0;i=i|0;ki(e|0,3,2104,10774,2,i|0);return}function Vu(e,i){e=e|0;i=i|0;ki(e|0,3,2136,10788,1,i|0);return}function Wu(e,i){e=e|0;i=i|0;ki(e|0,2,2192,10800,10,i|0);return}function ju(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;rk[e&3](i|0,r|0,f|0,a|0)}function Ku(e,i){e=e|0;i=i|0;ki(e|0,2,2152,10796,7,i|0);return}function Xu(e,i){e=e|0;i=i|0;ki(e|0,1,2148,10793,16,i|0);return}function Gu(e,i){e=e|0;i=i|0;ki(e|0,2,2128,10784,1,i|0);return}function qu(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;oa(e);oa(i);oa(r);oa(f);return}function Ju(){var e=0,i=0;if(!(k[597]|0))e=2644;else{i=(Ci()|0)+60|0;e=k[i>>2]|0}return e|0}function Zu(e){e=e|0;if(c[e>>0]&1)Tb(k[e+8>>2]|0);return}function Qu(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;var a=0;a=e+r>>>0;return(Y=i+f+(a>>>0<e>>>0|0)>>>0,a|0)|0}function $u(e,i){e=e|0;i=i|0;wi(e|0,720,~~+v[i>>3]>>>0|0);return}function ec(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;return Yb[e&15](i|0,r|0,f|0)|0}function ic(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;return Ea(e,i,r,f,0)|0}function rc(e,i){e=e|0;i=i|0;var r=0;r=Zl(e,i)|0;return((c[r>>0]|0)==(i&255)<<24>>24?r:0)|0}function fc(e,i){e=e|0;i=i|0;wi(e|0,680,k[i>>2]|0);return}function ac(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;Jb[e&1](i|0,r|0,f|0)}function lc(e,i){e=e|0;i=i|0;return qb[e&31](i)|0}function nc(e,i){e=e|0;i=i|0;return+ +jb[e&3](i)}function sc(e,i){e=e|0;i=i|0;Xb[e&15](i);return}function tc(e,i){e=e|0;i=i|0;var r=0.0;r=+v[e>>3]-+v[i>>3];return(r<0.0?-1:r>0.0&1)|0}function oc(e,i,r,f){e=e|0;i=i|0;r=r|0;f=+f;Qb[e&3](i|0,r|0,+f)}function uc(e){e=e|0;var i=0;if((e+-48|0)>>>0<10)i=1;else i=((e|32)+-97|0)>>>0<6;return i&1|0}function cc(e,i){e=e|0;i=i|0;m=e;p=i}function bc(e){e=e|0;ei(512,3,e|0);return}function kc(e){e=e|0;ei(520,2,e|0);return}function hc(e){e=e|0;ei(496,5,e|0);return}function dc(e){e=e|0;ei(504,4,e|0);return}function wc(e){e=e|0;ei(528,1,e|0);return}function _c(e){e=e|0;ei(536,0,e|0);return}function vc(e){e=e|0;si(14126,12515,1175,14155)}function Ec(e){e=e|0;si(12486,12515,1164,12450)}function mc(e,i,r){e=e|0;i=i|0;r=r|0;return ik[e&15](i|0,r|0)|0}function pc(e,i,r,f,a,l){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;l=l|0;Me(13)}function Sc(e,i){e=e|0;i=i|0;var r=0;if(!e)r=0;else r=es(e,i,0)|0;return r|0}function gc(e){e=e|0;si(12352,12375,303,12450)}function yc(e,i,r){e=e|0;i=i|0;r=r|0;return+Vb[e&1](i|0,r|0)}function Fc(e,i){e=e|0;i=i|0;if(!A){A=e;T=i}}function Ac(e,i,r){e=e|0;i=i|0;r=r|0;return ho(e,i,r)|0}function Tc(e,i,r){e=e|0;i=i|0;r=r|0;Gb[e&7](i|0,r|0)}function Oc(e){e=e|0;var i=0;if(!e)i=1;else i=(k[e>>2]|0)==0;return i&1|0}function Mc(e,i,r){e=e|0;i=i|0;r=r|0;return Ut(e,i,r)|0}function Rc(e,i,r){e=e|0;i=i|0;r=+r;Wb[e&3](i|0,+r)}function Nc(e,i,r,f,a){e=e|0;i=i|0;r=r|0;f=f|0;a=a|0;_e(1)}function Pc(e){e=e|0;oa(k[e>>2]|0);oa(e);return 0}function Dc(e){e=e|0;return Kb[e&1]()|0}function Cc(e,i){e=e|0;i=i|0;oa(e);oa(i);return}function Ic(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;Oe(12);return 0}function Lc(e,i,r){e=e|0;i=i|0;r=r|0;al(e,i,r)|0;return e|0}function xc(e,i){e=e|0;i=i|0;return qb[e&31](i|0)|0}function Bc(e,i){e=e|0;i=i|0;Ml(e,i)|0;return e|0}function Hc(){Al(0);return}function Uc(e,i){e=e|0;i=i|0;return Bo(e,i,(Hn(e)|0)+1|0)|0}function Yc(e){e=e|0;return ko(e+8|0)|0}function zc(e,i){e=e|0;i=i|0;return+jb[e&3](i|0)}function Vc(e,i){e=e|0;i=i|0;return(Ht(e,Hn(e)|0,1,i)|0)+-1|0}function Wc(){var e=0;e=k[559]|0;k[559]=e+0;return e|0}function jc(e){e=e|0;if(e){oa(k[e>>2]|0);oa(e)}return 0}function Kc(e){e=e|0;Tb(e);return}function Xc(e,i,r,f){e=e|0;i=i|0;r=r|0;f=f|0;Ne(15)}function Gc(e){e=e|0;Tb(e);return}function qc(e,i){e=e|0;i=i|0;Xb[e&15](i|0)}function Jc(e){e=e|0;Tb(e);return}function Zc(e){e=e|0;Tb(e);return}function Qc(e){e=e|0;if(!(k[e+68>>2]|0))Db(e);return}function $c(e){e=e|0;if(!(k[e+68>>2]|0))Db(e);return}function eb(e,i,r){e=e|0;i=i|0;r=r|0;we(0);return 0}function ib(e){e=e|0;return((e|0)==32|(e+-9|0)>>>0<5)&1|0}function rb(e){e=e|0;return Fu(k[e+4>>2]|0)|0}function fb(e){e=e|0;oa(k[e>>2]|0);oa(e);return 0}function ab(e){e=e|0;return Kb[e&1]()|0}function lb(e){e=e|0;return}function nb(e){e=e|0;return}function sb(e,i,r){e=e|0;i=i|0;r=r|0;Fe(9)}function tb(e,i,r){e=e|0;i=i|0;r=+r;Te(11)}function ob(e){e=e|0;k[496]=e;return}function ub(e){e=e|0;return}function cb(e){e=e|0;Tb(e);return}function bb(e,i){e=+e;i=+i;return+ +co(e,i)}function kb(e,i){e=+e;i=i|0;return+ +$n(e,i)}function hb(e,i){e=e|0;i=i|0;ve(2);return 0.0}function db(e,i){e=e|0;i=i|0;Re(14);return 0}function wb(e){e=e|0;Zb[e&0]()}function _b(e,i){e=+e;i=i|0;return+ +vs(e,i)}function vb(e){e=e|0;return 12471}function Eb(e){e=e|0;return(e+-65|0)>>>0<26|0}function mb(e,i){e=+e;i=+i;return+ +xa(e,i)}function pb(){return sl(16,50)|0}function Sb(e){e=e|0;Y=e}function gb(e,i){e=e|0;i=i|0;ge(7)}function yb(e){e=e|0;return}function Fb(e){e=e|0;return}function Ab(e){e=e|0;return}function Tb(e){e=e|0;oa(e);return}function Ob(e,i){e=e|0;i=+i;Ee(3)}function Mb(e){e=e|0;return Jo(e)|0}function Rb(e){e=e|0;m=e}function Nb(e){e=e|0;me(4);return 0.0}function Pb(e){e=e|0;ye(8);return 0}function Db(e){e=e|0;return}function Cb(e){e=e|0;return 0}function Ib(){return k[496]|0}function Lb(e){e=e|0;Se(6)}function xb(){return Y|0}function Bb(){return m|0}function Hb(){pe(5);return 0}function Ub(){Ae(10)}var Yb=[eb,mu,On,Lo,ll,at,At,pn,Un,Cn,Rn,Vl,kt,Du,Cl,Mc];var zb=[Nc,Mn,vl,Ma];var Vb=[hb,nc];var Wb=[Ob,Is,Bs,Xn];var jb=[Nb,Qs,$s,os];var Kb=[Hb,Ib];var Xb=[Lb,Ab,cb,ub,Kc,nb,lb,Zc,Jc,Gc,ob,Oo,Io,$c,Qc,Lb];var Gb=[gb,ts,Qn,ls,Xs,cs,us,sc];var qb=[Pb,vb,No,Ll,zs,Wn,Ls,Vs,Ts,Ws,is,bs,hs,gs,ns,fs,Dc,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb,Pb];var Jb=[sb,Iu];var Zb=[Ub];var Qb=[tb,xu,Lu,tb];var $b=[Ic,ku];var ek=[pc,xt,qs,Il];var ik=[db,tc,un,dl,jn,Dl,hn,bn,bl,Gn,lc,St,db,db,db,db];var rk=[Xc,so,Ft,xn];return{_malloc:Sr,_i64Subtract:Su,_fflush:Ln,_i64Add:Qu,_memmove:oo,_memset:ut,___cxa_demangle:La,_memcpy:rt,___getTypeName:rb,_bitshift64Lshr:au,_free:oa,___errno_location:Ju,_bitshift64Shl:iu,__GLOBAL__sub_I_ARToolKitJS_cpp:wo,__GLOBAL__sub_I_bind_cpp:Hc,runPostSets:pu,_emscripten_replace_memory:wr,stackAlloc:Ru,stackSave:Bb,stackRestore:Rb,establishStackSpace:cc,setThrew:Fc,setTempRet0:Sb,getTempRet0:xb,dynCall_iiii:ec,dynCall_viiiii:Au,dynCall_dii:yc,dynCall_vid:Rc,dynCall_di:zc,dynCall_i:ab,dynCall_vi:qc,dynCall_vii:Tc,dynCall_ii:xc,dynCall_viii:ac,dynCall_v:wb,dynCall_viid:oc,dynCall_iiiii:Cu,dynCall_viiiiii:uu,dynCall_iii:mc,dynCall_viiii:ju}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer),real____cxa_demangle=asm.___cxa_demangle;asm.___cxa_demangle=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____cxa_demangle.apply(null,arguments)};var real__i64Subtract=asm._i64Subtract;asm._i64Subtract=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__i64Subtract.apply(null,arguments)};var real___GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp;asm.__GLOBAL__sub_I_bind_cpp=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real___GLOBAL__sub_I_bind_cpp.apply(null,arguments)};var real__fflush=asm._fflush;asm._fflush=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__fflush.apply(null,arguments)};var real___GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp;asm.__GLOBAL__sub_I_ARToolKitJS_cpp=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real___GLOBAL__sub_I_ARToolKitJS_cpp.apply(null,arguments)};var real__i64Add=asm._i64Add;asm._i64Add=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__i64Add.apply(null,arguments)};var real__memmove=asm._memmove;asm._memmove=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__memmove.apply(null,arguments)};var real__malloc=asm._malloc;asm._malloc=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__malloc.apply(null,arguments)};var real____getTypeName=asm.___getTypeName;asm.___getTypeName=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____getTypeName.apply(null,arguments)};var real__bitshift64Lshr=asm._bitshift64Lshr;asm._bitshift64Lshr=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__bitshift64Lshr.apply(null,arguments)};var real__free=asm._free;asm._free=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__free.apply(null,arguments)};var real____errno_location=asm.___errno_location;asm.___errno_location=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real____errno_location.apply(null,arguments)};var real__bitshift64Shl=asm._bitshift64Shl;asm._bitshift64Shl=function(){return assert(runtimeInitialized,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!runtimeExited,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),real__bitshift64Shl.apply(null,arguments)};var ___cxa_demangle=Module.___cxa_demangle=asm.___cxa_demangle,_i64Subtract=Module._i64Subtract=asm._i64Subtract,__GLOBAL__sub_I_bind_cpp=Module.__GLOBAL__sub_I_bind_cpp=asm.__GLOBAL__sub_I_bind_cpp,_fflush=Module._fflush=asm._fflush,__GLOBAL__sub_I_ARToolKitJS_cpp=Module.__GLOBAL__sub_I_ARToolKitJS_cpp=asm.__GLOBAL__sub_I_ARToolKitJS_cpp,_i64Add=Module._i64Add=asm._i64Add,_memmove=Module._memmove=asm._memmove,_memset=Module._memset=asm._memset,runPostSets=Module.runPostSets=asm.runPostSets,_malloc=Module._malloc=asm._malloc,_memcpy=Module._memcpy=asm._memcpy,___getTypeName=Module.___getTypeName=asm.___getTypeName,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr,_free=Module._free=asm._free,_emscripten_replace_memory=Module._emscripten_replace_memory=asm._emscripten_replace_memory,___errno_location=Module.___errno_location=asm.___errno_location,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_dii=Module.dynCall_dii=asm.dynCall_dii,dynCall_vid=Module.dynCall_vid=asm.dynCall_vid,dynCall_di=Module.dynCall_di=asm.dynCall_di,dynCall_i=Module.dynCall_i=asm.dynCall_i,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii,initialStackTop;function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.establishStackSpace=asm.establishStackSpace,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0,ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var preloadStartTime=null,calledMain=!1;function run(e){function i(){Module.calledRun||(Module.calledRun=!0,ABORT||(ensureInitRuntime(),preMain(),ENVIRONMENT_IS_WEB&&null!==preloadStartTime&&Module.printErr("pre-main prep time: "+(Date.now()-preloadStartTime)+" ms"),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(e),postRun()))}e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0?Module.printErr("run() called, but dependencies remain, so not running"):(preRun(),runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),i()},1)):i()))}function exit(e,i){if(!i||!Module.noExitRuntime)throw Module.noExitRuntime?Module.printErr("exit("+e+") called, but noExitRuntime, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)"):(ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(e)),ENVIRONMENT_IS_NODE?(process.stdout.once("drain",function(){process.exit(e)}),console.log(" "),setTimeout(function(){process.exit(e)},500)):ENVIRONMENT_IS_SHELL&&"function"==typeof quit&&quit(e),new ExitStatus(e);Module.printErr("exit("+e+") implicitly called by end of main(), but noExitRuntime, so not exiting the runtime (you can use emscripten_force_exit, if you want to force a true shutdown)")}dependenciesFulfilled=function e(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var i=e.length+1;function r(){for(var e=0;e<3;e++)f.push(0)}var f=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];r();for(var a=0;a<i-1;a+=1)f.push(allocate(intArrayFromString(e[a]),"i8",ALLOC_NORMAL)),r();f.push(0),f=allocate(f,"i32",ALLOC_NORMAL);try{exit(Module._main(i,f,0),!0)}catch(e){if(e instanceof ExitStatus)return;if("SimulateInfiniteLoop"==e)return void(Module.noExitRuntime=!0);throw e&&"object"==typeof e&&e.stack&&Module.printErr("exception thrown: "+[e,e.stack]),e}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit;var abortDecorators=[];function abort(e){void 0!==e?(Module.print(e),Module.printErr(e),e=JSON.stringify(e)):e="",ABORT=!0,EXITSTATUS=1;var i="abort("+e+") at "+stackTrace();throw abortDecorators&&abortDecorators.forEach(function(r){i=r(i,e)}),i}if(Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run(),exports.FS=FS,exports.Module=Module;
},{"fs":"+aaM","path":"CjBA","crypto":"3Cgj","process":"HLGr","buffer":"eKIq"}],"xAgZ":[function(require,module,exports) {
!function(){"use strict";var t=function(t,r,i){var a=t,o=r;if(this.orientation="landscape",this.listeners={},"number"!=typeof t){var n=t;i=r,a=n.videoWidth||n.width,o=n.videoHeight||n.height,this.image=n}if(this.defaultMarkerWidth=1,this.patternMarkers={},this.barcodeMarkers={},this.transform_mat=new Float32Array(16),this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=o,this.ctx=this.canvas.getContext("2d"),this.videoWidth=a,this.videoHeight=o,"string"==typeof i){var s=this;this.cameraParam=new e(i,function(){s._initialize()},function(t){console.error("ARController: Failed to load ARCameraParam",t)})}else this.cameraParam=i,this._initialize()};t.prototype.dispose=function(){for(var t in r.teardown(this.id),this)this[t]=null},t.prototype.process=function(t){this.detectMarker(t);var e,i,a=this.getMarkerNum();for(e in this.patternMarkers)(i=this.patternMarkers[e]).inPrevious=i.inCurrent,i.inCurrent=!1;for(e in this.barcodeMarkers)(i=this.barcodeMarkers[e]).inPrevious=i.inCurrent,i.inCurrent=!1;for(var o=0;o<a;o++){var n=this.getMarker(o),s=r.UNKNOWN_MARKER,h=this.trackPatternMarkerId(-1);n.idPatt>-1&&(n.id===n.idPatt||-1===n.idMatrix)?(h=this.trackPatternMarkerId(n.idPatt),s=r.PATTERN_MARKER,n.dir!==n.dirPatt&&this.setMarkerInfoDir(o,n.dirPatt)):n.idMatrix>-1&&(h=this.trackBarcodeMarkerId(n.idMatrix),s=r.BARCODE_MARKER,n.dir!==n.dirMatrix&&this.setMarkerInfoDir(o,n.dirMatrix)),s!==r.UNKNOWN_MARKER&&h.inPrevious?this.getTransMatSquareCont(o,h.markerWidth,h.matrix,h.matrix):this.getTransMatSquare(o,h.markerWidth,h.matrix),h.inCurrent=!0,this.transMatToGLMat(h.matrix,this.transform_mat),this.dispatchEvent({name:"getMarker",target:this,data:{index:o,type:s,marker:n,matrix:this.transform_mat}})}var d=this.getMultiMarkerCount();for(o=0;o<d;o++){var u=this.getMultiMarkerPatternCount(o);h=!1;r.getTransMatMultiSquareRobust(this.id,o),this.transMatToGLMat(this.marker_transform_mat,this.transform_mat);for(var c=0;c<u;c++){if((g=this.getMultiEachMarker(o,c)).visible>=0){h=!0,this.dispatchEvent({name:"getMultiMarker",target:this,data:{multiMarkerId:o,matrix:this.transform_mat}});break}}if(h)for(c=0;c<u;c++){var g=this.getMultiEachMarker(o,c);this.transMatToGLMat(this.marker_transform_mat,this.transform_mat),this.dispatchEvent({name:"getMultiMarkerSub",target:this,data:{multiMarkerId:o,markerIndex:c,marker:g,matrix:this.transform_mat}})}}this._bwpointer&&this.debugDraw()},t.prototype.trackPatternMarkerId=function(t,e){var r=this.patternMarkers[t];return r||(this.patternMarkers[t]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:e||this.defaultMarkerWidth}),e&&(r.markerWidth=e),r},t.prototype.trackBarcodeMarkerId=function(t,e){var r=this.barcodeMarkers[t];return r||(this.barcodeMarkers[t]=r={inPrevious:!1,inCurrent:!1,matrix:new Float32Array(12),markerWidth:e||this.defaultMarkerWidth}),e&&(r.markerWidth=e),r},t.prototype.getMultiMarkerCount=function(){return r.getMultiMarkerCount(this.id)},t.prototype.getMultiMarkerPatternCount=function(t){return r.getMultiMarkerNum(this.id,t)},t.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.removeEventListener=function(t,e){if(this.listeners[t]){var r=this.listeners[t].indexOf(e);r>-1&&this.listeners[t].splice(r,1)}},t.prototype.dispatchEvent=function(t){var e=this.listeners[t.name];if(e)for(var r=0;r<e.length;r++)e[r].call(this,t)},t.prototype.debugSetup=function(){document.body.appendChild(this.canvas),this.setDebugMode(1),this._bwpointer=this.getProcessingImage()},t.prototype.loadMarker=function(t,e,i){return r.addMarker(this.id,t,e,i)},t.prototype.loadMultiMarker=function(t,e,i){return r.addMultiMarker(this.id,t,e,i)},t.prototype.getTransMatSquare=function(t,e,i){return r.getTransMatSquare(this.id,t,e),i.set(this.marker_transform_mat),i},t.prototype.getTransMatSquareCont=function(t,e,i,a){return this.marker_transform_mat.set(i),r.getTransMatSquareCont(this.id,t,e),a.set(this.marker_transform_mat),a},t.prototype.getTransMatMultiSquare=function(t,e){return r.getTransMatMultiSquare(this.id,t),e.set(this.marker_transform_mat),e},t.prototype.getTransMatMultiSquareRobust=function(t,e){return r.getTransMatMultiSquare(this.id,t),e.set(this.marker_transform_mat),e},t.prototype.transMatToGLMat=function(t,e,r){return e[0]=t[0],e[4]=t[1],e[8]=t[2],e[12]=t[3],e[1]=t[4],e[5]=t[5],e[9]=t[6],e[13]=t[7],e[2]=t[8],e[6]=t[9],e[10]=t[10],e[14]=t[11],e[3]=0,e[7]=0,e[11]=0,e[15]=1,null!=r&&0!==r&&(e[12]*=r,e[13]*=r,e[14]*=r),e},t.prototype.detectMarker=function(t){return this._copyImageToHeap(t)?r.detectMarker(this.id):-99},t.prototype.getMarkerNum=function(){return r.getMarkerNum(this.id)},t.prototype.getMarker=function(t){if(0===r.getMarker(this.id,t))return r.markerInfo},t.prototype.setMarkerInfoVertex=function(t,e){for(var i=0;i<e.length;i++)this.marker_transform_mat[2*i+0]=e[i][0],this.marker_transform_mat[2*i+1]=e[i][1];return r.setMarkerInfoVertex(this.id,t)},t.prototype.cloneMarkerInfo=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.getMultiEachMarker=function(t,e){if(0===r.getMultiEachMarker(this.id,t,e))return r.multiEachMarkerInfo},t.prototype.getTransformationMatrix=function(){return this.transform_mat},t.prototype.getCameraMatrix=function(){return this.camera_mat},t.prototype.getMarkerTransformationMatrix=function(){return this.marker_transform_mat},t.prototype.setDebugMode=function(t){return r.setDebugMode(this.id,t)},t.prototype.getDebugMode=function(){return r.getDebugMode(this.id)},t.prototype.getProcessingImage=function(){return r.getProcessingImage(this.id)},t.prototype.setLogLevel=function(t){return r.setLogLevel(t)},t.prototype.getLogLevel=function(){return r.getLogLevel()},t.prototype.setMarkerInfoDir=function(t,e){return r.setMarkerInfoDir(this.id,t,e)},t.prototype.setProjectionNearPlane=function(t){return r.setProjectionNearPlane(this.id,t)},t.prototype.getProjectionNearPlane=function(){return r.getProjectionNearPlane(this.id)},t.prototype.setProjectionFarPlane=function(t){return r.setProjectionFarPlane(this.id,t)},t.prototype.getProjectionFarPlane=function(){return r.getProjectionFarPlane(this.id)},t.prototype.setThresholdMode=function(t){return r.setThresholdMode(this.id,t)},t.prototype.getThresholdMode=function(){return r.getThresholdMode(this.id)},t.prototype.setThreshold=function(t){return r.setThreshold(this.id,t)},t.prototype.getThreshold=function(){return r.getThreshold(this.id)},t.prototype.setPatternDetectionMode=function(t){return r.setPatternDetectionMode(this.id,t)},t.prototype.getPatternDetectionMode=function(){return r.getPatternDetectionMode(this.id)},t.prototype.setMatrixCodeType=function(t){return r.setMatrixCodeType(this.id,t)},t.prototype.getMatrixCodeType=function(){return r.getMatrixCodeType(this.id)},t.prototype.setLabelingMode=function(t){return r.setLabelingMode(this.id,t)},t.prototype.getLabelingMode=function(){return r.getLabelingMode(this.id)},t.prototype.setPattRatio=function(t){return r.setPattRatio(this.id,t)},t.prototype.getPattRatio=function(){return r.getPattRatio(this.id)},t.prototype.setImageProcMode=function(t){return r.setImageProcMode(this.id,t)},t.prototype.getImageProcMode=function(){return r.getImageProcMode(this.id)},t.prototype.debugDraw=function(){var t=new Uint8ClampedArray(g.HEAPU8.buffer,this._bwpointer,this.framesize),e=new ImageData(t,this.canvas.width,this.canvas.height);this.ctx.putImageData(e,0,0);for(var r=this.getMarkerNum(),i=0;i<r;i++)this._debugMarker(this.getMarker(i))},t.prototype._initialize=function(){this.id=r.setup(this.canvas.width,this.canvas.height,this.cameraParam.id);var t=r.frameMalloc;this.framepointer=t.framepointer,this.framesize=t.framesize,this.dataHeap=new Uint8Array(g.HEAPU8.buffer,this.framepointer,this.framesize),this.camera_mat=new Float64Array(g.HEAPU8.buffer,t.camera,16),this.marker_transform_mat=new Float64Array(g.HEAPU8.buffer,t.transform,12),this.setProjectionNearPlane(.1),this.setProjectionFarPlane(1e3);var e=this;setTimeout(function(){e.onload&&e.onload(),e.dispatchEvent({name:"load",target:e})},1)},t.prototype._copyImageToHeap=function(t){t||(t=this.image),this.ctx.save(),"portrait"===this.orientation?(this.ctx.translate(this.canvas.width,0),this.ctx.rotate(Math.PI/2),this.ctx.drawImage(t,0,0,this.canvas.height,this.canvas.width)):this.ctx.drawImage(t,0,0,this.canvas.width,this.canvas.height),this.ctx.restore();var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;return!!this.dataHeap&&(this.dataHeap.set(e),!0)},t.prototype._debugMarker=function(t){var e,r;e=t.vertex;var i=this.ctx;i.strokeStyle="red",i.beginPath(),i.moveTo(e[0][0],e[0][1]),i.lineTo(e[1][0],e[1][1]),i.stroke(),i.beginPath(),i.moveTo(e[2][0],e[2][1]),i.lineTo(e[3][0],e[3][1]),i.stroke(),i.strokeStyle="green",i.beginPath(),i.lineTo(e[1][0],e[1][1]),i.lineTo(e[2][0],e[2][1]),i.stroke(),i.beginPath(),i.moveTo(e[3][0],e[3][1]),i.lineTo(e[0][0],e[0][1]),i.stroke(),r=t.pos,i.beginPath(),i.arc(r[0],r[1],8,0,2*Math.PI),i.fillStyle="red",i.fill()},t.getUserMedia=function(t){var e=t.facingMode||"environment",r=t.onSuccess,i=t.onError||function(t){console.error("ARController.getUserMedia",t)},a=document.createElement("video"),o=function(){0!==this.videoWidth&&r(a)},n=!1,s=["touchstart","touchend","touchmove","touchcancel","click","mousedown","mouseup","mousemove","keydown","keyup","keypress","scroll"],h=function(t){n&&(a.play(),a.paused||s.forEach(function(t){window.removeEventListener(t,h,!0)}))};s.forEach(function(t){window.addEventListener(t,h,!0)});var d=function(t){a.addEventListener("loadedmetadata",o,!1),a.src=window.URL.createObjectURL(t),n=!0,h()},u={},c={};t.width&&(c.width=t.width,"object"==typeof t.width?(t.width.max&&(u.maxWidth=t.width.max),t.width.min&&(u.minWidth=t.width.max)):u.maxWidth=t.width),t.height&&(c.height=t.height,"object"==typeof t.height?(t.height.max&&(u.maxHeight=t.height.max),t.height.min&&(u.minHeight=t.height.max)):u.maxHeight=t.height);var g={mandatory:u};t.cameraConfig&&t.cameraConfig.video&&(g=t.cameraConfig.video),c.facingMode=e,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var m={audio:!1,video:g};return navigator.getUserMedia?navigator.getUserMedia(m,d,i):i("navigator.getUserMedia is not supported on your browser"),a},t.getUserMediaARController=function(r){var i={};for(var a in r)i[a]=r[a];var o=r.onSuccess,n=r.cameraParam;i.onSuccess=function(){new e(n,function(){var e=(r.maxARVideoSize||Math.max(s.videoWidth,s.videoHeight))/Math.max(s.videoWidth,s.videoHeight),i=e*s.videoWidth,a=e*s.videoHeight;if(s.videoWidth<s.videoHeight){var n=i;i=a,a=n}var h=new t(i,a,this);h.image=s,s.videoWidth<s.videoHeight?(h.orientation="portrait",h.videoWidth=s.videoHeight,h.videoHeight=s.videoWidth):(h.orientation="landscape",h.videoWidth=s.videoWidth,h.videoHeight=s.videoHeight),o(h,this)},function(t){console.error("ARController: Failed to load ARCameraParam",t)})};var s=this.getUserMedia(i);return s};var e=function(t,e,r){this.id=-1,this._src="",this.complete=!1,this.onload=e,this.onerror=r,t&&this.load(t)};e.prototype.load=function(t){if(""!==this._src)throw"ARCameraParam: Trying to load camera parameters twice.";if(this._src=t,t){var e=this;r.loadCamera(t,function(t){e.id=t,e.complete=!0,e.onload()},function(t){e.onerror(t)})}},Object.defineProperty(e.prototype,"src",{set:function(t){this.load(t)},get:function(){return this._src}}),e.prototype.dispose=function(){-1!==this.id&&r.deleteCamera(this.id),this.id=-1,this._src="",this.complete=!1};var r={UNKNOWN_MARKER:-1,PATTERN_MARKER:0,BARCODE_MARKER:1,loadCamera:function(t,e){var r="/camera_param_"+s++,i=function(){var t=g._loadCamera(r);e&&e(t)};"object"==typeof t?h(r,t,i):t.indexOf("\n")>-1?function(t,e,r){for(var i=new Uint8Array(e.length),a=0;a<i.length;a++)i[a]=255&e.charCodeAt(a);h(t,i,r)}(r,t,i):d(t,r,i)},addMarker:function(t,e,r){var i="/marker_"+o++;d(e,i,function(){var e=g._addMarker(t,i);r&&r(e)})},addMultiMarker:function(t,e,r){var i="/multi_marker_"+n++;d(e,i,function(a){var o=function(t){var e=(a=t,String.fromCharCode.apply(String,a)).split("\n"),r=[],i=0;var a;return e.forEach(function(t){if((t=t.trim())&&!t.startsWith("#"))switch(i){case 0:return+t,void(i=1);case 1:t.match(/^\d+$/)||r.push(t);case 2:case 3:case 4:return void i++;case 5:return void(i=1)}}),r}(a);function n(){var e=g._addMultiMarker(t,i),a=g.getMultiMarkerNum(t,e);r&&r(e,a)}if(!o.length)return n();var s=e.split("/").slice(0,-1).join("/");(function t(e,r){var i=e.pop();i?d(i[0],i[1],function(){t(e,r)}):r()})(o=o.map(function(t){return[s+"/"+t,t]}),n)})}},i=["setup","teardown","setLogLevel","getLogLevel","setDebugMode","getDebugMode","getProcessingImage","setMarkerInfoDir","setMarkerInfoVertex","getTransMatSquare","getTransMatSquareCont","getTransMatMultiSquare","getTransMatMultiSquareRobust","getMultiMarkerNum","getMultiMarkerCount","detectMarker","getMarkerNum","getMarker","getMultiEachMarker","setProjectionNearPlane","getProjectionNearPlane","setProjectionFarPlane","getProjectionFarPlane","setThresholdMode","getThresholdMode","setThreshold","getThreshold","setPatternDetectionMode","getPatternDetectionMode","setMatrixCodeType","getMatrixCodeType","setLabelingMode","getLabelingMode","setPattRatio","getPattRatio","setImageProcMode","getImageProcMode"];function a(){for(var t in i.forEach(function(t){r[t]=g[t]}),g)t.match(/^AR/)&&(r[t]=g[t])}var o=0;var n=0;var s=0;function h(t,e,r){c.writeFile(t,e,{encoding:"binary"}),r(e)}function d(t,e,r){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(t){var a=i.response,o=new Uint8Array(a);h(e,o,r)},i.send()}window.artoolkit=r,window.ARController=t,window.ARCameraParam=e,exports.artoolkit=r,exports.ARController=t,exports.ARCameraParam=e;var u=require("../build/artoolkit.debug"),c=u.FS,g=u.Module;window.Module=g,window.Module?a():window.Module={onRuntimeInitialized:function(){a()}}}();
},{"../build/artoolkit.debug":"3S0m"}],"bzU8":[function(require,module,exports) {
!function(){var e=function(){ARController.getUserMediaThreeScene=function(e){var r={};for(var t in e)r[t]=e[t];var a=e.onSuccess;return r.onSuccess=function(e,r){var t=e.createThreeScene();a(t,e,r)},this.getUserMediaARController(r)},ARController.prototype.createThreeScene=function(e){e=e||this.image,this.setupThree();var r=new THREE.Texture(e);r.minFilter=THREE.LinearFilter,r.flipY=!1;var t=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),new THREE.MeshBasicMaterial({map:r,side:THREE.DoubleSide}));t.material.depthTest=!1,t.material.depthWrite=!1;var a=new THREE.OrthographicCamera(-1,1,-1,1,-1,1),i=new THREE.Scene;i.add(t),i.add(a),"portrait"===this.orientation&&(t.rotation.z=Math.PI/2);var n=new THREE.Scene,s=new THREE.Camera;s.matrixAutoUpdate=!1,s.projectionMatrix.elements.set(this.getCameraMatrix()),n.add(s);var o=this;return{scene:n,videoScene:i,camera:s,videoCamera:a,arController:this,video:e,process:function(){for(var r in o.threePatternMarkers)o.threePatternMarkers[r].visible=!1;for(var r in o.threeBarcodeMarkers)o.threeBarcodeMarkers[r].visible=!1;for(var r in o.threeMultiMarkers){o.threeMultiMarkers[r].visible=!1;for(var t=0;t<o.threeMultiMarkers[r].markers.length;t++)o.threeMultiMarkers[r].markers[t]&&(o.threeMultiMarkers[r].markers[t].visible=!1)}o.process(e)},renderOn:function(e){r.needsUpdate=!0;var t=e.autoClear;e.autoClear=!1,e.clear(),e.render(this.videoScene,this.videoCamera),e.render(this.scene,this.camera),e.autoClear=t}}},ARController.prototype.createThreeMarker=function(e,r){this.setupThree();var t=new THREE.Object3D;return t.markerTracker=this.trackPatternMarkerId(e,r),t.matrixAutoUpdate=!1,this.threePatternMarkers[e]=t,t},ARController.prototype.createThreeMultiMarker=function(e){this.setupThree();var r=new THREE.Object3D;return r.matrixAutoUpdate=!1,r.markers=[],this.threeMultiMarkers[e]=r,r},ARController.prototype.createThreeBarcodeMarker=function(e,r){this.setupThree();var t=new THREE.Object3D;return t.markerTracker=this.trackBarcodeMarkerId(e,r),t.matrixAutoUpdate=!1,this.threeBarcodeMarkers[e]=t,t},ARController.prototype.setupThree=function(){this.THREE_JS_ENABLED||(this.THREE_JS_ENABLED=!0,this.addEventListener("getMarker",function(e){var r;e.data.marker;e.data.type===artoolkit.PATTERN_MARKER?r=this.threePatternMarkers[e.data.marker.idPatt]:e.data.type===artoolkit.BARCODE_MARKER&&(r=this.threeBarcodeMarkers[e.data.marker.idMatrix]),r&&(r.matrix.elements.set(e.data.matrix),r.visible=!0)}),this.addEventListener("getMultiMarker",function(e){var r=this.threeMultiMarkers[e.data.multiMarkerId];r&&(r.matrix.elements.set(e.data.matrix),r.visible=!0)}),this.addEventListener("getMultiMarkerSub",function(e){var r=e.data.multiMarkerId,t=e.data.markerIndex,a=e.data.marker,i=this.threeMultiMarkers[r];if(i&&i.markers&&i.markers[t]){var n=i.markers[t];n.matrix.elements.set(e.data.matrix),n.visible=a.visible>=0}}),this.threePatternMarkers={},this.threeBarcodeMarkers={},this.threeMultiMarkers={})}},r=function(){var t=require("three");window.THREE=t,window.ARController&&window.THREE?(e(),window.ARThreeOnLoad&&window.ARThreeOnLoad()):setTimeout(r,50)};r()}();
},{"three":"dKqR"}],"fgB/":[function(require,module,exports) {
"use strict";function r(r){for(var t in r)exports.hasOwnProperty(t)||(exports[t]=r[t])}r(require("./artoolkit.api")),r(require("./artoolkit.three"));
},{"./artoolkit.api":"xAgZ","./artoolkit.three":"bzU8"}],"yKFF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("three"),e=require("jsartoolkit5");class a{constructor(t){this.parameters=Object.assign({},{sourceType:"webcam",sourceUrl:null,sourceWidth:640,sourceHeight:480,displayWidth:640,displayHeight:480},t),this.domElement=null,this.ready=!1}init(t,e){const a=this,{sourceType:r}=this.parameters,o={image:()=>a.initSourceImage(t,e),video:()=>a.initSourceVideo(t,e),webcam:()=>this.initSourceWebcam(t,e)};if(r in o){const t=o[r]();this.domElement=t,this.domElement.style.position="absolute",this.domElement.style.top="0",this.domElement.style.left="0",this.domElement.style.zIndex="-2",this.render()}}render(){document.body.appendChild(this.domElement),this.ready=!0}initSourceImage(t){const e=document.createElement("img");e.src=this.parameters.sourceUrl,e.width=this.parameters.sourceWidth,e.height=this.parameters.sourceHeight,e.style.width=`${this.parameters.displayWidth}px`,e.style.height=`${this.parameters.displayHeight}px`;const a=setInterval(()=>{e.naturalWidth&&(t(),clearInterval(a))},20);return e}initSourceVideo(t){const e=document.createElement("video");e.src=this.parameters.sourceUrl,e.style.objectFit="initial",e.autoplay=!0,e.webkitPlaysinline=!0,e.controls=!1,e.loop=!0,e.muted=!0,document.body.addEventListener("click",function t(){document.body.removeEventListener("click",t),e.play()}),e.width=this.parameters.sourceWidth,e.height=this.parameters.sourceHeight,e.style.width=this.parameters.displayWidth+"px",e.style.height=this.parameters.displayHeight+"px";var a=setInterval(()=>{e.videoWidth&&(t(),clearInterval(a))},20);return e}initSourceWebcam(t,e){const a=this;e=e||(t=>alert(`Webcam Error\nName:${t.name}\nMessage:${t.message}`));const r=document.createElement("video");if(r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.setAttribute("playsinline",""),r.style.width=this.parameters.displayWidth+"px",r.style.height=this.parameters.displayHeight+"px",void 0===navigator.mediaDevices||void 0===navigator.mediaDevices.enumerateDevices||void 0===navigator.mediaDevices.getUserMedia){if(void 0===navigator.mediaDevices)var o="navigator.mediaDevices";else if(void 0===navigator.mediaDevices.enumerateDevices)o="navigator.mediaDevices.enumerateDevices";else if(void 0===navigator.mediaDevices.getUserMedia)o="navigator.mediaDevices.getUserMedia";else console.assert(!1);return e({name:"",message:"WebRTC issue-! "+o+" not present in your browser"}),null}return navigator.mediaDevices.enumerateDevices().then(function(o){var i={audio:!1,video:{facingMode:"environment",width:{ideal:a.parameters.sourceWidth},height:{ideal:a.parameters.sourceHeight}}};navigator.mediaDevices.getUserMedia(i).then(function(e){r.srcObject=e,document.body.addEventListener("click",function(){r.play()});var a=setInterval(function(){r.videoWidth&&(t(),clearInterval(a))},20)}).catch(function(t){e({name:t.name,message:t.message})})}).catch(function(t){e({message:t.message})}),r}hasMobileTorch(){var t=arToolkitSource.domElement.srcObject;if(t instanceof MediaStream==!1)return!1;void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var e=t.getVideoTracks()[0];return void 0!==e.getCapabilities&&!!e.getCapabilities().torch}toggleMobileTorch(){console.assert(!0===this.hasMobileTorch());var t=arToolkitSource.domElement.srcObject;if(t instanceof MediaStream!=!1){void 0===this._currentTorchStatus&&(this._currentTorchStatus=!1);var e=t.getVideoTracks()[0];e.getCapabilities().torch?(this._currentTorchStatus=!1===this._currentTorchStatus,e.applyConstraints({advanced:[{torch:this._currentTorchStatus}]}).catch(function(t){console.log(t)})):alert("no mobile torch is available on your camera")}else alert("enabling mobile torch is available only on webcam")}domElementWidth(){return parseInt(this.domElement.style.width)}domElementHeight(){return parseInt(this.domElement.style.height)}onResizeElement(){const t=window.innerWidth,e=window.innerHeight;if(console.assert(0===arguments.length),"IMG"===this.domElement.nodeName)var a=this.domElement.naturalWidth,r=this.domElement.naturalHeight;else if("VIDEO"===this.domElement.nodeName)a=this.domElement.videoWidth,r=this.domElement.videoHeight;else console.assert(!1);var o=a/r;if(t/e<o){var i=o*e;this.domElement.style.width=i+"px",this.domElement.style.marginLeft=-(i-t)/2+"px",this.domElement.style.height=e+"px",this.domElement.style.marginTop="0px"}else{var n=1/(o/t);this.domElement.style.height=n+"px",this.domElement.style.marginTop=-(n-e)/2+"px",this.domElement.style.width=t+"px",this.domElement.style.marginLeft="0px"}}copyElementSizeTo(t){window.innerWidth>window.innerHeight?(t.style.width=this.domElement.style.width,t.style.height=this.domElement.style.height,t.style.marginLeft=this.domElement.style.marginLeft,t.style.marginTop=this.domElement.style.marginTop):(t.style.height=this.domElement.style.height,t.style.width=4*parseInt(t.style.height)/3+"px",t.style.marginLeft=(window.innerWidth-parseInt(t.style.width))/2+"px",t.style.marginTop=0)}copySizeTo(){console.warn("obsolete function arToolkitSource.copySizeTo. Use arToolkitSource.copyElementSizeTo"),this.copyElementSizeTo.apply(this,arguments)}onResize(){if(3!==arguments.length)return console.warn("obsolete function arToolkitSource.onResize. Use arToolkitSource.onResizeElement"),this.onResizeElement.apply(this,arguments);var t=arToolkitContext.parameters.trackingBackend;"artoolkit"===t?(this.onResizeElement(),!1===!!renderer.domElement.dataset.aframeCanvas&&this.copyElementSizeTo(renderer.domElement),null!==arToolkitContext.arController&&this.copyElementSizeTo(arToolkitContext.arController.canvas)):"aruco"===t?(this.onResizeElement(),this.copyElementSizeTo(renderer.domElement),this.copyElementSizeTo(arToolkitContext.arucoContext.canvas)):"tango"===t?renderer.setSize(window.innerWidth,window.innerHeight):console.assert(!1,"unhandled trackingBackend "+t);if("artoolkit"===t)null!==arToolkitContext.arController&&camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());else if("aruco"===t)camera.aspect=renderer.domElement.width/renderer.domElement.height,camera.updateProjectionMatrix();else if("tango"===t){var e=arToolkitContext._tangoContext.vrDisplay;e&&"Tango VR Device"===e.displayName&&THREE.WebAR.resizeVRSeeThroughCamera(e,camera)}else console.assert(!1,"unhandled trackingBackend "+t)}}const r=t=>a;var o=o||{};const i=function(t){this.id=o.ArBaseControls.id++,this.object3d=t,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1};i.id=0,Object.assign(i.prototype,t.EventDispatcher.prototype),i.prototype.update=function(){console.assert(!1,"you need to implement your own update")},i.prototype.name=function(){return console.assert(!1,"you need to implement your own .name()"),"Not yet implemented - name()"},o.ArBaseControls=i;const n=function(t,e,a){var r=this;i.call(this,e),this.context=t,this.parameters={size:1,type:"unknown",patternUrl:null,barcodeValue:null,changeMatrixMode:"modelViewMatrix",minConfidence:.6};var o=["pattern","barcode","unknown"];console.assert(-1!==o.indexOf(this.parameters.type),"illegal value",this.parameters.type);o=["modelViewMatrix","cameraTransformMatrix"];console.assert(-1!==o.indexOf(this.parameters.changeMatrixMode),"illegal value",this.parameters.changeMatrixMode),this.object3d=e,this.object3d.matrixAutoUpdate=!1,this.object3d.visible=!1,function(t){if(void 0===t)return;for(var e in t){var a=t[e];if(void 0!==a){var o=r.parameters[e];void 0!==o?r.parameters[e]=a:console.warn("THREEx.ArMarkerControls: '"+e+"' is not a property of this material.")}else console.warn("THREEx.ArMarkerControls: '"+e+"' parameter is undefined.")}}(a),t.addMarker(this),"artoolkit"===r.context.parameters.trackingBackend?this._initArtoolkit():"aruco"===r.context.parameters.trackingBackend?this._arucoPosit=new POS.Posit(this.parameters.size,r.context.arucoContext.canvas.width):"tango"===r.context.parameters.trackingBackend?this._initTango():console.assert(!1)};(n.prototype=Object.create(i.prototype)).constructor=n,n.prototype.dispose=function(){this.context.removeMarker(this)},n.prototype.updateWithModelViewMatrix=function(e){var a=this.object3d;if(a.visible=!0,"artoolkit"===this.context.parameters.trackingBackend){var r=(new t.Matrix4).copy(this.context._artoolkitProjectionAxisTransformMatrix);r.multiply(e),e.copy(r)}else"aruco"===this.context.parameters.trackingBackend||"tango"===this.context.parameters.trackingBackend||console.assert(!1);if("tango"!==this.context.parameters.trackingBackend){var o=(new t.Matrix4).makeRotationX(Math.PI/2);e.multiply(o)}"modelViewMatrix"===this.parameters.changeMatrixMode?a.matrix.copy(e):"cameraTransformMatrix"===this.parameters.changeMatrixMode?a.matrix.getInverse(e):console.assert(!1),a.matrix.decompose(a.position,a.quaternion,a.scale),this.dispatchEvent({type:"markerFound"})},n.prototype.name=function(){var t="";(t+=this.parameters.type,"pattern"===this.parameters.type)?t+=" - "+this.parameters.patternUrl.replace(/^.*\//g,""):"barcode"===this.parameters.type?t+=" - "+this.parameters.barcodeValue:console.assert(!1,"no .name() implemented for this marker controls");return t},n.prototype._initArtoolkit=function(){var e=this,a=null,r=setInterval(function(){null!==e.context.arController&&(clearInterval(r),r=null,function(){var t=e.context.arController;console.assert(null!==t),"pattern"===e.parameters.type?t.loadMarker(e.parameters.patternUrl,function(r){a=r,t.trackPatternMarkerId(a,e.parameters.size)}):"barcode"===e.parameters.type?(a=e.parameters.barcodeValue,t.trackBarcodeMarkerId(a,e.parameters.size)):"unknown"===e.parameters.type?a=null:console.log(!1,"invalid marker type",e.parameters.type);t.addEventListener("getMarker",function(t){if(t.data.type===artoolkit.PATTERN_MARKER&&"pattern"===e.parameters.type){if(null===a)return;t.data.marker.idPatt===a&&o(t)}else if(t.data.type===artoolkit.BARCODE_MARKER&&"barcode"===e.parameters.type){if(null===a)return;t.data.marker.idMatrix===a&&o(t)}else t.data.type===artoolkit.UNKNOWN_MARKER&&"unknown"===e.parameters.type&&o(t)})}())},20);return;function o(a){if(!(a.data.type===artoolkit.PATTERN_MARKER&&a.data.marker.cfPatt<e.parameters.minConfidence||a.data.type===artoolkit.BARCODE_MARKER&&a.data.marker.cfMatt<e.parameters.minConfidence)){var r=(new t.Matrix4).fromArray(a.data.matrix);e.updateWithModelViewMatrix(r)}}},n.prototype._initAruco=function(){this._arucoPosit=new POS.Posit(this.parameters.size,_this.context.arucoContext.canvas.width)},n.prototype._initTango=function(){console.log("init tango ArMarkerControls")};const s=function(t){this.arucoContext=t,this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.arucoContext.canvas.width,this.canvasElement.height=this.arucoContext.canvas.height};s.prototype.setSize=function(t,e){this.canvasElement.width!==t&&(this.canvasElement.width=t),this.canvasElement.height!==e&&(this.canvasElement.height=e)},s.prototype.clear=function(){var t=this.canvasElement;t.getContext("2d").clearRect(0,0,t.width,t.height)},s.prototype.drawContoursContours=function(){var t=this.arucoContext.detector.contours,e=this.canvasElement;this.drawContours(t,0,0,e.width,e.height,function(t){return t?"magenta":"blue"})},s.prototype.drawContoursPolys=function(){var t=this.arucoContext.detector.polys,e=this.canvasElement;this.drawContours(t,0,0,e.width,e.height,function(){return"green"})},s.prototype.drawContoursCandidates=function(){var t=this.arucoContext.detector.candidates,e=this.canvasElement;this.drawContours(t,0,0,e.width,e.height,function(){return"red"})},s.prototype.drawContours=function(t,e,a,r,o,i){var n,s,l,c=t.length,h=this.canvasElement.getContext("2d");for(h.save();c--;){for(s=t[c],h.strokeStyle=i(s.hole),h.beginPath(),n=0;n<s.length;++n)l=s[n],h.moveTo(e+l.x,a+l.y),l=s[(n+1)%s.length],h.lineTo(e+l.x,a+l.y);h.stroke(),h.closePath()}h.restore()},s.prototype.drawDetectorGrey=function(){var t=arucoContext.detector.grey;this.drawCVImage(t)},s.prototype.drawDetectorThreshold=function(){var t=arucoContext.detector.thres;this.drawCVImage(t)},s.prototype.drawCVImage=function(t){this.arucoContext.detector;var e=this.canvasElement,a=e.getContext("2d"),r=a.createImageData(e.width,e.height);this.copyCVImage2ImageData(t,r),a.putImageData(r,0,0)},s.prototype.copyCVImage2ImageData=function(t,e){for(var a=t.data.length,r=4*a+3;a--;)e.data[r-=4]=255,e.data[r-1]=e.data[r-2]=e.data[r-3]=t.data[a];return e},s.prototype.drawVideo=function(t){var e=this.canvasElement;e.getContext("2d").drawImage(t,0,0,e.width,e.height)},s.prototype.drawMarkerIDs=function(t){var e,a,r,o,i,n,s=this.canvasElement.getContext("2d");for(s.save(),s.strokeStyle="blue",s.lineWidth=1,i=0;i!==t.length;++i){for(e=t[i].corners,r=1/0,o=1/0,n=0;n!==e.length;++n)a=e[n],r=Math.min(r,a.x),o=Math.min(o,a.y);s.strokeText(t[i].id,r,o)}s.restore()},s.prototype.drawMarkerCorners=function(t){var e,a,r,o,i=this.canvasElement.getContext("2d");for(i.save(),i.lineWidth=3,r=0;r<t.length;++r){for(e=t[r].corners,i.strokeStyle="red",i.beginPath(),o=0;o<e.length;++o)a=e[o],i.moveTo(a.x,a.y),a=e[(o+1)%e.length],i.lineTo(a.x,a.y);i.stroke(),i.closePath(),i.strokeStyle="green",i.strokeRect(e[0].x-2,e[0].y-2,4,4)}i.restore()};const l=function(t){t=t||{},this.parameters={debug:void 0!==t.debug&&t.debug,canvasWidth:void 0!==t.canvasWidth?t.canvasWidth:640,canvasHeight:void 0!==t.canvasHeight?t.canvasHeight:480},this.canvas=document.createElement("canvas"),this.detector=new AR.Detector,this.debug=null,1==t.debug&&(this.debug=new s(this)),this.setSize(this.parameters.canvasWidth,this.parameters.canvasHeight)};l.prototype.setSize=function(t,e){this.canvas.width=t,this.canvas.height=e,null!==this.debug&&this.debug.setSize(t,e)},l.prototype.detect=function(t){var e=this.canvas,a=e.getContext("2d");a.drawImage(t,0,0,e.width,e.height);var r=a.getImageData(0,0,e.width,e.height);return this.detector.detect(r)},l.prototype.updateObject3D=function(t,e,a,r){for(var o=r.corners,i=this.canvas,n=new Array(o.length),s=0;s<o.length;++s){var l=o[s];n[s]={x:l.x-i.width/2,y:-l.y+i.height/2}}var c=e.pose(n),h=c.bestRotation,d=c.bestTranslation;t.position.x=d[0],t.position.y=d[1],t.position.z=-d[2],t.rotation.x=-Math.asin(-h[1][2]),t.rotation.y=-Math.atan2(h[0][2],h[2][2]),t.rotation.z=Math.atan2(h[1][0],h[1][1]),t.scale.x=a,t.scale.y=a,t.scale.z=a};const c=function(t){var e=this;e._updatedAt=null,this.parameters={trackingBackend:"artoolkit",debug:!1,detectionMode:"mono",matrixCodeType:"3x3",cameraParametersUrl:c.baseURL+"parameters/camera_para.dat",maxDetectionRate:60,canvasWidth:640,canvasHeight:480,patternRatio:.5,imageSmoothingEnabled:!1},console.assert(-1!==["artoolkit","aruco","tango"].indexOf(this.parameters.trackingBackend),"invalid parameter trackingBackend",this.parameters.trackingBackend),console.assert(-1!==["color","color_and_matrix","mono","mono_and_matrix"].indexOf(this.parameters.detectionMode),"invalid parameter detectionMode",this.parameters.detectionMode),this.arController=null,this.arucoContext=null,e.initialized=!1,this._arMarkersControls=[],function(t){if(void 0===t)return;for(var a in t){var r=t[a];if(void 0!==r){var o=e.parameters[a];void 0!==o?e.parameters[a]=r:console.warn("ArToolkitContext: '"+a+"' is not a property of this material.")}else console.warn("ArToolkitContext: '"+a+"' parameter is undefined.")}}(t)};Object.assign(c.prototype,t.EventDispatcher.prototype),c.baseURL="https://jeromeetienne.github.io/AR.js/three.js/",c.REVISION="1.6.0",c.createDefaultCamera=function(e){if(console.assert(!1,"use ARjs.Utils.createDefaultCamera instead"),"artoolkit"===e)var a=new t.Camera;else if("aruco"===e)a=new t.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else if("tango"===e)a=new t.PerspectiveCamera(42,renderer.domElement.width/renderer.domElement.height,.01,100);else console.assert(!1);return a},c.prototype.init=function(t){var e=this;return void("artoolkit"===this.parameters.trackingBackend?this._initArtoolkit(a):"aruco"===this.parameters.trackingBackend?this._initAruco(a):"tango"===this.parameters.trackingBackend?this._initTango(a):console.assert(!1));function a(){e.dispatchEvent({type:"initialized"}),e.initialized=!0,t&&t()}},c.prototype.update=function(t){if("artoolkit"===this.parameters.trackingBackend&&null===this.arController)return!1;var e=performance.now();return!(null!==this._updatedAt&&e-this._updatedAt<1e3/this.parameters.maxDetectionRate)&&(this._updatedAt=e,this._arMarkersControls.forEach(function(t){t.object3d.visible=!1}),"artoolkit"===this.parameters.trackingBackend?this._updateArtoolkit(t):"aruco"===this.parameters.trackingBackend?this._updateAruco(t):"tango"===this.parameters.trackingBackend?this._updateTango(t):console.assert(!1),this.dispatchEvent({type:"sourceProcessed"}),!0)},c.prototype.addMarker=function(t){console.assert(t instanceof n),this._arMarkersControls.push(t)},c.prototype.removeMarker=function(t){console.assert(t instanceof n);var e=this.arMarkerControlss.indexOf(artoolkitMarker);console.assert(e!=e),this._arMarkersControls.splice(e,1)},c.prototype._initArtoolkit=function(a){var r=this;this._artoolkitProjectionAxisTransformMatrix=new t.Matrix4,this._artoolkitProjectionAxisTransformMatrix.multiply((new t.Matrix4).makeRotationY(Math.PI)),this._artoolkitProjectionAxisTransformMatrix.multiply((new t.Matrix4).makeRotationZ(Math.PI));var o=new e.ARCameraParam(r.parameters.cameraParametersUrl,function(){var t=new e.ARController(r.parameters.canvasWidth,r.parameters.canvasHeight,o);r.arController=t,t.ctx.mozImageSmoothingEnabled=r.parameters.imageSmoothingEnabled,t.ctx.webkitImageSmoothingEnabled=r.parameters.imageSmoothingEnabled,t.ctx.msImageSmoothingEnabled=r.parameters.imageSmoothingEnabled,t.ctx.imageSmoothingEnabled=r.parameters.imageSmoothingEnabled,!0===r.parameters.debug&&(t.debugSetup(),t.canvas.style.position="absolute",t.canvas.style.top="0px",t.canvas.style.opacity="0.6",t.canvas.style.pointerEvents="none",t.canvas.style.zIndex="-1");var i={color:e.artoolkit.AR_TEMPLATE_MATCHING_COLOR,color_and_matrix:e.artoolkit.AR_TEMPLATE_MATCHING_COLOR_AND_MATRIX,mono:e.artoolkit.AR_TEMPLATE_MATCHING_MONO,mono_and_matrix:e.artoolkit.AR_TEMPLATE_MATCHING_MONO_AND_MATRIX}[r.parameters.detectionMode];console.assert(void 0!==i),t.setPatternDetectionMode(i);var n={"3x3":e.artoolkit.AR_MATRIX_CODE_3x3,"3x3_HAMMING63":e.artoolkit.AR_MATRIX_CODE_3x3_HAMMING63,"3x3_PARITY65":e.artoolkit.AR_MATRIX_CODE_3x3_PARITY65,"4x4":e.artoolkit.AR_MATRIX_CODE_4x4,"4x4_BCH_13_9_3":e.artoolkit.AR_MATRIX_CODE_4x4_BCH_13_9_3,"4x4_BCH_13_5_5":e.artoolkit.AR_MATRIX_CODE_4x4_BCH_13_5_5}[r.parameters.matrixCodeType];console.assert(void 0!==n),t.setMatrixCodeType(n),t.setPattRatio(r.parameters.patternRatio),a()});return this},c.prototype.getProjectionMatrix=function(e){console.assert("artoolkit"===this.parameters.trackingBackend),console.assert(this.arController,"arController MUST be initialized to call this function");var a=this.arController.getCameraMatrix(),r=(new t.Matrix4).fromArray(a);return r.multiply(this._artoolkitProjectionAxisTransformMatrix),r},c.prototype._updateArtoolkit=function(t){this.arController.process(t)},c.prototype._initAruco=function(t){this.arucoContext=new l,this.arucoContext.canvas.width=this.parameters.canvasWidth,this.arucoContext.canvas.height=this.parameters.canvasHeight;var e=this.arucoContext.canvas.getContext("2d");e.webkitImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,e.msImageSmoothingEnabled=this.parameters.imageSmoothingEnabled,e.imageSmoothingEnabled=this.parameters.imageSmoothingEnabled,setTimeout(function(){t()},0)},c.prototype._updateAruco=function(e){var a=this,r=this._arMarkersControls;this.arucoContext.detect(e).forEach(function(e){for(var o=null,i=0;i<r.length;i++)if(console.assert("barcode"===r[i].parameters.type),r[i].parameters.barcodeValue===e.id){o=r[i];break}if(null!==o){var n=new t.Object3D;a.arucoContext.updateObject3D(n,o._arucoPosit,o.parameters.size,e),n.updateMatrix(),o.updateWithModelViewMatrix(n.matrix)}})},c.prototype._initTango=function(e){var a=this;navigator.getVRDisplays||(navigator.getVRDevices?alert("Your browser supports WebVR but not the latest version. See <a href='http://webvr.info'>webvr.info</a> for more info."):alert("Your browser does not support WebVR. See <a href='http://webvr.info'>webvr.info</a> for assistance.")),this._tangoContext={vrDisplay:null,vrPointCloud:null,frameData:new VRFrameData},navigator.getVRDisplays().then(function(r){0===r.length&&alert("no vrDisplays available");var o=a._tangoContext.vrDisplay=r[0];console.log("vrDisplays.displayName :",o.displayName),"Tango VR Device"===o.displayName&&(a._tangoContext.vrPointCloud=new t.WebAR.VRPointCloud(o,!0)),e()})},c.prototype._updateTango=function(e){this._arMarkersControls,this._tangoContext;var a=this._tangoContext.vrDisplay;if(null!==a){if("Tango VR Device"===a.displayName){this._tangoContext.vrPointCloud.update(!0,0,!0)}if(0!==this._arMarkersControls.length){var r=this._arMarkersControls[0],o=this._tangoContext.frameData;if(a.getFrameData(o),null!==o.pose.position&&null!==o.pose.orientation){var i=(new t.Vector3).fromArray(o.pose.position),n=(new t.Quaternion).fromArray(o.pose.orientation),s=new t.Vector3(1,1,1),l=(new t.Matrix4).compose(i,n,s),c=new t.Matrix4;c.getInverse(l),r.updateWithModelViewMatrix(c)}}}};const h=function(t,e){var a=this;i.call(this,t),this.object3d.visible=!1,this._lastLerpStepAt=null,this._visibleStartedAt=null,this._unvisibleStartedAt=null,e=e||{},this.parameters={lerpPosition:.8,lerpQuaternion:.2,lerpScale:.7,lerpStepDelay:1/60,minVisibleDelay:0,minUnvisibleDelay:.2},function(t){if(void 0===t)return;for(var e in t){var r=t[e];if(void 0!==r){var o=a.parameters[e];void 0!==o?a.parameters[e]=r:console.warn("THREEx.ArSmoothedControls: '"+e+"' is not a property of this material.")}else console.warn("THREEx.ArSmoothedControls: '"+e+"' parameter is undefined.")}}(e)};(h.prototype=Object.create(i.prototype)).constructor=h,h.prototype.update=function(t){var e=this.object3d,a=this.parameters,r=e.visible,o=performance.now()/1e3;(!1===t.visible&&(this._visibleStartedAt=null),!0===t.visible&&(this._unvisibleStartedAt=null),!0===t.visible&&null===this._visibleStartedAt&&(this._visibleStartedAt=o),!1===t.visible&&null===this._unvisibleStartedAt&&(this._unvisibleStartedAt=o),!1===r&&!0===t.visible)&&(o-this._visibleStartedAt>=this.parameters.minVisibleDelay&&(e.visible=!0,e.position.copy(t.position),e.quaternion.copy(t.quaternion),e.scale.copy(t.scale)));!0===r&&!1===t.visible&&(o-this._unvisibleStartedAt>=this.parameters.minUnvisibleDelay&&(e.visible=!1));if(null===this._lastLerpStepAt)s(),this._lastLerpStepAt=o;else for(var i=Math.floor((o-this._lastLerpStepAt)/this.parameters.lerpStepDelay),n=0;n<i;n++)s(),this._lastLerpStepAt+=this.parameters.lerpStepDelay;return this.object3d.updateMatrix(),!1===r&&!0===e.visible&&this.dispatchEvent({type:"becameVisible"}),void(!0===r&&!1===e.visible&&this.dispatchEvent({type:"becameUnVisible"}));function s(){e.position.lerp(t.position,a.lerpPosition),e.quaternion.slerp(t.quaternion,a.lerpQuaternion),e.scale.lerp(t.scale,a.lerpScale)}};const d=t=>r(),m=c,p=n,u=h;exports.ArToolkitSource=d,exports.ArToolkitContext=m,exports.ArMarkerControls=p,exports.ArSmoothedControls=u;
},{"three":"djk6","jsartoolkit5":"fgB/"}],"GstH":[function(require,module,exports) {
var e=require("three"),t=function(){function t(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.dracoLoader=null}function r(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}t.prototype={constructor:t,crossOrigin:"anonymous",load:function(t,r,a,n){var i=this,s=void 0!==this.path?this.path:e.LoaderUtils.extractUrlBase(t),o=new e.FileLoader(i.manager);o.setResponseType("arraybuffer"),o.load(t,function(e){try{i.parse(e,s,r,n)}catch(e){if(void 0===n)throw e;n(e)}},a,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(t,r,l,u){var h,f={};if("string"==typeof t)h=t;else if(e.LoaderUtils.decodeText(new Uint8Array(t,0,4))===o){try{f[a.KHR_BINARY_GLTF]=new p(t)}catch(e){return void(u&&u(e))}h=f[a.KHR_BINARY_GLTF].content}else h=e.LoaderUtils.decodeText(new Uint8Array(t));var m=JSON.parse(h);if(void 0===m.asset||m.asset.version[0]<2)u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var v=0;v<m.extensionsUsed.length;++v){var g=m.extensionsUsed[v],M=m.extensionsRequired||[];switch(g){case a.KHR_LIGHTS_PUNCTUAL:f[g]=new i(m);break;case a.KHR_MATERIALS_UNLIT:f[g]=new s(m);break;case a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:f[g]=new d;break;case a.KHR_DRACO_MESH_COMPRESSION:f[g]=new c(m,this.dracoLoader);break;case a.MSFT_TEXTURE_DDS:f[a.MSFT_TEXTURE_DDS]=new n;break;default:M.indexOf(g)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}var S=new B(m,f,{path:r||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager});S.parse(function(e,t,r,a,n){var i={scene:e,scenes:t,cameras:r,animations:a,asset:n.asset,parser:S,userData:{}};F(f,i,n),l(i)},u)}}};var a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(){if(!e.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=a.MSFT_TEXTURE_DDS,this.ddsLoader=new e.DDSLoader}function i(t){this.name=a.KHR_LIGHTS_PUNCTUAL,this.lights=[];for(var r=(t.extensions&&t.extensions[a.KHR_LIGHTS_PUNCTUAL]||{}).lights||[],n=0;n<r.length;n++){var i,s=r[n],o=new e.Color(16777215);void 0!==s.color&&o.fromArray(s.color);var l=void 0!==s.range?s.range:0;switch(s.type){case"directional":(i=new e.DirectionalLight(o)).target.position.set(0,0,1),i.add(i.target);break;case"point":(i=new e.PointLight(o)).distance=l;break;case"spot":(i=new e.SpotLight(o)).distance=l,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,i.angle=s.spot.outerConeAngle,i.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,i.target.position.set(0,0,1),i.add(i.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+s.type+'".')}i.decay=2,void 0!==s.intensity&&(i.intensity=s.intensity),i.name=s.name||"light_"+n,this.lights.push(i)}}function s(e){this.name=a.KHR_MATERIALS_UNLIT}s.prototype.getMaterialType=function(t){return e.MeshBasicMaterial},s.prototype.extendParams=function(t,r,a){var n=[];t.color=new e.Color(1,1,1),t.opacity=1;var i=r.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var s=i.baseColorFactor;t.color.fromArray(s),t.opacity=s[3]}void 0!==i.baseColorTexture&&n.push(a.assignTexture(t,"map",i.baseColorTexture.index))}return Promise.all(n)};var o="glTF",l=12,u={JSON:1313821514,BIN:5130562};function p(t){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,l);if(this.header={magic:e.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==o)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var n=new DataView(t,l),i=0;i<n.byteLength;){var s=n.getUint32(i,!0);i+=4;var p=n.getUint32(i,!0);if(i+=4,p===u.JSON){var c=new Uint8Array(t,l+i,s);this.content=e.LoaderUtils.decodeText(c)}else if(p===u.BIN){var d=l+i;this.body=t.slice(d,d+s)}i+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function c(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function d(){return{name:a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return e.ShaderMaterial},extendParams:function(t,r,a){var n=r.extensions[this.name],i=e.ShaderLib.standard,s=e.UniformsUtils.clone(i.uniforms),o=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),u=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),p=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),d=i.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",o).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",u).replace("#include <metalnessmap_fragment>",p).replace("#include <lights_physical_fragment>",c);delete s.roughness,delete s.metalness,delete s.roughnessMap,delete s.metalnessMap,s.specular={value:(new e.Color).setHex(1118481)},s.glossiness={value:.5},s.specularMap={value:null},s.glossinessMap={value:null},t.vertexShader=i.vertexShader,t.fragmentShader=d,t.uniforms=s,t.defines={STANDARD:""},t.color=new e.Color(1,1,1),t.opacity=1;var h=[];if(Array.isArray(n.diffuseFactor)){var f=n.diffuseFactor;t.color.fromArray(f),t.opacity=f[3]}if(void 0!==n.diffuseTexture&&h.push(a.assignTexture(t,"map",n.diffuseTexture.index)),t.emissive=new e.Color(0,0,0),t.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,t.specular=new e.Color(1,1,1),Array.isArray(n.specularFactor)&&t.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var m=n.specularGlossinessTexture.index;h.push(a.assignTexture(t,"glossinessMap",m)),h.push(a.assignTexture(t,"specularMap",m))}return Promise.all(h)},createMaterial:function(t){var r=new e.ShaderMaterial({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return r.isGLTFSpecularGlossinessMaterial=!0,r.color=t.color,r.map=void 0===t.map?null:t.map,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=void 0===t.aoMap?null:t.aoMap,r.aoMapIntensity=1,r.emissive=t.emissive,r.emissiveIntensity=1,r.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,r.bumpMap=void 0===t.bumpMap?null:t.bumpMap,r.bumpScale=1,r.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(r.normalScale=t.normalScale),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=void 0===t.specularMap?null:t.specularMap,r.specular=t.specular,r.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,r.glossiness=t.glossiness,r.alphaMap=null,r.envMap=void 0===t.envMap?null:t.envMap,r.envMapIntensity=1,r.refractionRatio=.98,r.extensions.derivatives=!0,r},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var r=this.specularGlossinessParams,a=0,n=r.length;a<n;a++)t[r[a]]=e[r[a]];return t},refreshUniforms:function(e,t,r,a,n,i){if(!0===n.isGLTFSpecularGlossinessMaterial){var s,o=n.uniforms,l=n.defines;o.opacity.value=n.opacity,o.diffuse.value.copy(n.color),o.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),o.map.value=n.map,o.specularMap.value=n.specularMap,o.alphaMap.value=n.alphaMap,o.lightMap.value=n.lightMap,o.lightMapIntensity.value=n.lightMapIntensity,o.aoMap.value=n.aoMap,o.aoMapIntensity.value=n.aoMapIntensity,n.map?s=n.map:n.specularMap?s=n.specularMap:n.displacementMap?s=n.displacementMap:n.normalMap?s=n.normalMap:n.bumpMap?s=n.bumpMap:n.glossinessMap?s=n.glossinessMap:n.alphaMap?s=n.alphaMap:n.emissiveMap&&(s=n.emissiveMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),o.uvTransform.value.copy(s.matrix)),o.envMap.value=n.envMap,o.envMapIntensity.value=n.envMapIntensity,o.flipEnvMap.value=n.envMap&&n.envMap.isCubeTexture?-1:1,o.refractionRatio.value=n.refractionRatio,o.specular.value.copy(n.specular),o.glossiness.value=n.glossiness,o.glossinessMap.value=n.glossinessMap,o.emissiveMap.value=n.emissiveMap,o.bumpMap.value=n.bumpMap,o.normalMap.value=n.normalMap,o.displacementMap.value=n.displacementMap,o.displacementScale.value=n.displacementScale,o.displacementBias.value=n.displacementBias,null!==o.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===o.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function h(t,r,a,n){e.Interpolant.call(this,t,r,a,n)}c.prototype.decodePrimitive=function(e,t){var r=this.json,a=this.dracoLoader,n=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,s={},o={},l={};for(var u in i)u in E&&(s[E[u]]=i[u]);for(u in e.attributes)if(void 0!==E[u]&&void 0!==i[u]){var p=r.accessors[e.attributes[u]],c=y[p.componentType];l[E[u]]=c,o[E[u]]=!0===p.normalized}return t.getDependency("bufferView",n).then(function(e){return new Promise(function(t){a.decodeDracoFile(e,function(e){for(var r in e.attributes){var a=e.attributes[r],n=o[r];void 0!==n&&(a.normalized=n)}t(e)},s,l)})})},h.prototype=Object.create(e.Interpolant.prototype),h.prototype.constructor=h,h.prototype.interpolate_=function(e,t,r,a){for(var n=this.resultBuffer,i=this.sampleValues,s=this.valueSize,o=2*s,l=3*s,u=a-t,p=(r-t)/u,c=p*p,d=c*p,h=e*l,f=h-l,m=2*d-3*c+1,v=d-2*c+p,g=-2*d+3*c,M=d-c,S=0;S!==s;S++){var T=i[f+S+s],y=i[f+S+o]*u,L=i[h+S+s],R=i[h+S]*u;n[S]=m*T+v*y+g*L+M*R}return n};var f=0,m=1,v=2,g=3,M=4,S=5,T=6,y=(Number,e.Matrix3,e.Matrix4,e.Vector2,e.Vector3,e.Vector4,e.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),L={9728:e.NearestFilter,9729:e.LinearFilter,9984:e.NearestMipMapNearestFilter,9985:e.LinearMipMapNearestFilter,9986:e.NearestMipMapLinearFilter,9987:e.LinearMipMapLinearFilter},R={33071:e.ClampToEdgeWrapping,33648:e.MirroredRepeatWrapping,10497:e.RepeatWrapping},A=(e.BackSide,e.FrontSide,e.NeverDepth,e.LessDepth,e.EqualDepth,e.LessEqualDepth,e.GreaterEqualDepth,e.NotEqualDepth,e.GreaterEqualDepth,e.AlwaysDepth,e.AddEquation,e.SubtractEquation,e.ReverseSubtractEquation,e.ZeroFactor,e.OneFactor,e.SrcColorFactor,e.OneMinusSrcColorFactor,e.SrcAlphaFactor,e.OneMinusSrcAlphaFactor,e.DstAlphaFactor,e.OneMinusDstAlphaFactor,e.DstColorFactor,e.OneMinusDstColorFactor,e.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),E={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD0:"uv",TEXCOORD:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",COLOR0:"color",COLOR:"color",WEIGHTS_0:"skinWeight",WEIGHT:"skinWeight",JOINTS_0:"skinIndex",JOINT:"skinIndex"},b={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},w={CUBICSPLINE:e.InterpolateSmooth,LINEAR:e.InterpolateLinear,STEP:e.InterpolateDiscrete},x="OPAQUE",_="MASK",I="BLEND";function U(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function F(e,t,r){for(var a in r.extensions)void 0===e[a]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=r.extensions[a])}function C(e,t){void 0!==t.extras&&("object"==typeof t.extras?e.userData=t.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,a=t.weights.length;r<a;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(r=0,a=n.length;r<a;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function D(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function O(e,t){if(e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(e[r]!==t[r])return!1;return!0}function P(e,t){for(var r=0,a=e.length;r<a;r++){var n=e[r];if(i=n.primitive,s=t,i.indices===s.indices&&D(i.attributes,s.attributes))return n.promise}var i,s;return null}function N(t){if(t.isInterleavedBufferAttribute){for(var r=t.count,a=t.itemSize,n=t.array.slice(0,r*a),i=0;i<r;++i)n[i]=t.getX(i),a>=2&&(n[i+1]=t.getY(i)),a>=3&&(n[i+2]=t.getZ(i)),a>=4&&(n[i+3]=t.getW(i));return new e.BufferAttribute(n,a,t.normalized)}return t.clone()}function B(t,a,n){this.json=t||{},this.extensions=a||{},this.options=n||{},this.cache=new r,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new e.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new e.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function H(e,t,r){var a=t.attributes;for(var n in a){var i=E[n],s=r[a[n]];i&&(i in e.attributes||e.addAttribute(i,s))}void 0===t.indices||e.index||e.setIndex(r[t.indices]),void 0!==t.targets&&function(e,t,r){for(var a=!1,n=!1,i=0,s=t.length;i<s&&(void 0!==(u=t[i]).POSITION&&(a=!0),void 0!==u.NORMAL&&(n=!0),!a||!n);i++);if(a||n){var o=[],l=[];for(i=0,s=t.length;i<s;i++){var u=t[i],p="morphTarget"+i;if(a){if(void 0!==u.POSITION){var c=N(r[u.POSITION]);c.name=p;for(var d=e.attributes.position,h=0,f=c.count;h<f;h++)c.setXYZ(h,c.getX(h)+d.getX(h),c.getY(h)+d.getY(h),c.getZ(h)+d.getZ(h))}else c=e.attributes.position;o.push(c)}if(n){if(void 0!==u.NORMAL){var m;(m=N(r[u.NORMAL])).name=p;var v=e.attributes.normal;for(h=0,f=m.count;h<f;h++)m.setXYZ(h,m.getX(h)+v.getX(h),m.getY(h)+v.getY(h),m.getZ(h)+v.getZ(h))}else m=e.attributes.normal;l.push(m)}}a&&(e.morphAttributes.position=o),n&&(e.morphAttributes.normal=l)}}(e,t.targets,r),C(e,t)}return B.prototype.parse=function(e,t){var r=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var a=t.scenes||[],n=a[r.scene||0],i=t.animations||[],s=t.cameras||[];e(n,a,s,i,r)}).catch(t)},B.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],a={},n={},i=0,s=t.length;i<s;i++)for(var o=t[i].joints,l=0,u=o.length;l<u;l++)e[o[l]].isBone=!0;for(var p=0,c=e.length;p<c;p++){var d=e[p];void 0!==d.mesh&&(void 0===a[d.mesh]&&(a[d.mesh]=n[d.mesh]=0),a[d.mesh]++,void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0))}this.json.meshReferences=a,this.json.meshUses=n},B.prototype.getDependency=function(e,t){var r=e+":"+t,a=this.cache.get(r);if(!a){switch(e){case"scene":a=this.loadScene(t);break;case"node":a=this.loadNode(t);break;case"mesh":a=this.loadMesh(t);break;case"accessor":a=this.loadAccessor(t);break;case"bufferView":a=this.loadBufferView(t);break;case"buffer":a=this.loadBuffer(t);break;case"material":a=this.loadMaterial(t);break;case"texture":a=this.loadTexture(t);break;case"skin":a=this.loadSkin(t);break;case"animation":a=this.loadAnimation(t);break;case"camera":a=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,a)}return a},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,a=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(a.map(function(t,a){return r.getDependency(e,a)})),this.cache.add(e,t)}return t},B.prototype.getMultiDependencies=function(e){for(var t={},r=[],a=0,n=e.length;a<n;a++){var i=e[a],s=this.getDependencies(i);s=s.then(function(e,r){t[e]=r}.bind(this,i+("mesh"===i?"es":"s"))),r.push(s)}return Promise.all(r).then(function(){return t})},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);var n=this.options;return new Promise(function(e,a){r.load(U(t.uri,n.path),e,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var r=t.byteLength||0,a=t.byteOffset||0;return e.slice(a,a+r)})},B.prototype.loadAccessor=function(t){var r=this,a=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return null;var i=[];return void 0!==n.bufferView?i.push(this.getDependency("bufferView",n.bufferView)):i.push(null),void 0!==n.sparse&&(i.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(i).then(function(t){var i,s,o=t[0],l=A[n.type],u=y[n.componentType],p=u.BYTES_PER_ELEMENT,c=p*l,d=n.byteOffset||0,h=a.bufferViews[n.bufferView].byteStride,f=!0===n.normalized;if(h&&h!==c){var m="InterleavedBuffer:"+n.bufferView+":"+n.componentType,v=r.cache.get(m);v||(i=new u(o),v=new e.InterleavedBuffer(i,h/p),r.cache.add(m,v)),s=new e.InterleavedBufferAttribute(v,l,d/p,f)}else i=null===o?new u(n.count*l):new u(o,d,n.count*l),s=new e.BufferAttribute(i,l,f);if(void 0!==n.sparse){var g=A.SCALAR,M=y[n.sparse.indices.componentType],S=n.sparse.indices.byteOffset||0,T=n.sparse.values.byteOffset||0,L=new M(t[1],S,n.sparse.count*g),R=new u(t[2],T,n.sparse.count*l);null!==o&&s.setArray(s.array.slice());for(var E=0,b=L.length;E<b;E++){var w=L[E];if(s.setX(w,R[E*l]),l>=2&&s.setY(w,R[E*l+1]),l>=3&&s.setZ(w,R[E*l+2]),l>=4&&s.setW(w,R[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s})},B.prototype.loadTexture=function(t){var r,n=this,i=this.json,s=this.options,o=this.textureLoader,l=window.URL||window.webkitURL,u=i.textures[t],p=u.extensions||{},c=(r=p[a.MSFT_TEXTURE_DDS]?i.images[p[a.MSFT_TEXTURE_DDS].source]:i.images[u.source]).uri,d=!1;return void 0!==r.bufferView&&(c=n.getDependency("bufferView",r.bufferView).then(function(e){d=!0;var t=new Blob([e],{type:r.mimeType});return c=l.createObjectURL(t)})),Promise.resolve(c).then(function(t){var r=e.Loader.Handlers.get(t);return r||(r=p[a.MSFT_TEXTURE_DDS]?n.extensions[a.MSFT_TEXTURE_DDS].ddsLoader:o),new Promise(function(e,a){r.load(U(t,s.path),e,void 0,a)})}).then(function(t){!0===d&&l.revokeObjectURL(c),t.flipY=!1,void 0!==u.name&&(t.name=u.name);var r=(i.samplers||{})[u.sampler]||{};return t.magFilter=L[r.magFilter]||e.LinearFilter,t.minFilter=L[r.minFilter]||e.LinearMipMapLinearFilter,t.wrapS=R[r.wrapS]||e.RepeatWrapping,t.wrapT=R[r.wrapT]||e.RepeatWrapping,t})},B.prototype.assignTexture=function(e,t,r){return this.getDependency("texture",r).then(function(r){e[t]=r})},B.prototype.loadMaterial=function(t){this.json;var r,n=this.extensions,i=this.json.materials[t],s={},o=i.extensions||{},l=[];if(o[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];r=u.getMaterialType(i),l.push(u.extendParams(s,i,this))}else if(o[a.KHR_MATERIALS_UNLIT]){var p=n[a.KHR_MATERIALS_UNLIT];r=p.getMaterialType(i),l.push(p.extendParams(s,i,this))}else{r=e.MeshStandardMaterial;var c=i.pbrMetallicRoughness||{};if(s.color=new e.Color(1,1,1),s.opacity=1,Array.isArray(c.baseColorFactor)){var d=c.baseColorFactor;s.color.fromArray(d),s.opacity=d[3]}if(void 0!==c.baseColorTexture&&l.push(this.assignTexture(s,"map",c.baseColorTexture.index)),s.metalness=void 0!==c.metallicFactor?c.metallicFactor:1,s.roughness=void 0!==c.roughnessFactor?c.roughnessFactor:1,void 0!==c.metallicRoughnessTexture){var h=c.metallicRoughnessTexture.index;l.push(this.assignTexture(s,"metalnessMap",h)),l.push(this.assignTexture(s,"roughnessMap",h))}}!0===i.doubleSided&&(s.side=e.DoubleSide);var f=i.alphaMode||x;return f===I?s.transparent=!0:(s.transparent=!1,f===_&&(s.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&r!==e.MeshBasicMaterial&&(l.push(this.assignTexture(s,"normalMap",i.normalTexture.index)),s.normalScale=new e.Vector2(1,1),void 0!==i.normalTexture.scale&&s.normalScale.set(i.normalTexture.scale,i.normalTexture.scale)),void 0!==i.occlusionTexture&&r!==e.MeshBasicMaterial&&(l.push(this.assignTexture(s,"aoMap",i.occlusionTexture.index)),void 0!==i.occlusionTexture.strength&&(s.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&r!==e.MeshBasicMaterial&&(s.emissive=(new e.Color).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&r!==e.MeshBasicMaterial&&l.push(this.assignTexture(s,"emissiveMap",i.emissiveTexture.index)),Promise.all(l).then(function(){var t;return t=r===e.ShaderMaterial?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new r(s),void 0!==i.name&&(t.name=i.name),t.normalScale&&(t.normalScale.y=-t.normalScale.y),t.map&&(t.map.encoding=e.sRGBEncoding),t.emissiveMap&&(t.emissiveMap.encoding=e.sRGBEncoding),t.specularMap&&(t.specularMap.encoding=e.sRGBEncoding),C(t,i),i.extensions&&F(n,t,i),t})},B.prototype.loadGeometries=function(t){var r,n=this,i=this.extensions,s=this.primitiveCache,o=function(e){if(e.length<2)return!1;var t=e[0],r=t.targets||[];if(void 0===t.indices)return!1;for(var a=1,n=e.length;a<n;a++){var i=e[a];if(t.mode!==i.mode)return!1;if(void 0===i.indices)return!1;if(!D(t.attributes,i.attributes))return!1;var s=i.targets||[];if(r.length!==s.length)return!1;for(var o=0,l=r.length;o<l;o++)if(!D(r[o],s[o]))return!1}return!0}(t);return o&&(r=t,t=[t[0]]),this.getDependencies("accessor").then(function(l){for(var u=[],p=0,c=t.length;p<c;p++){var d=t[p],h=P(s,d);if(h)u.push(h);else if(d.extensions&&d.extensions[a.KHR_DRACO_MESH_COMPRESSION]){var f=i[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,n).then(function(e){return H(e,d,l),e});s.push({primitive:d,promise:f}),u.push(f)}else{var m=new e.BufferGeometry;H(m,d,l);f=Promise.resolve(m);s.push({primitive:d,promise:f}),u.push(f)}}return Promise.all(u).then(function(a){if(o){var i=a[0];if(null!==(M=function(e,t,r){for(var a=0,n=e.length;a<n;a++){var i=e[a];if(t===i.baseGeometry&&O(r,i.primitives))return i.geometry}return null}(g=n.multiPassGeometryCache,i,r)))return[M.geometry];var s=new e.BufferGeometry;for(var u in s.name=i.name,s.userData=i.userData,i.attributes)s.addAttribute(u,i.attributes[u]);for(var u in i.morphAttributes)s.morphAttributes[u]=i.morphAttributes[u];for(var p=[],c=0,d=0,h=r.length;d<h;d++){for(var f=l[r[d].indices],m=0,v=f.count;m<v;m++)p.push(f.array[m]);s.addGroup(c,f.count,d),c+=f.count}return s.setIndex(p),g.push({geometry:s,baseGeometry:i,primitives:r}),[s]}if(a.length>1&&void 0!==e.BufferGeometryUtils){for(d=1,h=t.length;d<h;d++)if(t[0].mode!==t[d].mode)return a;var g,M;if(M=function(e,t){for(var r=0,a=e.length;r<a;r++){var n=e[r];if(O(t,n.baseGeometries))return n.geometry}return null}(g=n.multiplePrimitivesCache,a)){if(null!==M.geometry)return[M.geometry]}else{s=e.BufferGeometryUtils.mergeBufferGeometries(a,!0);if(g.push({geometry:s,baseGeometries:a}),null!==s)return[s]}}return a})})},B.prototype.loadMesh=function(t){var r=this,n=(this.json,this.extensions),i=this.json.meshes[t];return this.getMultiDependencies(["accessor","material"]).then(function(s){for(var o=i.primitives,l=[],u=0,p=o.length;u<p;u++)l[u]=void 0===o[u].material?new e.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:e.FrontSide}):s.materials[o[u].material];return r.loadGeometries(o).then(function(s){for(var u=1===s.length&&s[0].groups.length>0,p=[],c=0,d=s.length;c<d;c++){var h,y=s[c],L=o[c],R=u?l:l[c];if(L.mode===M||L.mode===S||L.mode===T||void 0===L.mode)h=!0===i.isSkinnedMesh?new e.SkinnedMesh(y,R):new e.Mesh(y,R),L.mode===S?h.drawMode=e.TriangleStripDrawMode:L.mode===T&&(h.drawMode=e.TriangleFanDrawMode);else if(L.mode===m)h=new e.LineSegments(y,R);else if(L.mode===g)h=new e.Line(y,R);else if(L.mode===v)h=new e.LineLoop(y,R);else{if(L.mode!==f)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+L.mode);h=new e.Points(y,R)}Object.keys(h.geometry.morphAttributes).length>0&&G(h,i),h.name=i.name||"mesh_"+t,s.length>1&&(h.name+="_"+c),C(h,i),p.push(h);for(var A=u?h.material:[h.material],E=void 0!==y.attributes.color,b=void 0===y.attributes.normal,w=!0===h.isSkinnedMesh,x=Object.keys(y.morphAttributes).length>0,_=x&&void 0!==y.morphAttributes.normal,I=0,U=A.length;I<U;I++){R=A[I];if(h.isPoints){var F="PointsMaterial:"+R.uuid,D=r.cache.get(F);D||(D=new e.PointsMaterial,e.Material.prototype.copy.call(D,R),D.color.copy(R.color),D.map=R.map,D.lights=!1,r.cache.add(F,D)),R=D}else if(h.isLine){F="LineBasicMaterial:"+R.uuid;var O=r.cache.get(F);O||(O=new e.LineBasicMaterial,e.Material.prototype.copy.call(O,R),O.color.copy(R.color),O.lights=!1,r.cache.add(F,O)),R=O}if(E||b||w||x){F="ClonedMaterial:"+R.uuid+":";R.isGLTFSpecularGlossinessMaterial&&(F+="specular-glossiness:"),w&&(F+="skinning:"),E&&(F+="vertex-colors:"),b&&(F+="flat-shading:"),x&&(F+="morph-targets:"),_&&(F+="morph-normals:");var P=r.cache.get(F);P||(P=R.isGLTFSpecularGlossinessMaterial?n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(R):R.clone(),w&&(P.skinning=!0),E&&(P.vertexColors=e.VertexColors),b&&(P.flatShading=!0),x&&(P.morphTargets=!0),_&&(P.morphNormals=!0),r.cache.add(F,P)),R=P}A[I]=R,R.aoMap&&void 0===y.attributes.uv2&&void 0!==y.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),y.addAttribute("uv2",new e.BufferAttribute(y.attributes.uv.array,2))),R.isGLTFSpecularGlossinessMaterial&&(h.onBeforeRender=n[a.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}h.material=u?A:A[0]}if(1===p.length)return p[0];var N=new e.Group;for(c=0,d=p.length;c<d;c++)N.add(p[c]);return N})})},B.prototype.loadCamera=function(t){var r,a=this.json.cameras[t],n=a[a.type];if(n)return"perspective"===a.type?r=new e.PerspectiveCamera(e.Math.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===a.type&&(r=new e.OrthographicCamera(n.xmag/-2,n.xmag/2,n.ymag/2,n.ymag/-2,n.znear,n.zfar)),void 0!==a.name&&(r.name=a.name),C(r,a),Promise.resolve(r);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return r.inverseBindMatrices=e,r})},B.prototype.loadAnimation=function(t){this.json;var r=this.json.animations[t];return this.getMultiDependencies(["accessor","node"]).then(function(a){for(var n=[],i=0,s=r.channels.length;i<s;i++){var o=r.channels[i],l=r.samplers[o.sampler];if(l){var u=o.target,p=void 0!==u.node?u.node:u.id,c=void 0!==r.parameters?r.parameters[l.input]:l.input,d=void 0!==r.parameters?r.parameters[l.output]:l.output,f=a.accessors[c],m=a.accessors[d],v=a.nodes[p];if(v){var g;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,b[u.path]){case b.weights:g=e.NumberKeyframeTrack;break;case b.rotation:g=e.QuaternionKeyframeTrack;break;case b.position:case b.scale:default:g=e.VectorKeyframeTrack}var M=v.name?v.name:v.uuid,S=void 0!==l.interpolation?w[l.interpolation]:e.InterpolateLinear,T=[];b[u.path]===b.weights?v.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&T.push(e.name?e.name:e.uuid)}):T.push(M);for(var y=0,L=T.length;y<L;y++){var R=new g(T[y]+"."+b[u.path],e.AnimationUtils.arraySlice(f.array,0),e.AnimationUtils.arraySlice(m.array,0),S);"CUBICSPLINE"===l.interpolation&&(R.createInterpolant=function(e){return new h(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),n.push(R)}}}}p=void 0!==r.name?r.name:"animation_"+t;return new e.AnimationClip(p,void 0,n)})},B.prototype.loadNode=function(t){this.json;var r=this.extensions,n=this.json.meshReferences,i=this.json.meshUses,s=this.json.nodes[t];return this.getMultiDependencies(["mesh","skin","camera","light"]).then(function(t){var o;if(!0===s.isBone)o=new e.Bone;else if(void 0!==s.mesh){var l=t.meshes[s.mesh];if(n[s.mesh]>1){var u=i[s.mesh]++;(o=l.clone()).name+="_instance_"+u,o.onBeforeRender=l.onBeforeRender;for(var p=0,c=o.children.length;p<c;p++)o.children[p].name+="_instance_"+u,o.children[p].onBeforeRender=l.children[p].onBeforeRender}else o=l}else if(void 0!==s.camera)o=t.cameras[s.camera];else if(s.extensions&&s.extensions[a.KHR_LIGHTS_PUNCTUAL]&&void 0!==s.extensions[a.KHR_LIGHTS_PUNCTUAL].light){o=r[a.KHR_LIGHTS_PUNCTUAL].lights[s.extensions[a.KHR_LIGHTS_PUNCTUAL].light]}else o=new e.Object3D;if(void 0!==s.name&&(o.name=e.PropertyBinding.sanitizeNodeName(s.name)),C(o,s),s.extensions&&F(r,o,s),void 0!==s.matrix){var d=new e.Matrix4;d.fromArray(s.matrix),o.applyMatrix(d)}else void 0!==s.translation&&o.position.fromArray(s.translation),void 0!==s.rotation&&o.quaternion.fromArray(s.rotation),void 0!==s.scale&&o.scale.fromArray(s.scale);return o})},B.prototype.loadScene=function(){function t(r,a,n,i,s){var o=i[r],l=n.nodes[r];if(void 0!==l.skin)for(var u=!0===o.isGroup?o.children:[o],p=0,c=u.length;p<c;p++){for(var d=u[p],h=s[l.skin],f=[],m=[],v=0,g=h.joints.length;v<g;v++){var M=h.joints[v],S=i[M];if(S){f.push(S);var T=new e.Matrix4;void 0!==h.inverseBindMatrices&&T.fromArray(h.inverseBindMatrices.array,16*v),m.push(T)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',M)}d.bind(new e.Skeleton(f,m),d.matrixWorld)}if(a.add(o),l.children){var y=l.children;for(p=0,c=y.length;p<c;p++){t(y[p],o,n,i,s)}}}return function(r){var a=this.json,n=this.extensions,i=this.json.scenes[r];return this.getMultiDependencies(["node","skin"]).then(function(r){var s=new e.Scene;void 0!==i.name&&(s.name=i.name),C(s,i),i.extensions&&F(n,s,i);for(var o=i.nodes||[],l=0,u=o.length;l<u;l++)t(o[l],s,a,r.nodes,r.skins);return s})}}(),t}();module.exports=t;
},{"three":"dKqR"}],"1RYe":[function(require,module,exports) {
module.exports=function(e){function t(t,n){var o,a,i,r,s;this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return b.phi},this.getAzimuthalAngle=function(){return b.theta},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(u),c.update(),h=l.NONE},this.update=(o=new e.Vector3,a=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),i=a.clone().inverse(),r=new e.Vector3,s=new e.Quaternion,function(){var e=c.object.position;return o.copy(e).sub(c.target),o.applyQuaternion(a),b.setFromVector3(o),c.autoRotate&&h===l.NONE&&A(2*Math.PI/60/60*c.autoRotateSpeed),b.theta+=E.theta,b.phi+=E.phi,b.theta=Math.max(c.minAzimuthAngle,Math.min(c.maxAzimuthAngle,b.theta)),b.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=f,b.radius=Math.max(c.minDistance,Math.min(c.maxDistance,b.radius)),c.target.add(g),o.setFromSpherical(b),o.applyQuaternion(i),e.copy(c.target).add(o),c.object.lookAt(c.target),!0===c.enableDamping?(E.theta*=1-c.dampingFactor,E.phi*=1-c.dampingFactor):E.set(0,0,0),f=1,g.set(0,0,0),!!(v||r.distanceToSquared(c.object.position)>p||8*(1-s.dot(c.object.quaternion))>p)&&(c.dispatchEvent(u),r.copy(c.object.position),s.copy(c.object.quaternion),v=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",_,!1),c.domElement.removeEventListener("mousedown",S,!1),c.domElement.removeEventListener("wheel",z,!1),c.domElement.removeEventListener("touchstart",I,!1),c.domElement.removeEventListener("touchend",K,!1),c.domElement.removeEventListener("touchmove",X,!1),document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",Y,!1),window.removeEventListener("keydown",F,!1)};var c=this,u={type:"change"},m={type:"start"},d={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},h=l.NONE,p=1e-6,b=new e.Spherical,E=new e.Spherical,f=1,g=new e.Vector3,v=!1,O=new e.Vector2,y=new e.Vector2,w=new e.Vector2,P=new e.Vector2,T=new e.Vector2,j=new e.Vector2,R=new e.Vector2,M=new e.Vector2,L=new e.Vector2;function N(){return Math.pow(.95,c.zoomSpeed)}function A(e){E.theta-=e}function C(e){E.phi-=e}var x,H=(x=new e.Vector3,function(e,t){x.setFromMatrixColumn(t,0),x.multiplyScalar(-e),g.add(x)}),k=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),g.add(t)}}(),D=function(){var t=new e.Vector3;return function(n,o){var a=c.domElement===document?c.domElement.body:c.domElement;if(c.object instanceof e.PerspectiveCamera){var i=c.object.position;t.copy(i).sub(c.target);var r=t.length();r*=Math.tan(c.object.fov/2*Math.PI/180),H(2*n*r/a.clientHeight,c.object.matrix),k(2*o*r/a.clientHeight,c.object.matrix)}else c.object instanceof e.OrthographicCamera?(H(n*(c.object.right-c.object.left)/c.object.zoom/a.clientWidth,c.object.matrix),k(o*(c.object.top-c.object.bottom)/c.object.zoom/a.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function U(t){c.object instanceof e.PerspectiveCamera?f/=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function V(t){c.object instanceof e.PerspectiveCamera?f*=t:c.object instanceof e.OrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/t)),c.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function S(e){if(!1!==c.enabled){if(e.preventDefault(),e.button===c.mouseButtons.ORBIT){if(!1===c.enableRotate)return;!function(e){O.set(e.clientX,e.clientY)}(e),h=l.ROTATE}else if(e.button===c.mouseButtons.ZOOM){if(!1===c.enableZoom)return;!function(e){R.set(e.clientX,e.clientY)}(e),h=l.DOLLY}else if(e.button===c.mouseButtons.PAN){if(!1===c.enablePan)return;!function(e){P.set(e.clientX,e.clientY)}(e),h=l.PAN}h!==l.NONE&&(document.addEventListener("mousemove",Z,!1),document.addEventListener("mouseup",Y,!1),c.dispatchEvent(m))}}function Z(e){if(!1!==c.enabled)if(e.preventDefault(),h===l.ROTATE){if(!1===c.enableRotate)return;!function(e){y.set(e.clientX,e.clientY),w.subVectors(y,O);var t=c.domElement===document?c.domElement.body:c.domElement;A(2*Math.PI*w.x/t.clientWidth*c.rotateSpeed),C(2*Math.PI*w.y/t.clientHeight*c.rotateSpeed),O.copy(y),c.update()}(e)}else if(h===l.DOLLY){if(!1===c.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),L.subVectors(M,R),L.y>0?U(N()):L.y<0&&V(N()),R.copy(M),c.update()}(e)}else if(h===l.PAN){if(!1===c.enablePan)return;!function(e){T.set(e.clientX,e.clientY),j.subVectors(T,P),D(j.x,j.y),P.copy(T),c.update()}(e)}}function Y(e){!1!==c.enabled&&(document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",Y,!1),c.dispatchEvent(d),h=l.NONE)}function z(e){!1===c.enabled||!1===c.enableZoom||h!==l.NONE&&h!==l.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?V(N()):e.deltaY>0&&U(N()),c.update()}(e),c.dispatchEvent(m),c.dispatchEvent(d))}function F(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){switch(e.keyCode){case c.keys.UP:D(0,c.keyPanSpeed),c.update();break;case c.keys.BOTTOM:D(0,-c.keyPanSpeed),c.update();break;case c.keys.LEFT:D(c.keyPanSpeed,0),c.update();break;case c.keys.RIGHT:D(-c.keyPanSpeed,0),c.update()}}(e)}function I(e){if(!1!==c.enabled){switch(e.touches.length){case 1:if(!1===c.enableRotate)return;!function(e){O.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=l.TOUCH_ROTATE;break;case 2:if(!1===c.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);R.set(0,o)}(e),h=l.TOUCH_DOLLY;break;case 3:if(!1===c.enablePan)return;!function(e){P.set(e.touches[0].pageX,e.touches[0].pageY)}(e),h=l.TOUCH_PAN;break;default:h=l.NONE}h!==l.NONE&&c.dispatchEvent(m)}}function X(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===c.enableRotate)return;if(h!==l.TOUCH_ROTATE)return;!function(e){y.set(e.touches[0].pageX,e.touches[0].pageY),w.subVectors(y,O);var t=c.domElement===document?c.domElement.body:c.domElement;A(2*Math.PI*w.x/t.clientWidth*c.rotateSpeed),C(2*Math.PI*w.y/t.clientHeight*c.rotateSpeed),O.copy(y),c.update()}(e);break;case 2:if(!1===c.enableZoom)return;if(h!==l.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);M.set(0,o),L.subVectors(M,R),L.y>0?V(N()):L.y<0&&U(N()),R.copy(M),c.update()}(e);break;case 3:if(!1===c.enablePan)return;if(h!==l.TOUCH_PAN)return;!function(e){T.set(e.touches[0].pageX,e.touches[0].pageY),j.subVectors(T,P),D(j.x,j.y),P.copy(T),c.update()}(e);break;default:h=l.NONE}}function K(e){!1!==c.enabled&&(c.dispatchEvent(d),h=l.NONE)}function _(e){e.preventDefault()}c.domElement.addEventListener("contextmenu",_,!1),c.domElement.addEventListener("mousedown",S,!1),c.domElement.addEventListener("wheel",z,!1),c.domElement.addEventListener("touchstart",I,!1),c.domElement.addEventListener("touchend",K,!1),c.domElement.addEventListener("touchmove",X,!1),window.addEventListener("keydown",F,!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t};
},{}],"GQ3C":[function(require,module,exports) {
module.exports="scene.6418565b.gltf";
},{}],"YGs2":[function(require,module,exports) {
module.exports="patt.cbbe3324.hiro";
},{}],"GZP3":[function(require,module,exports) {
module.exports="camera_para.c3b18e2d.dat";
},{}],"mpVp":[function(require,module,exports) {
"use strict";var e=require("three"),t=w(e),n=require("node-ar.js"),r=require("three-gltf-loader"),a=m(r),i=require("three-orbit-controls"),o=m(i),d=require("./scene.gltf"),l=m(d),c=require("./patt.hiro"),u=m(c),s=require("./camera_para.dat"),p=m(s);function m(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=function e(t){/in/.test(document.readyState)?setTimeout(e.bind(null,t),9):t()};f(function(){var e=void 0,r=new t.Clock,i=[window.innerWidth,window.innerHeight],d=i[0],c=i[1],s=new t.WebGLRenderer({antialias:!0,alpha:!0});s.setSize(d,c),s.setClearColor(new t.Color("lightgrey"),0),document.body.appendChild(s.domElement);var m=new t.Scene,w=new t.HemisphereLight(16773360,6316134,.5),f=new t.SpotLight(16777215);w.position.set(10,10,10),f.position.set(1e4,1e4,1e4),f.castShadow=!0,f.shadow.bias=1e-4,f.shadow.mapSize.width=2048,f.shadow.mapSize.height=2048,m.add(w),m.add(f);var h=new t.PerspectiveCamera(45,d/c,1,1e3);h.position.z=600;new((0,o.default)(t))(h);var v=new((0,n.ArToolkitSource)(t))({sourceType:"webcam"});v.init(function(){return y()});var g=new n.ArToolkitContext({cameraParametersUrl:p.default,detectionMode:"mono",maxDetectionRate:30,canvasWidth:240,canvasHeight:180});function y(){v.onResizeElement(),v.copyElementSizeTo(s.domElement),g.arController&&v.copyElementSizeTo(g.arController.canvas)}g.init(function(){h.projectionMatrix.copy(g.getProjectionMatrix())}),window.addEventListener("resize",function(){return y()});var C=new t.Group;m.add(C);new n.ArMarkerControls(g,C,{type:"pattern",patternUrl:u.default,changeMatrixMode:"cameraTransformMatrix"});function M(){e&&e.update(.75*r.getDelta()),v.ready&&(g.update(v.domElement),m.visible=h.visible),s.render(m,h)}(new a.default).load(l.default,function(n){var r=n.scene;r.rotateX(-180);var a=n.animations;C.add(r),r.traverse(function(e){e.material}),a&&a.length&&(e=new t.AnimationMixer(r),a.forEach(function(t){e.clipAction(t).play()}))}),s.setAnimationLoop(M)});
},{"three":"dKqR","node-ar.js":"yKFF","three-gltf-loader":"GstH","three-orbit-controls":"1RYe","./scene.gltf":"GQ3C","./patt.hiro":"YGs2","./camera_para.dat":"GZP3"}]},{},["mpVp"], null)
//# sourceMappingURL=script.map